2006-03-09  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (user_cmd): Zru¹ena pøedchozí
	úprava s nahrazením dvojteèek.

2006-03-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/www.py (BaseDBTable): Nová tøída.
	(BrowsableDBTable): Nová tøída.
	(base_db_table): Nová funkce.
	(browsable_db_table): Nová funkce.

2006-03-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_rp): Argumenty pøedávej
	proceduøe jako pozièní.  Navíc také pøedávej libovolné klíèové
	argumenty.
	(user_cmd): Nahrazuj dvojteèky v názvu specifikace podtr¾ítky.

2006-03-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_rp): Pøedávej proceduøe
	argumenty jako pozièní.

2006-03-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (ItemNode._menu_node_path) 
	(ItemNode._menu_node_path): Nová metoda.
	(ItemNode.menu_path): Vyu¾ívej ji.
	(ItemNode.menu_path_title): Nová metoda.
	(ItemNode._create_content): Uvádìj náhled také u pøíkazu New Record.
	(DescrNode._descr): Nová metoda.
	(_split_menu_descriptions): Nová funkce.

2006-02-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_mitem): Vytváøej pøíkaz
	`COMMAND_CURRENT_ROW_ACTION', ne `COMMAND_CONTEXT_MENU_ACTION'.

	* lib/pytis/extensions/__init__.py: Aktualizováno.

	* lib/pytis/extensions/dbutils.py: Nový modul.
	(dbfunction): Netoleruj ¾ádné klíèové argumenty, kromì
	`proceed_with_empty_values'.
	(dbupdate_many): Vyu¾ívej `data_object()'.
	(row_update): Pøejmenováno na `dbupdate'.  Ponechán alias pro
	zpìtnou kompatibilitu.
	(dbinsert): Vyu¾ívej `data_object()'.
	(dbselect): Vyu¾ívej `data_object()'.  Netoleruj ¾ádné klíèové argumenty, kromì `condition' a
	`sort'.
	(dbfunction): Oprava zpracování argumentù.

	* lib/pytis/extensions/misc.py (data_create, dbfunction) 
	(dbselect, dbupdate_many, dbinsert, row_update, is_in_groups):
	Funkce pøesunuty do nového modulu `dbutils'.

	* lib/pytis/extensions/configuration.py: Pøejmenováno na `dbconfig.py'.

	* lib/pytis/extensions/dbconfig.py: Nový soubor.
	(DBConfig.__init__): Vyu¾ívej funkce `data_object()'.

2006-02-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (data_create): Vra» jen data. 
	(dbinsert): Argument 'row' je pozièní.
	(dbinsert): Upraveno s mo¾ností pøedání pytis.data.Row.

	* lib/pytis/extensions/www.py (form_validate): Pou¾ij
	'data_create'. 
	(PopupCB): Doplnìn argument 'selected'.

2006-02-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py: Neimportuj 'pytis.output'.
	(data_create): Nová funkce.
	(printdirect): Importuj 'pytis.output'.

	* lib/pytis/extensions/www.py: Pou¾ívej 'NullApplication'.
	(DBTable): Doplnìn dokumentaèní øetìzec.
	(form_validate): Nová funkce.
	(PopupCB): Nová funkce.

2006-02-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py
	(DescrNode._default_description_text): Pokud není definováno
	`description', pou¾ij `help'.

	* lib/pytis/extensions/misc.py (ConfigDB): Tøída zru¹ena.
	(DBConfig, saved_config_reader.reader) 
	(saved_config_writer.writer, cfg_param): Pøesunuto do nového modulu
	`configuration'.

	* lib/pytis/extensions/__init__.py: Importuj nový modul
	`configuration'.

	* lib/pytis/extensions/configuration.py: Nový soubor.
	(cfg_param): Odstranìn zapomenutý print.

2006-02-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/www.py: Upraveny importy.

2006-02-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_rp): Nová funkce.

2006-02-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (_menu_items): Nová globální
	promìnná.
	(ItemNode.menu_path): Nová metoda.
	(ItemNode._create_content): Vytváøej seznam polo¾ek menu pro ka¾dý
	defs `_menu_items'.
	(DescrNode._info): Nová metoda.
	(DescrNode._create_content): Vyu¾ívej ji.  `_specific_info()' ->
	`_access_rights'.
	(DescrNode._specific_info): Pøejmenováno na `_access_rights'.
	(DescrNode._info): Nová metoda.
	(DualDescrNode._specific_info): Pøejmenováno na `_access_rights'.
	Vracej prázdný seznam.
	(DescrNode._p): Metoda zru¹ena.
	(DescrNode._create_content): Nepou¾ívej `_p', ale vytváøej pøímo
	`lcg.Paragraph'.

2006-02-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (ItemNode._create_content):
	Upravena podmínka rozeznání duálního formuláøe.
	(DualDescrNode._specific_info): Nad tabulku pøidej horizontální
	separátor.

2006-02-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Nový modul.

2006-02-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (dbselect): Pou¾ij novou instanci
	Resolveru.

	* lib/pytis/extensions/__init__.py: 	

	* lib/pytis/extensions/www.py (DBTable): Nová funkce.

2006-01-26  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (constraints_email): Nový povolený znak
	na konci textu pøed zavináèem "-".
	(smssend): Úprva kontroly tvaru èísla, tak aby ¹lo posílat SMS i
	na pøedvolby do zahranièí.

2006-01-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (DBConfig.__init__): Ukládej datový
	objekt do cache pouze pokud se ho skuteènì podaøilo vytvoøit.

2006-01-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (get_menu_defs): Vynechávej polo¾ky
	týkající se konfigurace.

2006-01-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_mitem): Nová funkce.

	* lib/pytis/extensions/misc.py (DBConfig.__init__): Vytváøej
	datový objekt pomocí `db_operation'.

2005-12-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (ConfigDB): Nová tøída (pøesunuto z
	pytis).
	(DBConfig): Nová tøída.
	(ConfigDB): Buï potomkem `DBConfig'.  Pozor, rozhraní je lehce
	pozmìnìno.
	(saved_config_reader, saved_config_writer): Nové funkce.
	(cfg_param): Nechachuj datové objekty zde, ale vyu¾ívej `DBConfig'.
	(ConfigDB.__setitem__): Nová metoda.
	(DBConfig): Buï potomkem `object'.
	

2005-12-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (HGroup, VGroup, LHGroup, LVGroup):
	Tøídy zru¹eny (zahrnuty do Pytis).

2005-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (user_cmd): Nový argument
	`block_refresh_'.

2005-11-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (enum): Nová funkce.

2005-10-18  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail): Kosmetická úprava.

2005-10-12  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail): Nový parametr html -
	urèuje jestli se PGP mail po¹le jako multipart GPG message.

2005-10-07  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki: Update nápovìdy.

2005-09-29  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail): GnuPGInterface
	importuj jen pokud máme klíè.
	(send_mail): O¹etøení UNICODE v adresách.

2005-09-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail):
	Nová funkce.

2005-09-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (dbinsert): Nová funkce.

2005-09-07  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki (Pøíklad): Updatovana vseobecna napoveda.

2005-09-06  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki: Updatovana vseobecna napoveda.

2005-09-05  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki: Updatovana vseobecna napoveda.

2005-09-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (user_cmd): Pøidán klíèový argument
	'spec'. 

2005-08-31  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (user_cmd): Zakomentováno logování
	pøejmenování pøíkazu.

2005-08-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (user_cmd): Pou¾ívej nové argumenty
	konstruktoru tøídy Command.  Pøejmenovávej duplicitní pøíkazy.
	Pøi redefinici stejného pøíkazu vracej existující instanci, pokud
	se handler shoduje.
	(user_cmd): Vyvolej výjimku pøi redefinici stejného pøíkazu z
	jiného místa v defsech.

2005-08-30  Tomas Cerha  <cerha@brailcom.org>

	* doc/napoveda.wiki: Drobné opravy, zalamování øádkù.

	* lib/pytis/extensions/spec.py (run_any_form): Funkce zru¹ena.
	(help_mitem): Pou¾ívej `cmd_help_window'.
	(user_cmd): Pøidán kód pro pou¾ití s novou verzí `command.py'
	/zatím zakomentováno/.

	* lib/pytis/extensions/misc.py (check_form): Nepøijímej ¾ádné
	arguemnty.
	(cmd_check_form): Nový pøíkaz.
	(check_menus_defs): Nepøijímej ¾ádné arguemnty.
	(cmd_check_menus_defs): Nový pøíkaz.
	(cmd_help_window): Nový pøíkaz.
	(run_any_form): Nová funkce.
	(cmd_run_any_form): Nový pøíkaz.
	(menu_report): Nepøijímej ¾ádné argumenty.
	(cmd_menu_report): Definuj 'handler', jako klíèový argument.
	(cmd_check_form): Definuj 'handler', jako klíèový argument.
	(cmd_check_menus_defs): Definuj 'handler', jako klíèový argument.
	(help_window): Hledej soubor také v adresáøi 'doc' instalace pytisu.
	(cmd_run_any_form): Definuj 'handler', jako klíèový argument.

2005-08-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (help_window): Definuj klíèové
	argumenty pøímo a nevytahuj je slo¾itì z `**kwargs'.  Pou¾ívej
	`os.path.join()'.  Vypisuj chybové hlá¹ení z výjimky do chybového
	dialogu.

2005-08-24  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (emailsend): Ode¹le email.

2005-07-25  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (DataSpec.__init__): Pøidávej
	sloupec 'oid', jen pokud je¹tì není v seznamu sloupcù.

2005-07-14  Peter Herich  <herich@asellus.cz>

	* doc/napoveda.wiki: Doplnena vseobecna napoveda.

2005-07-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (is_in_groups): Nová funkce.

2005-06-29  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (ef): Nová zkratka.

2005-06-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (menu_report): Toleruj `None' ve
	výsledku volání `permitted_groups()'.

2005-06-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (help_mitem): Nová funkce.
	(bf, df, ddf, nr, rp): Nové zkratky.

2005-06-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py: 
	(run_procedure_mitem, run_form_mitem, new_record_mitem, user_cmd) 
	(run_any_form): Nové funkce.

2005-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec): Buï potomkem
	`pytis.data.DataFactory'.
	(DataSpec.__init__): Pokud jsou `access_rights' None, doplòuj
	neomezená `AccessRights'.  Nový argument `data_class_'.
	Transformuj v¹echny argumenty zde a volej konstruktor pøedka.
	(DataSpec.make): Zde nedìlej nic, pouze vracej sebe sama.
	(ASC, ASC, LOWER, UPCASE, ALPHA, NUMERIC, ALPHANUMERIC, ASCII)
	(FLOAT, ALWAYS, ONCE, NEVER): Nové konstanty.
	(LHGroup): Buï potomkem HGroup.
	(LVGroup): Buï potomkem VGroup.
	(LHGroup.__init__, LVGroup.__init__): Nenastavuj `orientation' a
	volej konstruktor pøedka pøes `super()'.
	(HGroup.__init__, VGroup.__init__): Volej konstruktor pøedka pøes
	`super()'.

2005-06-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (run_cb): Zru¹en 'returned_column',
	vrací se celý øádek.

2005-06-07  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (dbselect): Oprava malé chybky.

2005-05-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (run_cb): Update docsrtringu.
	Nezískávej resolver, který nepotøebuje¹.
	(row_update): Obal batabázovou operaci voláním `db_operation'.

2005-05-25  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (run_cb): Argument
	'returned_column' je pozièní.

2005-05-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (cb_computer): Aktualizace docstringu.
	(cb2colvalue): Aktualizace docstringu.
	(cb2strvalue): V assertu testuj `enumerator', ne typ.
	(run_cb): `CodeBook' -> `CodebookForm'.

2005-05-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (help_window): Opraveno zpracování
	argumentù.

2005-05-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (cfg_param, cb2colvalue): Namísto
	typu `Codebook' pracuj s enumerátorem.

	* lib/pytis/extensions/types.py (CodebookNull) 
	(ValueColumnCodebook, ValidityColumnCodebook): Zru¹eno.

2005-05-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (help_window): Pou¾ij 'InfoWindow'.
	(menu_report): Pou¾ij 'InfoWindow'.

2005-05-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (menu_report): Upraveno pro
	'report' a 'report_format'. Doplnìn odskok zpìt na menu.
	(check_form): Upraveno pro 'report' a 'report_format'.
	(check_defs): Upraveno pro 'report' a 'report_format'.
	(help_window): Nová funkce.

2005-05-10  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (constraints_email): Doplnìn re
	výraz. Povoluje výskyt èíslic a znakù "-", "_" v emailu.

2005-05-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (flatten_menus): Nevracej slovníky,
	pouze linearizuj polo¾ky.
	(get_menu_defs): Pracuj pøímo s polo¾kami menu vrácenými funkcí
	`flatten_menu()'.
	(menu_report): Nepou¾ívej `flatten_menus()'.  Vytváøej
	hierarchický seznam v HTML.  Prolinkuj defsy s informacemi o
	právech.  Pou¾ívej `HtmlWindow'.
	(check_form): Pou¾ivej `InfoWindow' namísto `InputDialog'.
	(check_defs): Pou¾ivej `InfoWindow' namísto `InputDialog'.
	(cache_spec): Seznam vytváøej pøedem pomocí `get_menu_defs()'.

2005-05-05  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (dbselect): Doplnìna mo¾nost zadat
	název specifikace (pøedtím jen instanci 'DataFactory').
	(flatten_menus.flatten): Do slovníku ukládej pro 'form' pøímo
	'form_class'. 
	(get_menu_defs): Nová funkce.
	(menu_report): Testuj duální formuláøe podle pøedané 'form_class'.
	(check_form): Doplnìno '*args' a '**kwargs'.
	(check_defs): Doplnìno '*args' a '**kwargs'.
	(check_defs.check_spec): Pøepsáno. Testuje se i vytváøení
	'PresentedRow'. Upraven vzhled ProgressBaru.
	(check_all_defs): Odstranìno.
	(check_menus_defs): Vyu¾ívej 'get_menu_defs'.
	(cache_spec): Doplnìno '*args' a '**kwargs'.
	(cache_spec.do): Cachuj i defsy získané z VARIANTS.

2005-05-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec.make): Pøenech vytváøení
	èíselníkù datovému rozhraní, pouze pøedávej argumenty.
	(Column.__init__): Zdokumentovány podrobnosti o pøedávání
	argumentù datovým typùm.  Pøidány dal¹í asserty na integritu argumentù.

2005-05-04  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (cache_spec): Cachování specifikací
	pøi startu; provádí se podle specifikací v menu.

2005-05-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec.__init__): Nový argument `oid'.
	(DataSpec.make): Pøidávej OID sloupce v závislosti na jeho hodnotì.

2005-05-04  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (constraints_email,
	constraints_email_many): Kontroluje
	string podle re výrazu. Pokud odpovídá nebo je None funkce vrací
	None. Jinak vrací string s chybovou hlá¹kou. 

2005-05-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (flatten_menus): Nová funkce.
	(menu_report): Nová funkce.
	(check_form): Nová funkce.
	(check_defs): Nová funkce.
	(check_all_defs): Nová funkce.
	(check_menus_defs): Nová funkce.

2005-04-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/types.py: `lib.*' nahrazeno `pytis.*'.

	* lib/pytis/extensions/spec.py: `lib.*' nahrazeno `pytis.*'.

	* lib/pytis/extensions/misc.py: `lib.*' nahrazeno `pytis.*'.

2005-04-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (cb2colvalue): Pro validaci pou¾ij
	exportovanou (stringovou) podobu pøedaného 'value'.
	(run_cb): Doplnìny argumenty 'columns' a 'returned_column'

2005-04-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (run_cb): Nová funkce.
	(row_update): Nová funkce.

