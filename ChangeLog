2009-10-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/cms/cms.py:
	Convert cms.py to new `id' arguments.

2009-10-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Add `public' argument to ViewSpec.

2009-10-13  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Another argument conversion in menu.py.

2009-10-13  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	* doc/tutorials/DmpDb:
	* lib/pytis/form/application.py:
	* lib/pytis/presentation/spec.py:
	* tools/genmenu.py:
	* tools/pytis-transform.el:
	Public/private specifications introduced.

2009-09-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Fix _spec_name naming conflict in spec.py.

2009-09-15  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Fixes in genmenu.

2009-09-15  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/DmpDb:
	* tools/genmenu.py:
	Support ActionGroup's in genmenu.

2009-09-15  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/dmp:
	DMP admin documentation updated.

2009-09-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Read form actions rights from the database.

2009-09-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Fix column limiting of user rights by system rights.

2009-09-15  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* doc/tutorials/DmpDb:
	* tools/genmenu.py:
	Use form names, not form actions, in form action fullnames and shortnames.

2009-09-15  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Import form action access rights in genmenu.

2009-09-14  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Limit form actions access rights to the call right.

2009-09-14  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* doc/tutorials/DmpDb:
	* tools/genmenu.py:
	Initial support for form actions in DMP.

2009-09-12  Milan Zamazal  <pdm@brailcom.org>

	* tools/pytis-transform.el:
	Tool for adding the recently introduced common `id' argument in the sources.

2009-09-12  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	* lib/pytis/presentation/spec.py:
	Make mandatory argument `id' in in Action, Binding and Filter constructors.
	
	This is a backwards incompatible change and all applications and Wiking must be
	updated.
	

2009-06-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	* lib/pytis/data/types_.py:
	LTree type added.

2009-12-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Fix background colors for some kinds of non-editable fields.

2009-12-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	Filter out unchanged RecordForm data on update again, but update their values first.

2009-12-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	When retrieving RecordForm data, retrieve all data, not only changed ones.
	
	All data have to be retrieved because information about changed fields may be
	incorrect.  At least no change is signalled for some CbComputer fields that are
	not displayed in the RecordForm.
	
	This change should be revised later.
	

2009-12-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py:
	Fix XLS export.

2009-12-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py:
	Don't perform the DB operation when EditForm has not changed, but commit the transaction.

2009-11-06  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Print related menu items when displaying the editing access rights warning.

2009-11-06  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Display warning when editing access rights belonging to several menu items.

2009-11-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	New method SideBrowseForm.main_form.

2009-11-03  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Make pytis_action_rights_foldable db function work even with NULL arguments.

2009-10-29  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Add mistakenly removed lines in menu.py.

2009-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py:
	* lib/pytis/presentation/field.py:
	Fix permission handling for data objects not derived from `RestrictedData'.

2009-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py:
	Revert "Refuse to commit EditForm if nothing has been changed".
	
	The form transaction may contain uncommitted changes (for example resulting
	from form button actions) even if the form itself (more precisely its
	PresentedRow instance) is unchanged.  We need to be able to commit the form
	anyway in such cases.  PDM thinks that refusing was needed because of column
	right management, but it will need to be fixed otherwise when it appears.

2009-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py:
	Fix XLS export after secret value hiding implementation.

2009-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Avoid traceback during ListField ctrl initialization (multiform+columns regression).

2009-12-05  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Require explicit command line options for any genmenu actions.

2009-12-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	* lib/pytis/data/postgresql.py:
	Ensure transaction isolation level is set at the very beginning of a transaction.

2009-12-05  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Fix subactions checking in genmenu.

2009-11-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Set serializable transaction isolation level for cursors.

2009-11-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Don't set transaction isolation level in _postgresql_initialize_transactions.

2009-11-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	Rename testing sequence in db tests.

2009-11-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Set transaction level explicitly in dbapi.

2009-12-04  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix omission of menu separators in pytis_view_user_menu db function.

2009-12-04  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Add GRANT to db view ev_pytis_colnames.

2009-11-09  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Add codebook to `colname' field in rights editing.
	

2009-11-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Fix column rights computation when reading rights from the database.

2009-11-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_grid.py:
	Hide column styles of the columns without VIEW right.

2009-11-07  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix pytis_compute_summary_rights arguments in pytis_view_user_rights db function.

2009-11-07  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Make VIEW column rights relevant to determining multiform rights.

2009-11-07  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fixes after merge of column rights and multiforms rights.

2009-11-07  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Don't mistakenly classify some access rights as redundant.

2009-11-06  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Pass allowed column rights even when a corresponding form right is forbidden.

2009-11-06  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Fix checking of access rights item editability.

2009-11-03  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	* lib/pytis/form/application.py:
	* lib/pytis/presentation/spec.py:
	Allow on_delete_record actions to perform regular deletions.
	

2009-11-03  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Direct editing of rights items in ApplicationMenuRightsFoldable.

2009-11-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	New method SideBrowseForm.main_form.

2009-11-03  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Make pytis_action_rights_foldable db function work even with NULL arguments.

2009-10-29  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Add mistakenly removed lines in menu.py.

2009-10-29  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Add role and column groupped subforms to the right editing form.

2009-10-28  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Use simplified rights in DMP menu views with respect to column rights.

2009-10-28  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Avoid duplicate menu entries when column rights are used.

2009-10-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	* lib/pytis/form/screen.py:
	Remove unused MItem argument `_rights'.

2009-10-28  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix column string in summary rights db tables.

2009-10-28  Milan Zamazal  <pdm@brailcom.org>

	* tools/dmp:
	Allow adding column rights in tools/dmp.

2009-10-28  Milan Zamazal  <pdm@brailcom.org>

	* tools/dmp:
	Don't print "Changes applied" on dry runs of tools/dmp.

2009-10-28  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* lib/pytis/presentation/field.py:
	Basic post-merge fixes in column access rights.

2009-06-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py:
	* lib/pytis/form/inputfield.py:
	* lib/pytis/presentation/field.py:
	Handle codebooks with secret keys.

2009-06-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py:
	Don't filter on Permission.VIEW in data access methods.

2009-06-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	Refuse to commit EditForm if nothing has been changed.

2009-06-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/field.py:
	Document changed behavior of virtual column permission checks.

2009-06-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_grid.py:
	* lib/pytis/form/inputfield.py:
	* lib/pytis/form/list.py:
	* lib/pytis/output/flibdata.py:
	Add missing secure display checks.

2009-06-23  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Fix processing of single column rights in genmenu.

2009-06-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/extensions/www.py:
	* lib/pytis/form/_grid.py:
	* lib/pytis/form/inputfield.py:
	* lib/pytis/form/list.py:
	* lib/pytis/presentation/field.py:
	First attempt to hide secret values.

2009-06-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py:
	* lib/pytis/data/types_.py:
	* lib/pytis/presentation/field.py:
	Don't use SecretValue anymore.

2009-06-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Forbid incremental search in secret columns.

2009-06-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py:
	* lib/pytis/util/configuration.py:
	Indicate secret fields with a special background color.

2009-06-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	* lib/pytis/form/list.py:
	Update only changed fields after editing a row in a form.

2009-06-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	Don't offer sorting of secret columns.

2009-06-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py:
	Exclude secret columns from SF dialogs.

2009-06-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	* lib/pytis/form/form.py:
	Replace form-init-error by Form.InitError.

2009-06-04  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Add column information to menu and rights administration forms.

2009-06-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	Allow changing existent values of fields without VIEW permission.

2009-06-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py:
	* lib/pytis/data/types_.py:
	* lib/pytis/presentation/field.py:
	SecretValue.conceal changed to Value.reconceal.

2009-06-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py:
	* lib/pytis/presentation/field.py:
	Don't display secret values in editable input fields.

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py:
	* lib/pytis/presentation/field.py:
	Allow checking uniqueness of editable but nonviewable columns.

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Allow editing ListForm rows with forbidden columns.

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/field.py:
	Let PresentedRow.editable returns False for columns without proper permissions.

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	Don't try to store forbidden fields in RecordForm.

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	Don't validate disabled form fields.

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Small output clarification in genmenu.

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Avoid storing multiple access rights records in genmenu.

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Don't store multiple instances of the same form access rights in genmenu.
	

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Fix variable name conflict in genmenu --check.

2009-06-02  Milan Zamazal  <pdm@brailcom.org>

	* db/db_common.py:
	New aggregate space_concat.

2009-05-27  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Compute column access rights for the database summary table

2009-05-26  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Basic --check functionality in genmenu

2009-05-26  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Don't process access rights of private specifications in genmenu

2009-05-26  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Actually store access rights for all found specifications

2009-05-25  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Fix in "hidden" action reporting in genmenu

2009-05-25  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Store access rights for RUN_FORM and NEW_RECORD actions in genmenu

2009-05-25  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Warn about possible "hidden" actions in genmenu

2009-05-25  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Import all specifications as actions in genmenu

2009-05-27  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Compute column access rights for the database summary table

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Avoid marking read-only and denied fields as changed.

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Remove duplicate rights when reading and parsing ev_pytis_user_menu.

2009-06-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py:
	Return default value instead of the real value in SecretValue.value.

2009-06-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py:
	* lib/pytis/data/types_.py:
	* lib/pytis/presentation/field.py:
	Initial support for secret values.

2009-06-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Support column=True properly in action_has_access.

2009-06-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Be more specific about permission checking of dual forms in has_access docstring.

2009-06-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py:
	* lib/pytis/form/application.py:
	Allow and perform any-column permission checking.

2009-05-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/resolver.py:
	New method Resolver.get_module

2009-05-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Fix in action rights check

2009-05-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	* lib/pytis/presentation/spec.py:
	Support for reading column access rights from database

2009-11-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Handle multiform VIEW right in Application._can_run_form.

2009-11-03  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Distinguish between single and multi form rights of the same specification.

2009-12-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Handle correctly the czech letter 'ch' in web form index search controls (total hack).

2009-12-03  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Translations updated.

2009-12-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	New prototype of web filter forms.

2009-12-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Make it possible to disable calendar widgets for a particular web form (accessibility).

2009-12-03  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_cms.py:
	Pytis CMS: Minor docstring improvement.

2009-12-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Make the assertion message more informative.

2009-11-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py:
	Make BugReport dialog a bit smaller vertically.
	
	This fixes button placement layout problems experienced in at least one
	environment when running wx2.8.  In other environments, including wx2.6, this
	change seems to have no impact on the layout, so it should be safe to apply.
	

2009-11-26  Milan Zamazal  <pdm@brailcom.org>

	* tools/dmp:
	Add `commit' command to tools/dmp.

2009-11-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	* lib/pytis/presentation/field.py:
	* lib/pytis/presentation/spec.py:
	* lib/pytis/web/form.py:
	Allow setting a custom label (display) for enumeration field NULL value..

2009-11-20  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	genmenu: Make specification instances when necessary to determine bindings.

2009-11-19  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Handle bindings as a method in genmenu.

2009-11-19  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Add help texts to genmenu command line options.

2009-11-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Prevent delayed crashes of non-DMP applications in Application._dynamic_menu.

2009-11-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Fix return values of db connection retry results.

2009-10-29  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix crash in pytis_update_rights_redundancy db function.

2009-10-28  Milan Zamazal  <pdm@brailcom.org>

	* tools/dmp:
	When disabling system rights in tools/dmp, delete the right.
	

2009-10-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	Make cleanup in TutorialTest a bit more robust.

2009-10-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Don't try to include menu items without parent.

2009-10-26  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Add some grant's to DMP functions.

2009-10-26  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Add extended menu preview to the roles administration form.

2009-10-26  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix update rules for ev_pytis_action_rights.

2009-10-22  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Don't compare status when checking rights for redundancy.

2009-10-22  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Remove redundant rights from the view, not from the table.

2009-10-22  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Add confirmation dialog to removal of redundant rights.

2009-10-22  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Add action for removal of redundant rights.

2009-10-13  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Add `redundant' column to the rights listing form.

2009-10-21  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix ev_pytis_action_rights rules.

2009-10-21  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Another round of cleanup of DMP database schema.

2009-10-21  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Remove obsolete constructs from db access rights computations.

2009-10-20  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	* lib/pytis/presentation/spec.py:
	* tools/genmenu.py:
	Distinguish edited and current access rights.

2009-10-19  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	* doc/tutorials/DmpDb:
	* lib/pytis/form/application.py:
	* lib/pytis/presentation/spec.py:
	* tools/genmenu.py:
	Don't store computed rights, always compute them.

2009-10-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py:
	Make pytis.data.dbtable usable also for table functions.

2009-10-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/extensions/defs.py:
	get_menu_defs: Get defs from DMP if available.

2009-10-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py:
	* lib/pytis/data/postgresql.py:
	* lib/pytis/form/application.py:
	* lib/pytis/presentation/spec.py:
	Replace add_spec calls and definitions by new function dbtable.

2009-10-23  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Prevent assigning broken menu positions in e_pytis_menu db table.

2009-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	* lib/pytis/form/list.py:
	Use InputNumeric in JUMP and FOLDING_LEVEL commands.

2009-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py:
	Prevent InputNumeric crash with certain locales.

2009-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Add Alt-dclick folding action to CodebookForm.

2009-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/commands_.py:
	* lib/pytis/form/list.py:
	New command FOLDING_LEVEL.

2009-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py:
	* lib/pytis/util/configuration.py:
	Make `lout' program configurable.

2009-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/flibdata.py:
	Relax data_table name type to basestring in output processing.

2009-10-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py:
	* lib/pytis/form/configui.py:
	* lib/pytis/form/dualform.py:
	* lib/pytis/form/form.py:
	Pass spec kwargs also to data spec to make dynamic virtual forms work as expected.

2009-10-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Process macros before splitting to upper and lower page text.

2009-10-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Parse macros in CMS texts..

2009-10-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Variable substitution generalized..

2009-10-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Prevent crash when invoking a foldable codebook in a new record form.

2009-10-19  Milan Zamazal  <pdm@brailcom.org>

	* TODO:
	List new wx2.8 bug: Traceback window layout.
	

2009-10-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py:
	Added configuration option database connection SSL mode setting..

2009-10-14  Milan Zamazal  <pdm@brailcom.org>

	* tools/dmp:
	tools/dmp script created.

2009-10-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Make sure the menu window stack is still present after reloading menu&rights.

2009-10-14  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Revert "Make inner join of a_pytis_computed_summary_rights in ev_pytis_user_menu".
	
	This reverts commit 13dfa6c6062f48a59deff5c519d6818f8a99599e.
	
	This change, intended to give some access protection when making menu changes,
	discards menu separators from the menu view.
	

2009-10-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Respect changes in Wiking Session interface.

2009-10-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Pass the current request object to user creation methods.

2009-10-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py:
	* lib/pytis/form/configui.py:
	Add `arguments' argument to all `select' methods.

2009-10-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Add dummy `arguments' method to BindingSpec.

2009-10-09  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix lock id in pytis_update_summary_rights.

2009-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Amend: yes.
	Don't try to reselect SideBrowseForm row after main form row selection
	
	

2009-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Don't try to reselect SideBrowseForm row after main form row selection.

2009-10-09  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	* lib/pytis/form/list.py:
	Fix default value of ApplicationPreviewRights/menuid.

2009-10-08  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	* doc/tutorials/dmp:
	* tools/genmenu.py:
	Add a procedure for commiting access rights changes.

2009-10-08  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Lock when updating a_pytis_actions_structure db table.

2009-10-08  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix mistakes in db_pytis_menu.py.

2009-10-08  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Use locking pytis_update_summary_rights db function.

2009-10-08  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Make inner join of a_pytis_computed_summary_rights in ev_pytis_user_menu.

2009-10-08  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* doc/tutorials/DmpDb:
	Don't call pytis_update_summary_rights in triggers.

2009-10-08  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Add on-fly menu preview to the role editing form.

2009-10-08  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix role specific summary rights computation.

2009-10-07  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Initial implementation of on-fly computed summary access rights.

2009-10-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dualform.py:
	* lib/pytis/form/form.py:
	* lib/pytis/form/list.py:
	* lib/pytis/presentation/spec.py:
	Allow side form binding by table function arguments.

2009-10-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/dbdata.py:
	* lib/pytis/data/postgresql.py:
	Basic support for table functions in the database.

2009-10-05  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Amend: yes.
	Split pytis_update_summary_rights to computational and storage parts
	
	

2009-10-05  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Split pytis_update_summary_rights to computational and storage parts.

2009-10-02  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Amend: yes.
	Fixes in redundant rights recognition
	

2009-10-02  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix in redundant rights recognition.

2009-10-02  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Initial implementation of action rights redundancy.

2009-09-25  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Add action for copying user application roles membership.

2009-09-25  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Add form action for copying menu item rights.

2009-09-24  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	New db function pytis_copy_rights.

2009-09-24  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* doc/tutorials/dmp:
	Menu rights propagation removed.

2009-10-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS application and module development documentation added..

2009-10-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Docstring typo fix..

2009-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py:
	* tools/genmenu.py:
	Use app_commands.py instead of commands.py.

2009-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py:
	Fix NEW_RECORD command in DMP.

2009-09-29  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Add a dummy default value to e_pytis_menu.next_position column.

2009-09-29  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Avoid duplicate recomputation of rights in e_pytis_role_members_trigger.

2009-09-29  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Disable DMP triggers when requested even on updates.

2009-09-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Fix docstring quotes..

2009-09-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Initialize form folding properly and honor reload/reset requests.

2009-09-25  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	* lib/pytis/presentation/types_.py:
	Make subcount column id explicit in PrettyFoldable, don't use naming convention.

2009-09-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py:
	* lib/pytis/data/postgresql.py:
	Allow using values, not only columns, in LTreeAncestor and LTreeDescendant.

2009-09-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py:
	Fix of data operators LTreeAncestor and LTreeDescendant.

2009-09-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py:
	* lib/pytis/data/postgresql.py:
	New data operators LTreeAncestor and LTreeDescendant.

2009-09-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Try to completely fix query retry in dbapi.py.

2009-09-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Amend: yes.
	Fix invalid local variable reference in dbapi.py
	
	

2009-09-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Amend: yes.
	Fix invalid local variable reference in dbapi.py
	
	

2009-09-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Fix invalid local variable reference in dbapi.py.

2009-09-23  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Support RUN_FORM actions better in db table computing functions.

2009-09-23  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Handle bindings and other special features in genmenu for command-like forms.

2009-09-23  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	genmenu fix.

2009-09-22  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* lib/pytis/form/application.py:
	Add separators again to menu read from the database.

2009-09-22  Pavel Hanak  <hanak@wpb.cz>

	* lib/pytis/cms/cms.py:
	Correct an error in the constructor of _TreeOrder type..

2009-09-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Make sure no SHOW right passes to AccessRights.

2009-09-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/cms/cms.py:
	Use _TreeOrder pretty type in cms.py.

2009-09-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/extensions/__init__.py:
	* lib/pytis/extensions/types.py:
	_TreeOrder type added.

2009-09-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	* lib/pytis/form/commands_.py:
	* tools/genmenu.py:
	Support on-line reloading of menus and access rights from the database.

2009-09-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Prevent logging errors about a missing DMP table in non-DMP applications.

2009-09-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Store and restore form folding state.

2009-09-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Fix column limiting of user rights by system rights.

2009-09-15  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Read user access rights directly from a_pytis_computed_summary_rights db table.

2009-09-14  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Display column names in the rights editing side form.

2009-09-14  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix displaying extended menu in the role editing multiform.

2009-09-14  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix checking for system rights presence in the summary rights computation.

2009-09-14  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix invalid _update_rights call in e_pytis_role_members_trigger.

2009-09-11  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fixes in the next menu position computation in e_pytis_menu_trigger.

2009-09-10  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/DmpDb:
	* tools/genmenu.py:
	Additional reports in `genmenu --check-update'.

2009-09-10  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/DmpDb:
	Genmenu documented.

2009-09-10  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Minor improvements of genmenu messages.

2009-09-10  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Add `Note:' prefix to genmenu notification messages.

2009-09-10  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/DmpDb:
	* doc/tutorials/dmp:
	DMP documentation updated.

2009-09-08  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Remove obsolete db column c_pytis_menu_actions.parent_action.

2009-09-08  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Fix crash in menu editing of multiform rights.

2009-09-08  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Fixes of subforms definitions in genmenu.

2009-09-08  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Use proper order of subforms when determining multiform access rights.

2009-09-07  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix computing multiform rights.

2009-09-07  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Fix editing menu records in the menu rights multiform.

2009-09-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Update subactions check in genmenu.

2009-09-04  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Bind c_pytis_menu_actions to ev_pytis_menu_structure by fullname, not shortname.

2009-09-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Generate menu subforms for all dual forms and only for dual forms.

2009-09-04  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* tools/genmenu.py:
	Initial support for subform titles.

2009-09-03  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Fixes in menu editing.

2009-09-03  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Improvements of the menu position selection form.

2009-09-03  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix computing ev_pytis_menu positions.

2009-09-03  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fixes in menu items movement in the menu editing form.

2009-09-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Make CodebookForm a successor of FoldableForm.

2009-09-02  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Fix menu title editing.

2009-09-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/evaction.py:
	Add question mark to identifier characters in evaction parsing.

2009-09-01  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Column `description' added to menu rights editing.

2009-09-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	* lib/pytis/form/list.py:
	Set default sorting after sorting is set to empty in FoldableForm.

2009-09-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Fix initial sorting for non-foldable forms in FoldableForm.

2009-09-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	* lib/pytis/presentation/spec.py:
	Cleanup of passing initial folding specifications.

2009-09-01  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	* lib/pytis/form/list.py:
	Determine default sorting of FoldableForms automatically.

2009-09-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/types_.py:
	Don't display terminal node marks in foldable columns when folding is disabled.

2009-08-31  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Set title for separators in the menu editing form.

2009-08-31  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/DmpDb:
	Minor update of DmpDb documentation.

2009-08-31  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	New genmenu command line option --check-update.

2009-08-31  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* tools/genmenu.py:
	Add labels to non-menu actions in DMP forms.

2009-08-31  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Remove forgotten redundant condition from db_pytis_menu.py.

2009-08-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/types_.py:
	Add indicator to unfoldable items too in folding columns.

2009-08-31  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Add position_nsub to role menu views.

2009-08-31  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Add extended menu view to the role editing form.

2009-08-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Replace slashes with dots in the specification name before calling data_access_rights.
	

2009-08-27  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Display action types in action rights editing.

2009-08-27  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Use folding in role menu preview.

2009-08-27  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Display role purposes in DMP forms containing roles.

2009-08-27  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/DmpDb:
	DMP db admin documentation updated.

2009-08-26  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	* lib/pytis/form/list.py:
	* lib/pytis/presentation/spec.py:
	New `initial_folding' specification parameter.

2009-08-26  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	* lib/pytis/presentation/types_.py:
	Show folding indicators only on rows without children (if known).

2009-08-26  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix dependency mistake in db_pytis_menu.py.

2009-08-26  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Create gist indices on ltree columns in db_pytis_menu.py.

2009-08-26  Milan Zamazal  <pdm@brailcom.org>

	Amend: yes.
	Don't try to split empty strings when reading access rights
	
	

2009-08-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Handle splitting empty strings when reading access rights.
	

2009-08-25  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Remove obsolete db function pytis_matching_actions.

2009-08-25  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Limit access rights of forms and handlers to meaningful values.

2009-08-25  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Use a_pytis_actions_structure instead of e_pytis_menu in pytis_update_summary_rights.

2009-08-25  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	New codebook c_pytis_action_types.

2009-08-25  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix typo in db_pytis_menu.py.

2009-08-25  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Add action checking to genmenu.

2009-08-25  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Add missing 'on update cascade' declarations in db_pytis_menu.py.

2009-08-25  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* lib/pytis/form/screen.py:
	* tools/genmenu.py:
	Store side forms as subactions in DMP.

2009-08-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/field.py:
	Use Value.export instead of Type.export in PresentedRow again.
	
	(Among others it avoids crashes on string types containing numeric values.)

2009-08-25  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Add unique constraint to e_pytis_action_rights db table.

2009-08-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	* lib/pytis/presentation/spec.py:
	Cleanup of reading DMP information from the database.
	
	- Read it explicitly, not implicitly.
	- Read it only in wx application.
	- Use given connection data instead of config.dbconnection.
	

2009-08-20  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Fix of typo in an ApplicationMenuM field after merges.

2009-08-18  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Don't use quotes in db table docstrings in db_pytis_genmenu.py.

2009-08-17  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	* lib/pytis/form/list.py:
	* tools/genmenu.py:
	Fixes in foldable DMP, make it runnable.

2009-08-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py:
	Fix retrieving objects from the resolver in DMP MultiBrowseDualForm handling.

2009-08-13  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Some fixes of dependencies in db_pytis_menu.py.

2009-08-13  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fixes in summary access rights computation.
	

2009-08-13  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Add item types to a_pytis_actions_structure db table.

2009-08-12  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* tools/genmenu.py:
	Fix access rights summarization for plain actions.

2009-08-12  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Simplify db view ev_pytis_summary_rights_raw and avoid duplicates in it.

2009-08-12  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Limit only view rights of forms with subforms.

2009-08-12  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Display relevant and only relevant rows in DMP sideforms.

2009-08-11  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Don't include e_pytis_menu in ev_pytis_summary_rights_raw.

2009-08-11  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Bind a_pytis_actions_structure to e_pytis_menu by menuid in ev_pytis_menu_rights.

2009-08-11  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Minor typo fix in a form label.

2009-08-11  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Don't store duplicate access rights in genmenu.

2009-08-10  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Limit rights of multiforms in pytis_update_summary_rights.

2009-08-10  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Amend: yes.
	Improvements of ApplicationMenuRights columns
	
	

2009-08-10  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Improvements of ApplicationMenuRights columns.

2009-08-10  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* lib/pytis/form/screen.py:
	Add multiforms to DMP menu structure.

2009-08-07  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	* lib/pytis/form/application.py:
	* lib/pytis/presentation/spec.py:
	* tools/genmenu.py:
	DMP: Don't use ambigous column names `name' and `action' anymore.
	

2009-08-07  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	DMP data model generalized to work on all actions, not only menu actions.

2009-07-28  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	* lib/pytis/form/application.py:
	* tools/genmenu.py:
	Initial steps towards foldable DMP.

2009-07-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Disable folding on any user sorting, not on other than initial.

2009-07-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Don't disable folding on filter, just expand all.

2009-07-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Don't fold when a user filter is active.

2009-07-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/commands_.py:
	* lib/pytis/form/list.py:
	New commands for complete folding and unfolding.

2009-07-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	* lib/pytis/presentation/types_.py:
	FoldableForm documented.

2009-07-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Fix incremental search in foldable forms.

2009-07-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	* lib/pytis/presentation/types_.py:
	Foldable search implemented.

2009-07-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	* lib/pytis/presentation/types_.py:
	Disable folding when user sorting is active.

2009-07-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Allow folding by mouse double clicking.

2009-07-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/commands_.py:
	* lib/pytis/form/list.py:
	Add single-level expand/collapse command.

2009-07-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_grid.py:
	* lib/pytis/form/list.py:
	* lib/pytis/presentation/field.py:
	* lib/pytis/presentation/types_.py:
	Display folding indicators.

2009-07-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_grid.py:
	* lib/pytis/presentation/__init__.py:
	* lib/pytis/presentation/field.py:
	* lib/pytis/presentation/types_.py:
	Pretty types introduced.

2009-07-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Call refresh in FoldableForm.__init__.

2009-07-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Folding fixes.

2009-06-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/commands_.py:
	* lib/pytis/form/form.py:
	* lib/pytis/form/list.py:
	New command FoldableForm.COMMAND_EXPAND_OR_COLLAPSE.

2009-06-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py:
	Amend: yes.
	FoldableForm moved from form.py to list.pyFoldableForm moved from form.py to list.py
	
	

2009-06-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	* lib/pytis/form/list.py:
	FoldableForm moved from form.py to list.py.

2009-06-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	New method FoldableForm._Folding.expand_or_collapse.

2009-06-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	Substance of new class FoldableForm.

2009-06-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py:
	* lib/pytis/data/postgresql.py:
	New data query operator LTreeMatch.

2009-06-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py:
	Spelling fix in a docstring..

2009-06-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py:
	* lib/pytis/form/_grid.py:
	Indented display for future foldables.

2009-06-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py:
	Add necessary validation constraints to LTree type.

2009-06-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	* lib/pytis/data/types_.py:
	LTree type added.

2009-09-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	TODO added..

2009-09-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Allow autocompletion only for editable fields..

2009-09-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py:
	Improved search dialog button tooltips.

2009-09-14  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix checking for system rights presence in the summary rights computation.

2009-09-14  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix invalid _update_rights call in e_pytis_role_members_trigger.

2009-09-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Web: Use `row-style' CSS class names also in list layout..

2009-09-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/field.py:
	Web: Don't generate table of contents at the top of StructuredText fields..

2009-09-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Fix clendar widget display after recent regression..

2009-09-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	* resources/scripts/pytis.js:
	Added support for radio buttons in web forms..

2009-09-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Ensure form id id a valid HTML identifier in web forms..

2009-09-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Pass type kwargs to the constructor of virtual field default type..

2009-09-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	* resources/scripts/pytis.js:
	AJAX response generation moved from Wiking adding support for runtime filters and few fixes..

2009-09-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: Allow codebook insert in menu module selection..

2009-09-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Fix menu construction in the default implementation..

2009-09-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: Set default `uid' value for the default implementation of CMS Users module..

2009-09-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py:
	Fix DB connection display in application window title when using local DB connections..

2009-09-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py:
	Work around changed wx release number constant in *some* wx 2.8 versions..

2009-09-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Web: Remember the last selected BrowseForm filter using a cookie..

2009-09-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Catch connection error in _postgresql_rollback_transaction of dbapi.

2009-08-31  Tomas Cerha  <cerha@brailcom.org>

	* TODO:
	* lib/pytis/form/dialog.py:
	Fix exit dialog column sizing in wx 2.8..

2009-08-31  Tomas Cerha  <cerha@brailcom.org>

	* TODO:
	* lib/pytis/form/form.py:
	Avoid unnecessary frame title manipulation to prevent wx 2.8 problem in codebook insert..

2009-08-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py:
	Fix grid bool value display in wx 2.8..

2009-08-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Preserve text selection when incrementing/decrementing field value..

2009-08-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Added `spinning' ability to time fields..

2009-08-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py:
	* lib/pytis/form/inputfield.py:
	Allow incrementing/decrementing field value through a keyboard shortcut (for numeric and date fields).

2009-08-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Replace slashes with dots in the specification name before calling data_access_rights.
	

2009-08-26  Milan Zamazal  <pdm@brailcom.org>

	Amend: yes.
	Don't try to split empty strings when reading access rights
	
	

2009-08-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Handle splitting empty strings when reading access rights.
	

2009-08-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Fix web form export when a function is used within form layout..

2009-08-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: Fix access log column names..

2009-08-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: Typo fix..

2009-08-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: AccessLog inheritance fixed..

2009-08-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: Fixed access log table name..

2009-08-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Log only displayed pages, not images or other content displayed on them..

2009-08-12  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_cms.py:
	* lib/pytis/cms/__init__.py:
	* lib/pytis/cms/cms.py:
	* lib/pytis/cms/web.py:
	Pytis CMS: Added support for access logging.

2009-08-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py:
	* lib/pytis/web/form.py:
	Allow functions in form layout to support record specific dynamic layouts..

2009-08-07  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Translation files updated..

2009-08-13  Tomas Cerha  <cerha@brailcom.org>

	* resources/scripts/pytis.js:
	Omit disabled fields when checking form field changes..

2009-08-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Disable w3m workaround preventing AJAX updates..

2009-08-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Fix export of forms with no active fields..

2009-08-07  Tomas Cerha  <cerha@brailcom.org>

	* Makefile:
	* lib/pytis/presentation/_test.py:
	* lib/pytis/presentation/field.py:
	* lib/pytis/web/form.py:
	* resources/scripts/pytis.js:
	Added initial support for web form updates through AJAX..

2009-08-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py:
	Fix drawing aggregation result labels..

2009-08-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/_test.py:
	Updated `display' test to reflect the previous change in display specification..

2009-08-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Added support for site icons..

2009-08-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Fixed "Unknown column ..." error message..

2009-08-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Don't use query lock on connection initialization queries.

2009-08-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Try to reopen db connection on before raising any DBSystemException.

2009-08-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Raise DBSystemException instead of DBUserException on disconnection from db.

2009-07-31  Pavel Hanak  <hanak@wpb.cz>

	* lib/pytis/form/application.py:
	Added forgotten argument 'column' when calling 'permitted' check..

2009-07-30  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* defs/menu.py:
	Switch menu rights editing form to ev_pytis_menu_structure db view.

2009-07-29  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* tools/genmenu.py:
	a_pytis_actions_structure db table created.

2009-07-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py:
	Show MIN/MAX aggregation results also for date/time and string columns..

2009-07-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Handle unicode in string values of aggregation results..

2009-07-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Make the DBException error message for unknown column even less confusing and translate it to English..

2009-07-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Allow aggregation functions MIN and MAX also on string and date/time columns..

2009-07-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Fixes of connection dictionary key handling in PostgreSQLUserGroups.

2009-07-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py:
	* lib/pytis/form/application.py:
	Update config.dbconnection destructively after Login dialog.

2009-07-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	If there are no DMP and no form rights, assign default rights in Specification.

2009-07-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Add acceleration keys when building menu.
	

2009-07-16  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/DmpDb:
	DMP database editing document.

2009-07-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Create menu separators in menus read from database.

2009-07-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py:
	Print debug information about enabled menu items.

2009-07-02  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* lib/pytis/form/application.py:
	Report access to dual forms as granted only if it is granted for both the subforms.

2009-07-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	* lib/pytis/presentation/spec.py:
	Fixes in access rights checking.

2009-07-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Fix reading in specification rights and recognize forbidden forms.

2009-07-02  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix dual form matching in pytis_matching_actions db function.

2009-06-23  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Fix processing of single column rights in genmenu.

2009-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Find pytis redirection origin in a separate method..

2009-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Allow CMS menu items to be refered by variable URI path length..

2009-06-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Fixed loading module actions (added forgotten import of `wiking')..

2009-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Handle limit=0 correctly in web BrowseForms..

2009-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Fix CMS module action detection for modules not derived from `wiking.PytisModule'..

2009-06-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Redefine binding parent uri only for modules which resolve to a single record..

2009-06-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Don't use binding parent title in embeded CMS modules..

2009-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Handle embedded CMS modules through bindings..

2009-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/field.py:
	Translate field value before parsing it as structured text in web forms..

2009-07-21  Pavel Hanak  <hanak@wpb.cz>

	* lib/pytis/data/postgresql.py:
	Report column and table name in DBException dialog for unknown column type..

2009-07-21  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_menu.py:
	New gensql schema for dynmenu started.
	
	Conflicts:
	
		db/db_pytis_menu.py
	

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* ChangeLog.1:
	* ChangeLog.lib.1:
	* ChangeLog.lib.2:
	* ChangeLog.lib.3:
	* ChangeLog.lib.4:
	* db/db_common.py:
	* db/db_pytis_cms.py:
	* db/db_pytis_config.py:
	* db/db_pytis_menu.py:
	* lib/pytis/extensions/__init__.py:
	* lib/pytis/extensions/cms/__init__.py:
	* lib/pytis/extensions/cms/cms.py:
	* lib/pytis/extensions/cms/web.py:
	* lib/pytis/extensions/dbconfig.py:
	* lib/pytis/extensions/dbutils.py:
	* lib/pytis/extensions/defs.py:
	* lib/pytis/extensions/email_.py:
	* lib/pytis/extensions/help.py:
	* lib/pytis/extensions/misc.py:
	* lib/pytis/extensions/spec.py:
	* lib/pytis/extensions/types.py:
	* lib/pytis/extensions/www.py:
	* lib/pytis/form/search.py:
	* lib/pytis/web/form.py:
	One more fix of the last commit (browse form links)..

2009-07-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Fixed invalid syntax in the previous commit..

2009-07-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Pass hidden field values also to browse form control links..

2009-07-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Allow key search also in web forms without paging limit..

2009-07-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py:
	Print attribute values, not their accessors, in Structure.__str__.

2009-07-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: Allow overriding duplicit menu order check for more complicated menu structures..

2009-07-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: Omit the edited record when checking for duplicit order..

2009-07-16  Pavel Hanak  <hanak@wpb.cz>

	* lib/pytis/cms/web.py:
	PYTIS CMS: Added possibility to authenticate against LDAP style passwords..

2009-07-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: Fixed check for duplicit order at the same level..

2009-07-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/postgresql.py:
	Escape backslashes in PostgreSQL backend.

2009-07-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py:
	Print debug information about enabled menu items.

2009-07-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Automatically assign unique classes to web form layout groups to allow their CSS styling..

2009-07-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Respect changes in Wiking 'module_uri()' API..

2009-07-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Add comment for the previous change..

2009-07-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Add empty cells to ListView grid to prevent spanning of unfinished rows..

2009-07-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Disable calendar widget invocation for disabled fields in HTML forms..

2009-07-13  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Translations updated..

2009-07-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Use dynamic calendar widget for date entry in HTML forms..

2009-07-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Documentation extended..

2009-07-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Customize BrowseForm limits for embeddable pytis modules..

2009-07-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Allow variable substitution also in embedded module's content..

2009-07-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py:
	Fixed input data validation within interactive import..

2009-07-02  Tomas Cerha  <cerha@brailcom.org>

	* INSTALL:
	* Makefile:
	CVS specific installation Makefile setup generalized..

2009-07-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Added generic support for variable substitution in CMS texts..

2009-06-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py:
	Adjust status fields witdh automatically to fit the displayed text..

2009-06-30  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_cms.py:
	* lib/pytis/cms/cms.py:
	* lib/pytis/cms/web.py:
	Pytis CMS: Allow using longer title for page heading and shorter for menu item..

2009-06-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/__init__.py:
	* lib/pytis/cms/cms.py:
	* lib/pytis/cms/web.py:
	* lib/pytis/extensions/__init__.py:
	* lib/pytis/extensions/cms/__init__.py:
	* lib/pytis/extensions/cms/cms.py:
	* lib/pytis/extensions/cms/web.py:
	Pytis CMS moved from `pytis.extensions.cms' to `pytis.cms'..

2009-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Pytis CMS: Uncommented theme field `top-fg', but still left outside layout..

2009-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Fix of prevoius change in enumeration fields (Show empty items for NULL value in SelectionType.CHOICE input fields)..

2009-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Fix background color setting in SelectionType.LIST_BOX input fields..

2009-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Show empty items for NULL value in SelectionType.CHOICE input fields..

2009-06-25  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_cms.py:
	* lib/pytis/extensions/cms/__init__.py:
	* lib/pytis/extensions/cms/cms.py:
	* lib/pytis/extensions/cms/web.py:
	* tools/gensql.py:
	Pytis CMS: Added generic support for color themes..

2009-06-24  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_cms.py:
	* lib/pytis/data/postgresql.py:
	* lib/pytis/extensions/cms/cms.py:
	* lib/pytis/extensions/cms/web.py:
	Pytis CMS: Added support for logging login attempts and session duration..

2009-06-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Define fields by a method in CMS Rithts module..

2009-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Find pytis redirection origin in a separate method..

2009-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Allow CMS menu items to be refered by variable URI path length..

2009-06-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Fixed loading module actions (added forgotten import of `wiking')..

2009-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Handle limit=0 correctly in web BrowseForms..

2009-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Fix CMS module action detection for modules not derived from `wiking.PytisModule'..

2009-06-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Redefine binding parent uri only for modules which resolve to a single record..

2009-06-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Don't use binding parent title in embeded CMS modules..

2009-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Handle embedded CMS modules through bindings..

2009-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/field.py:
	Translate field value before parsing it as structured text in web forms..

2009-06-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Fix for bindings in embeddable CMS modules..

2009-06-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Invoke standard Wiking processing for embedded modules instead of using the `embed()' method..

2009-06-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Don't check hierarchy cycles on new records (they can't be parents of existing items)..

2009-06-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Allow easier 'User' customization.  Compare password through 'User' instance..

2009-05-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Allow dynamic construction of user selactable filters..

2009-05-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Check hierarchy cycles and duplicate order at the same hierarchy level..

2009-05-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Avoid startup dependency on web modules..

2009-05-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py:
	Fixed removal of the first operator in filtering dialog..

2009-05-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Pass keyword arguments to the parent class in `DBPostgreSQLCounter' constructor..

2009-05-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Added support for actions in static rights definitions and OWNER role checking. .

2009-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Re-enable access of web server to CMS modules after previous access rights restriction..

2009-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Update existing action descriptions when reloading module actions..

2009-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Use a default action description when do description is found..

2009-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Added basic settings of access rights for the users of CMS..

2009-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py:
	Added `CheckListDialog' -- a dialog with a list of chackable items..

2009-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Simplify rights management using a hotkey action to toggle permission..

2009-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Added support for automatic detection of available module actions and their descriptions..

2009-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Sort actions by action id, rather than by name..

2009-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Infer 'subpath' rights from 'view' rights..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Automatically display module description/title..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/__init__.py:
	* lib/pytis/extensions/cms/cms.py:
	Manage system roles separately to avoid confusion in user role assignment..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* tools/make-tags.sh:
	Create TAGS table in the package root directory, bot in `lib'..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* COPYING:
	* ChangeLog.lib.1:
	* ChangeLog.lib.2:
	* ChangeLog.lib.3:
	* ChangeLog.lib.4:
	* lib/COPYING:
	* lib/ChangeLog:
	* lib/ChangeLog.1:
	* lib/ChangeLog.2:
	* lib/ChangeLog.3:
	Old roteted ChangeLogs and COPYING file moved from `lib' to the root directory..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* ChangeLog.1:
	* lib/ChangeLog:
	Year 2009 changes from lib/Changelog merged into the main ChageLog.  Older changes rotated..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py:
	Exclude disabled columns also from previously saved columns..

2009-05-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Handle authentication correctly also for modules with pytis redirection..

2009-05-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py:
	* lib/pytis/web/form.py:
	Added support for placing arbitrary content into web form layout.
	
2009-05-25  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Warn about possible "hidden" actions in genmenu

2009-05-25  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Import all specifications as actions in genmenu

2009-05-18  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Don't print tracebacks on void actions in Menu form.

2009-05-06  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/dmp:
	DMP tutorial added.

2009-05-06  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Don't display `menu/' action identifiers in DMP forms.

2009-05-06  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix in computation of show rights.

2009-05-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Genmenu: When there are no access rights specified, permit everything.

2009-04-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Fixes of typos in has_access docstring.

2009-04-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Raise DBSystemException instead of DBException on database connection failure.

2009-05-06  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Don't display `menu/' action identifiers in DMP forms.

2009-05-06  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix in computation of show rights.

2009-05-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Genmenu: When there are no access rights specified, permit everything.

2009-05-04  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Fix in computation of shortname in ApplicationMenuRights.

2009-04-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Handle deletion of referenced menu items and modules by
	understandable error message.

2009-04-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Added hack clarification comment.

2009-04-06  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/web.py: 
	Allow overriding condition for menu item selection.

2009-04-02  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/web.py:
	Make `view' the only possible action of `Menu' module and leave
	the `action' argument for the use of the embedded module.

2009-04-01  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/cms.py:
	Added field `system_role' into `UserRoles'.

2009-03-31  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/web.py: 
	(EmbeddablePytisModule): Use specification title by default.

	* lib/pytis/extensions/cms/cms.py:
	(Users.fields): Define as a method.

2009-03-30  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/cms.py: 
	* lib/pytis/extensions/cms/web.py:
	Added support for distinction of logged in and anonymous users.
	Refer to `uid', not `login' form session.  Wrap all module
	references by `_spec_name()'.  Added (unused) session log module.

	* db/db_pytis_cms.py: 
	Added session and session log support.  Allow configurable user
	table.  Added dependencies.

2009-03-30  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py:
	Gensql: Check for duplicate definitions and warn about them.

2009-03-20  Tomas Cerha  <cerha@debian.brailcom.xx>

	* db/db_pytis_cms.py:
	* lib/pytis/extensions/cms/cms.py: 
	* lib/pytis/extensions/cms/web.py: 
	Added support for system roles.

2009-03-17  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/__init__.py: 
	Added documentation.

	* lib/pytis/extensions/cms/web.py:
	Implemented authentication/authorization and session management.

2009-03-10  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/cms.py:
	Use `_cbname()' also in `UserRoles'.

	* db/db_pytis_cms.py:
	Added Wiking session support.

2009-03-09  Milan Zamazal  <pdm@brailcom.org>

	* ev/null:
	Add common database definitions.

2009-03-06  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/spec.py:
	Don't alias `FieldSpec' -> `Field' here.  It is already in pytis.

2009-03-05  Tomas Cerha  <cerha@debian.brailcom.xx>

	* db/cms.sql: 
	File removed (replaced by `db_pytis_cms.py').

	* db/db_pytis_cms.py: 
	* lib/pytis/extensions/cms/__init__.py: 
	* lib/pytis/extensions/cms/cms.py: 
	Added support for users, roles and rights management.

2009-03-04  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_cms.py: 
	Added Pytis CMS gensql definition.

2009-03-04  Tomas Cerha  <cerha@brailcom.org>

	* tools/gensql.py: 
	Use `char' instead of `varchar' for strings with minlen == maxlen.
	
	* Makefile: 
	Avoid using echo -e in `check-lib'.

2009-02-27  Tomas Cerha  <cerha@brailcom.org>

	* db/cms.sql: 
	* lib/pytis/extensions/__init__.py (Module): 
	* lib/pytis/extensions/cms/__init__.py: 
	* lib/pytis/extensions/cms/cms.py: 
	* lib/pytis/extensions/cms/web.py: 
	Added generic Pytis CMS.

2009-02-19  Tomas Cerha  <cerha@brailcom.org>

	* bin/pytis:
	Wx import moved to `pytis.form'.
	
2009-02-19  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.es.po:
	Translations updated.

2009-01-27  Tomas Cerha  <cerha@brailcom.org>

	* Makefile:
	New target `all'.

2008-12-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py:
	Include side form descriptions in the list of bindings.

2008-12-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Allow help texts in Binding specification.

2008-12-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Minor fix of typo in a docstring.

2008-12-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py:
	Ensure that help for forms used in bindings is generated.
	
	* lib/pytis/extensions/help.py: 
	Convert menu item titles to unicode.  Show bindings.

	* lib/pytis/extensions/help.py: 
	Add sideform links to multiform menu item info.

2008-12-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/output/flibdata.py:
	Added assertion info.

	* lib/pytis/form/form.py:
	Disable default print menu item.

2008-12-18  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: 
	* translations/pytis.de.po: 
	* translations/pytis.es.po: 
	* translations/pytis.fr.po: 
	* translations/pytis.hu.po: 
	* translations/pytis.pl.po: 
	* translations/pytis.sk.po:
	Updated.

2008-12-18  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: 
	* translations/pytis.de.po: 
	* translations/pytis.es.po: 
	* translations/pytis.fr.po: 
	* translations/pytis.hu.po: 
	* translations/pytis.pl.po: 
	* translations/pytis.sk.po:
	Updated.

2008-12-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Use normal (breakable) spaces within index search controls.

2008-12-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: 
	Wrap formatted field content in a div, not a span.

	* lib/pytis/web/field.py:
	Ignore the surrounding paragraph if a formatted field has just one
	paragraph.

2008-11-04  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: 
	* translations/pytis.de.po: 
	* translations/pytis.pl.po: 
	* translations/pytis.sk.po: 
	Deleted obsolete translations.

2008-11-04  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: 
	* translations/pytis.de.po: 
	* translations/pytis.pl.po: 
	* translations/pytis.sk.po: 
	Deleted obsolete translations.

2008-11-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py:
	* lib/pytis/web/__init__.py:
	* translations/Makefile:
	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Fixes of the previous translation changes.

2008-11-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/web/__init__.py:
	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	String length constraint messages slightly improved.

2008-11-03  Milan Zamazal  <pdm@brailcom.org>

	* translations/Makefile:
	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Include lib/data/types_.py into translations.
	Translate some Czech messages.

2008-11-03  Milan Zamazal  <pdm@brailcom.org>

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Translations updated.

2008-10-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py:
	Check column existence in restored conditions using two columns as
	operands.
	
	* lib/pytis/form/form.py:
	* lib/pytis/form/application.py: 
	Ask for removal of invalid saved filter.

	* lib/pytis/form/list.py:
	Recover after invalid filter application.

2008-10-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Added support for custom search result messages.

2008-10-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/spec.py:
	Allow specification of `grouping' as a method.

2008-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Look for FT operators only in Operator instances.

2008-10-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/configui.py: 
	* lib/pytis/util/configuration.py:
	* lib/pytis/form/event.py:
	Allow permanent setting of sender address in Config UI.

	* lib/pytis/form/event.py:
	Send bug-report mail using smtplib, not direct `sendmail'
	invocation.

2008-10-20  Pavel Hanak  <hanak@asellus.cz>

	* db/db_pytis_menu.py: New database specification for menu storage.

2008-10-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/__init__.py: 
	* lib/pytis/web/dialog.py: 
	* lib/pytis/web/field.py: 
	* lib/pytis/web/form.py: 
	Added translators comments.

	* lib/pytis/form/application.py:
	* lib/pytis/form/command.py:
	* lib/pytis/form/commands_.py:
	* lib/pytis/form/dualform.py:
	* lib/pytis/form/form.py:
	* lib/pytis/form/inputfield.py:
	* lib/pytis/form/screen.py:
	* lib/pytis/form/search.py:
	Manage saved filters through filter menu toolbar control, not in
	filter dialog.

2008-10-14  Tomas Cerha  <cerha@brailcom.org>

	* translations/Makefile:
	Extract also translator comments.

	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	New (empty) translation files.

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Updated meta information and encoding unified.

2008-10-14  Tomas Cerha  <cerha@brailcom.org>

	* translations/Makefile:
	Extract also translator comments.

	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	New (empty) translation files.

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Updated meta information and encoding unified.

2008-10-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Pass `distinct_on' from 'Specification' to data object
	constructor.

2008-10-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Allow passing search string and filter conditions to form
	constructor (+ minor fixes).

2008-10-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Inner extra sorting in DISTINCT ON selects removed.

2008-10-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/postgresql.py:
	Typo in SELECT DISTINCT ON fixed.

2008-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	SQL string escaping updated to current standards.

2008-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/postgresql.py:
	DISTINCT ON SQL clauses adjusted to allow arbitrary ordering.

2008-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/dbdata.py:
	* lib/pytis/data/postgresql.py:
	Limited support for DISTINCT ON SQL clauses.

2008-10-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	* lib/pytis/data/pgsql.py:
	* lib/pytis/data/postgresql.py:
	Ensure listening db loops won't start before their connection is initialized.

2008-10-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/output/formatter.py: Corrected indentation error.

2008-10-08  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSchema): New class.

2008-10-08  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSchema): New class.

2008-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/data.py:
	* lib/pytis/data/postgresql.py:
	* lib/pytis/data/types_.py:
	Database full text search support.

2008-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py:
	Missing NotImplementedException class added.

2008-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	* lib/pytis/data/pgsql.py:
	* lib/pytis/data/postgresql.py:
	Quote PostgreSQL notification names.

2008-09-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/__init__.py: 
	* lib/pytis/web/form.py: 
	Added search string UI controls.

2008-09-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py: 
	* lib/pytis/web/form.py: 
	Allow multiple `ListLayout' `content' fields.  Add field id CSS
	classes to all layout fields.

	* lib/pytis/data/types_.py: 
	* lib/pytis/form/inputfield.py: 
	Respect codebook sorting in `ListField'.

2008-09-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (printdirect): Pass keyword
	arguments to PrintResolver.

2008-09-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.enumerate): Fixed
	runtime filter invocation.

	* lib/pytis/web/form.py:
	Added support for active filter selection.
	Added experimental support for search string queries. 

2008-09-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: 
	Added support for `ListView' found record highlighting.

	* lib/pytis/data/data.py:
	* lib/pytis/form/application.py:
	* lib/pytis/form/commands_.py:
	* lib/pytis/form/form.py:
	* lib/pytis/form/list.py:
	* lib/pytis/form/search.py:
	* lib/pytis/form/screen.py:
	Added (experimental) support for toolbar filter menu.

2008-09-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	The `form-name' argument renamed to `form_name'.  Respect
	`form_name' also for the `search' argument.

	* lib/pytis/presentation/spec.py: 
	* lib/pytis/form/form.py:
	Added support for condition identifiers and default filter
	specification.

2008-09-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: 
	Fixed invalid concatenation of translatable texts.
	
	* lib/pytis/data/types_.py: 
	* lib/pytis/web/field.py: 
	* lib/pytis/web/form.py: 
	Automatically format structured text fields in web forms.

2008-09-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.insert_text): New method.

	* lib/pytis/form/form.py: Allow access to form fields through a public
	method `field()'.

2008-09-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	All references to `exporter' replaced by `context' (according to
	LCG).
	
	* lib/pytis/web/form.py:
	Only export the information about the asterix sign, if the sign
	was used in the form.

	* lib/pytis/presentation/spec.py: 
	* lib/pytis/web/form.py:
	Added support for automatic ListView row indexes.

	* lib/pytis/util/util.py:
	(argument_names): Handle functions with no arguments correctly.
	
	* lib/pytis/presentation/spec.py:
	Don't convert functions to Computer instances automatically, but
	provide a conveninence wrapper function 'computer()'.

	* lib/pytis/presentation/spec.py:
	Link documentation updated.

2008-08-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow.validate): Test unique
	only if value is not None.

2008-08-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/postgresql.py:
	Support for multiple (both columns and rows) return values of SQL functions.

2008-08-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Use pg_has_role SQL function for determing user's PostgreSQL roles.

2008-08-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	When determing user's PostgreSQL roles, add his own role to the list.

2008-08-12  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.sk.po:
	Updated.

2008-08-12  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.sk.po:
	Updated.

2008-08-08  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/dbutils.py (enum): Pass kwargs.

2008-08-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (MultiBrowseDualForm.filter): New method.

2008-08-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Make run form commands inactive, if
	they refer to an inaccessible binding.

	* lib/pytis/form/dualform.py (MultiSideForm.select_binding): Show an
	error message when the form is not accessible.

	* lib/pytis/form/list.py: Show sideform name in link title with
	'binding' specification.

2008-07-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py: Logging messages translated to English.

	* lib/pytis/data/postgresql.py: Logging messages translated to English.

	* lib/pytis/form/application.py: `select_side_form' -> `select_binding'.

	* lib/pytis/form/dualform.py: `select_side_form' -> `select_binding'.

	* lib/pytis/form/list.py: `select_side_form' -> `select_binding'.

2008-07-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: Added support for multiform links.

	* lib/pytis/form/application.py (new_record): Pass also `spec_kwargs'.

2008-07-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (new_record_mitem): Pass keyword
	arguments as command args.

2008-07-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._cmd_new_record): Pass
	`spec_kwargs' to `run_form()'.

	* lib/pytis/util/resolver.py (Resolver._get_spec): Pass the `kwargs'
	to the specification class constructor rather than to the method.

	* lib/pytis/presentation/spec.py (Specification.view_spec): Pass the
	keyword arguments to the 

	* lib/pytis/form/form.py (Form): New argument `spec_kwargs' to pass
	specification constructor arguments.

	* lib/pytis/form/configui.py (ConfigForm._create_view_spec): Pass
	kwargs to the ViewSpec constructor.

	* lib/pytis/form/dualform.py: Added support for `ShowForm' in multi
	form side forms.
	(DualForm._create_view_spec)
	(DescriptiveDualForm._create_view_spec)
	(MultiForm._create_view_spec)
	(MultiBrowseDualForm._create_view_spec): Accept kwargs.
	(MultiBrowseDualForm): Added support for side form selection
	through constructor arguments and an instance method.

	* lib/pytis/form/list.py (ListForm._cmd_export_file): Fix the case,
	when `pyExcelerator' is not installed.
	(SideBrowseForm._init_attributes): Accept binding parameters
	directly, not as a BindingSpec instance.

2008-07-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/defs.py (_get_default_select.init_select):
	Correct calling of db_operation.

2008-07-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Disable group headings in `ItemizedView'.

2008-07-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Specification): Allow specification
	of `conditions' as a method.
	(Binding): Added support for 1:1 relations and binding identifiers.

2008-07-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Don't show grouping columns when not in
	columns.  Fix group headings in `ListView'.  Don't care about used
	fields, always create `_Field' instances for all existing fields.
	Added support for formatting templates in `ItemizedView' items and
	`ListView' title.
	(BrowseForm._export_index_search_controls): Leave spaces between
	index links.

	* lib/pytis/presentation/spec.py (FieldSpec): Allow more convenient
	computer specification.
	(ListLayout): Docstring updated.

	* lib/pytis/form/search.py (SFDialog._selected_condition): Don't allow
	wildcard matching for binary types.

	* lib/pytis/data/types_.py: Boolean validation fixed.  Wildcard
	matching enabled only for string types.

2008-07-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (BrowseForm): Fallback to column uri for the
	first column if the record uri is None.

2008-06-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/output/formatter.py: Respect `None' values in
	`Table.Column' `label' specification as described in the
	docstring.

2008-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec): Added support for
	`bindings'.
	(Specification.__init__): Pass the new style bindings to ViewSpec.

2008-06-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added support for multi-level alphabetical
	indexes.

	* lib/pytis/form/application.py: Use new `ExitDialog' constructor
	arguments.

	* lib/pytis/form/dialog.py (ExitDialog): Further generalizations.
	(RunFormDialog): `MultiBrowseDualForm' added.

2008-06-25  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

2008-06-25  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

2008-06-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (_MenuItemReader._content):
	Recognize dual specifications by name, not by form type.

2008-06-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Add formely saved startup forms to
	the list of forms within the exit dialog.

	* lib/pytis/form/dialog.py (ExitDialog): Don't work with form
	instances, just with a generic list of items.

	* lib/pytis/form/form.py (descr): Converted to a class method.

2008-06-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (BrowseForm): Added support for "index navigation".

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.distinct): Added
	support for selection of distinct string prefixes.

2008-06-19  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/spec.py (mf): Nov funkce.

2008-06-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (MultiForm): Handle forms with insufficient
	permissions.  Added support for keyboard form switching.  Handle
	form focus correctly.  Handle activation.

	* lib/pytis/form/application.py (current_form): Test if `_application'
	is alive.

	* lib/pytis/form/commands_.py: New command
	`MultiForm.COMMAND_NEXT_FORM'.  Added keyboard shortcuts.

2008-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Binding): Allow Bindings
	without a binding column just with condition.

	* lib/pytis/form/dualform.py
	(MultiSideBrowseForm.SubForm._init_attributes): Allow Bindings
	without a binding column just with condition.
	(MultiForm): Save/restore the active form correctly.
	(MultiForm._on_page_changed): Explicitly focus the selected form.

2008-06-16  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Added 'bigint'.

2008-06-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py: Disable the title bar in multi-form
	inner forms.

	* lib/pytis/form/list.py: Allow disabling the title bar in derived
	classes.

	* lib/pytis/form/application.py (Application._create_toolbar_button):
	Added a hack for special handling of DualForm.COMMAND_OTHER_FORM.

	* lib/pytis/form/screen.py (wx_button): Docstring updated.

	* lib/pytis/form/commands_.py: DualForm.COMMAND_OTHER_FORM added to
	toolbar.

2008-06-13  Tomas Cerha  <cerha@brailcom.org>

	* icons/dual-form-active-down.png: New file.

	* icons/dual-form-active-up.png: New file.

2008-06-13  Tomas Cerha  <cerha@brailcom.org>

	* icons/dual-form-active-down.png: New file.

	* icons/dual-form-active-up.png: New file.

2008-06-12  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Value of `pg_rewrite.ev_type' is of type `char', not `integer'. 	

2008-06-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: Don't create form toolbar.  Form toolbar
	actions transformed to commands to allow their invocation from
	application toolbar. 

	* lib/pytis/form/configui.py (ConfigForm._create_print_menu): Renamed to `_print_menu'.

	* lib/pytis/form/commands_.py: Define UI commands to be used both for
	toolbar buttons and menu items.

	* lib/pytis/form/command.py (UICommand): New class.

	* lib/pytis/form/application.py: Create a toolbar.

	* lib/pytis/form/event.py (_is_user_event): Exclude
	`wx.UpdateUIEvent'.
	
2008-06-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm._export_field): Escape enumeration
	display values.

	* lib/pytis/presentation/field.py (PresentedRow.enumerate): Sort the
	items according to codebook's cb_spec or view_spec sorting.

	* lib/pytis/data/types_.py (DataEnumerator.values): New argument
	`sort'.

2008-06-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (current_form): Handle also multi
	forms.

	* lib/pytis/form/dualform.py: Added experimental support for
	multi side forms.

	* lib/pytis/presentation/spec.py (Binding): New class (experimental).

2008-06-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/_test.py (TutorialTest.test_it): Test updated.

	* lib/pytis/web/form.py (ItemizedView): New class.
	(ListView): Docstring added.

2008-05-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/field.py
	(PresentedRow.original_presented_row): New method.

2008-05-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_user_config_file.default): Don't set if the
	file actually doesn't exist.
	(Configuration._read_configuration): Read `user_config_file' even
	if `config_file' is not defined.  Don't suppress errors when
	reading `user_config_file'.
	(Configuration.__getattr__): Check `config_file' and
	`user_config_file' independently.
	(Configuration.__setattr__): Allow dynamic setting of `user_config_file'.

2008-05-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py
	(BrowseForm.__init__.browse_form_uri_provider): Image URI handling fixed.

2008-05-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (Password.test_validation): Fix one of the
	older tests.

2008-05-19  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/types_.py (Password): New parameter `strength'.

2008-05-16  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/email_.py (SimpleEmail.send): Definuj
	promnnou `server'.
	(SimpleEmail): Rozliuj odchytvan vjimky pi odesln mailu.

2008-05-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type.lookup_column):
	Use of undefined variable removed.

2008-05-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (DateTime.current_gmtime): New method.

2008-05-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLStandardBindingHandler): Use
	_pdbb_table_column_data class wide.

2008-05-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.fetchone.skip): Don't
	run fetch SQL command when asking for 0 rows.

2008-05-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Instead of asking database about each
	database column separately, ask about all columns at once, thus
	reducing number of initial SQL queries.

2008-05-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py (_DBAPIAccessor._postgresql_query.do_query):
	Locking exception detection updated for new psycopg version.

2008-05-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (direct_public_members): Once again reworked.
	The undocumented change from 2005-05-24 was probably broken and
	makes no sense to me.  At least tests work now.  If there is still
	anything wrong with the function, please write appropriate tests
	and make them work.

2008-05-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (direct_public_members): Test more correctly
	for the presence of the __class__ attribute.

2008-05-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (XStack): 
	* lib/pytis/util/util.py (XStack): 

	XStack tests and docstrings adjusted according to actual XStack behavior

	This changes semantics of the class.  But because the current XStack behavior
	is implemented this way for about three years now, I assume the class semantics
	is determined by its implementation.

2008-05-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm.__init__): Assertions added.

2008-04-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbapi.py (_DBAPIAccessor._postgresql_query): Handle
	also `dbapi.NotSupportedError' which occures in newer dbapi versions.

2008-04-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm): Always expect a sequence of FIELD,
	MSG pairs in `errors' constructor argument.

2008-04-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/screen.py (Menu.__init__): Item can be empty tuple.

	* lib/pytis/util/configuration.py
	(Configuration._Option_auto_menu_accel): Let default value be True.

2008-04-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._cmd_export_xls): Use `datetime'
	module to export date and time values.

2008-04-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._cmd_export_xls._process_table):
	We have to export floats as strings, because of bug in python-excelerator.

2008-04-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py: Change `_cmd_export_csv' to
	`_cmd_export_file'.
	(ListForm._cmd_export_file): New method.
	(ListForm._cmd_export_xls): New method.
	
	* lib/pytis/form/commands_.py: New command 'EXPORT_FILE'.
	Use command `COMMAND_EXPORT_FILE' instead of 'COMMAND_EXPORT_CSV'.

	* lib/pytis/data/types_.py (DateTime.format): New public method.

2008-03-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added support for group headings.

	* lib/pytis/presentation/spec.py (ViewSpec): New option
	`group_heading'.

2008-03-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): New shortcut for
	`ListForm.FILTER_BY_CELL'.

	* lib/pytis/data/postgresql.py: Added information to assertion
	messages.

2008-03-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/configui.py (_LABELS, _LAYOUT): Added
	`config.auto_menu_accel'.

	* lib/pytis/form/screen.py (Menu.create): Respect
	`config.auto_menu_accel'.

	* lib/pytis/util/configuration.py (_Option_auto_menu_accel): New
	option.

2008-03-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Don't apply grouping if sorting is not the
	default.

2008-03-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (ListView._wrap_exported_rows): Wrap the rows
	into a grid if multiple columns are specified.
	(BrowseForm._style): Grouping implemented.

	* lib/pytis/presentation/spec.py (ListLayout): New argument `columns'.

2008-03-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (LayoutForm._export_packed_field): Avoid
	aligning codebook fields as numeric.

2008-03-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (recent_forms_menu): Check if
	application is not None.

	* lib/pytis/web/form.py (EditForm._export_field): Export enumerator
	option values to fix support for Date/Time types in enumerations.
	(EditForm): Validation error display improved.

2008-03-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction): Added argument 'security_definer'.

2008-03-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction): Added argument 'security_definer'.

2008-03-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (LayoutForm._export_fields): Avoid unnecessary
	packing of a single compact field.
	(_SubmittableForm.__init__): Supply the default submit label even
	of None is passed to `submit'.

2008-03-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Textarea display improvements.

	* lib/pytis/web/field.py: Textarea display improvements.

2008-02-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Hacks for fixing form display in MSIE.

2008-02-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (ShowForm): Allow numeric fields anignment.

	* lib/pytis/form/screen.py: Added support for menu autoindex
	keyboard access.

	* lib/pytis/form/commands_.py: Cosmetic changes.

	* lib/pytis/form/application.py: Added support for menu autoindex
	keyboard access.

2008-02-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Always take a `PresentedRow' instance as a
	constructor argument.

2008-02-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm._export_field): Set the `fullsize'
	style when width is None for textarea.

2008-02-20  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/output/formatter.py (LoutFormatter._format_text): Try to
	solve the problem with ' & ' at the end of wrapped elements such
	as '@B'.
	(LoutFormatter._format_conc): See above.

2008-01-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (ListTable._cached_value): Indent the first
	column according to tree level.
	(ListTable._update_columns): Update the tree level column.

2008-01-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Fixes for wx 2.8.x.

	* lib/pytis/form/inputfield.py (InputField._set_focus): Focus the
	current tab if the field is in a `wx.Notebook'.

	* lib/pytis/data/postgresql.py (PostgreSQLStandardBindingHandler._pg_insert)
	(PostgreSQLStandardBindingHandler._pg_update): Escape `%' signs in
	query values when binary values are passed as `query_args'.

2008-01-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (wx_button): Don't disable the button when
	the command is not enabled.

	* lib/pytis/form/form.py (EditForm._create_button): Set button
	availability explicitly.

2008-01-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (wx_button): New argument `update'.  Don't
	bind to UPDATE_UI events to temporarily solve the problem of
	freezes.

	* lib/pytis/form/list.py: Cosmetic changes.

	* lib/pytis/form/form.py (RecordForm.readonly, EditForm.readonly): New
	methods.
	(EditForm._create_button): Set button UI updates explicitly.

2008-01-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: `ListForm.COMMAND_CONTEXT_ACTION' ->
	`RecordForm.COMMAND_CONTEXT_ACTION'.

	* lib/pytis/form/form.py (RecordForm): Implement
	`COMMAND_CONTEXT_ACTION' here.
	(EditForm._create_button): Added support for action buttons?

	* lib/pytis/form/list.py (ListForm): Support for
	`COMMAND_CONTEXT_ACTION' moved to `RecordForm'.

	* lib/pytis/form/screen.py (wx_button): Make botton available
	according to command availability.  New argument `width'.

	* lib/pytis/presentation/spec.py (Button): New argument `enabled'.
	Allow references to actions.
	(Action): New argument `name'.
	(ViewSpec): Check actions refered by buttons.

2008-01-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (MenuOverviewReader._create_section)
	(_DualDescrReader._default_description_text): Pouvej
	`BindingSpec.help()', pokud je text definovn.

2008-01-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (BindingSpec): New specifier `help'.

	* lib/pytis/form/inputfield.py (ListField._reload_enumeration): Fixed
	bug in previous commit.
	(InputField._disable): Gray out the field no matter what.

2008-01-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL._pg_make_row_from_raw_data): 
	Added support for `non-UTC' database columns.
	
	* lib/pytis/data/types_.py (DateTime): Added support for `non-UTC' database
	columns.

2008-01-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._reload_enumeration): Print
	yes/no for boolean values.

2008-01-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pg_select): Added forgotten
	`transaction' argument in `_pg_query'.
	(PostgreSQLStandardBindingHandler._pg_update): Added forgotten
	`transaction' argument in `_pg_query'.

2007-12-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_group_panel): New method.
	(EditForm._create_form_controls): Added support for tabs.

	* lib/pytis/presentation/spec.py (TabGroup): New class.

2007-12-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._current_row): New method.
	(ListField._menu): Add `ListField.COMMAND_DELETE_SELECTED'.
	(ListField._can_delete_selected, ListField._cmd_delete_selected):
	New methods.

	* lib/pytis/form/commands_.py: New command
	`ListField.COMMAND_DELETE_SELECTED'.

	* lib/pytis/form/form.py (Form.__init__): Handle exceptions instead of
	testing the returned value of `create_data_object()'.
	(RecordForm._cmd_delete_record): Cosmetic improvements.

	* lib/pytis/form/application.py (Application.create_data_object):
	Raise error if data object was not created.  Moved to a function
	`create_data_object()'.
	(Application._cmd_new_record): Pass the current transaction to
	`on_new_record()'.

2007-12-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.create_data_object): New method.
	(create_data_object): New function.

	* lib/pytis/form/form.py (Form._create_data_object): Use global
	function `create_data_object()'.

	* lib/pytis/data/types_.py (DataEnumerator.rows): Added support for
	transactions.

	* lib/pytis/data/data.py (Data.select_map): Pass the transaction to
	the `fetch()' calls.

	* lib/pytis/form/commands_.py: New command
	`ListField.COMMAND_NEW_CODEBOOK_RECORD'.
	(ListField.COMMAND_INVOKE_EDIT_FORM): Renamed to	
	`ListField.COMMAND_EDIT_SELECTED'.

	* lib/pytis/form/inputfield.py (ListField._create_ctrl): Adjust column
	widths according to column labels.
	(ListField._reload_enumeration): Respect the current transaction.
	(ListField._cmd_invoke_edit_form): Renamed to
	`_cmd_edit_selected'.
	(ListField._cmd_edit_selected): Respect the current transaction.
	Call `on_edit_record' if needed.
	(ListField._cmd_new_codebook_record): New command handler.
	(ListField._cmd_invoke_codebook_form): Reload enumeration after
	the codebook form is closed.

2007-12-20  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

	* translations/pytis.de.po: Updated.

	* translations/pytis.pl.po: Updated.

	* translations/pytis.sk.po: Updated.

2007-12-20  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

	* translations/pytis.de.po: Updated.

	* translations/pytis.pl.po: Updated.

	* translations/pytis.sk.po: Updated.

2007-12-19  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/dbconfig.py (DBConfig.__setitem__): Smazn
	zapomenutho printu.

2007-12-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._create_ctrl): Use
	`column_label()' instead of `label()'.
	(Invocable): Inline editation bug fixed.

2007-12-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added support for alternative layouts.  Don't
	align numeric fields in `EditForm'.

2007-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (FIELD_STYLE_DEFAULT)
	(FIELD_STYLE_EMPHASIS, FIELD_STYLE_WARNING): New constants.
	(FieldStyle): New alias.

2007-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (BrowseForm): Added support for named styles.
	(LayoutForm): Align numeric fields in the layout.

	* lib/pytis/presentation/spec.py (Style): New constructor argument and
	method `name'.
	(FieldStyle, FIELD_STYLE_DEFAULT, FIELD_STYLE_EMPHASIS)
	(FIELD_STYLE_WARNING): Removed.
	(ViewSpec): Default value of `row_style' set to None.

2007-12-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec): Removed option
	`on_line_commit'.  Updated docstring for `cleanup'.

	* lib/pytis/form/list.py (ListForm._can_filter_by_cell): New method.
	(ListForm._on_line_commit): Call `cleanup' instead of
	`on_line_commit'.
	(ListForm._cmd_insert_line): Disable inline insert if
	`on_new_record' is defined.
	(ListForm._edit_cell): Disable inline editation if
	`on_edit_record' is defined.

	* lib/pytis/form/screen.py (wx_text_view): Updated for recent LCG
	version.

2007-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (SideBrowseForm.on_selection): Don't reset
	filtering after main form selection.

2007-12-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Updated for latest LCG version.

2007-11-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/request.py (FileUpload.filename): Docstring imporoved.

	* lib/pytis/web/form.py: Escape the URI passed to form action.

2007-11-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/__init__.py: Define `debug'.

	* lib/pytis/web/form.py (EditForm.__init__): Treat `layout.order()' as
	a tuple.

	* lib/pytis/presentation/spec.py (LayoutSpec.__init__): Store the
	`order' as a tuple.

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Cast `DateTime'
	to `timestamp', not `date'.

	* lib/pytis/data/_test.py (DataEnumerator.test_get): Use
	`DataEnumerator.row()' instead of `DataEnumerator.get()'.
	(DBDataDefault.setUp): Pass `DataEnumerator' instance as
	`enumerator' to `DBColumnBinding', not just a data object.

2007-11-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/dbconfig.py (saved_config_writer): Convert
	pickled config to unicode.
	(pytis_config_reader): New function.
	(pytis_config_writer): New function.
	(saved_config_writer, saved_config_reader): Returned to previous version.

	* db/db_pytis_config.py (read_pytis_config, write_pytis_config):
	Bad `where' condition corrected.

2007-11-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (Form.__init__): Assertion fixed.

2007-10-31  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/email_.py (SimpleEmail.send):
	Call `server.quit' only if exists.
	(SimpleEmail.smtp_to): New method.
	(SimpleEmail.send): Use it.

2007-10-30  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/email_.py (SimpleEmail.send): Correct
	arguments for `smtplib.sendmail'.	
	(SimpleEmail.create_headers): Add `Date' header to message.

2007-10-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec): Docstring updated.

2007-10-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (LayoutForm): Added support for
	horizontal groups.  Respect empty labels.  Stretch horizontal
	groups to page width.

	* lib/pytis/presentation/spec.py (GroupSpec): Automatically convert
	sequences to vertical groups.

2007-10-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/__init__.py: Import `field'.  Validation message
	localization hacks moved here.

	* lib/pytis/web/field.py: New module.

	* lib/pytis/web/form.py: Use field formatters for form field export.

	* lib/pytis/presentation/spec.py (GroupSpec.order): New method.
	(LayoutSpec.__init__): Use it.

2007-10-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (CbComputer): Fixed default value
	substitution.

2007-10-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField): Improved list height
	computation.

	* lib/pytis/presentation/field.py (PresentedRow.cb_value)
	(PresentedRow._display_func): Use `DataEnumerator.row()' instead
	of `DataEnumerator.get()'.
	(PresentedRow._display_func): Added support for passing the whole
	enumerator data row into the display function.

	* lib/pytis/presentation/spec.py (FieldSpec, CodebookSpec): Docstrings
	and asserts updated for new definition of `display' function.
	(CbComputer): Use `DataEnumerator.row()' instead of
	`DataEnumerator.get()'.

	* lib/pytis/util/util.py (argument_names): New method.

	* lib/pytis/data/types_.py (DataEnumerator.get): Method replaced by a
	more general method `row()'.

	* lib/pytis/web/form.py: Field export divided into several methods.

2007-10-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/dbconfig.py (saved_config_reader.reader):
	Use new sql function `read_pytis_config'.

2007-10-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Updated for newer LCG interface.

2007-10-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb2colvalue): Use
	`DataEnumerator.row()' instead of `DataEnumerator.get()'.

	* lib/pytis/extensions/defs.py:  Use new `db_operation'
	interface.

	* lib/pytis/extensions/dbutils.py: Use new `db_operation'
	interface.

2007-10-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._on_line_commit): Add forgotten
	dictionary for `kwargs'.

2007-10-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (db_operation): Don't call
	`login_hook' if `_application' does not run.

	* lib/pytis/web/form.py: Allow `ShowForm' layout within `ListView'.
	(ListLayout): Moved to `spec.py'.

	* lib/pytis/presentation/spec.py (ViewSpec): New parameter
	`list_layout'.
	(ListLayout): New class.

	* lib/pytis/data/dbapi.py (DBDataDefaultClass.__init__): Respect
	`config.dblisten'.

2007-10-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py: Use simplified `db_operation' interface.

	* lib/pytis/form/dialog.py: `db_operation' moved to `application.py'.

	* lib/pytis/form/application.py: `db_operation' moved here.
	Implemented login hook.  Handle database exceptions during menubar
	initialization.

	* lib/pytis/form/screen.py (wx_button): Allow passing `command'
	instead of a `callback'.  Display command shortcut keys in
	tooltip.  Allow fullsize buttons.

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): New shortcut
	`Ctrl-Shift-Enter' for
	`EditForm.COMMAND_COMMIT_RECORD(next=True)'.

	* lib/pytis/form/configui.py (ConfigForm._buttons): Respect super
	class changes.

	* lib/pytis/form/event.py (top_level_exception): Log brief traceback
	if cgitb fails.

	* lib/pytis/form/form.py: Use simplified `db_operation' interface.
	(EditForm._cmd_commit_record): New argument `close'.
	(PopupEditForm._cmd_commit_record): New argument `next'.
	(PopupEditForm._buttons): Create buttons using `wx_button'.  Use
	commands, not callbacks.

	* lib/pytis/form/list.py: Use simplified `db_operation' interface.
	(ListForm._create_search_panel): Pass command to `wx_button()'.

	* lib/pytis/presentation/spec.py (FieldSpec._init): Prevent namespace
	problems within lambda functions.

2007-10-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/dbutils.py: Don't pass connection data to
	`DataEnumerator' constructor.

2007-10-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Don't care about enumerators here.

	* lib/pytis/data/dbdata.py (DBColumnBinding): Don't care about
	enumeretors here.

	* lib/pytis/presentation/field.py (PresentedRow.completions): New
	method.  Respect `CodebookSpec.enable_autocompletion'.
	(PresentedRow._completer): Pass enumerator kwargs from field
	specification to completer DataEnumerator constructor.

	* lib/pytis/presentation/spec.py (FieldSpec):
	`codebook_runtime_filter' -> `runtime_filter'.
	(CodebookSpec): New argument and method `enable_autocompletion'.
	(DataSpec, Specification): Create enumerator instances here and
	pass them to DBColumnBinding as other type keyword arguments.

	* lib/pytis/form/inputfield.py: Use 'PresentedRow.completions()'.

2007-10-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (DataEnumerator.values): New argument `max'.

	* lib/pytis/presentation/spec.py (FieldSpec): New argument and method
	for `completer'.

	* lib/pytis/form/inputfield.py (_Completer): New class.
	(TextField): Use completers for all codebook feilds, as well as
	for fields with `completer' defined.

2007-10-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Respect `display' for boolean fields.

	* lib/pytis/form/list.py (ListForm._on_incremental_search_key_down):
	Handle empty list.

	* lib/pytis/presentation/spec.py: Backwards compatibility for
	`editable' and `style' fixed.  Color value assertions removed.

2007-10-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._compute_editability):
	Pass just one argument to the `editable' function.

	* lib/pytis/presentation/_test.py: Define editable function with just
	one argument.

	* lib/pytis/web/form.py: Apply row and field styles.

	* lib/pytis/presentation/spec.py (Color): Define color values directly
	in constants.
	(FieldStyle): Renamed to `Style'.  Default color values changed to
	`None'.  New properties `overstrike' and `underline.
	(FieldSpec): Allow `style' and `editable' functions to take just
	one argument -- the PresentedRow instance.

	* lib/pytis/form/screen.py: Expect color values in `Color' constants
	and allow also color hex-string specifications.

	* lib/pytis/form/_grid.py: Implemented style inheritance and new style
	specifiers.
	(ListTable._cached_value): Pass just one argument to the `style'
	function.

2007-10-04  Pavel Hanak  <hanak@asellus.cz>

	* db/db_pytis_config.py: DB objects for saved user configuration.

2007-10-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Improved `display' presentation.

	* lib/pytis/form/list.py (ListForm._create_search_panel): Handle
	prefill correctly.

2007-10-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFSDialog._create_choice): Use `wx_choice()'.
	(SFSDialog._create_text_ctrl): Use `wx_text_ctrl()'.

	* lib/pytis/form/screen.py (color_dictionary): Function removed.
	(init_colors): Initialize color database here
	(wx_button): Docstring improved.
	(wx_choice, wx_text_ctrl, wx_checkbox): New functions.

	* lib/pytis/form/commands_.py (FORM_COMMAND_MENU): Removed
	`COMMAND_INCREMENTAL_SEARCH(full=True)'.

	* lib/pytis/form/_grid.py (IncrementalSearch): Class removed.

	* lib/pytis/form/form.py (RecordForm.set_prefill): Method removed.

	* lib/pytis/form/list.py (ListForm._refresh): Only reselect row if
	current key does not match.
	(SideBrowseForm): Take binding specification as a constructor
	argument and make use of it where possible.
	(ListForm): New implementation of incremental search.

	* lib/pytis/form/dualform.py: Reverted yestarday's change in selection
	comparison.
	(SideBrowseDualForm): Leave all binding logic to `SideBrowseForm'.
	(SideBrowseDualForm._do_selection): Removed incremental search hack.

2007-10-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py: All `super_()' calls converted to use
	`super()'.
	(PostponedSelectionDualForm._on_main_selection): Compare just key
	values, not whole data rows.  This should prevent unwanted
	reselections on side form editation, which changes main form data.

	* lib/pytis/util/log.py (Logger._is_accepted): Class filtering fixed.

	* lib/pytis/form/list.py: Minor docstring improvement. 

2007-10-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm): Added row context menu item for
	`BrowseForm.COMMAND_NEW_RECORD(copy=True)'.

	* lib/pytis/form/configui.py (ConfigForm.__init__): Pass
	`select_row=0' to parent constructor.  Don't call
	`self._select_row()' and `self._init_select()'.

	* lib/pytis/web/form.py: Distinguish image and link URI provider. 

	* lib/pytis/presentation/spec.py (FieldSpec): The constructor argument
	and method `thumbnail' removed.

2007-09-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/configui.py: Extend field width for
	`export_directory' option.

2007-09-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (ShowForm, BrowseForm): Use the display value
	only if `prefer_display' was set to true.

	* lib/pytis/presentation/spec.py (CodebookSpec.prefer_display)
	(FieldSpec.prefer_display): New methods and constructor arguments
	of the same name.

	* lib/pytis/presentation/field.py (PresentedRow.prefer_display): New method.

2007-09-25  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Check python path before installation.
	(cvs-update): Overwrite locally modified files.
	
2007-09-25  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Check python path before installation.
	(cvs-update): Overwrite locally modified files.
	
2007-09-24  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Allow repeated cvs-install.

2007-09-24  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Allow repeated cvs-install.

2007-09-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm): Include key value in a hidden field.

2007-09-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py: Prevent segfault on boolean cell doubleclick.

2007-09-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (Fields): Class moved to `pytis'.

2007-09-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Fields): New class.

	* lib/pytis/web/form.py (BrowseForm): Only include page controls if
	there is more than one page.

2007-09-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Fields): New class supporting field
	inheritance.

2007-09-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added support for custom list layout.

2007-09-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Generate descriptions also for
	COMMAND_NEW_RECORD in Menu overview.

2007-09-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Table export optimized.  Fixed codebook
	display in tables.  Show paging controls on both sides of a table.

2007-09-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (BrowseForm._export_controls): Page count
	computation fixed.

2007-08-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (MenuOverviewReader): New class.

2007-08-29  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/spec.py (run_cb): Pedvej parametr sort.

2007-08-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm.sorting): New method.

2007-08-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py: Respect password type without verification.

	* lib/pytis/web/form.py: Respect password type without verification.

	* lib/pytis/data/types_.py (Password): Make password verification optional.

	* lib/pytis/web/request.py: New file.

2007-08-23  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Pass -dP to cvs update.

2007-08-23  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Pass -dP to cvs update.

2007-08-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (Fields): New class.

2007-08-21  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/form/form.py (EditForm._commit_form): Set correct
	transaction for result row.

2007-08-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec): Allow multi-level
	inheritance.

	* lib/pytis/form/inputfield.py (PasswordField._validate): Handle
	`_ORIGINAL_VALUE' also on new record.

	* lib/pytis/web/form.py: Use safer unicode characters to avoid
	problems in MSIE.  Handle null values in tree level column.

2007-08-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): New argument
	'inherit' to allow inheritance.

	* lib/pytis/util/configuration.py
	(Configuration.dump_config_template): Wrong argument name fixed.

	* lib/pytis/form/inputfield.py: Handle invalid default values of
	enumeration fields.

2007-08-20  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/data/postgresql.py (DBPostgreSQLFunction.call): Restore
	previous behavior (do not backup function calls).

	* lib/pytis/data/postgresql.py (DBPostgreSQLFunction.call): Do backup
	also for function calls.

2007-08-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py: Display a fake value in password
	fields if the password was defined.

	* lib/pytis/web/form.py: Major refactoring.  Added support for
	browsing long lists and sorting.

2007-08-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec): Pass the 'minlen'
	argument to data type.

	* lib/pytis/form/inputfield.py (PasswordField): New class.

	* lib/pytis/data/_test.py: New tests for type 'Password' and 'minlen'.

	* lib/pytis/data/types_.py (Limited): Added support for 'minlen' limit.
	(Password): Added support for md5 passwords.
	(TreeOrder): New type.

2007-08-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py: Don't allow aggregation functions on
	non-numeric data types.

2007-08-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Respect the changes in 'Configuration'
	class interface.

	* lib/pytis/form/configui.py: Respect the changes in 'Configuration'
	class interface.

	* lib/pytis/util/configuration.py: Respect the order of configuration
	option definitions.  Allow direct access to option instances.
	(description, documentation, type, changed): Methods removed.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Added `unique'
	to the list of allowed data type kwargs.

2007-08-09  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py (_GsqlViewNG._format_rule.get_key_column):
	Corrected problem by getting `key column'.

2007-08-09  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py (_GsqlViewNG._format_rule.get_key_column):
	Corrected problem by getting `key column'.

2007-08-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py: Allow separate access to each
	option's description and documentation strings.
	
	* lib/pytis/form/configui.py: Respect the above change.

	* lib/pytis/web/form.py: Display a color sample for 'Color' fields.


2007-08-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintFormExternal.run): Run the formatter
	twice.

2007-08-02  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py: Added automated recognition of keys for
	tables in rules.

2007-08-02  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py: Added automated recognition of keys for
	tables in rules.

2007-08-01  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/form/output.py (PrintFormExternal._run_viewer):
	Transform params from config option into list of arguments.

2007-07-30  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py (Select._format_relations.format_relation):
	Corrected problem, when no condition for relation is specified.

2007-07-30  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py (Select._format_relations.format_relation):
	Corrected problem, when no condition for relation is specified.

2007-07-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py: `Option' subclasses made public.
	Pretty print default values in config file dump.

2007-07-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFSDialog._create_choice)
	(SFSDialog._create_text_ctrl): Rely on global tooltip settings.

	* lib/pytis/form/screen.py (wx_button): Rely on global tooltip
	settings.

	* lib/pytis/form/inputfield.py (InputField.__init__): Rely on global
	tooltip settings.

	* lib/pytis/form/configui.py (Module, _ConfigData.update):
	Enable/disable tooltips globally.

	* lib/pytis/form/list.py (ListForm._update_label_tooltips): Minor
	improvement.
	
	* lib/pytis/form/form.py (EditForm._commit_form): Create a new
	transaction here and not in `_load_next_row()'.
	(PopupEditForm._on_skip_button): Handle correctly the end of
	inserted data.

	* lib/pytis/form/application.py: Show a progress dialog when launching
	multiple startup forms.
	
2007-07-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._update_label_tooltips): Change the
	tooltip only when necessary.

2007-07-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Catch startup
	form invocation errors.

2007-07-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm): Show field descriptions as column
	label tooltips.

2007-06-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Reset startup forms if the user
	doesn't save the current state.

	* lib/pytis/presentation/field.py (PresentedRow.permitted)
	(PresentedRow.codebook, PresentedRow.key): New methods.
	(PresentedRow._set_row): Always use `FieldSpec' data type.
	(PresentedRow): Don't care about field types within the `changed()'
	and `field_changed()' methods.

	* lib/pytis/form/inputfield.py: Avoid using `PresentedRow.data()' method.
	Don't validate when the transaction is already closed. 

	* lib/pytis/form/dualform.py: Avoid using `PresentedRow.data()' method.

	* lib/pytis/form/form.py: Added a hack to pass an independent, but
	initialized data object to application defined procedures.

2007-06-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: New command `ListForm.COMMAND_COPY_AGGREGATION_RESULT'.

	* lib/pytis/form/screen.py: Clipboard copying fixed.

	* lib/pytis/form/list.py: Turn on aggregation functions defined in
	specification.  Handle aggregation result copying and add the
	command to the context menu.  

	* lib/pytis/presentation/spec.py: Added support for turning on
	aggregation functions in specification.

	* lib/pytis/presentation/field.py: Handle closed transactions in
	codebook display computation.

2007-06-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLConnector._pg_query): Raise
	DBUserException when trying to use closed transaction.

2007-06-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBPostgreSQLTransaction.open): New
	method.

2007-06-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: Define the callback `CALL_USER_INTERACTION'
	in the base class.  Call it on popup menu display.

	* lib/pytis/form/list.py: Callback `CALL_USER_INTERACTION' moved to
	the parent class.

	* lib/pytis/form/inputfield.py (InputField._on_idle): Previous hack removed.

	* lib/pytis/form/dialog.py (ExitDialog): Allow setting the checkbox
	initial state.

	* lib/pytis/form/application.py: Remember the state of exit dialog checkbox.

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Added a
	quick hack to ignore multicolumn unique constraints.

2007-06-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/defs.py: Added support for checking dual
	form bindings.

2007-06-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: Close popup form before commiting its transaction.

2007-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._on_idle): Exit if the
	field control is not shown.

2007-06-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm.Record): New `PresentedRow'
	subclass aware of its form.

	* lib/pytis/form/_grid.py: Use `Form.record()' to create new
	`PresentedRow' instances.

	* lib/pytis/form/list.py (ListForm): Duplicated method name fixed.

	* lib/pytis/presentation/spec.py (Specification): Allow `sorting' to
	be also defined by a method.

	* lib/pytis/form/application.py: Use `ExitDialog' on exit and save the
	forms for next startup.  Use saved forms together with `congig.startup_forms'.

	* lib/pytis/form/dialog.py (ExitDialog): New dialog with a choice of
	forms to open at next application startup.

2007-06-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Window commands moved to the menu of windows.

	* lib/pytis/form/inputfield.py (CheckBoxField._set_value): Accept also
	null values (as an empty string).

	* lib/pytis/form/list.py: Added support for showing/hiding row
	labels and aggregation labels within them.

	* lib/pytis/form/commands_.py: New command `ListForm.TOGGLE_ROW_LABELS'.

2007-06-21  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/extensions/spec.py (format_value): New function.

2007-06-21  Tomas Cerha  <cerha@brailcom.org>

	* icons/agg-avg.png: New file.

	* icons/agg-max.png: New file.

	* icons/agg-min.png: New file.

	* icons/agg-sum.png: New file.

	* icons/aggregate.png: New file.

	* icons/unaggregate.png: New file.

2007-06-21  Tomas Cerha  <cerha@brailcom.org>

	* icons/agg-avg.png: New file.

	* icons/agg-max.png: New file.

	* icons/agg-min.png: New file.

	* icons/agg-sum.png: New file.

	* icons/aggregate.png: New file.

	* icons/unaggregate.png: New file.

2007-06-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/extensions/dbutils.py: Use function to retrieve
	config.dbconnection instead of using config.dbconnection directly.

2007-06-20  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/form/inputfield.py (GenericCodebookField._run_codebook_form): 
	By invoking CodebookForm take into account `validity_condition'.
	
	* lib/pytis/data/types_.py (DataEnumerator.validity_condition): See above.

2007-06-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py: Don't use menu icons for 'CheckItem'.

	* lib/pytis/form/form.py: Added aggregation toolbar button.

	* lib/pytis/form/list.py: Aggregation result display in table
	implemented.

	* lib/pytis/form/commands_.py: New commands
	ListForm.TOGGLE_AGGREGATION, ListForm.AGGREGATE and
	ListForm.UNAGGREGATE.  Defined their icons.

2007-06-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb2strvalue): Method removed.
	(get_value): New method.

2007-06-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: Remember the top level sizer as an
	attribute.

	* lib/pytis/form/list.py: Minor cleanup.

	* lib/pytis/form/_grid.py (ListTable.__init__): Omit the
	`inserted_row_number' and `inserted_row_prefill' arguments.

	* lib/pytis/data/data.py: Cosmetic change.

	* lib/pytis/presentation/field.py (PresentedRow.cb_value): New method.

	* lib/pytis/form/event.py (top_level_exception): Improved bug
	information in message subject.

	* lib/pytis/presentation/spec.py (CbComputer._compute): Pass the
	current runtime filter condition.

	* lib/pytis/form/configui.py (_ConfigData.__init__): Pass keyword
	arguments to parent method.

2007-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/event.py: Include the error message in bug report
	subjects.

	* lib/pytis/form/list.py: Don't recreate cell editors during editation.

	* lib/pytis/form/_grid.py: Deregister the cell editor.

2007-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Generate also access groups for
	dual views and related dual views for each single view.

2007-06-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py (AccessRights._permitted): Don't crash when
	user groups couldn't be retrieved, allow the action instead.

2007-06-15  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/postgresql.py (PostgreSQLUserGroups): Deuglified and
	fixed.

2007-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py: Perform UNIQUE constraint
	validation.

	* lib/pytis/form/application.py: Make use of `PopupInsertForm'.

	* lib/pytis/form/_grid.py: Don't share the form's data object with
	`PresentedRow' instances.

	* lib/pytis/data/types_.py: Fixed unwanted enumerator data object
	creation on data type construction.

	* lib/pytis/form/list.py (ListForm._create_form_parts): Don't pass
	`description' to `_create_title_bar()'.  Don't share the form's
	data object with `PresentedRow' instances.

	* lib/pytis/form/form.py (TitledForm._on_show_description): Show the
	help text instead of description if it is available.
	(TitledForm._create_title_bar): Argument 'description' removed.
	(PopupInsertForm): New class.
	(RecordForm._init_attributes): Don't share the form's data object
	with `PresentedRow' instances.
	(Form.__init__): The keyword argument `spec_args' removed.
	(Module): 

	* lib/pytis/presentation/spec.py: Use the specification class
	docstring for the default `help', not for `description'.  Use
	`connection_data' instead of `dbconnection_spec'.

2007-06-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Updated for newer LCG version.
	Print the list of stray description files.

2007-06-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (wx_text_view): Updated for the latest LCG version.

	* lib/pytis/presentation/spec.py (Specification._create_view_spec):
	Default title setting fixed.

2007-06-13  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/data/postgresql.py 
	(PostgreSQLUserGroups._pgg_retrieve_access_groups):
	Don't use the argument `data'.
	(PostgreSQLUserGroups.access_groups): See above.

2007-06-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLConnector.__init__): Don't
	replace connection pool if it has already been created.
	(PostgreSQLAccessor._postgresql_open_connection)
	(PostgreSQLAccessor._postgresql_close_connection): Make them
	classmethods.

	* lib/pytis/data/pgsql.py: See above.

	* lib/pytis/data/dbapi.py: See above.

2007-06-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Ask for
	column uniqueness outside transaction.

2007-06-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py
	(_DBAPIAccessor._postgresql_rollback_transaction): Reset client
	encoding.

2007-06-11  Milan Zamazal  <pdm@brailcom.org>
	
	* config/config.py: db_encoding configuration option removed.

	* lib/pytis/data/postgresql.py: See above.

	* lib/pytis/util/configuration.py: See above.

	* lib/pytis/form/list.py: See above.

2007-06-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm._cmd_delete_record): Select proper
	row after deleting the record.

2007-06-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLNotifier.after_init): New
	method.

	* lib/pytis/data/data.py (Data.after_init): New method.
	(DataFactory): Use it.

2007-06-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._display_func.getval):
	Use the right column for runtime filter condition.

2007-06-06  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/data.py (DataFactory.create): Pouvej cachovn
	datovch objekt.
	
2007-06-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataNotification.test_side_notification):
	Report expected and actual change numbers.

2007-06-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (DataFactory.create): Copy instance
	attributes, not only instance itself.

2007-06-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Make selection identifiers unique even
	when data instances are copied from cache.

2007-06-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py: Support for `unique' type property.
	
	* lib/pytis/data/postgresql.py: See above.

	* lib/pytis/data/_test.py: See above.

2007-06-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.select_and_aggregate): Aggregate
	results clarified.

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.select_and_aggregate):
	Use its own implementation retrieving all columns at once.  Be
	more careful about column types.

2007-06-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (SelectionType.RADIO_BOX): Renamed to
	`RADIO'.

	* lib/pytis/form/inputfield.py: Use new `SelectionType' constants.
	(ListBoxField): Respect `height' specification.  Make the selected
	value visible.

	* lib/pytis/web/form.py: Minor optimization.  Fixed `EditForm'
	constructor bug.

	* lib/pytis/presentation/field.py: Pass the runtime filter condition
	only to `DataEnumerator' methods.  Pre-compute recursive computer
	dependencies in the constructor.

	* lib/pytis/data/types_.py: Removed forgotten unused method `make_me_safe()'.

2007-06-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefault.test_select_and_aggregate):
	New test.

	* lib/pytis/data/postgresql.py
	(PostgreSQLConnector._make_transaction): New method.

	* lib/pytis/data/data.py (Data.select_and_aggregate): New method.

2007-06-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pg_select_aggregate): Use
	database column name in the SQL command, not logical column name.

2007-06-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (Popen.__init__): Ignore error on closing
	file descriptors in the parent.

2007-05-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py: Removed all garbage related to the old
	runtime filter implementation.

	* lib/pytis/form/commands_.py: CSV import added to the commands menu.

	* lib/pytis/form/form.py: CSV import fixed.

	* lib/pytis/presentation/field.py: Codebook runtime filter handling
	reimplemented.

	* lib/pytis/form/inputfield.py: Likewise.

2007-05-31  Tomas Cerha  <cerha@brailcom.org>

	* icons/export.png: Improved.

	* icons/import.png: New icon.

2007-05-31  Tomas Cerha  <cerha@brailcom.org>

	* icons/export.png: Improved.

	* icons/import.png: New icon.

2007-05-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/data.py: Use XOR for hash composition to Aviod int exceeding.

	* lib/pytis/data/types_.py: Use XOR for hash composition to Aviod int exceeding.
	Allow passing runtime filter conditian to validation.

2007-05-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py: Make some classes hashable.

	* lib/pytis/data/data.py: Likewise.

2007-05-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (new_record): Added support for
	disabling the "Next" button.

	* lib/pytis/form/form.py: Don't make the commands for update/delete
	unavailable according to permissions.  Instead refuse to perform
	them when invoked.
	(PopupEditForm): Added support for disabling the "Next" button.

	* lib/pytis/form/list.py: Separate explicit links in row context menu.

2007-05-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: Pass `prefill' on next row initialization.

	* lib/pytis/presentation/field.py: Allow passing `prefill' also to the
	`set_row' method.

	* lib/pytis/presentation/spec.py (Specification): Don't support
	multicolumn keys.  Allow `key' to be a string.

	* lib/pytis/form/inputfield.py (ListField._load_list_data): Invalid
	`range()' usage fixed.

2007-05-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py
	(GenericCodebookField._init_attributes): Don't manipulate with
	enumerators, create and register row change callback instead.
	(ListField._load_list_data): Honor value condition.

	* lib/pytis/presentation/field.py (PresentedRow): Handle filter
	changes in a similar way as computers.
	(PresentedRow._notify_runtime_filter_change): Removed.

	* lib/pytis/data/types_.py: Provide method arguments instead of
 	instance modification in DataEnumerator.

2007-05-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._run_callback):
	Deuglified.

2007-05-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._load_list_data): Use safe
	enumerator methods.

	* lib/pytis/data/types_.py (DataEnumerator.rows): New method.

2007-05-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.last_row_number):
	Restore stopped select if necessary.

2007-05-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/web/form.py (CheckRowsForm.__init__): Invalid variable
	reference fixed.

2007-05-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (_SubmittableForm): New class.
	(EditForm, CheckRowsForm): Derive from it.
	(CheckRowsForm): Consider all checkable columns to be Boolean
	columns present in the row.

2007-05-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/web/form.py (CheckRowsForm.__init__): New arguments and
	attributes `handler' and `action'.
	(CheckRowsForm._export_row): Make checkboxes checked according to
	the corresponding values.
	(CheckRowsForm._export_buttons, CheckRowsForm.export): New
	methods.

2007-05-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: Removed outdated comment.

	* lib/pytis/form/dualform.py: Cosmetic improvement.

	* lib/pytis/presentation/field.py: Don't invoke computers on
	initialization, when the passed 'row' is None and 'new' is False.
	Reinitialize also virtual columns on each `set_row' call.

	* lib/pytis/presentation/_test.py: Updated.

	* lib/pytis/form/form.py (PopupForm.run): Rollback only if transaction
	is defined.
	(EditForm._commit_form): Reset the row even if the data insert
	operation desn't return the inserted row.

2007-05-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands.make_lock_command.find_real_key):
	Return None if the information can't be retrieved.

2007-05-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (CheckRowsForm): New class.

	* lib/pytis/form/inputfield.py: Use the config option for invalid
	field color.

	* lib/pytis/util/configuration.py: New option `field_invalid_color'.

	* lib/pytis/presentation/field.py: Don't invoke callbacks when the
	value is changed through validation.  Add a key column if it
	is not present in field specifications.

	* lib/pytis/form/form.py: Form creation logging improved.

	* lib/pytis/form/list.py: Fixed unwanted list position changes.

	* lib/pytis/form/configui.py: Grouping improved.  Added controls for
	field colors.

2007-05-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py: Don't create just another `PresentedRow'
	instance for the ListTable but share the form's instance.

	* lib/pytis/data/types_.py (Binary.Buffer.load): Allow passing the
	original filename.

	* lib/pytis/form/inputfield.py: Removed forgotten print.  Call
	`_on_change' also for text fields manually.  Pass the original
	filename of file data.

	* lib/pytis/form/form.py: Use the new command handling mechanism.
	Always report the ShowForm unchanged.  Allow overriding the
	singleline argument for the created `PresentedRow' instance.
	(ShowFoem): Avoid unwanted computer invocations on initialization.

	* lib/pytis/form/list.py: Use the new command handling mechanism.
	Create the PresentedRow instance as singleline and pass it to
	`ListTable'.  Avoid unwanted computer invocations on PresentedRow
	initialization.

	* lib/pytis/form/application.py: Detect dual forms in startup_forms
	automatically.

	* lib/pytis/presentation/field.py: Save the original_row before
	executing the initial computers.  Allow passing validation
	arguments.  Always recreate the stored data row to make sure it
	has all the needed columns.  Minor improvements.  Make sure the
	order of fields in the data row corresponds to the order of field
	specifications.

	* lib/pytis/presentation/_test.py: Test it.

2007-05-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py: Compute dirty values when saving
	the original row.  Added support for validation and keeping track
	invalid user input values.

	* lib/pytis/presentation/_test.py: New tests.

	* lib/pytis/form/_grid.py: Don't duplicate things now implemented in
	PresentedRow.

	* lib/pytis/form/list.py: Updated for the changed cell editor and
	`EditedRow' interface.

	* lib/pytis/form/inputfield.py: Major cleanup, improvements and a few
	bugfixes.

	* lib/pytis/form/form.py: Fixed a problem with transactions and
	multiple uses of PopupEdit.  Updated for the changed interface of
	input fields.  Inserted row initialization fixed.

2007-05-16  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (Select.set_columns): Oprava odsazen.

2007-05-16  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (Select.set_columns): Oprava odsazen.

2007-05-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py: Updated (fixed) for the new dialog creation strategy.

	* lib/pytis/form/inputfield.py (ImageField._disable): Stupid bug fixed.

2007-05-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/output.py (PrintFormInternal.__init__): Take other key arguments.
	(PrintFormExternal.__init__): Take other key arguments.

2007-05-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (IncrementalSearch._on_key_down): Don't pass
	the transaction to `self._search()', it is neither defined nor necessary.

2007-05-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm._on_line_rollback): If there is no
	governing transaction, rollback the current transaction.

	* lib/pytis/form/form.py (PopupForm.run): If there is no result,
	rollback governing transaction.

2007-05-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands.make_lock_command):
	Correct forgotten `else'.
	
2007-05-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py: Dialog creation process modified to allow a
	resizable traceback in bug report dialog.

	* lib/pytis/form/form.py: Create the PresentedRow instance directly in
	the constructor.  Don't handle synchronization of input fields and
	the row.

	* lib/pytis/form/inputfield.py: Connect directly to the edited
	`PresentedRow' instance.

	* lib/pytis/form/list.py: Recreate cell editors before each cell
	editation.

	* lib/pytis/form/_grid.py: Use the new `InputField' interface.

	* lib/pytis/form/application.py: Treat `select_row' as other
	constructor arguments.

	* lib/pytis/presentation/spec.py: Respect the changed 'PresentedRow'
	interface.

	* lib/pytis/presentation/field.py: Allow per-field callback
	registration.

	* lib/pytis/presentation/_test.py: Test callbacks.

	* lib/pytis/form/screen.py: Minor changes.

	* lib/pytis/form/dualform.py: Minor change.

2007-05-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/data.py (DataFactory.create): Don't use data object
	cache, till we find out, what's wrong...

	* lib/pytis/form/configui.py (_ConfigData): All data methods take also
	the argument `transaction'.

	* lib/pytis/form/inputfield.py (CodebookField._on_codebook_insert):
	Use transaction for codebook form.

	* lib/pytis/form/form.py (PopupForm.run): Commit transaction only if
	the form was commited.
	(__init__): Initialization of transaction moved to `set_row'.
	(PopupEditForm.set_row): New method.
	(PopupEditForm._on_next_button): Reinitialize transaction if needed.

2007-05-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py (db_operation): Return values in proper
	order on failure.

2007-05-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py
	(DBDataPostgreSQL._pg_begin_transaction): If in select, close it first.
	
2007-05-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (top_level_exception): Print detailed
	traceback to log.

2007-05-03  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands.make_lock_command):
	Lock only the given row of the view.  If single row of a view
	can't be locked, don't lock at all.
	
	* lib/pytis/data/_test.py (DBDataNotification.test_side_notification):
	See above.

2007-04-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataNotification.test_side_notification):
	Don't require change counters to be initially 0.

	* lib/pytis/data/data.py (Data.cacheable, MemData.cacheable): New
	methods.
	(DataFactory.create): Get the data object from cache if possible.

2007-04-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/spec.py (CbComputer._compute): Added support
	for user transactions.

	* lib/pytis/presentation/field.py (PresentedRow.set_transaction): New
	method.  
	(PresentedRow.get_transaction): New method.

	* lib/pytis/form/list.py: 'Transactions' support reworked.

	* lib/pytis/form/inputfield.py: Save PresentedRow in the instance.
	Validate with given transaction.

	* lib/pytis/form/form.py: 'Transactions' support reworked.
	Save transaction into PresentedRow. Save PresentedRow
	into each InputField.

	* lib/pytis/form/application.py (new_record, _cmd_run_form):
	Take into account 'transaction' argument.

	* lib/pytis/form/_grid.py: Take into account 'transaction' argument.

	* lib/pytis/data/types_.py: Added support for transaction in
	validating with	DataEnumerator.

2007-04-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/data.py (Row.__init__): Typping error corrected.

2007-04-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.save, DualForm.restore): New
	methods.

2007-04-26  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/data.py: `transaction' argument added to many
	methods.

2007-04-26  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/form/list.py (ListForm.focus): Grid restoration removed.
	
2007-04-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL): Automatically
	restore previously closed select.

2007-04-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py: Release data only if not edited.

2007-04-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.close): Reset buffer.

2007-04-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Zohledni monost vskytu zpornch `id' objekt.

2007-04-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py: Allow passing enumerator directly
	through `DBColumnBinding'.

	* lib/pytis/presentation/spec.py: Allow passing enumerator directly
	through `FieldSpec'.

	* lib/pytis/web/form.py: Added support for hierarchy
	indication in `BrowseForm'.  Mark the 'THEAD' and `TBODY' sections
	in html.

2007-04-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.focus): Call _update_grid.

	* lib/pytis/form/form.py (Form.save): Call `sleep' on the form data object.

2007-04-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.select): Call `close'
	only if in select.
	(DBDataPostgreSQL.close): Call CLOSE query if select is active
	within user transaction.
	(DBDataPostgreSQL._pg_commit_transaction)
	(DBDataPostgreSQL._pg_rollback_transaction): Set _pg_is_in_select
	to False.

2007-04-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py: Allow binding by a sole
	condition (without binding columns).  Don't require explicit
	`title' in binding specification.

	* lib/pytis/form/dualform.py: See above.

	* lib/pytis/form/list.py (SideBrowseForm): The interface changed
	significantly to ignore the binding logic here.

	* lib/pytis/form/application.py: Apply a filter on a form found on the
	window stack.

	* lib/pytis/form/form.py: Make the `_filter()' method public.
	
2007-04-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py: Escape `%' in the initial filtering condition.

	* lib/pytis/presentation/spec.py (DataSpec): Marked as deprecated.
	Pass the initial filtering condition.

	* lib/pytis/data/data.py (MemData): Don't apply the initial filtering
	condition recursively.

2007-04-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py: Support for initial filtering condition in
	data objects.
	
	* lib/pytis/data/postgresql.py: See above.

2007-04-13  Tomas Cerha  <cerha@brailcom.org>
	
	* lib/pytis/presentation/spec.py: Remove the `condition' specification
	from `ViewSpec' but rather pass it to the data object from `Spec'.

	* lib/pytis/form/form.py: Reverted previous implementation of the
	static filter.

2007-04-13  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py: Oprava chyby pi formtovn podmnek
	pro spojovn relac.

2007-04-13  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py: Oprava chyby pi formtovn podmnek
	pro spojovn relac.

2007-04-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (bf, df): Pass all kwargs.

2007-05-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/extensions/dbconfig.py (DBConfig): Make the data
	access lock a class attribute instead of an instance attribute.

2007-05-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (cb2strvalue):
	Take into account tarnsactions.

2007-05-09  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/dbutils.py (dbupdate_many):
	Take into account transactions.

2007-04-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py: Take into account transactions.

	* lib/pytis/extensions/misc.py: Take into account transactions.

	* lib/pytis/extensions/dbconfig.py: Take into account transactions.

2007-04-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py: Make the `Suck' button active only if the
	active row exists.

	* lib/pytis/presentation/spec.py (ViewSpec): New argument `condition'
	for specification of a `hardcoded' data filter.

	* lib/pytis/form/form.py: Allow user filter initialization through a
	form constructor argument.  Use the underlying filtering condition
	defined in ViewSpec.

2007-04-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py: Make sure the operator is either `NE' or
	`EQ' for binary data.

	* lib/pytis/data/postgresql.py: Allow also `NE' operator for comparing
	binary data with a NULL value.

2007-04-06  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/spec.py (sf): New function.

2007-04-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/dbconfig.py (DBConfig): Perform selects
	with locking.

2007-04-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py (DBAccessRights): New class.
	(AccessRights.permitted_groups): Consider implicit rights.

2007-04-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (BrowseForm): New constructor argument
	`columns'.

2007-04-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (run_procedure_mitem.enabled):
	Fixed.

2007-04-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm): Announce the meaning of the
	asterisk sign.
	(BrowseForm._export_cell): Transformed into `_export_value'.  Use
	`display' for codebook fields.

2007-04-03  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

2007-04-03  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

2007-04-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added hack to support localization of
	validation message arguments.  Display the asterisk for not-null
	fields by the label, not by the field.

2007-03-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (run_procedure_mitem): New argument
	`groups'.

2007-03-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: Handle the argument `enabled' of `Link'
	specification.

	* lib/pytis/presentation/spec.py: New argument `enabled' for `Link'
	specification.

	* lib/pytis/form/application.py: New argument `enabled' for command
	`Application.COMMAND_NOTHING'.

2007-03-28  Tomas Cerha  <cerha@brailcom.org>

	* icons/link.png: Fixed background transparency.

2007-03-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_returns): Oprava
	zapomenutho returns.

2007-03-28  Tomas Cerha  <cerha@brailcom.org>

	* icons/link.png: Fixed background transparency.

2007-03-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_returns): Oprava
	zapomenutho returns.

2007-03-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (ArgumentType): Nov tda.
	(_GsqlFunction.__init__): Zmna argumentu `input_types'
	na `arguments'.
	(_GsqlFunction._split_arguments): Nov metoda.
	(_GsqlFunction._format_arguments): Nov metoda.
	(_GsqlFunction._format_returns): Nov metoda.
	(output): Zohledni pedchoz zmny.

2007-03-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (ArgumentType): Nov tda.
	(_GsqlFunction.__init__): Zmna argumentu `input_types'
	na `arguments'.
	(_GsqlFunction._split_arguments): Nov metoda.
	(_GsqlFunction._format_arguments): Nov metoda.
	(_GsqlFunction._format_returns): Nov metoda.
	(output): Zohledni pedchoz zmny.

2007-03-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py
	(SimpleEmail): Moved to 'email_.py'.

	* lib/pytis/extensions/email_.py: New file.

2007-03-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (RegexString): New class.
	(Identifier): Class removed.
	(Color): Derive from `RegexString'.

	* lib/pytis/web/form.py: Validation messages updated.  Added support
	for non-table layout, labeled fieldsets, showing not-null sign and
	showing field help.  Fixed table cell export.

2007-03-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: If none of the view subobjects can be
	used for locking, don't lock the view.

	* lib/pytis/data/_test.py (DBDataDefault.test_lock_view): See above.

2007-03-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py: 
	(RecordForm): Do not pass argument `transaction' to the methods of
	self._data, if `self._transaction' is None. Thus we can avoid
	passing this argument to the methods of classes other than
	DBDataPostgreSQL (e.g. RestrictedMemData).

2007-03-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added new validation messages.  Added support
	for password validation and hiding.

2007-03-15  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlType): Nov tda.
	(ReturnType): Nov tda.
	(_GsqlFunction._format_output_type): Nov metoda.
	(_GsqlFunction.output): Zohledni output type.
	(sqltype): Nov funkce.

2007-03-15  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlType): Nov tda.
	(ReturnType): Nov tda.
	(_GsqlFunction._format_output_type): Nov metoda.
	(_GsqlFunction.output): Zohledni output type.
	(sqltype): Nov funkce.

2007-03-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._unpack_condition): Make
	additional assertions to verify condition validity.

2007-03-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Be more cautious about views when
	retrieving INSERT results.

	* lib/pytis/data/dbdata.py (DBInsertException): See above.
	
	* lib/pytis/data/_test.py (DBDataDefault): See above.

2007-03-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Build SQL locking commands only on
	demand.

2007-03-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/evaction.py (_evparse): Don't handle all identifiers
	starting with `f' or `t' as booleans.

2007-03-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Use LCG's generator instead of the `_html'
	module.

	* lib/pytis/web/dialog.py: Use LCG's generator instead of the `_html'
	module.

2007-03-07  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (SimpleEmail): Nov tda.

	* lib/pytis/extensions/dbutils.py: Zohlednn
	argumentu transactions z novho datovho rozhran.
	
2007-03-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (PopupForm.run): Ignore errors on the commit
	call.

2007-03-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py Refuse stored conditions, which are
	not displayable in the search/filtering dialog.

2007-03-02  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Added the `cvs-install' option.

2007-03-02  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Added the `cvs-install' option.

2007-03-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._lock_record.dbop): Don't run
	locking quietly.

2007-03-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added support for displaying image thumbnails.

	* lib/pytis/presentation/_test.py New tests.

	* lib/pytis/presentation/field.py (PresentedRow.get): New method.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): New argument
	`thumbnail'.

	* lib/pytis/data/types_.py (Binary.Buffer.path): New method.

2007-03-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py (DBPostgreSQLFunction.call):
	Nov argument `transaction' a jeho zohlednn.

2007-02-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (PopupForm.run): New argument `transaction'.

2007-02-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py: Ensure user transaction is finished (if
	possible) before test_partial_transaction is exited.
	
2007-02-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added basic support for Binary data types.

	* lib/pytis/form/inputfield.py: Respect the change in `Binary.Buffer'
	constructor.

	* lib/pytis/data/types_.py: Added support for passing an open file to
	`Binary.Buffer' constructor, as well as passing the original file
	name and MIME type.

2007-02-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py: Updated for new locking mechanism.
	
	* lib/pytis/form/_grid.py: See above.
	
	* lib/pytis/form/list.py: See above.

2007-02-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Support for partial transaction
	rollbacks.
	
	* lib/pytis/data/_test.py: See above.

2007-02-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py: pytis.data.Data.*lock*_row removed.
	
	* lib/pytis/data/dbdata.py: See above.
	
	* lib/pytis/data/_test.py: See above.

2007-02-21  Pavel Hanak  <hanak@asellus.cz>

	* INSTALL (Requirements): Added `python-imaging' and `psycopg2'
	dependencies.

2007-02-21  Pavel Hanak  <hanak@asellus.cz>

	* INSTALL (Requirements): Added `python-imaging' and `psycopg2'
	dependencies.

2007-02-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Support for user transaction and
	PostgreSQL locking.
	
	* lib/pytis/data/dbdata.py: See above.

	* lib/pytis/data/dbapi.py: See above.  Don't close connections on
	exceptions.
	
	* lib/pytis/data/pgsql.py: See above.

	* lib/pytis/data/_test.py: Locking test enabled and updated.  User
	transaction tests added.

	* lib/pytis/data/access.py: **kwargs added to several methods.
	
2007-02-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py: Use `Shift' in shortcut key definitions
	even for letters.  Don't wait with keymap initialization until the
	commands are initialized.

	* lib/pytis/form/dualform.py: Fixed `DescriptiveDualForm' side
	selection to work also with side form fields not present in main
	form row (such as big binary fields).

	* lib/pytis/form/search.py: Improved button label.

2007-02-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: Fixed column selection popup menu outside
	the table.

	* lib/pytis/form/application.py: Set application window icons at startup.

	* lib/pytis/form/commands_.py: New icon assignments.

2007-02-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/access.py: Avoid the missleading usage of `accessible'
	in the context of permissions.

	* lib/pytis/form/list.py, pytis/form/form.py: Respect the above
	changes.

	* lib/pytis/util/configuration.py: Disabled background color default
	value made a little lighter.  The option
	`field_inaccessible_color' renamed to `field_denied_color'

	* lib/pytis/form/inputfield.py: Fixed nasty background setting which
	caused invisible selection in some GTK themes.  Avoid the
	missleading usage of `accessible' in the context of permissions.

	* lib/pytis/form/search.py: Wording unified.

	* lib/pytis/form/form.py: Save conditions in a custom format
	consisting just of basic python types.  

2007-02-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: PostgreSQL command template mechanism
	improved.  Support of multicolumn keys destroyed.

	* lib/pytis/data/_test.py: See above.

2007-02-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py: Deny filter menu in
	DescriptiveDualForm's sideform.

	* lib/pytis/form/application.py: Log errors while closing application.

	* lib/pytis/data/types_.py: Only import Pyro in remote mode.

	* lib/pytis/form/search.py: Minor fix.

	* lib/pytis/form/screen.py: Find out the command icom by command and
	arguments.

	* lib/pytis/form/command.py: Added support to find an icon according
	to a command and its arguments.

	* lib/pytis/form/commands_.py: Aded new command icons.  New shortcut
	for invoking last filter.

	* lib/pytis/form/form.py: Added support for finding out the list of
	filtered columns.  Show filter menu in the titlebar.

	* lib/pytis/form/list.py: Indicate filtered columns by a small funnel
	sign at column heading.

2007-02-16  Tomas Cerha  <cerha@brailcom.org>

	* icons/filter-form.png: New file.
	* icons/hide-column.png: New file. 
	* icons/search-backwards.png: New file. 
	* icons/search-forward.png: New file. 
	* icons/sort.png: New file. 
	* icons/unsort.png: New file. 

2007-02-16  Tomas Cerha  <cerha@brailcom.org>

	* icons/filter-form.png: New file.
	* icons/hide-column.png: New file. 
	* icons/search-backwards.png: New file. 
	* icons/search-forward.png: New file. 
	* icons/sort.png: New file. 
	* icons/unsort.png: New file. 

2007-02-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Only pickle saved/loaded params when
	needed.

	* lib/pytis/form/inputfield.py: Make the image button enabled even if
	the field is disabled.  Allow load a nd reset only for an enabled
	field.
	
	* lib/pytis/data/data.py: Fixed 'NW' operator creation.

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Added
	explicit support for 'NW' operator.

	* lib/pytis/presentation/spec.py: New class for specification of named
	conditions and a new option to pass them to ViewSpec.

	* lib/pytis/form/form.py: Added support for loading and saving user
	defined named conditions as well as named conditions defined in
	the specification.
	Added support for persistent state params, which don't get
	reloaded by RESET_FORM_STATE/RELOAD_FORM_STATE commands.  Saved
	conditions marked as persistent.

	* lib/pytis/form/search.py: Added support for manipulation of named
	conditions.  Added type compatibility check for column comparisons.

2007-02-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py: Fixed prefill bug.

	* lib/pytis/data/postgresql.py: Fixed "IS NOT NULL" operator conversion.

	* lib/pytis/form/list.py: Added support for SFS dialog default column
	selection.
	
	* lib/pytis/form/form.py: Added support for SFS dialog default column
	selection.  Transform sorting spec for passing it to and from the
	sorting dialog.

	* lib/pytis/form/search.py: Heavilly refactored.  Added default column
	selection.  Use data sorting constants instead of form sorting
	constants on input and output.  Focus the value entry field.
	Enlarge choice widgets.

2007-02-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/data.py (MemData._condition2pyfunc): Added support
	for `LT'.  Added support for `ignote_case'.  Added support for
	comparing two columns.  Use operator's translation if it is not
	supported directly.
	(NE, NW, LE, GT, GE): Always create the `Operator' instance.  Pass
	the transformation to primitive operators as `translation' to
	the operator constructor.
	(OR, AND): Cosmetic changes.

	* lib/pytis/data/_test.py (MemData.setUp, MemData._check_condition):
	New metohds.
	(MemData.test_conditions, MemData.test_fetch): New tests.
	(DBDataDefault.test_select_condition): Test also comparing column
	to column.

	* lib/pytis/form/search.py (SFSColumn.label): Neq argument `default'
	(SFDialog._NO_COLUMN): Label set to None.
	(SFDialog._create_content): Added support for selecting the type
	of the second operator -- value or column.
	(SFDialog._selected_condition, SFDialog._on_selection_change)
	(SFDialog._on_clear, SFDialog._on_suck): Expect the new control
	for second arg selection in `self._controls'.
	(SFDialog._selected_condition): Support second argument selection.
	(SFDialog._on_selection_change): Disable value controls when the
	second argument is a column.
	(SFDialog._RELATIONAL_OPERATORS_MAP)
	(SFDialog._LOGICAL_OPERATORS_MAP): New constants.
	(SFDialog._create_content.decompose_condition): Removed functions
	for operator analysis.  Rely on all operators to be expressed by
	their own `Operator' instance.  Use `self._RELATIONAL_OPERATORS_MAP'
	and `self._LOGICAL_OPERATORS_MAP' to recognize them.
	(SFDialog.__init__): New argument `col'.
	(SFDialog._create_content.create_controls): Consider also
	`WMValue' instances as the second operator.
	(SFDialog._create_content): Recover gracefuly if the condition can
	not be decomposed.

	* lib/pytis/data/dbdata.py (DBBinding.__init__)
	(DBColumnBinding.__init__): Assert against `str', not
	`types.StringType'.

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_btabcol): Don't consider
	multicolumn bindings and return always just a string, not a
	sequence.
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type):
	Cosmetical change.
	(PostgreSQLStandardBindingHandler._pdbb_sql_column_list)
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands)
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop)
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql): Expect
	just one columns from `self._pdbb_get_table_type()'
	(PostgreSQLStandardBindingHandler._pdbb_table_row_lists): Don't
	consider multicolumn bindings.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Allow the second operand to be another column identifier, not only
	a Value instance.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Removed
	the commented-out region dealing with
	`pytis.data.xtypes.Codebook'.
	(DBDataPostgreSQL._pg_value): Don't unpack sequences
	automatically, work just with atomic values.
	(DBDataPostgreSQL.row): Call `_pg_value()' on each item of `key'.
	(DBPostgreSQLFunction.call): Call `_pg_value()' on each item of
	`row'.
	(PostgreSQLStandardBindingHandler._pg_insert): Cosmetic change.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Added
	support for all known operators without translation to primitive
	operators.

2007-02-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/_test.py (PresentedRow_.setUp): Added new
	virtual column with default value.
	(PresentedRow_._check_values): New method.
	(PresentedRow_.test_init, PresentedRow_.test_prefill)
	(PresentedRow_.test_computer)
	(PresentedRow_.test_callback): Use it.
	(PresentedRow_.test_prefill_computer): New method.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Updated
	docstring.  Compute default values of all virtual columns.
	Normalize 'prefill' here.
	(PresentedRow._init_row): Don't normalize 'prefill' here.
	(PresentedRow._init_row.genval): Function removed.
	(PresentedRow._default): New method.
	(PresentedRow._init_row): Use it instead of 'genval()'.
	(PresentedRow.__getitem__): Expect `self._virtual' to contain all
	virtual columns.
	(PresentedRow.__init__): Init virtual columns before the row.
	(PresentedRow._init_row): Don't mark all computed fields dirty
	when the row is None.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Allow the
	'default' to be directly the internal value, not just a callable
	object.

2007-02-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py: Completely rewritten...

	* lib/pytis/form/list.py (ListForm.current_field): Method removed.
	(ListForm._filter): -> `_filter_refresh'.

	* lib/pytis/form/form.py (RecordForm.current_field): Method removed.
	(LookupForm._init_attributes): Load `self._lf_search_condition'
	and `self._lf_last_filter' from saved cofig.  Attributes
	`self._lf_search_dialog' and `self._lf_filter_dialog' removed.
	(LookupForm._cleanup): Method removed.
	(LookupForm._lf_sf_dialog): Method removed.
	(LookupForm._cmd_search): Use the new `SearchDialog' interface.
	(LookupForm._is_searching, LookupForm._can_search_next)
	(LookupForm._can_search_previous): Methods removed.
	(LookupForm._filter): New argument `condition'.  Just setup the
	attributes here and call `self._filter_refresh' to perform the
	filter.
	(LookupForm._filter_refresh): New method.
	(LookupForm._cmd_filter): Removed argument `show_dialog'.  New
	argument `condition'.  Use the new `FilterDialog' interface.
	(LookupForm._cmd_unfilter): Just call `self._filter(None)'.
	(LookupForm._cmd_filter_by_value): Don't operate on the dialog
	here, just update the current filter condition.
	(LookupForm._cmd_sort): Pass just the class and constructur
	argument to `run_dialog()'.
	(EditForm._validate_fields): Don't log the value.

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): Filtering remapped to
	`Ctrl-f' (`Ctrl-F4' kept for backwards compatibility).

	* lib/pytis/form/dialog.py (GenericDialog._finish_dialog): Method
	removed.
	(GenericDialog._end_modal): Don't call it.

	* lib/pytis/presentation/field.py (_display_func.getval): Compare the
	value to `None', not just its value in the boolean context.

	* lib/pytis/form/inputfield.py (FileField._enable,
	FileField._disable): Methods removed.
	(FileField.set_value): New method.
	

2007-02-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._displayed_columns_menu): Take
	`self._select_columns()' into account.
	(ListForm._lf_sfs_columns): Use `self._fields' instead of
	`self._view.fields()'.

	* lib/pytis/form/inputfield.py (InputField.set_value): Don't log.
	(InputField.reset): Don't log.

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Check `rel', not `relop' for binary operator restrictions.

	* lib/pytis/data/data.py (MemData._restrict_row_columns): New method.
	(MemData.row, MemData.select): New argument `columns'.

	* lib/pytis/form/configui.py (_ConfigData.select): New keyword
	argument `columns'

	* lib/pytis/data/types_.py (_Value.__setstate__): Don't call
	`self._init()' here.
	(Value.__setstate__): New method.  Call `self._init()' here.
	(Type.validate): Docstring rewritten.
	(Limited.VM_MAXLEN_EXCEEDED): -> `VM_MAXLEN'.
	(Limited._VM_MAXLEN_EXCEEDED_MSG): -> `_VM_MAXLEN_MSG'.
	(Limited._check_maxlen): `VM_MAXLEN_EXCEEDED' -> `VM_MAXLEN'.
	(String._VM_MAXLEN_EXCEEDED_MSG): -> `_VM_MAXLEN_MSG'.
	(Binary._VM_MAXLEN_EXCEEDED_MSG): -> `_VM_MAXLEN_MSG'.
	(Image): Docstring updated.
	(Image.VM_MAXSIZE, Image._VM_MAXSIZE_MSG, Image._VM_MINSIZE_MSG)
	(Image.VM_FORMAT, Image._VM_FORMAT_MSG, Image.VM_MINSIZE): New
	constants.
	(Buffer.FORMATS): Constant removed.
	(Image.Buffer._validate): Don't validate against `self.FORMATS'.
	(Image.__init__): New method.
	(Image.__cmp__, Image.formats, Image.minsize, Image.maxsize)
	(Image._check_constraints): New methods.

2007-02-08  Petr Malivanek  <malivanek@asellus.cz>

	* tools/gensql.py (_gsql_format_type.MAPPING): Nov typ -
	pytis.data.Image: 'bytea'.

2007-02-08  Petr Malivanek  <malivanek@asellus.cz>

	* tools/gensql.py (_gsql_format_type.MAPPING): Nov typ -
	pytis.data.Image: 'bytea'.

2007-02-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._search): Report the warning in
	the statusline instead of popping up a dialog.

	* lib/pytis/data/_test.py (DBDataDefault.test_binary): Fixed for the
	new Binary interface.

2007-02-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (PopupForm._on_frame_close): Syntax error fixed.

	* lib/pytis/util/util.py (format_byte_size): New function.
	
	* lib/pytis/data/types_.py (format_byte_size): Method removed.
	(Binary._format_maxlen): `Binary.format_byte_size()' ->
	`format_byte_size()'.

	* lib/pytis/form/inputfield.py (FileField._on_set_value):
	`Binary.format_byte_size()' -> `format_byte_size()'

2007-02-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (FileField._INVOKE_TITLE): Text fixed.
	(FileField.get_value): Convert the `Buffer' instance to its
	`buffer'.
	(FileField._set_value): Convert a `buffer' to a `Buffer' instance.
	(_formatted_size): Method removed.
	(_save_file): Method removed.
	(FileField._cmd_load): Use `Buffer' methods to load the file.  Let
	the validation to the `Buffer' class and just catch the exceptions
	here.
	(FileField._cmd_save): Use `Buffer.save()' instead of
	`self._save_file'.
	(ImageField._bitmap): Create the thumbnail here using the
	`PIL.Image' method instead of using `Image.thumbnail()'.
	(ImageField._cmd_view): Use `PIL.Image' methods instead of using
	`Image.format()'.
	(ImageField._cmd_view): Use `Buffer.save()' instead of
	`self._save_file'.  Don't invoke forgotten `ls -l' here.

	* lib/pytis/form/form.py (RecordForm._find_row_by_key): Don't expect
	`key' to be `None'.  Don't convert it to a tuple.
	(RecordForm.select_row): Convert the key to a tuple before calling
	`_find_row_by_key'.  Pass `columns' to `data.row()'.
	(PopupForm._on_frame_close): Test whether `self' is alive.

	* lib/pytis/data/types_.py (Binary): Docstring updated.
	(Binary.Buffer): New class.
	(Binary._validate): Wrap the `buffer' into a `Buffer' instance.
	(Binary._export): Turn a `Buffer' instance into a `buffer'.
	(Binary.format_byte_size): New method.
	(Binary._format_maxlen): Use it.
	(Image): Docstring updated.
	(Image._image, Image.thumbnail, Image.format): Methods removed.
	(Image._SUPPORTED_FORMATS): Costant removed.
	(Image.Buffer): New class.

2007-01-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (Limited._format_maxlen): New method.
	(Limited._check_maxlen): Use it.
	(Binary._format_maxlen): New method.
	(Binary._VM_MAXLEN_EXCEEDED_MSG): Don't presume units here.

2007-01-31  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._can_edit): Added forgotten `return'. 

2007-01-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (Limited): New class.
	(String): Derive from `Limited'.
	(String.VM_STRING_TOO_LONG, String._VM_STRING_TOO_LONG_MSG):
	Constants removed. 
	(String.__init__, String.__cmp__, String.maxlen)
	(String._check_constraints, String._check_maxlen): Methods removed.
	(String._VM_MAXLEN_EXCEEDED_MSG): New constant.
	(Binary): Derive from `Limited'.
	(Binary._VM_MAXLEN_EXCEEDED_MSG): New constant.
	(Image): Derive also from `Big'.

	* lib/pytis/form/form.py (RecordForm._find_row_by_values.find_row):
	Pass `columns' to `data.select()'.
	(LookupForm._select_columns): New method.
	(LookupForm._init_select): Pass `columns' to `data.select()'.

	* lib/pytis/form/list.py (ListForm._select_columns): New method.

	* lib/pytis/form/application.py (Application.OnInit): Use
	`has_access', not `self._can_run_form' to test spec validity.
	(Application._can_run_form): Don't care about dual forms here.
	Ignore resolver errors here.
	(Application._can_new_record): Ignore resolver errors here.
	(has_access): If the name is a dual spec name containing `::',
	split it and check the perms of both parts.  Don't ignore resover
	errors here.
	(has_access): Docstring updated.

	* lib/pytis/util/util.py (Pipe.read): Pass `size' to `lfunction' as a
	keyword argument.

2007-01-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Big, Large): New types.
	(_Value.__unicode__): Don't insert big values.

2007-01-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py: Added assert to require a fallback label
	for non-system icons.

	* lib/pytis/form/form.py (TitledForm._create_title_bar): Pass also
	label to "Show description" button.

2007-01-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFSDialog._create_button): Use
	`wx_button()'.
	(SFSDialog._FIELD_HEIGHT): Set to 26.

	* lib/pytis/form/inputfield.py (Invocable._create_button)
	(ImageField._create_ctrl): Use `wx_button()'.

	* lib/pytis/form/screen.py (get_icon): New arguments `type' and `size'.
	(wx_button): New method.

	* lib/pytis/util/resolver.py (Resolver._call_spec): Method removed.
	(Resolver._get_spec): Don't use `_call_spec'.
	
	* lib/pytis/form/list.py (BrowseForm._PrintResolver._Spec.__init__):
	New constructor.
	(BrowseForm._PrintResolver._Spec.body)
	(BrowseForm._PrintResolver._Spec.doc_header)
	(BrowseForm._PrintResolver._Spec.doc_footer)
	(BrowseForm._PrintResolver._Spec.coding): Make the `resolver'
	argument optional.
	(BrowseForm._PrintResolver._Spec.body): Use `self._resolver'
	instead the one given by the argument.
	(BrowseForm._PrintResolver._get_module): Pass `self' to
	`BrowseForm._PrintResolver._Spec' constructor.
	(BrowseForm._PrintResolver._get_instance): New method.
	(BrowseForm._cmd_print): Consider also None as valid `print_spec'
	value since this is returned by the new `Specification' class.

	* lib/pytis/form/form.py (EditForm._on_field_edit): Don't operate on
	`self._row' if it is None.
	(TitledForm._on_show_description): Add a heading to the
	description text.
	(TitledForm._create_title_bar): Use `wx_button()'.  Don't use the
	description as button tooltip string.  Always create the
	description button, but disable it when no description is
	available...

2007-01-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/defs.py (flatten_menus): Pesunuto do
	`get_menu_defs()'.
	(get_menu_defs): Zruen argument `without_duals' a oetovn
	dvojho typu dulnch specifikac.
	(menu_report, cmd_menu_report): Zrueno.
	(get_default_select.init_select): ->
	`_get_default_select.init_select'.
	(check_form): `get_default_select.init_select' ->
	`_get_default_select.init_select'.
	(check_defs): Sloueno do `check_menus_defs()'
	(check_menus_defs.check_spec): Opravena chyba v pidn chybov
	zprvy.
	(cache_spec.do): Vynechvej `data_spec'.

	* lib/pytis/extensions/help.py (ItemNode.__init__)
	(DescrNode.__init__): Store the identifier as `self._name' rather
	than passing it arround to `_create_content()' etc.
	(ItemNode._create_content, MenuNode._create_content)
	(DescrNode._info, DescrNode._create_content)
	(SingleDescrNode._create_content, DualDescrNode._info): Removed
	argument `id'.  Use `self._name' instead.
	(ItemNode._create_content, DualDescrNode._read_spec): Don't care
	about `DualSpec', always count with `BindingSpec'.
	(DescrNode._name, DualDescrNode._name): Method removed.
	(DescrNode._read_spec, DualDescrNode._read_spec): Argument `id'
	renamed to `name'
	(DescrIndex.__init__, MenuNode._create_content): `TableOfNodes' ->
	`NodeIndex'.
	(DescrIndex._create_children): DualForm recognition simplified.

	* lib/pytis/extensions/spec.py (run_any_form): Odstraen hack s
	podmnnou definic nkterch identifiktor.

	* lib/pytis/extensions/__init__.py: Pidn hack s nastavenm
	vchozho kdovn ped importem `pytis.form'.  Odstraen hack s
	podmnnm importem nkterch modul.

2007-01-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (_create_view_spec): Don't consider the
	`DualSpec' case.
	(DualForm.title): Return the `BindingSpec' title.
	(help_name): Method removed.
	(SideBrowseDualForm.title): Method removed.
	(SideBrowseDualForm._create_side_form): Don't pass `title' and
	`side_columns'.  Use `self._main_name' and `self._side_name'.
	(BrowseDualForm): Docstring updated.
	(BrowseDualForm._create_main_form): Use `self._main_name'.
	(BrowseDualForm._set_main_form_callbacks): Don't set
	`BrowseForm.CALL_NEW_RECORD'.
	(BrowseDualForm._new_record_hook): Method removed.
	(ShowDualForm._create_main_form)
	(BrowseShowDualForm._create_side_form): Use `self._main_name' and
	`self._side_name'.
	(DescriptiveDualForm.title): New method.

	* lib/pytis/form/application.py (Application._can_run_form): Don't
	consider the `DualSpec' case.

	* lib/pytis/form/form.py (Form._cmd_help): Don't use `help_name()'.
	(Form.help_name): Method removed.
	(RecordForm.CALL_NEW_RECORD): Constant removed.

	* lib/pytis/form/list.py (SideBrowseForm._init_attributes): Removed
	argument `title'.
	(title): Method removed.

	* lib/pytis/presentation/spec.py (BindingSpec.__init__): Docstring updated.
	(DualSpec): Class removed.

2007-01-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (Image): New class.

	* lib/pytis/form/commands_.py (Module): New command
	`ImageField.COMMAND_VIEW'.

	* lib/pytis/form/inputfield.py (InputField.create): Use `ImageField'
	for the `Image' type.
	(InputField._px_size): Argument `ctrl' removed.
	(TextField._create_ctrl): Pass size to the `wx.TextCtrl'
	constructor instead of calling `SetSize()' and `SetMinSize()'.
	(Invocable._create_widget): Don't pass height to
	`_create_button()'.
	(Invocable._button_size): New method.
	(Invocable._create_button, ColorSelectionField._create_button):
	Use it.
	(CodebookField._create_widget): Pass size to the `wx.TextCtrl'
	constructor instead of calling `SetSize()'.
	(CodebookField._create_widget): Don't pass `height' to
	`_create_button()'.
	(FileField._create_ctrl): Pass size to the `wx.TextCtrl'
	constructor instead of calling `SetSize()' and `SetMinSize()'.
	(FileField._button_size): New method.
	(FileField._set_value): Don't set the displayed text, jus call
	`_on_set_value()' here.
	(FileField._on_set_value): New method.
	(FileField._formatted_size): New method.
	(FileField._save_file): New method.
	(FileField._cmd_save): Use it.
	(ImageField): New class.
	(FileField._cmd_load): Validate the file immediately and ignore it
	if not valid.

	* lib/pytis/form/screen.py (get_icon): Use `wx.BitmapFromImage()'
	instead of `wx.Image.ConvertToBitmap()'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_image_viewer): New option.

2007-01-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Allow a sequence
	of functions as `check'.  Convert a single function to a one-item
	tuple.
	(ViewSpec.check): Docstring updated.

	* lib/pytis/form/form.py (RecordForm._check_record): Process `check'
	as a sequence of functions.

2007-01-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._can_edit): New method.

	* lib/pytis/data/access.py (RestrictedMemData): Added docstring.
	Inheritance order swapped.
	(RestrictedMemData.__init__): Use super.  Pass all arguments as
	keywords to parent constructor.

	* lib/pytis/form/inputfield.py (Invocable._create_button):
	Generalized.  New arguments `label', `icon', `width'.  Don't set
	the tooltip here.
	(Invocable._create_widget): Pass the new arguments to
	`_create_button'.
	(ColorSelectionField._create_button): Accept the new arguemnts.
	(CodebookField._create_widget): Use `_create_button' also for
	creating the codebook insert button.
	(FileField._last_save_dir, FileField._last_load_dir): New
	constants.
	(FileField._set_value): Improved file size formatting.
	(FileField._cmd_load, FileField._cmd_save): Set and save the
	default directory.

2007-01-19  Tomas Cerha  <cerha@brailcom.org>

	* Makefile (tags): New target.

2007-01-19  Tomas Cerha  <cerha@brailcom.org>

	* Makefile (tags): New target.

2007-01-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (MemData.__init__): Accept and propagate
	kwargs.

2007-01-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py
	(GenericCodebookField._run_codebook_form): Expect `False' as a
	possible `run_form()' return value.

	* lib/pytis/web/form.py (LayoutForm._export_field): Unset `name' for
	disabled fields.

	* lib/pytis/form/configui.py (_ConfigData.__init__): Use `super()' to
	call the parent constructor.

2007-01-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLConnector._pg_query):
	Logging locking simplified.

2007-01-17  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data: Use new locking functions.
	
	* lib/pytis/output/formatter.py (LoutFormatter._lout): Use new locking
	functions.

	* lib/pytis/util/util.py (with_lock, with_locks): New functions.

2007-01-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLConnector._pg_query): When
	calling the logging command, avoid duplicate locking resulting in
	deadlock.

2007-01-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._on_set_focus): Only
	validate the previous field if it is from the same form.
	(Invocable._INVOKE_TITLE, Invocable._INVOKE_HELP)
	(Invocable._INVOKE_ICON): New constants.
	(Invocable._INVOKE_SELECTION_MENU_HELP)
	(Invocable._INVOKE_SELECTION_MENU_TITLE): Constants removed.
	(_call_next_method): Method removed.
	(Invocable._create_widget): Use `super()' instead of
	`_call_next_method()'.
	(Invocable._create_widget): `_INVOKE_SELECTION_MENU_TITLE' ->
	`_INVOKE_TITLE'.
	(Invocable._create_button): Use `wx.BitmapButton' when
	`self._INVOKE_ICON' is defined.
	(Invocable._disable, Invocable._enable): Use `super()' instead of
	`_call_next_method()'.
	(Invocable._menu): `_INVOKE_SELECTION_MENU_TITLE' ->
	`_INVOKE_TITLE'.  Use `super()' to get the parent class menu, not
	hardcoded `TextField' as the parent.
	(DateField._INVOKE_SELECTION_MENU_TITLE): -> `_INVOKE_TITLE'
	(DateField._INVOKE_SELECTION_MENU_HELP): -> `_INVOKE_HELP'
	(CodebookField._on_codebook_insert): Don't return anything.
	(ColorSelectionField._INVOKE_SELECTION_MENU_TITLE): ->
	`_INVOKE_TITLE'
	(ColorSelectionField._INVOKE_SELECTION_MENU_HELP): ->
	`_INVOKE_HELP'
	(CodebookField._INVOKE_SELECTION_MENU_TITLE): -> `_INVOKE_TITLE'
	(CodebookField._INVOKE_SELECTION_MENU_HELP): -> `_INVOKE_HELP'
	(CodebookField._create_widget): Use `super()' to create the base
	widget.  Use a 'new-record' icon instead of the plus sign on the
	codebook insertion button.
	(CodebookField._menu): Use `super()' to get the base menu.
	(FileField): Derive also from `Invocable'.
	(FileField._INVOKE_TITLE, FileField._INVOKE_HELP) 
	(FileField._INVOKE_ICON): New constants.
	(FileField._on_invoke_selection): New method.
	(FileField._menu): Use `Invocable's super class menu as base menu.

	* lib/pytis/form/screen.py
	(get_icon): New function.
	(MItem.create): Use it.
	(MItem.__init__): Docstring updated.

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): Added keys for
	`FileField.COMMAND_CLEAR'.

	* lib/pytis/web/__init__.py: Import `dialog'.

	* lib/pytis/web/form.py (Form._valid_prefill): Don't omit key columns.
	(EditForm.export): Just print the identifier if the corresponding
	field does not exist.

	* lib/pytis/web/dialog.py: New module.

	* lib/pytis/data/types_.py (DateTime._check_format): Added regexps for
	`%p' format.

2007-01-16  Tomas Cerha  <cerha@brailcom.org>

	* icons/invoke-selection.png: New file

2007-01-16  Tomas Cerha  <cerha@brailcom.org>

	* icons/invoke-selection.png: New file

2007-01-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data: New database API merged in.

2007-01-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBConnectionPool.put_back): Use the right
	exception name when accessing the pool.

2007-01-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (has_access): Use
	default_access_groups instead of class_access_groups.

2007-01-15  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/util/caching.py (LimitedCache.__setitem__): Don't cache
	data in LimitedCache if the limit is 0.

2007-01-12  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (end_date_value): Pejmenovn
	specifikace NastaveniUser na Nastaveni.BvUsersCfg. 

2007-01-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Action.__init__): Docstring typo fix.

	* lib/pytis/presentation/field.py (PresentedRow._init_row): Fixed bug
	in prefill initialization.

2007-01-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.select_row): Pass the return
	value of the main form's method.

	* lib/pytis/form/list.py (ListForm._select_row): Return `True' on
	success, `False' otherwise.
	(ListForm.select_row): Pass the return value of the
	parent class's method. 

	* lib/pytis/form/form.py (RecordForm._on_new_record): Don't run
	callback `CALL_NEW_RECORD'.
	(RecordForm.select_row): Return `True' on success, `False' otherwise.
	(EditForm._select_row): Return `True'.
	(BrowsableShowForm._select_row): Pass the return value of the
	parent class's method.

2007-01-09  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/dbconfig.py (cfg_param): Defaultn cfgspec
	byla zmnna z Nastaveni na Nastaveni.BvCfg.

2007-01-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._init_attributes): Docstring
	updated.

	* lib/pytis/presentation/field.py (PresentedRow._init_row): Create a
	copy of the `prefill' dict with all values as new
	`pytis.data.Value' instances.  Use the same values regardless if
	`row' was None or not.
	(PresentedRow.__init__): Docstring updated.

2007-01-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.display): Try to use
	columns own display prior to using CbComputer's display.

	* lib/pytis/form/inputfield.py (InputField._on_set_focus): Validate
	last focused field only if it has the same parent -- is from the
	same form.
	(CodebookField._on_codebook_insert): Use `new_record' instead of
	`run_form'.

2007-01-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._cmd_run_form): Removed
	hack for backwards compatibility of arguments.

2007-01-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): New argument
	`nocopy'.
	(FieldSpec.nocopy): New method.

	* lib/pytis/form/form.py (RecordForm._row_copy_prefill): Also exclude
	computed fields which depend on key columns and fields with the
	`nocopy' flag.

2006-12-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._init_attributes): Removed
	argument `indicate_filter'.  Don't initialize
	`_lf_initial_condition'.
	(LookupForm._current_condition): New method.
	(LookupForm._init_select): Use it.
	(LookupForm._filter): Argument `condition' removed.
	(LookupForm._cmd_filter): Use `_lf_condition' instead of
	`_lf_initial_condition'.  Don't pass any arguments to `_filter'.
	(LookupForm._cmd_unfilter): Don't pass any arguments to `_filter'.
	(LookupForm.condition): Use `_current_condition' instead of
	`_lf_condition'.

	* lib/pytis/form/list.py (CodebookForm._init_attributes): Don't
	process the `condition' argument here, leave it for parent class.
	(ListForm._update_label_colors): Don't use the `_indicate_filter'
	flag.  Indicate filter when `_lf_filter' is not None.
	(ListForm._filter): Removed
	(ListForm._find_row_by_values): Use `_current_condition' instead
	of `_lf_condition'.
	(ListForm._refresh): Recognize key `filter' for the `reset'
	argument.  Don't recognize `condition' and `filter_flag'.  Modify
	`_lf_filter', not `_lf_condition'.
	(ListForm._cmd_sort): Don't reset `condition'.
	(ListForm._cmd_autofilter): Use `_current_condition' instead of
	`_lf_condition'.
	(BrowseForm._formatter_parameters): Use `_current_condition'
	instead of `_lf_condition'.
	(FilteredBrowseForm.filter): Reset `filter', not `condition'.
	Reinitialize `_lf_condition', not `_lf_initial_condition'.

2006-12-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Specification._create_data_spec):
	Added assertion to disable setting `access_rights' for a `MemData'
	data object.

	* ChangeLog.3: New file.

	* ChangeLog: Records prior to 2006-12-13 saved to `ChangeLog.3'.

	* lib/pytis/form/dualform.py (DualForm.help_name): Condition for
	adding the `-dual' suffix fixed.

	* lib/pytis/form/inputfield.py (EnumerationField._choices): Set only
	the relevant `FieldSpec' attributes for the fake `PresentedRow'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_auto_reload_defs.default): Option removed.

	* lib/pytis/util/resolver.py (Resolver.__init__): Ignore configuration
	option `auto_reload_defs'.  Always cache modules.
	(Resolver): Docstring updated.

2006-12-28  Tomas Cerha  <cerha@brailcom.org>

	* doc/standards/formatting: Updated docstring formatting rules.

	* config/config.py: Regenerated.

2006-12-28  Tomas Cerha  <cerha@brailcom.org>

	* doc/standards/formatting: Updated docstring formatting rules.

	* config/config.py: Regenerated.

2006-12-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (IncrementalSearch._exit): Call
	`self._set_row' when `self._listform' is alive.

2006-12-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (String._export, Value._init): Make unicode
	conversion only when the object is not a unicode object yet.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Docstring updated.

	* lib/pytis/web/form.py (BrowseForm._export_field):
	`lcg.TranslatableText' -> `lcg.Localizable'.

2006-12-23  Tomas Cerha  <cerha@brailcom.org>

	* Makefile (install): Don't depend on translations.

2006-12-23  Tomas Cerha  <cerha@brailcom.org>

	* Makefile (install): Don't depend on translations.

2006-12-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (run_procedure_mitem): Pass
	**kwargs to the command.

2006-12-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._cmd_run_procedure): New argument `enabled'.
	(Application._can_run_procedure): New method.
2006-12-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._on_idle): Aktualizace komente.
	(InputField.init): Nenastavuj `self._is_changed'.

	* lib/pytis/form/form.py (RecordForm._on_edit_record): Vyber dek
	pes kl, ne pes celou instanci `Row'.
	(EditForm.set_row): Po initializaci polka tak nastav display.

2006-12-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.create): Upraven algoritmus
	uren typu polka.

	* lib/pytis/form/form.py (RecordForm._redirected_name): Metoda
	zruena.
	(RecordForm._run_form): Metoda zruena.
	(RecordForm._on_edit_record): Nepouvej `self._run_form()', ale
	pmo `run_form'.  Provdj redirect pouze zde.

	* lib/pytis/form/list.py (ListForm._on_activation): Nepouvej
	`self._run_form()', ale pmo `run_form'.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Vylepena
	assertov hlka.
	(ViewSpec.__init__): Aktualizovna dokumentace `redirect'.

2006-12-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Specification.__init__): Povol
	pouit metody tak pro `bindings', `cb' a `access_rights'.
	(ViewSpec.__init__): Pidna pvtivj hlka assertu.
	(ViewSpec.recourse_group): Upraveny assertov hlky.

2006-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._displayed_columns_menu): Zahr
	pouze sloupce, kter nemaj nastaveno `disable_column'.

	* lib/pytis/presentation/spec.py (Specification.__init__): Povol
	pouit metody tak pro `columns'.
	(ViewSpec.__init__): Aktualizace docstringu.  Ujisti se, e
	sloupec v `columns' nem nastaveno `disable_column'.
	(FieldSpec.__init__): Nov argument `disable_column'.  Nastavuj
	vchoz `column_width' podle `width' jen pokud je nenulov.
	(FieldSpec.disable_column): Nov metoda.

	* lib/pytis/util/configuration.py (Configuration): Derive from
	`object'.
	(Configuration._HiddenOption): Derive from `Option'.
	(Configuration._Option_custom_debug)
	(Configuration._Option_dbconnection)
	(Configuration._Option_form_state)
	(Configuration._Option_application_state): Derive just from
	`_HiddenOption.
	(Configuration.dump_config_template): Wrap the description texts.

	* lib/pytis/__init__.py (__version__): Changed to `0.1.0'.

2006-12-05  Tomas Cerha  <cerha@brailcom.org>

	* config/config.py: File regenerated.

	* Makefile: New file.

2006-12-05  Tomas Cerha  <cerha@brailcom.org>

	* config/config.py: File regenerated.

	* Makefile: New file.

2006-12-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Pidn hack umoujc peklad chybovch
	hlek datovch typ.
	(LayoutForm._export_field): Respektuj maximln dlku etzce.

	* lib/pytis/data/types_.py (Type._VALIDATION_MESSAGES)
	(Integer._VALIDATION_MESSAGES, Float._VALIDATION_MESSAGES)
	(String._VALIDATION_MESSAGES, Color._VALIDATION_MESSAGES)
	(Inet._VALIDATION_MESSAGES, Macaddr._VALIDATION_MESSAGES)
	(DateTime._VALIDATION_MESSAGES): Konstanty zrueny.
	(Type.__init__): Aktualizovn docstring.  Sestavuj
	`self._validation_messages' automaticky na zklad atribut
	`_VM_*_MSG'.
	(Type._VM_NULL_VALUE_MSG, Type._VM_INVALID_VALUE_MSG)
	(Integer._VM_NONINTEGER_MSG, Float._VM_INVALID_NUMBER_MSG)
	(String._VM_STRING_TOO_LONG_MSG)
	(_RegexValidatedString._VM_FORMAT_MSG, Color._VALIDATION_REGEX)
	(Inet._VM_INET_FORMAT_MSG, Inet._VM_INET_MASK_MSG)
	(Inet._VM_INET_ADDR_MSG, Macaddr._VM_MACADDR_FORMAT_MSG)
	(DateTime._VM_DT_FORMAT_MSG, DateTime._VM_DT_VALUE_MSG)
	(DateTime._VM_DT_AGE_MSG): Nov konstanty.
	(Color._VM_FORMAT_MSG): Drobn oprava hlky.
	(Type._validation_error): Namsto pozinch argument oekvej
	klov.  Interpoluj etzec pouze pokud byly pedny klov
	argumenty.
	(String._VM_STRING_TOO_LONG_MSG, Inet._VM_INET_MASK_MSG)
	(Inet._VM_INET_ADDR_MSG): Interpoluj promnn podle nzvu.
	(String._check_maxlen, Inet._validate): Pedvej
	`self._validation_error()' namsto pozinch argument klov.

006-12-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: Nov pkazy
	`LookupForm.COMMAND_FIRST_RECORD' a
	`LookupForm.COMMAND_LAST_RECORD'.
	(DEFAULT_KEYMAP): Pidno mapovn `Ctrl-Home', `Ctrl-Prior' a
	`Ctrl-End', `Ctrl-Next' na `LookupForm.COMMAND_FIRST_RECORD' a
	`LookupForm.COMMAND_LAST_RECORD'.

	* lib/pytis/form/form.py (LookupForm._cmd_first_record) 
	(LookupForm._cmd_first_record): Nov metody.
	(BrowsableShowForm._cmd_last_record): Metoda zruena.

2006-11-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.test_insert): Pidno
	uznn sprvnho vsledku, je-li prvn vrcenou hodnotou etzec.
	(DBDataDefaultClass.test_update): Npodobn.

2006-11-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Vlo
	do UPDATE st FROM, je-li to nutn.

2006-11-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nov
	argument `resolver'.
	(PresentedRow._display_func): Pokud byl konstruktoru pedn
	resolver, pouij jej pednosrn ped globlnm resolverem.

	* lib/pytis/web/form.py (Form.__init__, EditForm.__init__) 
	(BrowseForm.__init__): Nov argument `resolver'.

	* lib/pytis/presentation/spec.py (Specification): Aktualizovn docstring.
	(Specification.__init__): Pouij dokumentan etzec tdy jako
	vchoz hodnotu pro `description'.

2006-11-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._displayed_columns_menu): Nevacej
	kompletn Menu, ale jen seznam poloek.
	(ListForm._column_context_menu): Namsto podmenu autofilteru zde
	pouij pouze poloku vyvolvajc pikaz
	`ListForm.COMMAND_AUTOFILTER'.  Nevacej kompletn Menu, ale jen
	seznam poloek.
	(ListForm._popup_menu): Nov metoda.
	(ListForm._cmd_context_menu, ListForm._on_label_right_down):
	Vyuvej ji.
	(ListForm._cmd_autofilter): Nov metoda.

	* lib/pytis/form/commands_.py: Nov pkaz `ListForm.COMMAND_AUTOFILTER'.
	(WX_COMMAND_ICONS): Piazena icona autofilteru.

2006-11-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm._on_sash_changed): Odstrann
	zapomenut print.

	* lib/pytis/form/inputfield.py (Invocable._on_invoke_selection)
	(DateField._on_invoke_selection)
	(ColorSelectionField._on_invoke_selection): Definuj klov
	argument `alternate'
	(InputField.create): Nezohleduj CbComputer pi urovn, zda je
	polko selnkovho typu.
	(CodebookField._on_invoke_selection): Nastartuj inkrementln
	vyhledvn nevalidn hodnoty jen pokud byla hodnota polka
	zmnna.

	* lib/pytis/data/types_.py (Type.__cmp__): Pokud nen splnna dn z
	podmnek ekvivalentn, vracej rovnou -1, ne vsledek
	`compare_objects'.

	* lib/pytis/data/_test.py (Type.test_noncmp): Nov testy.

	* lib/pytis/presentation/spec.py (Specification.oid): Vchoz hodnota
	nech rovnou obsahuje sloupec `oid'.  Aktualizace docstringu.
	(Specification.__init__): Provdj zde assert na `oid'.
	(Specification._create_data_spec): Asserty na `oid' pesunuty do
	konstruktoru.
	(FieldSpec.codebook): `DataSpec' -> `_DataFactoryWithOrigin'.
	(_DataFactoryWithOrigin): Nov tda.
	(DataSpec): Nech je odvozena z `_DataFactoryWithOrigin'.
	(DataSpec.set_origin, DataSpec.origin): Metody zrueny.
	(Specification._create_data_spec): `pytis.data.DataFactory' ->
	`_DataFactoryWithOrigin'.

2006-11-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/spec.py (Specification.oid): Nov atribut.
	(Specification._create_data_spec): Zohledni ho.

2006-11-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._cmd_incremental_search): Nov
	argument prefill.
	(CodebookForm._on_idle): Oeti tak pedn `begin_search' jako
	tuple, s pedvyplnnou vyhledvanou hodnotou.

	* lib/pytis/form/inputfield.py (CodebookField._on_invoke_selection):
	Pokud je pedvyplnna st hodnoty, kter nen validn, nastartuj
	selnk s inkrementlnm vyhledvnm tto hodnoty.

	* lib/pytis/form/_grid.py (IncrementalSearch.run): Nov nepovinn
	argument prefill.

	* lib/pytis/form/dualform.py (DualForm._initial_sash_position.dim):
	Nov funkce.
	(DualForm._initial_sash_position): Natej poten polohu z
	uloen stavov informace `sash_position'.
	(DualForm._on_sash_changed): Ukldej aktuln pozici do stavov
	informace `sash_position'.

	* lib/pytis/form/form.py (Form._create_data_object): Pokud nen datov
	tda potomkem DBData, nepedvej `dbconnection_spec'.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Doplnn docstring.
	`self._dbcolumn_kwarg' -> `self._type_kwargs'
	(FieldSpec.dbcolumn_kwargs): -> `type_kwargs'
	(Specification._create_data_spec): Pidna podpora pro vytvoen
	nedatabzovho datovho objektu (nap. MemData).
	(Specification._create_data_spec): Pidn assert.

	* lib/pytis/data/access.py (RestrictedMemData): Nov tda.

	* lib/pytis/data/data.py (MemData.select): Nov argument `sort'.
	(DataFactory.class_): Nov metoda.

	* lib/pytis/util/resolver.py (Resolver._get_spec): Vlastn voln
	metody provdj mimo `try' blok.

2006-11-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/util.py (_CAMEL_CASE_WORD): Zohledni i jednopsmenn sti.

	* lib/pytis/form/application.py (Application._cmd_nothing): Nov metoda.

	* lib/pytis/form/list.py (ListForm._column_context_menu): Pidno menu
	autofiltru.
	(ListForm._cmd_filter_by_cell): K vlastnmu proveden filtrace
	vyuvaj pkaz `LookupForm.COMMAND_FILTER_BY_VALUE'.
	(ListForm._column_context_menu): Pokud nelze sestavit menu
	autofiltru, zobraz alespo poloku s udnm dvodu.

	* lib/pytis/form/form.py (LookupForm._cmd_filter_by_value): Nov metoda.

	* lib/pytis/form/commands_.py: Nov pkaz
	`LookupForm.COMMAND_FILTER_BY_VALUE'.  Nov pkaz
	`Application.COMMAND_NOTHING'.
	(WX_COMMAND_ICONS): Nastav ikonu pro COMMAND_FILTER_BY_VALUE.
	

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_distinct): Potej s tm, e
	`sort' je vdy ureno.  Vracej instance Value, nikoliv vnitn
	hodnoty.
	(DBDataPostgreSQL.distinct): Nech je vchoz hodnotou argumentu
	`sort' `ASCENDENT'.

2006-11-23  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Kosmetick prava.

2006-11-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (ef): Pedvej kwargs.

2006-11-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Nastavuj focus
	jen pokud nebyly bhem voln specifikan funkce init oteveny
	njak formule.

	* lib/pytis/form/inputfield.py (InputField.__init__): Zapamatuj si
	detov objekt.
	(EnumerationField._choices): Nov metoda.
	(EnumerationField._values): Metoda zruena.
	(ChoiceField._create_ctrl, RadioBoxField._create_ctrl)
	(ListBoxField._create_ctrl): `self._values()' ->
	`self._choices()'.
	(EnumerationField.get_value): Zskvej hodnotu podle jejho
	indexu, ne podle etzce.
	(EnumerationField._set_value): Nastavuj hodnotu podle jejho
	indexu, ne podle etzce.  Nepouvej `self._set_selection()'.
	(EnumerationField._set_selection, ChoiceField._set_selection):
	Metody zrueny.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Umoni
	specifikovat `layout' tak jen jako sekvenci identifiktor polek.
	(FieldSpec.type): U vybranch atribut pevdj hodnotu na
	vsledek voln funkce, pokud je hodnotou funkce.
	(FieldSpec.__init__): Aktualizovn seznam podporovanch argument
	datovch typ.

	* lib/pytis/presentation/field.py (PresentedRow.enumerate): Oprava docstringu.

	* lib/pytis/form/_grid.py (ListTable.update): Kosmetick prava.

2006-11-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver._get_spec): Raise
	`ResolverSpecError' when given method does not exist for the spec
	class.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Nov argument
	'singular'.  Nov monosti uren 'layout'.  Aktualizace docstringu.
	(ViewSpec.singular): Nov metoda.
	(CbComputer._compute): Oprava assertov hlky.
	(FieldSpec.__init__): Nov argumenty `virtual', `dbcolumn' a
	`type'.  pravu assert.  Tak ostatn klov argumenty zapamatuj
	jako argumenty datovho sloupce.
	(FieldSpec.dbcolumn): Nov metoda.
	(FieldSpec.virtual): Nov metoda.
	(FieldSpec.dbcolumn_kwargs): Nov metoda.
	(DataSpec): Aktualizace docstringu.
	(Specification): Nov tda.

	* lib/pytis/util/util.py (split_camel_case, camel_case_to_lower): Nov
	funkce.

	* lib/pytis/web/form.py (Module): 

2006-11-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.__init__): Vytvej cache instanc.
	(Resolver._get_instance): Nov metoda.
	(Resolver.get_instance): Vyzvedvej instanci z cache.
	(Resolver._get_spec): Pedvej konstruktoru specifikan tdy
	sebe sama jako argument.
	(Resolver.get): Aktualizace docstringu.

2006-11-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver._get_spec): Pokud je nzev
	pouv tekovou notaci, zskej z modulu instanci a zavolej jej
	metodu.
	(Resolver.get): Aktualizace docstringu.

	* lib/pytis/presentation/spec.py (CodebookSpec.__init__): Aktualizovn
	docstring.  Povoleny tak rozen monosti specifikace `display'.
	(FieldSpec.__init__): 

	* lib/pytis/presentation/_test.py (PresentedRow_.test_display): Nov test.

	* lib/pytis/form/list.py (ListForm._post_selection_hook): Namsto
	vlastnho vpotu hodnoty displeje vyuvej novou metodu
	PresentedRow.display().
	(_codebook_info): Metoda zruena.
	(BrowseForm._init_attributes): Nepouvej ji.

	* lib/pytis/form/form.py (EditForm._create_form_controls) 
	(EditForm._on_field_edit): Oekvej instanci polka jako
	argument.  Novou hodnotu nejprve validuj a pouze validn hodnoty
	pedvej do PresentedRow.

	* lib/pytis/form/inputfield.py (InputField.CALL_FIELD_CHANGE):
	Aktualizace docstringu.
	(InputField.create): Nevytvej display pro polka typu CbComputer.
	(InputField._on_idle): Volej callback vdy - i pokud hodnota nen
	validn.
	(InputField._on_change): Aktualizace docstringu.
	(InputField._on_change): Nevolej `self._on_change_hook()'.
	(InputField._on_change_hook): Metoda zruena.
	(InputField.init): Nevolej `self._on_change_hook()', ale nastav
	pznak zmny.
	(Invocable._create_widget, CodebookField._create_widget): Szej
	prvky vedle sebe bez mezery.
	(CodebookField._on_change_hook): Metoda zruena.
	(CodebookField.set_display): Nov metoda.

	* lib/pytis/web/form.py:
	(Form._codebook_user_value_func): Metoda zruena
	(LayoutForm._export_field): Pouvej `PresentedRow.enumerate'.
	(ShowForm._export_field): Pouvej `PresentedRow.display'.

	* lib/pytis/presentation/field.py (PresentedRow._display_func) 
	(PresentedRow.display, PresentedRow.enumerate): Nov metody.
	(PresentedRow._Column.__init__): Zapamatuj si tak specifikan
	hodnoty `diaplay' a `codebook'.

2006-11-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (Boolean._SPECIAL_VALUES): Pidno mapovn
	pro `None'.	

	* lib/pytis/form/screen.py (wx_text_view): Aktualizovno pro nov API
	LCG.

2006-11-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (_RegexValidatedString): Nov tda.
	(Color): Bu jejm potomkem.
	(Identifier): Nov tda.

2006-11-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (Module): Ve pepsno s ohledem na
	nov API LCG.  Pidno generovn seznamu polek do informac o
	nhledu.
	(_refered_names): Nov funkce.
	(ItemNode._create_content): Do `_used_names' pidvej tak nzvy
	defs souvisejcch pes selnky a odkazy.
	(SingleDescrNode._create_content): Vypi tak seznam vech
	souvisejcch nhled - selnk a odkaz.

2006-11-02  Tomas Cerha  <cerha@brailcom.org>

	* doc/Pytis.wiki (Module): Soubor smazn.

2006-11-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.__init__): Volby
	`config_file' a `user_config_file' inicializuj jen pokud 
	(Configuration._read_configuration_file): Set the name of the
	module to `_config', not `config'.
	(Configuration.__getattr__): Check `self._user_config_mtime' only
	if `self._user_config_file' was defined.

	* lib/pytis/form/form.py (LookupForm._init_sorting): Kontroluj
	platnost specifikace tdn i pokud bylo pedno jako argument
	konstruktoru.

	* lib/pytis/presentation/_test.py (PresentedRow_.setUp.sum): Zohledni
	None hodnotu argument.
	(PresentedRow_.setUp.gt5): Vypotvej editovatelnost podle
	hodnoty `sum'.
	(PresentedRow_.setUp): Zvislost dopotvn editovatelnosti
	nech je tranzitivn.
	(PresentedRow_.test_has_key): Inicializuj dek jako nov.
	(PresentedRow_.test_editable): Inicializuj dek jako nov.
	Upraveny hodnoty.
	(PresentedRow_.test_editability_callbacks): Aktualizovno.

	* lib/pytis/presentation/field.py (PresentedRow._Column.__init__):
	Pebrej pouze argumenty fieldspec a data a ve si z nich vykousej
	a zde.
	(PresentedRow.__init__): Sestavuj `self._columns' zde a potom
	volej `self._init_dependencies()'.
	(PresentedRow._all_deps): Nov metoda.
	(PresentedRow._process_fieldspec): Metoda zruena.
	(PresentedRow._init_dependencies): Nov metoda.
	(PresentedRow._resolve_dependencies): Kosmetick prava.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Pedvej validan
	chybu jako argument assertu.

2006-10-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Umon tak
	pedat dvojici (funkce, sloupec).

	* lib/pytis/form/dialog.py (db_operation): Pjmi i None jako
	nvratovou hodnotu pihlaovacho dialogu.

2006-10-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (Form._codebook_user_value_func): Podporuj
	tak dvojici (funkce, sloupec) jako hodnotu display.

2006-10-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/data.py (ColumnSpec.__cmp__): Pi porovnn sloupc
	srovnej nejprve 'id' a a potom typ.

2006-10-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/_test.py (DataEnumerator.test_validate): Pidny nov
	testy.
	(_DBTest.setUp, TutorialTest.setUp, DBDataFetchBuffer.setUp):
	Vytvej tabulky s OID.

	* lib/pytis/data/types_.py (DataEnumerator.__init__): New argument
	`validity_condition'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pass `validity_condition' to the enumerator constructor.

2006-10-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (ItemNode._create_content)
	(DualDescrNode._name, DualDescrNode._read_spec)
	(DualDescrNode._info, DualDescrNode._default_description_text)
	(DescrIndex._create_children): Zohlednna tak nov notace
	dulnch formul.

	* lib/pytis/extensions/defs.py (get_menu_defs): Pepsno s ohledem
	na nov zpsob odkazovn na duln formule s `BindingSpec'.
	(cache_spec.do): Pokouej se nast tak `binding_spec'.

2006-10-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/types_.py (Inet._validate): Doplnno TODO.
	(Macaddr._MACADDR_FORMAT): Oprava validanho regex.

2006-10-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Umoni jako
	`link' uvst tak sekvenci odkaz.
	(FieldSpec.link): Metoda zruena.
	(FieldSpec.links): Nov metoda.

	* lib/pytis/form/list.py (BrowseForm._init_attributes): Nastavuj
	explicitn ikonu.
	(BrowseForm._link_mitems): Nastavuj explicitn ikony.
	(BrowseForm._init_attributes): Pouvej `Link.links()' namsto
	`Link.link()'.

	* lib/pytis/form/configui.py (config_menu_items): Nastav explicitn ikonu.

	* lib/pytis/form/screen.py (MItem.create): Pokud je specifikace ikony
	etzec, hledej PNG soubor stejnho jmna v `config.icon_dir'.
	(MItem.__init__): Nov argument `icon'.
	(MItem.create): Pokud byla v konstruktoru definovna explicitn
	ikona, pouij ji.

	* lib/pytis/form/commands_.py (WX_COMMAND_ICONS): Doplnny nov ikony.

2006-10-11  Tomas Cerha  <cerha@brailcom.org>

	* icons/config-export.png: New file.
	* icons/config-ui.png: New file.
	* icons/link-new-record.png: New file.
	* icons/link.png: New file.
	* icons/close.png: New file.
	* close.png: New file.
	* delete-record.png: New file.
	* edit-cell.png: New file.
	* edit-record.png: New file.
	* export.png: New file.
	* filter-by-cell.png: New file.
	* filter.png: New file.
	* help-book.png: New file.
	* insert-line.png: New file.
	* jump.png: New file.
	* new-record.png: New file.
	* next-form.png: New file.
	* prev-form.png: New file.
	* recent-form.png: New file.
	* reload-form-state.png: New file.
	* reset-form-state.png: New file.
	* search-incremental.png: New file.
	* search.png: New file.
	* sort-asc.png: New file.
	* sort-desc.png: New file.
	* unfilter.png: New file.

2006-10-11  Tomas Cerha  <cerha@brailcom.org>

	* icons/config-export.png: New file.
	* icons/config-ui.png: New file.
	* icons/link-new-record.png: New file.
	* icons/link.png: New file.
	* icons/close.png: New file.
	* close.png: New file.
	* delete-record.png: New file.
	* edit-cell.png: New file.
	* edit-record.png: New file.
	* export.png: New file.
	* filter-by-cell.png: New file.
	* filter.png: New file.
	* help-book.png: New file.
	* insert-line.png: New file.
	* jump.png: New file.
	* new-record.png: New file.
	* next-form.png: New file.
	* prev-form.png: New file.
	* recent-form.png: New file.
	* reload-form-state.png: New file.
	* reset-form-state.png: New file.
	* search-incremental.png: New file.
	* search.png: New file.
	* sort-asc.png: New file.
	* sort-desc.png: New file.
	* unfilter.png: New file.

2006-10-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._init_sorting): Ignoruj uloen
	sloupeky, kter nejsou v datovm objektu, nejen ve fields.

	* lib/pytis/form/inputfield.py (CodebookField._on_change_hook): Pokud
	je `display' funkce, pouij ji k vpotu hodnoty zobrazen displejem.

	* lib/pytis/web/form.py (Form._codebook_user_value_func): Return an
	empty string when the enumerator value is None.

2006-10-09  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/spec.py (BROWSE_FORM, EDIT_FORM,
	INSERT_FORM, SHOW_FORM): Konstanty FormType.
	(run_cb): run_form -> pytis.form.run_form
	(rp_handler): run_procedure -> pytis.form.run_procedure

2006-10-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (run_form_mitem, new_record_mitem)
	(run_procedure_mitem, run_cb, run_any_form): Identifiktory z
	pytis.form pouvej vetn nzvu modulu.
	(run_any_form, cmd_run_any_form): Definuj pouze pokud je ptomen
	modul `pytis.form'
	(ASC, DESC): Ukazuj na `pytis.data.ASCENDENT' a
	`pytis.data.DESCENDANT', ne na `LookupForm.SORTING_ASCENDENT' a
	`LookupForm.SORTING_DESCENDANT'.

	* lib/pytis/extensions/help.py (Module): Neimportuj `pytis.form'.

	* lib/pytis/extensions/defs.py (menu_report.make_list) 
	(cmd_menu_report, cmd_check_form, cmd_check_menus_defs):
	Identifiktory z pytis.form pouvej vetn nzvu modulu.
	(get_default_select.init_select): Namsto konstant
	`pytis.form.LookupForm.SORTING_*' oekvej ve specifikaci pdn
	pmo konstanty z `pytis.data'. 

	* lib/pytis/extensions/dbconfig.py: Neimportuj pytis.form.

	* lib/pytis/extensions/__init__.py: Vechny identifiktory z
	pytis.form importuj jen pokud byl ji dve modul pytis.form
	importovn.  Tak modul defs importuj jen v tomto ppad.

2006-10-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._init_attributes.link_title):
	Namsto formulov tdy pracuj se specifikac `FormType'.
	(BrowseForm._link_mitems): Automaticky uri typ formule podle
	specifikace `FormType'.

	* lib/pytis/presentation/spec.py: Nov tda.
	(Link.__init__): Argument `form' nahrazen argumentem `type'.
	(Link.form): Metoda zruena.
	(Link.type): Nov metoda.

	* lib/pytis/util/util.py (deepstr): Pevdj objekty na unicode a
	teprve vsledek bezpen peve na string.

	* lib/pytis/data/types_.py (_Value.__str__): Pevedeno na `__unicode__'.

	* lib/pytis/data/dbdata.py (_pypg_query.do_query) 
	(DBDataPostgreSQL.row, DBDataPostgreSQL.select) 
	(DBDataPostgreSQL.select_aggregate) 
	(DBDataPostgreSQL.fetchone.skip, DBDataPostgreSQL.fetchone) 
	(DBDataPostgreSQL.search, DBDataPostgreSQL.insert) 
	(DBDataPostgreSQL.update, DBDataPostgreSQL.update_many) 
	(DBDataPostgreSQL.delete, DBDataPostgreSQL.delete_many) 
	(DBDataPostgreSQL.lock_row): Pedvej pvodn vjimku  vetn
	vekerch informac a pvodnho tracebacku.

	* lib/pytis/data/data.py (__str__): Pevedeno na `__unicode__'.

2006-10-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._default_sorting): Pouvej
	`pytis.data.ASCENDENT' a `pytis.data.DESCENDANT' pi konstrukci
	vchozho tdn.
	
	* lib/pytis/form/form.py (LookupForm._init_sorting): Pevdj
	specifikaci tdn vrcenou metodou `_default_sorting' na
	specifikaci pomoc konstant `pytis.form.LookupForm.SORTING_ASCENDENT' a
	`pytis.form.LookupForm.SORTING_DESCENDANT'.
	
	* lib/pytis/presentation/spec.py (ViewSpec.columns): Oekvej
	specifikaci tdn s pouitm konstant `pytis.data.ASCENDENT' a
	`pytis.data.DESCENDANT', ne
	`pytis.form.LookupForm.SORTING_ASCENDENT' a
	`pytis.form.LookupForm.SORTING_DESCENDANT'.
	(Link.__init__): Nzvy formul pouvej vetn nzvu mudulu.
	

2006-09-12  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (InputNumeric._customize_result):
	Zohledni 'decimal_width' pi sestaven vracen Value.

2006-09-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Umoni pedat
	ablonu dku jako argument `template'. 
	(DBDataPostgreSQL.row): Zakomentovno logovn vslednho dku.
	(DBDataPostgreSQL.distinct): Nov metoda.
	(DBDataPostgreSQL._PgBuffer.fill, _pypg_new_connection) 
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Neimportuj `config'
	(DBDataPyPgSQL._pg_query): Pouvej `self._db_encoding' namsto `config.db_encoding'.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Vytvo tak ablonu `self._pdbb_command_distinct'.
	(PostgreSQLStandardBindingHandler._pg_distinct): Nov metoda.

	* lib/pytis/form/list.py (BrowseForm._init_attributes): Odkazy s
	explicitn definovanm `label' zaa ped vechny ostatn odkazy a
	tento label pouij namsto vchozho.

	* lib/pytis/presentation/spec.py (Action.__init__): Umoni tak
	`context' None.
	(Link.__init__): Nov argument `label'.
	(Link.label): Nov metoda.
	(FieldSpec.__init__): Nov argument `display'.
	(FieldSpec.display): Nov metoda.
	

	* lib/pytis/web/form.py: New file.

	* lib/pytis/web/__init__.py: New file.

2006-09-01  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: New file.

	* translations/Makefile: New file.

2006-09-01  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: New file.

	* translations/Makefile: New file.

2006-08-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/dbconfig.py (DBConfig.__init__): Nov7
	argument `callback'.
	(DBConfig._on_change): Nov metoda.

	* lib/pytis/extensions/dbutils.py (nextval): Nov funkce.

2006-08-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (_TitledMenuObject.__init__): Nepouvej `gettext_'
	pro konverzi argumentu `title'.

	* lib/pytis/presentation/spec.py (Button.__init__) 
	(GroupSpec.__init__, FieldSpec.__init__, Button.__init__) 
	(LayoutSpec.__init__, ViewSpec.__init__): Nepouvej `gettext_'
	pro konverzi textovch argument.

	* lib/pytis/util/util.py (gettext_): Funkce zruena.

2006-08-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_group): Sestav sprvn tak
	horizontln skupinu.

2006-08-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py (DBConnection.__str__): Nov metoda.

2006-08-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Inicializuj
	atribut `_callback_registered'.
	(InputField._register_skip_navigation_callback): Nava wx callback
	pouze jednou.  Pozna si to v `_callback_registered'.

2006-07-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MItem.help): Nov metoda.

	* lib/pytis/form/list.py (BrowseForm._links.title): Nov metoda.
	(BrowseForm._init_attributes): Nov metoda -- sestav zde statickou
	st menu a seznam odkaz.
	(BrowseForm._context_menu): Nesestavuj menu a seznam odkaz zde --
	vyuvej atribut nastavench v konstruktoru.
	(BrowseForm._init_attributes): Seskupuj odkazy na stejn defs do
	podmenu.
	(BrowseForm._link_mitems): Nov metoda.
	(BrowseForm._context_menu): Vyuvej ji.
	(BrowseForm._link_mitems): Vynech poloky s NULL hodnotou v
	odkazovanm sloupci..
	(BrowseForm._link_mitems): Peve podmenu s jednou polokou na
	samostatnou poloku.

2006-07-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog._cmd_commit_dialog): Testuj
	`_COMMIT_BUTTON' na None.
	(Question.__init__): Nastav `_COMMIT_BUTTON' podle `default'.  Na
	konstanty odkazuj pes `self'.

2006-07-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (BrowseDualForm._new_record_hook):
	Nevyvolvej vloen novho dku nad sideformem.

2006-06-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._context_menu.link_title): Nov
	funkce.
	(BrowseForm._context_menu): Vyuvej ji.

2006-06-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py
	(InputField._skip_navigation_callback.cb): Namsto vyvoln
	pkazu volej pmo novou wx metodu `Navigate()'.
	(TextField._on_enter_key): Namsto vyvoln pkazu volej pmo
	novou wx metodu `Navigate()'.

	* lib/pytis/form/form.py (EditForm._create_form_controls): Panelu
	nastavuj styl `wx.TAB_TRAVERSAL'.
	(EditForm._cmd_navigate): Namsto vytven a spoutn udlosti
	jen volej novou wx metodu `Navigate()'.  Zruen argument `object'.

2006-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._post_selection_hook): Namsto
	`self._current_codebook_info()' pouvej `self._codebook_info()'.
	(ListForm._current_codebook_info): Zrueno.
	(ListForm._codebook_info): Nov metoda.
	(ListForm._can_show_cell_codebook)
	(ListForm._cmd_show_cell_codebook): Metody zrueny.
	(BrowseForm._context_menu): Vytvej automaticky seznam odkaz
	podle specifikac `link' ve `FieldSpec'.  Namsto pkazu
	`ListForm.COMMAND_SHOW_CELL_CODEBOOK' pidej automaticky odkazy na
	vechny selniky.

	* lib/pytis/form/application.py (Application._cmd_run_form): Argument
	`select_row' definuj pmo a neprovdj kvli nmu hrozn vci s
	`kwargs'.

	* lib/pytis/form/commands_.py: Zruen pkaz
	`ListForm.COMMAND_SHOW_CELL_CODEBOOK'.

	* lib/pytis/presentation/spec.py (Link): Nov tda.
	(FieldSpec.__init__): Nov argument `link'.  Atribut `_id'
	inicializuj hned na zatku, aby fungovala metoda `__str__' v
	ppadnm tracebacku bhem =uvodnch assert.
	(FieldSpec.__str__): Nevypisuj label, ale jen id.
	(FieldSpec.link): Nov metoda.

	* lib/pytis/util/util.py (remove_duplicates): Nov argument
	`keep_order' umouje zachovvat poad za cenu sloitjho
	algoritmu.

2006-06-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb_computer): Funkce zruena.

2006-06-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm._refresh): Bu potomkem
	`Refreshable'.
	(DualForm._refresh): Nov metoda.
	(BrowseDualForm, ShowDualForm, BrowseShowDualForm): Nebu potomkem
	`Refreshable'.
	(BrowseDualForm._refresh)
	(ShowDualForm._refresh, BrowseShowDualForm._refresh): Metody
	zrueny.

	* lib/pytis/form/form.py (Form._create_form): Nevolej `SetAutoLayout'
	ani `Fit'.
	(TitledForm._create_caption): Zruen argument `text'.  Argument
	`parent' nech je nepovinn.  Text nech je vdy `self.title()' a
	`parent' nech m vchoz hodnotu `self'.
	(TitledForm._create_title_bar): Zrueny argumenty `text' a `size'.
	(EditForm) Bu tak potomkem `Refreshable'.
	(EditForm.__init__): `self._size' nastavuj podle minimln
	velikosti top-level sizeru.
	(EditForm._create_form): Metoda zruena.
	(EditForm._create_form_parts): `self._create_title_bar()' volej
	bez arguemnt.  Vyuvej `self._create_form_controls()'.  Pi
	pidvn do sizeru nastavuj paremetry tak, aby dochzelo ke
	sprvnmu skrollovn vnitn plochy formule.
	(EditForm._create_form_controls): Nov metoda.
	(EditForm._create_button, EditForm._create_group)
	(EditForm._pack_fields): Nov argument `parent'.  Vechny UI prvky
	umsuj na `parent', ne pmo na `self'.
	(PopupEditForm.__init__): Nastavuj velikost okna podle `self.size()'.
	(PopupEditForm._create_form_parts): `self._create_caption()' volej
	bez arguemnt.  Vyuvej `self._create_form_controls()'.  Pi
	pidvn do sizeru nastavuj paremetry tak, aby dochzelo ke
	sprvnmu skrollovn vnitn plochy formule.
	(ShowForm._init_attributes): Zruen callback pi zmn velikosti okna.
	(ShowForm._create_form_parts, ShowForm._on_size): Metody zrueny.
	(PopupEditForm.__init__): Omez velikost okna podle velikosti displeje.
	(EditForm._refresh): Nov meotda.

	* lib/pytis/form/screen.py (Window, Window.__init__): Nebu potomkem
	`wx.ScrolledWindow', ale `wx.Panel'.

	* lib/pytis/form/list.py (ListForm._create_form_parts): Metodu
	`_create_title_bar()' volej bez argumentyu `title'.

	* lib/pytis/form/inputfield.py (Invocable._create_widget) 
	(CodebookField._create_widget, CodebookField._create_widget):
	Zmeneno odsazen tlatka vbru na 1px.

	* lib/pytis/presentation/spec.py (BindingSpec.__init__): Vchoz
	layout nech je vertikln.
	(FieldSpec.__init__): Zruen argument `related_codebook_field'.

2006-06-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm._init_attributes): Inicializuj
	atributy `_orientation' a `_splitter_position_initialized'.
	(DualForm._create_view_spec): Pokud nzev specifikace pouv
	novou notaci, uri nzvy obou formul pmo a peti ze
	specifikace hlavnho formule pouze `binding_spec'.  Prozatm
	`BindingSpec' pevdj na `DualSpec' a dle pracuj s n.
	(DualForm._create_form): Prove horizontln nebo vertikln
	rozdlen formule podle specifikace.  Nastav vlastnosti
	splitteru pi zmn velikosti okna pomoc `SetSashGravity' v
	zvislosti na typu hlavnho a vedlejho formule.
	(DualForm._initial_orientation)
	(DescriptiveDualForm._initial_orientation): Nov metody.
	(DualForm._sash_position, ShowDualForm._sash_position)
	(DescriptiveDualForm._sash_position): Metody zrueny.
	(DualForm._initial_sash_ratio)
	(DescriptiveDualForm._initial_sash_ratio): Metody zrueny.
	(DualForm._initial_sash_position): Nov metoda.
	(DualForm._on_size): Pokud zatm nebyla nastavena poten pozice
	oddlovae, volej nastav ji pomoc `_initial_sash_position'.
	(BrowseDualForm._create_main_form._MainBrowseForm.title): Ignoguj
	titulek z `DualSpec' i pokud je to przdn etzec.
	(BrowseDualForm._on_main_activation): Pi vyvoln
	DescriptiveDualForm nastavuj nzev specifikace podle nzvu z
	hlavnho formule.
	(DualForm._init_attributes): Nov klov argument `orientation'.

	* lib/pytis/presentation/spec.py (BindingSpec): Nov tda.
	(DualSpec): Bu potomkem `BindingSpec' a zajiuj pouze ty
	parametry, kter jsou teba ke zptn kompatibilit.
	(FieldSpec.__init__): Pidn assert na `orientation'.
	(BindingSpec): Doplnn docstring.
	(BindingSpec.__init__): Doplnn docstring.

	* lib/pytis/form/application.py (Application._can_run_form): Rozliuj
	novou notaci nzvu specifikace dulnho formule.

	* lib/pytis/form/list.py (ListForm.size): Nov metoda.

	* lib/pytis/form/form.py (EditForm._create_group): Poloky
	horizontln skupiny nesdruuj do souvislho sledu.
	(TitledForm._create_title_bar): Kosmetick prava.
	(EditForm._create_form_parts): Vkldej obsah formule do sizeru
	bez mezery nahoe a dole.
	(EditForm._create_button.create_handler._handler): Neukldej
	nepouitou nvratovou hodnotu handleru.
	(PopupEditForm._create_form_parts, ShowForm._create_form_parts):
	Vkldej obsah formule do sizeru bez mezery nahoe a dole.
	(EditForm._create_group): Oprava podmnky pro rozpoznn
	vertikln skupiny.  Dopl tak tlatka kter nejsou soust
	sledu.

2006-06-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.type): Pokud existuje
	datov sloupeek, pouij jeho typ pednostn ped typem z selnku.

	* lib/pytis/form/list.py (BrowseForm._cmd_print): Nenastavuj
	`print_spec_path' na `None'.
	(ListForm._post_selection_hook): Zobrazuj informace z selnku
	pouze pokud `enumerator' nen None.

2006-06-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (CbComputer._compute): Doplen assert
	upesujc pinu chybn definice.
	(FieldSpec.type): Doplen assert upesujc pinu chybn
	definice.

2006-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/www.py (BaseDBTable.__init__)
	(form_validate): `data_create()' -> `data_object()'.  Nevytvej
	`NullAppication'.  Volej `pytis.util.set_resolver()'.

	* lib/pytis/extensions/help.py (ItemNode._create_content)
	(MenuIndex.__init__, DescrNode.__init__): `pytis.form.resolver()'
	-> `pytis.util.resolver()'.
	(_split_menu_descriptions): Funkce odstranna.
	(MenuIndex.__init__): Nevytvej `NullAppication'.  Volej
	`pytis.util.set_resolver()'.

	* lib/pytis/extensions/defs.py (flatten_menus, get_menu_defs) 
	(menu_report, get_default_select, check_form, check_defs) 
	(cache_spec): `pytis.form.resolver()' -> `pytis.util.resolver()'.

	* lib/pytis/extensions/dbutils.py (data_object, enum):
	`pytis.form.resolver()' -> `pytis.util.resolver()'.

2006-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._current_key): Vracej kl z
	`original_row' jen pokud nejde o nov dek.
	(RecordForm._current_key): Vyuvej `empty_as_none' pi voln
	`PresentedRow.original_row()'.

	* lib/pytis/presentation/field.py (PresentedRow._set_row): Nenastavuj
	`self._original_row' na None ale vdy na vsledn dek.
	(PresentedRow._set_row): Nastavuj `self._original_row_empty'.
	(PresentedRow.original_row): Nov argument `empty_as_none'.
	Vracej None pokud je pravdiv a pvodn dek je przdn,

	* lib/pytis/presentation/spec.py (FieldSpec.type): Nech je argument
	`data' nepovinn.
	(FieldSpec.codebook): Nech je argument `data' nepovinn.

	* lib/pytis/form/application.py (NullApplication): Tda zruena.
	(run_dialog): Pokud neexistuje aplikace, pokus loguj a pokrauj,
	jako by nic.
	(recent_forms_menu): Pokud neexistuje aplikace, vra przdn menu.

	* lib/pytis/util/resolver.py (set_resolver): Oprava poad argument
	`isinstance'.

2006-06-08  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/form/commands_.py (FORM_COMMAND_MENU): Doasn
	zakomentovn, nutno updatotovat servery na libwxgtk2.6-0. 

2006-06-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (resolver, set_resolver): Nov funkce.

	* lib/pytis/presentation/spec.py: Neimportuj `pytis.form'.
	(DualSpec.__init__): Nevyaduj hodnotu u argumentu
	`side_binding_column'.
	(ViewSpec.columns): Importuj `pytis.form'.
	(DataSpec.__init__): Namsto `pytis.form.resolver()' pouvej
	`resolver()'.

	* lib/pytis/form/list.py (ListForm._cmd_insert_line): Pokud polko
	nen ve fields, nebo pokud je jeho hodnota uren pomoc
	prefill, nevyaduj jeho ptomnost v columns.

	* lib/pytis/form/inputfield.py (EnumerationField._set_selection): Nov
	metoda.
	(EnumerationField._set_value): Vyuvej ji.
	(ChoiceField._set_selection): Nov metoda.

	* lib/pytis/form/application.py (Application.OnInit): Nevyaduj
	specifikaci menu a dopl przdn seznam jako vchoz hodnotu.
	(run_application): Funkce zruena.
	(NullApplication.__init__): Zruen argument `resolver'
	(NullApplication.resolver): Metoda zruena.
	(Application.__init__): Metoda zruena.
	(Application._spec, Application._cmd_run_form)
	(Application._cmd_new_record, Application._cmd_run_procedure):
	Namsto `self.resolver()' i `self._resolver' pouvej funkci
	`resolver()'.
	(Application.resolver): Metoda zruena.
	(resolver): Funkce zruena.
	(has_access): Namsto `_application.resolver()' pouvej funkci
	`resolver()'.

2006-06-02  Tomas Cerha  <cerha@brailcom.org>

	* bin/pytis (run_application): Namsto funkce `run_application()'
	povej pmo `Application().run()'.  Pro nastaven9 resolveru
	pou69vej funkci `set_resolver()'.
	
2006-06-02  Tomas Cerha  <cerha@brailcom.org>

	* bin/pytis (run_application): Namsto funkce `run_application()'
	povej pmo `Application().run()'.  Pro nastaven9 resolveru
	pou69vej funkci `set_resolver()'.
	
2006-05-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._on_idle)
	(ListForm._displayed_columns_menu): `COMMAND_RESET_COLUMNS' ->
	`COMMAND_RESET_FORM_STATE'.
	(ListForm._on_label_right_down, ListForm._cmd_context_menu):
	Klvesovou mapu zskej pomoc `self._get_keymap()'.
	(ListForm._on_reload_form_state): -> `_on_form_state_change'
	(ListForm._can_reload_form_state): Potej tak s metodou pedka.
	(ListForm._can_reset_columns): -> `_can_reset_form_state'.
	(ListForm._can_reload_form_state, ListForm._cmd_reset_columns):
	Metody zrueny.
	(ListForm._init_columns): Zruen argument `allow_user_settings'.
	(ListForm._update_grid): Argumenty `reset_columns' a
	`soft_reset_columns' nahrazeny argumentem `init_columns'.
	`_init_columns()' volej bez `allow_user_settings'.  Zapamatovn
	nastaven sloupc provdj pouze pokud `init_columns' nen
	pravdiv.  Vyma nastaven sloupc, pokud je shodn s vchozm
	nastavenm.

	* lib/pytis/form/output.py (PrintForm): Bu potomkem `InnerForm', ne
	`Form'.

	* lib/pytis/form/form.py (Form._create_print_menu)
	(Form._on_print_menu): Pesunuto do `TitledForm'.
	(Form.__init__): Nevolej `_create_print_menu'.
	(Form._on_reload_form_state): Pejmenovno na
	`_on_form_state_change'.
	(Form._can_reload_form_state): Nov metoda.
	(Form._cmd_reload_form_state): `_on_reload_form_state' ->
	`_on_form_state_change'.  Nakonec volej refresh, pokud jde o
	`Refreshable' formul.
	(Form._can_reset_form_state, Form._cmd_reset_form_state): Nov
	metody.
	(TitledForm._create_title_bar): Volej `_create_print_menu'.
	(LookupForm._init_attributes): Neoekvej nvratovou hodnotu z
	`_init_sorting'.
	(LookupForm._init_sorting): Nevracej hodnotu ale pmo nastavuj
	`self._lf_sorting'.
	(LookupForm._on_reload_form_state): Metoda zruena.
	(LookupForm._on_form_state_change): Nov metoda.

	* lib/pytis/form/commands_.py: `Form.COMMAND_PRINT' ->
	`InnerForm.COMMAND_PRINT'.  `Form.COMMAND_RELOAD_FORM_STATE ->
	`InnerForm.COMMAND_RELOAD_FORM_STATE'.  Nov pkaz
	`InnerForm.COMMAND_RESET_FORM_STATE'.  Zruen pkaz
	`ListForm.RESET_COLUMNS'.
	(DEFAULT_KEYMAP): Nov zkratka pro `COMMAND_RESET_FORM_STATE'.
	(FORM_COMMAND_MENU): Zmna poad poloek.  Vyputny pkazy,
	kter jsou dostupn z kontextovho menu dku.  Nov pkazy
	`InnerForm.COMMAND_RELOAD_FORM_STATE' a
	`InnerForm.COMMAND_RESET_FORM_STATE'.
	(WX_COMMAND_ICONS): Pidna ikona pro `Form.COMMAND_HELP'.

	* lib/pytis/form/application.py (Application._create_command_menu): Ve
	`FORM_COMMAND_MENU' oekvej pkaz na prvnm mst.
	

2006-05-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog._commit_dialog):
	Pejmnenovno na `_cmd_commit_dialog'.
	(GenericDialog._close_dialog): Pejmnenovno na
	`_cmd_close_dialog'.
	(GenericDialog._cmd_help): Nov metoda.
	(GenericDialog.on_command): Metoda zruena. 

	* lib/pytis/form/dualform.py (BrowseDualForm._on_main_activation):
	Neoekvej argument `key'.

	* lib/pytis/form/search.py (SFDialog.reset_condition): Nov metoda.

	* lib/pytis/form/inputfield.py (CALL_NAVIGATE): Callback zruen.
	(InputField._skip_navigation_callback.cb)
	(TextField._on_enter_key): Namsto callbacku `CALL_NAVIGATE'
	vyvolej rovnou pkaz `EditForm.COMMAND_NAVIGATE'.

	* lib/pytis/form/command.py (Command.__init__): Aktualizace docstringu.

	* lib/pytis/form/commands_.py: `COMMAND_SORT_COLUMN' ->
	`COMMAND_SORT'.  V definicch pkazu `COMMAND_SORT' pouvej nov
	argumenty.  Nov pkaz `LookupForm.COMMAND_UNFILTER'.
	Zruen pkaz `ListForm.COMMAND_SELECT_CELL'.

	* lib/pytis/form/list.py (ListForm._filter_by_cell): Namsto voln
	metody `_on_sort_column' vyvolej pkaz `COMMAND_SORT'.
	(ListForm._move_column): -> `_cmd_move_column'.
	(ListForm._on_sort_column): -> `_cmd_sort'.
	(ListForm._can_sort_column): -> `_can_sort'.
	(ListForm._column_context_menu): `COMMAND_SORT_COLUMN' ->
	`COMMAND_SORT'.
	(ListForm._on_label_left_up): `COMMAND_SORT_COLUMN' ->
	`COMMAND_SORT'.
	(ListForm.on_command): Neoetuj zde ``COMMAND_SORT_COLUMN',
	`COMMAND_FILTER' a `COMMAND_MOVE_COLUMN'.
	(ListForm._filter): `filter_flag' pedvej jako boolean hodnotu.
	(ListForm._find_row_by_values): K vyhledvac podmnce pidej
	stvajc filtrovac podmnku formule.  Pi nenalezen vracej
	opravdu None.
	(ListForm._on_right_click): Namsto voln `show_context_menu'
	vyvolej pkaz `COMMAND_CONTEXT_MENU'.
	(ListForm.show_context_menu): Metoda zruena -- pesunuto do
	`_cmd_context_menu'.
	(ListForm._cmd_context_menu): Provdj ve pmo zde.
	(ListForm.on_command): Neoetuj `COMMAND_CONTEXT_ACTION'.
	(ListForm._on_context_action): Pejmnenovno na
	`_cmd_context_action'.
	(ListForm): Metody peskupeny.
	(ListForm._on_idle): Namsto voln `_on_reset_columns' vyvolej
	pkaz `COMMAND_RESET_COLUMNS'.
	(ListForm._on_reset_columns): Metoda zruena.
	(ListForm._cmd_reset_columns): Nov metoda.
	(ListForm.on_command): Neoetuj `COMMAND_RESET_COLUMNS'.
	(ListForm.focus, ListForm._post_selection_hook)
	(ListForm._select_cell): `show_position' -> `_show_position'.
	(ListForm.show_position): Pejmenovno na `_show_position'.
	(ListForm.on_command): Neoetuj `COMMAND_EDIT',
	`COMMAND_COPY_CELL', `COMMAND_CELL_COMMIT',
	`COMMAND_CELL_ROLLBACK', `COMMAND_EXPORT_CSV',
	`COMMAND_SET_GROUPING_COLUMN', `COMMAND_SHOW_CELL_CODEBOOK',
	`COMMAND_INCREMENTAL_SEARCH' a `COMMAND_INSERT_LINE'
	(ListForm._on_show_cell_codebook): Pejmenovno na
	`_cmd_show_cell_codebook'.
	(ListForm._set_grouping_column): Pejmenovno na
	`_cmd_set_grouping_column'.
	(ListForm._on_incremental_search): Pejmenovno na
	`_cmd_incremental_search'.
	(ListForm._on_copy_cell): Pejmenovno na `_cmd_copy_cell'.
	(ListForm._on_export_csv): Pejmenovno na `_cmd_export_csv'.
	(ListForm._on_edit): Pejmenovno na `_cmd_edit'.
	(ListForm._on_insert_line): Pejmenovno na `_cmd_insert_line'.
	(ListForm._on_cell_commit): Pejmenovno na `_cmd_cell_commit'.
	(ListForm._on_cell_rollback): Pejmenovno na `_cmd_cell_rollback.
	(ListForm._cmd_line_commit, ListForm._cmd_line_rollback)
	(ListForm._cmd_finish_editing): Nov metody.
	(ListForm._cmd_cell_commit): Neloguj a vracej nvratovou hodnotu
	`_on_line_commit()'.
	(ListForm.on_command): Neoetuj pkazy `COMMAND_LINE_COMMIT',
	`COMMAND_LINE_ROLLBACK' a `COMMAND_FINISH_EDITING.
	(ListForm._on_activation): Neoekvej argument `key'.
	(ListForm._on_toggle_column): Pejmenovno na
	`_cmd_toggle_column'.
	(on_command): Metoda zcela zruena.
	(ListForm._cmd_activate, ListForm._cmd_first_column)
	(ListForm._cmd_last_column): Nov metody.
	(ListForm._cmd_toggle_column, ListForm._cmd_resize_column)
	(ListForm._cmd_filter_by_cell): Nov metody.
	(CodebookForm.__init__): Namsto voln `_on_activation' vyvolej
	pkaz `COMMAND_ACTIVATE'.
	(CodebookForm._on_activation, SelectRowsForm._on_activation):
	Neoekvej argument `key'.
	(ListForm.can_command): Odstrann zruen pkaz
	`COMMAND_SELECT_CELL'.
	(BrowseForm._on_print): Pevedeno na `_cmd_print'.
	(BrowseForm.on_command): Metoda zruena.
	(ListForm._select_row): Nov nepovinn argument `quiet'.  Pokud
	poadovan dek nen nalezen a `quiet' nen pravda, ohlas chybu a
	vbr neprovdj.
	(ListForm._refresh): Pokud nen mon vybrat dak ani podle
	sla, vyber prvn dek.

	* lib/pytis/form/form.py (LookupForm.SORTING_ASCENDENT)
	(LookupForm.SORTING_DESCENDANT)
	(LookupForm.SORTING_DESCENDANT): Aktualizace docstringu.
	(LookupForm._on_jump): -> `_cmd_jump'.
	(LookupForm._on_search): -> `_cmd_search'.
	(LookupForm._on_filter): -> `_cmd_filter'.
	(LookupForm._on_sort_column): -> `_cmd_sort'.
	(LookupForm._can_sort_column): -> `_can_sort'.
	(LookupForm.on_command): Metoda zruena.
	(EditForm._navigate): -> `_cmd_navigate'.
	(EditForm._cmd_commit_record): Nov metoda.
	(EditForm.on_command): Metoda zruena.
	(EditForm._create_form): Nenastavuj callback
	`InputField.CALL_NAVIGATE'.
	(LookupForm._cmd_search): Namsto argumentu `direction' pebrej
	dva boolean argumenty `next' a `back'.
	(LookupForm._can_unfilter): Nov metoda.
	(LookupForm._cmd_unfilter): Nov metoda.
	(RecordForm._get_row_number): Pokud odpovdac dek nen
	nalezen, vra None.
	(EditForm._select_row, BrowsableShowForm._select_row) 
	(RecordForm._select_row): Nov nepovinn argument `quiet'.
	(RecordForm.select_row): Pedvej `quiet' voln `_select_row'.

2006-05-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: Zrueny pkazy
	`BrowsableShowForm.COMMAND_PREVIOUS_RECORD' a
	`BrowsableShowForm.COMMAND_FIRST_RECORD'.  Namsto toho nech maj
	pkazy `BrowsableShowForm.COMMAND_NEXT_RECORD' a
	`BrowsableShowForm.COMMAND_LAST_RECORD' argument `back'.

	* lib/pytis/form/form.py (RecordForm.__init__): Metoda zruena.
	(RecordForm._original_key): Metoda zruena.
	(RecordForm._current_key): Pokud je `original_row()' aktulnho
	dku nenulov, vra radji kl tohoto originlnho dku.
	(LookupForm._on_jump): Pouvej `InputDialog', ne `InputNumeric'.
	(EditForm._commit_form): `self._original_key()' ->
	`self._current_key()'.
	(EditForm.set_row): Metodu pedka volej ze veho nejdve.
	(BrowsableShowForm.__init__): Nevolej `self._set_status()'.
	(BrowsableShowForm._on_next_record): Metoda zruena.
	(BrowsableShowForm._cmd_next_record): Nov metoda.
	(BrowsableShowForm._cmd_last_record): Nov metoda.
	(BrowsableShowForm._set_status): Metoda zruena.
	(BrowsableShowForm.on_command): Metoda zruena.
	(BrowsableShowForm._select_row): Nastav aktuln pozici ve stavov
	dce.

	* lib/pytis/form/command.py (CommandHandler._command_handler): Pokud
	instance vrcen metodou `_get_command_handler_instance()'
	neodpovd td pkazu, vracej None.

	* lib/pytis/form/list.py (ListForm._find_row_by_number): Pokud je
	slo mimo rozsah tabulky, vracej None.
	(ListForm.select_row): seln argument zpracovvej pmo zde jen
	pokud je v mezch platnch dk.

	* lib/pytis/presentation/field.py (PresentedRow._set_row): Pokud je
	`row' None, nastavuj tak `self._original_row' na None, nikoliv na
		przdn dek jako instanci `PresentedRow'.
	(PresentedRow.original_row): Aktualizace docstringu.

2006-05-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (DescrNode): Vylenny pouze
	spolen metody.
	(SingleDescrNode): Nov tda -- metody `DescrNode' specifick pro
	jednoduch nhledy.
	(SingleDescrNode._create_content): Pidno generovn seznamu akc
	kontextovho menu.
	(DescrIndex._create_children): Pouvej `SingleDescrNode' namsto
	`DescrNode'.

2006-05-25  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Doplnna monost
	specifikovat 'tablespace'.
	(_GsqlTable.output): Zohledni 'tablespace'.
	(Select._is_set): Oprava podmnky.
	(Select.set_columns.make_columns): Zohledni neexistujc 'alias'.
	(Select.set_columns): Pro SelectSet pouij seznam sloupc prvnho
	selectu. 
	(Select.set_columns): 'include_columns' kontroluj proti seznamu
	alias. 
	(_GsqlViewNG._format_rule.relations): V default rulu se nezabvej
	instancemi SelectRelation.

2006-05-25  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Doplnna monost
	specifikovat 'tablespace'.
	(_GsqlTable.output): Zohledni 'tablespace'.
	(Select._is_set): Oprava podmnky.
	(Select.set_columns.make_columns): Zohledni neexistujc 'alias'.
	(Select.set_columns): Pro SelectSet pouij seznam sloupc prvnho
	selectu. 
	(Select.set_columns): 'include_columns' kontroluj proti seznamu
	alias. 
	(_GsqlViewNG._format_rule.relations): V default rulu se nezabvej
	instancemi SelectRelation.

2006-05-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb_computer): Opravena logovac hlka.

2006-05-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): `Ctrl-m' -> `Alt-Down'.

	* lib/pytis/form/screen.py (Keymap._define_key): Nedovol pedefinovat
	stvajc zkratku prefixem.  Pedefinovn prefixu zkratkou chybu
	jen loguj, nevyvolvej vjimku.

	* lib/pytis/form/list.py (BrowseForm._actions): Metoda zruena.
	(ListForm.__init__): Pouvej `ViewSpec.actions(linear=True)'
	namsto `self._actions()'.
	(BrowseForm._action_mitems): Titulky akc zskvej s `raw=True'.

	* lib/pytis/presentation/spec.py (ViewSpec.actions): Nov argument `linear'.
	(ViewSpec.actions.linearize): Oprava.
	(_ActionItem): Nov tda.
	(Action, ActionGroup): Bu jejm potomkem.
	(Action.title, ActionGroup.title): Metody zrueny.
	(Action.__init__, ActionGroup.__init__): Volej konstruktor pedka.

2006-05-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._actions): Nov metoda.
	(BrowseForm._context_menu.action_mitems): Pevedeno na samostatnou
	metodu `_action_mitems'.
	(BrowseForm._context_menu): Pouvej ji.
	(ListForm.__init__): Specifikaci akc pevdj pomoc `self._actions'.

2006-05-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._menu):
	`InputField.COMMAND_RESET_FIELD' -> `InputField.COMMAND_RESET'.
	Vracej jen seznam trojic (pkaz, titulek, npovda), nikoli pmo
	instance `MItem'.
	(InputField._can_reset_field): -> `InputField._can_reset'
	(InputField._cmd_reset_field): -> `InputField._cmd_reset'
	(InputField._mitem): Nov metoda.
	(InputField._on_context_menu): Vyuvej ji.  Nenastavuj pozici
	menu, kdy je vyvolno my.
	(TextField._on_kill_focus): Metoda zruena.
	(TextField._menu): Nov metoda.
	(TextField._can_cut, TextField._cmd_cut, TextField._can_copy)
	(TextField._cmd_copy, TextField._can_paste, TextField._cmd_paste)
	(TextField._can_select_all, TextField._cmd_select_all): Nov
	metody.
	(Invocable._INVOKE_SELECTION_MENU_HELP)
	(DateField._INVOKE_SELECTION_MENU_HELP)
	(ColorSelectionField._INVOKE_SELECTION_MENU_HELP)
	(CodebookField._INVOKE_SELECTION_MENU_HELP): Nov konstanta.
	(Invocable._menu, CodebookField._menu, ListField._menu): Vracej
	jen seznam trojic (pkaz, titulek, npovda), nikoli pmo
	instance `MItem'.  Vem polokm doplnna npovda.
	(ListField.on_command): Pedvej -1 jako prvn argument
	`wx.ListCrtl.GetNextItem()'.
	(ListField.on_command): Nezpracovvej `COMMAND_INVOKE_BROWSE_FORM'
	(_can_invoke_browse_form): Metoda zruena.
	(ListField._can_select): Nov meotda.
	(InputField._can_reset): Povol pouze pokud je polko editovateln.
	(InputField._mitem): Nastavuj `_command_handler' tak pro pkazy
	tdy `Invocable'

	* lib/pytis/form/application.py (Application.OnInit): Pedvej
	konstruktoru `MenuBar' vlastn klvesovou mapu.

	* lib/pytis/form/commands_.py: Nov pkazy `TextField.COMMAND_CUT',
	`TextField.COMMAND_PASTE', `TextField.COMMAND_COPY',
	`TextField.COMMAND_SELECT_ALL'.  Pkaz
	`InputField.COMMAND_RESET_FIELD' pejmenovn na
	`InputField.COMMAND_RESET'.  Zruen pkaz
	`ListField.COMMAND_INVOKE_BROWSE_FORM'.
	(DEFAULT_KEYMAP): Zrueny klvesov zkratky s prefixem `Ctrl-x'.
	Definovny nov zkratky pro nov pkazy.
	(WX_COMMAND_ICONS): Nov konstanta.
	

	* lib/pytis/form/form.py (Form._on_print_menu): Pedvej metod
	`Menu.create()' vlastn klvesovou mapu.
	(PopupEditForm.can_command): Nov metoda.

	* lib/pytis/form/screen.py (Keymap.__init__): Kopruj klvesovou mapu
	do hloubky.
	(KeyHandler._init_commands): Nepidvej pkazy z klvesov mapy k
	`self._commands'.
	(KeyHandler.define_key): Nepidvej definovan pkaz k
	`self._commands'.
	(Menu.create): Povinn argument `keyhandler' nahrazen nepovinnm
	`keymap'.  Mezeru v klvesov zkratce reprezentuj jako etzec
	"Mezernk".
	(MItem.__init__): Vchoz hodnota argumentu `help' nech je None,
	nikoli przdn etzec.
	(MItem.create): Pokud je help None, pedvej wx przdn etzec.
	Pokud je ve `WX_COMMAND_ICONS' nalezena ikona pro pkaz tto
	poloky, nastav pslun obrzek.
	(MItem.set_hotkey): Metoda zruena.
	(MenuBar.__init__): Povinn argument `keyhandler' nahrazen nepovinnm
	`keymap'.  Pedvej jej `Menu.create()'.
	(Menu.__init__): 

	* lib/pytis/form/list.py (ListForm.__init__): Definuj v lokln
	klvesov map klvesy pro akce kontextovho menu.
	(ListForm._on_label_right_down): Pedvej metod `Menu.create()'
	vlastn klvesovou mapu.
	(ListForm.show_context_menu): Nenastavuj hork klvesy poloek
	menu podle klvesov mapy.
	(ListForm.show_context_menu): Pedvej metod `Menu.create()'
	vlastn klvesovou mapu.
	(BrowseForm._context_menu.action_mitems): Nenastavuj polokm menu
	klvesov zkratky akc zde, spolehni se na automatick pevzet z
	klvesov mapy -- jinak klvesy stejn nebudou fungovat.

2006-05-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._edit_menu) 
	(BrowseForm._context_menu): Doplnny texty npovdy poloek menu.
	(BrowseForm._context_menu.action_mitems): Nastavuj text npovdy
	poloky menu podle popisu akce.

	* lib/pytis/form/application.py (message): Nov argument `log_'.
	(Application._can_run_form): Neumoni otevt nemodln formul,
	pokud je oteven modln formul.

	* lib/pytis/form/screen.py (Menu._on_highlight_item): Nov metoda.
	(Menu.create): Nava `wx.EVT_MENU_HIGHLIGHT_ALL' na
	`_on_highlight_item'.
	(Menu._on_highlight_item): Zaka logovn zobrazovanch zprv.
	(Menu.create): Kosmetick prava.

2006-05-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/util.py (XStack): Aktualizovn docstring.
	(XStack.__init__): Inicializuj `self._mru'.
	(XStack.pop): Odstra poloku z `self._mru'.
	(XStack.remove): Namsto `del' pouvej metodu `remove'.  Odstra
	poloku tak z `self._mru'.
	(XStack.activate): Pesu aktivovan prvek na zatek `self._mru'.

	* lib/pytis/form/commands_.py: Nov pkaz
	`Application.COMMAND_RAISE_RECENT_FORM'.  Pkazy
	`Application.COMMAND_NEXT_FORM' a `Application.COMMAND_PREV_FORM'
	pejmenovny na `Application.COMMAND_RAISE_NEXT_FORM' a
	`Application.COMMAND_RAISE_PREV_FORM'.
	(DEFAULT_KEYMAP): Reflektovny zmny nzv pkaz a pidn pkaz
	`Application.COMMAND_RAISE_RECENT_FORM'.
	(FORM_COMMAND_MENU): Doplnny npovdn etzce ke vem polokm.
	Reflektovny zmny nzv pkaz a pidn pkaz
	`Application.COMMAND_RAISE_RECENT_FORM'.

	* lib/pytis/form/form.py (Form._get_command_handler_instance)
	(InnerForm._get_command_handler_instance):
	`pytis.form.application._application.current_form' ->
	`current_form'.
	(Form._exit_check): Metoda zruena.
	(Form._cmd_leave_form): Volej `self.close()' namsto
	`self._leave_form()'.
	(Form.close): Metoda zruena.
	(Form._cleanup): Nov meotda.
	(PopupForm._on_frame_close): Kosmetick prava.
	(PopupForm.close): Nov metoda.
	(PopupForm._leave_form): Metoda zruena.
	(PopupForm.run): Nakonec volej `self.close()'.
	(LookupForm._cleanup): Nov metoda.
	(LookupForm.Close): Nahrazeno metodou `_cleanup'.
	(EditForm._commit_form, PopupEditForm._buttons): Volej
	`self.close()' namsto `self._leave_form()'.
	(PopupEditForm._cleanup): Nov metoda.
	(PopupEditForm.run): Neodemykej zznam zde, ale v `_cleanup().

	* lib/pytis/form/dualform.py (DualForm.close): Nahrazeno metodami
	`_cleanup' a `_exit_check'.
	(SideBrowseDualForm.close): Nahrazeno metodou `_cleanup'.

	* lib/pytis/form/list.py (ListForm.Close): Nahrazeno metodou
	`_cleanup'.

	* lib/pytis/form/output.py (PrintForm.close): Nahrazeno metodou `_cleanup'.

	* lib/pytis/form/application.py (Application._cleanup): Zruen
	argument `quietly'.  Oteven formule uzavrej ve `for' cyklu,
	ne `while', je tm zabrnno nekonen smyce kdy nkter okno
	nelze zavt.  Ped uzavrnm formule jej vyzvedni, aby mohl
	uivatel reagovat na ppadn ukonovac akce.  Pokud je uzaven
	formule zamtnuto, vracej False.
	(Application._cmd_run_form): Zapamatuj si stringovou reprezentaci
	formule pro logovac hlku po jeho uzaven, kdy u je mrtev.
	(Application.run_dialog): Po uzaven dialogu volej `wx_yield_',
	aby byl sprvn pedn focus oken.
	(Application.OnInit): Remember the window menu as
	`self._window_menu'.
	(Application._create_command_menu): Oekvej tak text npovdy v
	`FORM_COMMAND_MENU'.
	(Application._update_window_menu): Pouvej `self._window_menu'.
	(Application._can_raise_recent_form)
	(Application._cmd_raise_recent_form): Nov metody.
	(Application._cmd_next_form): -> `_cmd_raise_next_form'.
	(Application._cmd_prev_form): -> `_cmd_raise_prev_form'.

	* lib/pytis/form/screen.py (Window.__init__): Pidn assert na
	`parent'.
	(Window._exit_check, Window._exit_check, Window._exit_check): Nov
	metody.
	(Window.close): Nov argument `force'.  Zde jen volej
	`self._close()'.

2006-05-17  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (Select.set_columns.make_columns): Oprava pro
	'*' v exclude_columns.

2006-05-17  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (Select.set_columns.make_columns): Oprava pro
	'*' v exclude_columns.

2006-05-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (run_form_mitem): Vypoutj
	speciln znaky z titulku pi pouit pro text npovdy.

2006-05-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (on_command): Metoda zruena.
	(Application._cmd_break, Application._cmd_raise_form)
	(Application._cmd_next_form, Application._cmd_prev_form)
	(Application._cmd_clear_recent_forms, Application._cmd_refresh)
	(Application._cmd_custom_debug): Nov metody.
	(Application.run_procedure): Transformovno na
	`_cmd_run_procedure'.
	(Application.new_record): Transformovno na `_cmd_new_record'.
	(Application.help): Transformovno na `_cmd_new_record'.
	(Application.refresh): Transformovno na `_cmd_refresh'.
	(Application.exit): Transformovno na `_cmd_exit'.
	(run_procedure, new_record, exit, refresh, help): Namsto voln
	metody aplikace vyvolej pslun pkaz.
	(Application._cleanup): Pokud pkaz uzaven formule vrt
	False, nepokouej se o dal uzavrn formul.

	* lib/pytis/form/form.py (RecordForm._on_new_record): Netestuj
	vsledek `new_record()' pmo na None, ale v boolean kontextu.
	(EditForm._commit_form): Pass on the return value of `_leave_form'
	(PopupForm._leave_form): Pass on the return value of the frame's
	`Close()' method.

2006-05-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (CommandHandler.on_command): Vracej pmo
	nvratovou hodnotu obslun rutiny.  Pokud nen obslun metoda
	nalezena, vyvolej vjimku `AttributeError'.  Aktualizovn
	docstring.
	(CommandHandler.invoke_command): Aktualizovn docstring.
	(CommandHandler): Aktualizovn docstring.
	(Command.invoke): Pi pokusu o vyvoln pkazu, kter nen
	aktivn, vypi chybovou zprvu a ppni.
	

	* lib/pytis/form/dialog.py (GenericDialog.on_command): Pokud nen
	pkaz nalezen, volej metodu pedka.
	(FileDialog.on_command): Metoda zruena.
	

	* lib/pytis/form/screen.py (KeyHandler._maybe_invoke_command):
	Netestuj nvratovou hodnotu pi pokusu o vyvoln pkazu, ale
	testuj zda je pkaz dostupn.  Pokud ano, vyvolej jej.

	* lib/pytis/form/application.py (Application.OnInit): Nevolej
	`self.run_form()' ale globln funkci `run_form().
	(Application.on_command): Neoetuj zde
	`Application.COMMAND_RUN_FORM'.
	(Application._can_run_form): Nepijmej `*args'.
	(Application.run_form): Pejmenovno na `_cmd_run_form'.
	Nepijmej `*args'.  Docstring pesunut do globln funkce
	run_form().
	(run_form): Namsto voln metody `run_form()' aktuln aplikace
	vyvolej pkaz `Application.COMMAND_RUN_FORM'.  Pokud je pkaz
	nedostupn, vypi chybovou zprvu a va False.  Doplnn
	docstring.

2006-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._init_ctrl): Menu zobrazuj
	na `wx.EVT_RIGHT_DOWN', ne `wx.EVT_RIGHT_UP' a
	`wx.EVT_COMMAND_RIGHT_CLICK'.
	(InputField._menu): Nastavuj `_command_handler'.
	(on_command): Metoda zruena.
	(show_popup_menu): Metoda zruena.
	(InputField._cmd_reset_field): Nov metoda.
	(InputField._cmd_context_menu): Nov metoda.
	(InputField._on_context_menu): Nov metoda.
	(InputField._on_popup_menu): Metoda zruena.
	(Invocable.on_command): Metoda zruena.
	(Invocable._cmd_invoke_selection): Nov metoda.
	(Invocable._can_invoke_selection_alternate): Metoda zruena.
	(Invocable._on_invoke_selection, DateField._on_invoke_selection)
	(ColorSelectionField._on_invoke_selection)
	(CodebookField._on_invoke_selection): Neakceptuj `**kwargs'.
	(GenericCodebookField.on_command): Metoda zruena.
	(GenericCodebookField._cmd_invoke_codebook_form): Nov metoda.
	(TextField._on_kill_focus): Nov meotda.

	* lib/pytis/form/dualform.py (show_popup_menu): Metoda zruena.
	(DualForm._get_command_handler_instance): Metoda zruena.
	(DualForm.on_command): Metoda zruena.
	(DualForm._cmd_other_form): Nov metoda.

	* lib/pytis/form/commands_.py: Zruen pkaz
	`Application.COMMAND_SHOW_POPUP_MENU'.  Nov pkazy
	`ListForm.COMMAND_CONTEXT_MENU' a `InputField.COMMAND_CONTEXT_MENU'.
	(DEFAULT_KEYMAP): Mapuj `Ctrl-m' na oba nov pkazy'.
	(Form.COMMAND_PRINT, Form.COMMAND_RELOAD_FORM_STATE): Nech jsou
	to pkazy tdy `InnerForm'.

	* lib/pytis/form/_grid.py (ListTable._panic): Namsto `leave_form()'
	vyvolej pkaz `COMMAND_LEAVE_FORM'.

	* lib/pytis/form/application.py (_on_frame_close): Nov meotda.
	(Application._cleanup): Namsto `self.leave_form()' vyvolej pkaz
	`COMMAND_LEAVE_FORM'.
	(Application._on_form_close): Nov metoda.
	(Application.run_form): Neuzavrej modln formul po jeho
	skonen.  Na nemodln formul nava `self._on_form_close()' pi
	udlosti jeho uzaven.
	(Application.leave_form): Metoda Zruena.
	(leave_form): Funkce zruena.
	(Application.on_command): Neoetuj
	`Application.COMMAND_HANDLED_ACTION' a
	`Application.COMMAND_SHOW_POPUP_MENU'.
	(_on_handled_action): Pejmenovno na `_cmd_handled_action'.
	(Application.current_form): Nov argument `inner'.
	(current_form): Nov argument `inner'.

	* lib/pytis/form/command.py (CommandHandler.on_command): Pokud
	tda definuje metodu `_cmd_*', kde * je nzev pkazu, pouit
	tuto metodu rovnou pro obsluhu pkazu.

	* lib/pytis/form/form.py (Form.__init__): Nenavazuj
	`_on_parent_close()' na uzaven formule.
	(Form._on_parent_close): Meotda zruena.
	(Form._leave_form): Provdj zde `_exit_check()' a vracej pravdu,
	pokud k uzaven formule skuten dolo.  Nevyuvej
	`Application.leave_form()', ale rovnou formul uzavi.
	(Form._cmd_reload_form_state): Nov metoda.
	(Form._cmd_help): Nov metoda.
	(Form._cmd_leave_form): Nov metoda.
	(Form.on_command): Metoda zruena.
	(PopupForm._popup_frame): Nava `_on_frame_close()' na udlost
	uzaven popup okna.
	(PopupForm._on_parent_close): Pejmenovno na `_on_frame_close'.
	Ped vlastnm uzavenm volej `self.defocus()'.  Neuzavrej zde
	formul, ten je uzaven automaticky wx Windows po uzaven jeho
	rodiovskho okna (pokud volme `event.Skip()').
	(PopupForm.run): Kosmetick prava.
	(EditForm._commit_form): Namsto pmho uzavrn okna pouij
	`self._leave_form()'.
	(PopupEditForm._on_cancel_button): Zrueno.
	(PopupEditForm._exit_check): Nov metoda nahrazujc
	`_on_cancel_button'.
	(PopupEditForm._buttons): Na tlatko `Cancel' nava
	`self._leave_form()'.
	(EditForm.show_popup_menu): Metoda zruena.
	(Form.show_popup_menu): Metoda zruena.
	(Form._cmd_help): Zruen hack oetujc vyvoln pkazu pro
	duln formul.
	(InnerForm): Nov tda.
	(Form._get_command_handler_instance): Vracej vdy top-level
	formul, ne vnitn formul dulnho formule.
	(RecordForm): Bu potomkem InnerForm.

	* lib/pytis/form/list.py (ListForm.Show): Metoda zruena.
	(ListForm.show_popup_menu): Pejmenovno na `_cmd_context_menu'.

2006-05-12  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py:
	(SelectSetType): Nov tda.
	(SelectSet): Nov tda.
	(Select.__init__): Odebrn argument 'name'.
	(Select): Zajitno zjiovn sloupc i pro SelectSet.
	(Select._is_set): Nov metoda.
	(Select.set_columns): Pepsno.
	(Select.get_columns): Zrueno.
	(Select.columns): Pepsno.
	(format_select): Pepsno pro zohlednn SelectSet.
	(Select.output): Vracej przdn etzec.
	(_GsqlViewNG.__init__): Zohlednny zmny ve td Select.
	(_GsqlViewNG._format_rule.get_default_body): Nov metoda.
        (_GsqlViewNG._format_rule): Pepsno.
	(Select.format_select): Oprava chybnho pedn 'group_by'.
	(SelectSet.sort_columns): Nov metoda nahrazuje
	'sort_set_columns'. 
	(Select.sort_set_columns): Odstranno.
	(Select.format_select): Oprava peklepu v ORDER BY.

2006-05-12  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py:
	(SelectSetType): Nov tda.
	(SelectSet): Nov tda.
	(Select.__init__): Odebrn argument 'name'.
	(Select): Zajitno zjiovn sloupc i pro SelectSet.
	(Select._is_set): Nov metoda.
	(Select.set_columns): Pepsno.
	(Select.get_columns): Zrueno.
	(Select.columns): Pepsno.
	(format_select): Pepsno pro zohlednn SelectSet.
	(Select.output): Vracej przdn etzec.
	(_GsqlViewNG.__init__): Zohlednny zmny ve td Select.
	(_GsqlViewNG._format_rule.get_default_body): Nov metoda.
        (_GsqlViewNG._format_rule): Pepsno.
	(Select.format_select): Oprava chybnho pedn 'group_by'.
	(SelectSet.sort_columns): Nov metoda nahrazuje
	'sort_set_columns'. 
	(Select.sort_set_columns): Odstranno.
	(Select.format_select): Oprava peklepu v ORDER BY.

2006-05-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (CbComputer): Nov tda.
	(ViewSpec.layout): Netestuj `related_codebook_field', ale
	`CbComputer'.
	(CodebookSpec): Opraven neaktuln docstring.
	(CodebookSpec.__init__): Opraven neaktuln docstring.
	(FieldSpec.__init__): Upraven docstring.  Z
	`related_codebook_field' vytvej CbComputer (pro zptnou
	kompatibilitu).
	(FieldSpec.type): Nepracuj s `related_codebook_field', ale
	zjiuj, zda computer nen typu `CbComputer'.
	(FieldSpec.related_codebook_field): Metoda zruena.

	* lib/pytis/form/_grid.py (IncrementalSearch._exit): Pedvej
	argumenty metod `_run_callback' pmo.

	* lib/pytis/form/screen.py (CallbackHandler._run_callback): Argumenty
	callbackov funkce pijmej jako `*args' a `**kwargs'.

	* lib/pytis/form/commands_.py: `ListForm.COMMAND_NEW_LINE' ->
	`ListForm.COMMAND_INSERT_LINE'.

	* lib/pytis/form/dualform.py (BrowseDualForm._new_record_hook): Nov metoda.
	(BrowseDualForm._on_new_record): Metoda zruena.
	(BrowseDualForm._set_main_form_callbacks): Pouvej
	`_new_record_hook' namsto `_on_new_record'.

	* lib/pytis/form/form.py (RecordForm.CALL_NEW_RECORD)
	(RecordForm.CALL_EDIT_RECORD): Callback zruen.
	(RecordForm._init_attributes): Nenastavuj callbacky
	`CALL_NEW_RECORD' a `CALL_EDIT_RECORD'.
	(RecordForm._on_new_record): Nakonec volej callback
	`CALL_NEW_RECORD'.
	(RecordForm._on_edit_record): Nevyaduj dn argumenty.  Kl
	editovanho dku nech je vdy aktuln kl.
	(RecordForm._on_delete_record): Nevyaduj dn argumenty.  Kl
	mazanho dku nech je vdy aktuln kl.  Upraveno logovn.
	(RecordForm.can_delete_record): Pejmenovno na
	`_can_delete_record'.
	(RecordForm._can_edit_record): Nov metoda.
	(RecordForm.on_command): Metodm `_on_delete_record' a
	`_on_edit_record' nepedvej kl aktulnho zznamu jako
	argument.  Pedvej obdren klov argumenty.  Pkazy
	`COMMAND_NEW_RECORD' a `COMMAND_NEW_RECORD' oetuj pmo volnm
	`_on_new_record' a `_on_edit_record', nikoliv volnm callbacku.
	(LookupForm.can_search_next): Pejmenovno na `_can_search_next'.
	(LookupForm.can_search_previous): Pejmenovno na
	w	`_can_search_previous'.
	(LookupForm.can_sort_column): Pejmenovno na `_can_sort_column'.
	(EditForm.can_commit_record): Pejmenovno na
	`_can_commit_record'.
	(RecordForm.CALL_NEW_RECORD): Doplnn docstring.
	(RecordForm.CALL_SELECTION): Doplnn docstring.
	(RecordForm._on_new_record, RecordForm.set_row): Pedvej
	argumenty metod `_run_callback' pmo.

	* lib/pytis/form/list.py (ListForm.can_move_column): Pejmenovno na
	`_'.
	(ListForm.can_sort_column): Pejmenovno na `_'.
	(ListForm._on_label_left_up): Namsto funkce `invoke_command()'
	pouvej metodu `Command.invoke()'.
	(ListForm.can_reload_form_state): Pejmenovno na
	`_can_reload_form_state'.
	(ListForm.can_line_rollback): Pejmenovno na
	`_can_line_rollback'.
	(ListForm.can_cell_commit): Pejmenovno na `_can_cell_commit'.
	(ListForm.can_cell_rollback): Pejmenovno na
	`_can_cell_rollback'.
	(ListForm.on_command): `ListForm.COMMAND_NEW_LINE' ->
	`ListForm.COMMAND_INSERT_LINE'.
	(ListForm.can_set_grouping_column): Pejmenovno na
	`_can_set_grouping_column'.
	(ListForm.can_show_cell_codebook): Pejmenovno na
	`_can_show_cell_codebook'.
	(ListForm.can_context_action): Pejmenovno na
	`_can_context_action'.
	(ListForm._on_delete_record): Nevyaduj dn argumenty.  Kl
	mazanho dku nech je vdy aktuln kl.
	(ListForm._on_idle, ListForm.on_command): Pedvej argumenty
	metod `_run_callback' pmo.
	(ListForm._current_codebook_info): Nepouvej
	`related_codebook_field', ale zjiuj, zda computer nen typu
	`CbComputer'.

	* lib/pytis/form/inputfield.py (InputField.can_reset_field):
	Pejmenovno na `_'.
	(Invocable.can_invoke_selection): Pejmenovno na
	`_can_invoke_selection'.
	(Invocable.can_invoke_selection_alternate): Pejmenovno na
	`_can_invoke_selection_alternate'.
	(ListField.can_invoke_edit_form): Pejmenovno na
	`_can_invoke_edit_form'.
	(ListField.can_invoke_browse_form): Pejmenovno na
	`_can_invoke_browse_form'.
	(InputField._skip_navigation_callback.cb, InputField._on_idle)
	(TextField._on_enter_key): Pedvej argumenty metod
	`_run_callback' pmo.

	* lib/pytis/form/command.py (CommandHandler.can_command): Nzev metody
	pro zjitn dostupnosti pkazu nech zan podtrtkem.
	(invoke_command): Funkce zruena.

	* lib/pytis/form/application.py (Application.OnInit): `can_run_form'
	-> `_can_run_form'.
	(Application.can_run_form): Pejmenovno na `_can_run_form'.
	(Application.can_new_record): Pejmenovno na `_can_new_record'.
	(Application.can_handled_action): Pejmenovno na
	`_can_handled_action'.
	(Application.can_next_form): Pejmenovno na `_can_next_form'.
	(Application.can_prev_form): Pejmenovno na `_can_prev_form'.
	(Application.can_clear_recent_forms): Pejmenovno na
	`_can_clear_recent_forms'.

2006-05-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/event.py (wx_callback.process_event): Vyuvej nov funkce `top_window()'.

	* lib/pytis/form/list.py (ListForm._init_col_attr): Nenastavuj editoru
	callback `InputField.CALL_LEAVE_FIELD' ani `CALL_COMMIT_FIELD'.
	(ListForm._resize_column): Pokud je sputn editor, zm tak jeho
	velikost.
	(ListForm.can_reload_form_state, ListForm.can_cell_commit)
	(ListForm.can_cell_rollback, ListForm.can_command): Nov metody.
	(ListForm.on_command): Zpracuj pouze pkazy tdy ListForm.
	Provdj zpracovn nepodmnn.  Veker podmnky pesunuty do
	`can_command'.  Sjednoceny nvratov hodnoty.
	(ListForm.exit_check): Pejmenovno na `_exit_check'.
	(ListForm.Show): `exit_check' -> `_exit_check'.
	(CodebookForm): Nech je `PopupForm' prvn v seznamu pedk.
	(CodebookForm.__init__): `super_()' -> `super()'.
	(CodebookForm._init_attributes): `super_()' -> `super()'.
	(CodebookForm.on_command): Metoda Zruena.
	(BrowseForm.on_command): Oetuj pouze vlastn pkazy a to
	nepodmnn.
	(ListForm._dualform): Vyuvej nov funkce `top_window()'.
	(ListForm._displayed_columns_menu): Definuj funkci `state'
	konstruktoru `CheckItem' bez argument.

	* lib/pytis/form/dualform.py (DualForm.get_command_handler_instance):
	Pejmenovno na `_get_command_handler_instance'.
	(DualForm.on_command): Nepedvej pkaz aktulnmu formuli a
	nestarej se o argumenty pro jeho pesmrovn.
	(DualForm.help_name): Nov metoda.
	(DualForm._get_command_handler_instance): Pouvej
	`top_window()'.  Zruen zapomenut print.

	* lib/pytis/form/dialog.py
	(Dialog.get_command_handler_instance): Pejmenovno na
	`_get_command_handler_instance'.
	(GenericDialog._on_button, GenericDialog._close_dialog):
	Nenastavuj nvratovou hodnotu. 
	(GenericDialog.on_command, FileDialog.on_command): ): Kosmetick
	pravy.  Sjednoceno nastaven nvratov hodnoty.
	(Dialog._get_command_handler_instance): Pouvej novou funkci
	`top_window()'.  
	

	* lib/pytis/form/inputfield.py (InputField.CALL_LEAVE_FIELD)
	(InputField.CALL_COMMIT_FIELD): Callbacky zrueny.
	(InputField.CALL_SKIP_NAVIGATION): Pejmenovno na
	`CALL_NAVIGATE'.
	(InputField.CALL_NAVIGATE): Aktualizace docstringu.
	(InputField.get_command_handler_instance): Pejmenovno na
	`_get_command_handler_instance'.
	(InputField._skip_navigation_callback.cb): `CALL_SKIP_NAVIGATION'
	-> `CALL_NAVIGATE'.
	(InputField.on_command): Nezpracovvej `COMMAND_LEAVE_FIELD'.
	(TextField._on_enter_key): Namsto `CALL_COMMIT_FIELD' volej
	`CALL_NAVIGATE'.
	(Invocable.get_command_handler_instance): Pejmenovno na
	`_get_command_handler_instance'.
	(Invocable._menu): Namsto argumentu `originator' nastavuj
	`_command_handler'.
	(Invocable.on_command): Zpracuj pkazy nepodmnn.
	(CodebookField._menu): Namsto argumentu `originator' nastavuj
	`_command_handler'.
	(ListField._set_value, ListField.on_command): Kosmetick pravy.

	* lib/pytis/form/form.py (Form.get_command_handler_instance):
	Pejmenovno na `_get_command_handler_instance'.
	(Form._leave_form, Form._exit_check): Nov metody.
	(Form.on_command): Zpracuj `COMMAND_LEAVE_FORM'.
	(PopupForm._on_parent_close): Netestuj existenci metody
	`_exit_check()'.  Nenastavuj nvratovou hodnotu.
	(LookupForm.on_command): Pepsno.
	(EditForm._create_form): Nastavuj `InputField.CALL_NAVIGATE'
	namsto `InputField.CALL_SKIP_NAVIGATION'.  Nenastavuj
	`InputField.CALL_COMMIT_FIELD'.
	(EditForm.exit_check): Pejmenovno na `_exit_check'.
	(EditForm.can_commit_record): Nov metoda.
	(EditForm.on_command): Zruen hack s peposlnm pkazu pes
	argument `originator'.  Zpracovvej pouze vlastn pkazy a to
	bezpodmnen.
	(Form.help_name): Nov metoda.
	(Form.on_command): Vyvolvej help aktulnho okna, ne sebe sama
	/kvli dulnm formulm/.

	* lib/pytis/form/commands_.py: Zruen pkaz
	`Application.COMMAND_LEAVE_FORM'.  Nov pkaz
	`Form.COMMAND_LEAVE_FORM'.  Pkaz
	`InputField.COMMAND_LEAVE_FIELD' nahrazen
	`InputField.COMMAND__INLINE_EDIT'.
	(DEFAULT_KEYMAP): Nov zkratka `Ctrl-Backspace' pro navrcen
	pvodn hodnoty polka bhem editace.  Respektuj zmny nzv
	pkaz.

	* lib/pytis/form/application.py
	(Application.get_command_handler_instance): Pejmenovno na
	`_get_command_handler_instance'.
	(Application.on_command): Nepedvej pkazy oknm ani nepodmiuj
	jejich zpracovn podmnkami.  Nezpracovvej pkaz
	`COMMAND_LEAVE_FORM'.
	(Application.can_leave_form): Metoda zruena.
	(top_window): Nov globln funkce.
	(Application._update_window_menu.wmitem): Definuj funkci `state'
	konstruktoru `RadioItem' bez argument.

	* lib/pytis/form/command.py (CommandHandler): Doplnn docstring.
	(CommandHandler.get_command_handler_instance): Pejmenovno na
	`_get_command_handler_instance'.
	(CommandHandler._command_handler): Nov metoda tdy.
	(CommandHandler.command_enabled, CommandHandler.invoke_command):
	Nov metody tdy.
	(CommandHandler.on_command, CommandHandler.can_command): Nov
	metody instance.
	(Command.__init__): Aktualizace docstringu.  Argument `cls'
	pejmenovn na `handler'.
	(Command.cls): Pejmenovno na `handler'.
	(Command.enabled): Pijmej argumenty jako klov, ne jako
	slovnk.  Rovnou vracej vsledek metody
	`CommandHandler.command_enabled()'.
	(Command.invoke): Nov metoda.
	(Command.log_kind): Metoda zruena.
	(invoke_command): Pouze volej `Command.invoke()'.

	* lib/pytis/form/screen.py (Keymap.define_key, Keymap.lookup_key)
	(KeyHandler, KeyHandler.on_key_down): Aktualizace docstringu.
	(KeyHandler.on_command): Metoda zruena / pesunuta do `command'.
	(KeyHandler._maybe_invoke_command):
	(Menu.create): Metod `Command.enabled()' pedvej argumenty jako
	klov, ne jako slovnk.
	(KeyHandler._maybe_invoke_command): Namsto funkce
	`invoke_command()' pouvej metodu `Command.invoke()'.
	(CheckItem.state): Nepedvej funkce `state' dn argumenty

2006-05-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb_computed_field_args): Funkce
	zruena.
	(cb_computer): Loguj pouit.

2006-05-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._on_import_interactive):
	Neprovdj konverzi podtrtek n nzvech polek.

	* lib/pytis/form/commands_.py: Zruen pkaz `COMMAND_COMMIT_FIELD'.
	(DEFAULT_KEYMAP): Zrueno piazen klves pro `COMMAND_COMMIT_FIELD'.

	* lib/pytis/form/inputfield.py (InputField.on_command): Neoetuj
	`COMMAND_COMMIT_FIELD'.
	(TextField._create_ctrl): Nepouvej `self._style()'.  Style
	nastavuj pmo zde a pidej `wx.TE_PROCESS_ENTER'.  Neoetuj
	`wx.EVT_KEY_DOWN', ale `wx.EVT_TEXT_ENTER' a to u vech polek.
	(TextField._style): Metoda zruena.
	(TextField._on_set_focus): Metoda zruena.
	(TextField._on_key_down_multiline): Metoda zruena.
	(TextField._on_enter_key): Nov metoda.
	(NumericField._style): Metoda zruena.
	(CheckBoxField._set_value): Volej zde `self._on_change()'.
	(EnumerationField._set_value): Volej zde `self._on_change()'.
	

2006-05-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (RecordForm._on_import_interactive):
	Oprava nahrazen tabultoru v separtoru.

2006-05-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py: Kosmetick pravy.

2006-05-03  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (SelectRelation): Nov tda (pejmenovn
	pvodn tdy ViewRelation).
	(SelectRelation.__init__): Argument 'relname' pejmenovn na
	'relation'.
	(Select): Nov tda.
	(Select.get_columns): Pepsno se zohlednnm subselect.
	(Select.format_select): Nov argument 'indent'.
	(_GsqlViewNG): Odstranny argumenty a metody, kter byly pesunuty
	do nov tdy Select.

2006-05-03  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (SelectRelation): Nov tda (pejmenovn
	pvodn tdy ViewRelation).
	(SelectRelation.__init__): Argument 'relname' pejmenovn na
	'relation'.
	(Select): Nov tda.
	(Select.get_columns): Pepsno se zohlednnm subselect.
	(Select.format_select): Nov argument 'indent'.
	(_GsqlViewNG): Odstranny argumenty a metody, kter byly pesunuty
	do nov tdy Select.

2006-05-02  Ales Bublik  <bublik@asellus.cz>

	* lib/pytis/extensions/spec.py (cmd_run_any_form): Argument xx
	vymazn. 

2006-04-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb_computer): Argument `codebook'
	pejmenovn na `codebook_field'.  Doplnn docstring.
	(cb_computed_field_args): Nov funkce.

2006-04-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (DataEnumerator.type): Nov metoda.

	* lib/pytis/form/form.py (EditForm._create_form): Vytvej polko
	pouze pokud nen jeho ka nulov.
	(EditForm._create_group): Kad identifiktor nejprve peve na
	instanci InputField a potom ji pracuj s n.  Ignoruj
	identifiktory polek, kter maj nulovou ku.
	(EditForm._pack_fields): Nepevdj `gap' a `space' na pixely,
	hodnoty ji jsou v pixelech.  Oekvej pmo instance InputField,
	ne identifiktor.  Neoetuj HiddenField.

	* lib/pytis/form/list.py (ListForm._current_codebook_column):
	Pejmenovno na `_current_codebook_info'.
	(ListForm._current_codebook_info): Vracej trojici column,
	codebook, enumerator.
	(ListForm._on_show_cell_codebook) 
	(ListForm.can_show_cell_codebook) 
	(ListForm._post_selection_hook): Pouvej `_current_codebook_info'.

	* lib/pytis/form/inputfield.py (InputField.create): Neoetuj nulovou
	ku polka.
	(HiddenField): Tda zruena.

	* lib/pytis/presentation/spec.py (ViewSpec.recourse_group): Loguj
	polka s nulovou kou v layoutu.
	(FieldSpec.__init__): Pokud je jako `related_codebook_field'
	pedna dvojice, je druh identifiktor povaovn za identifiktor
	sloupce v selnku, ze kterho m bt brna hodnota tohoto
	sloupce a je automaticky vytvoen pslun computer.
	Aktualizovn docstring.
	(FieldSpec.type): Automaticky dopl typ podle typu sloupce v
	navzanm selnku, pokud byl uren `related_codebook_field'.

2006-04-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (JoinType): Nov tda.
	(ViewRelation): Nov tda.
	(_GsqlViewNG): Nov tda.
	(_format_rule): Nepouvej 'table_column_names' a 'colnames'.
	(_GsqlView.columns): Nov metoda.
	(_GsqlDefs.__init__): Nov atribut 'self._relation_columns'. 
	(_GsqlDefs._add_resolved): Pro tabulky a view zjisti jejich
	sloupce a vlo je do 'self._relation_columns'.
	(viewng): Nov funkce.

2006-04-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (JoinType): Nov tda.
	(ViewRelation): Nov tda.
	(_GsqlViewNG): Nov tda.
	(_format_rule): Nepouvej 'table_column_names' a 'colnames'.
	(_GsqlView.columns): Nov metoda.
	(_GsqlDefs.__init__): Nov atribut 'self._relation_columns'. 
	(_GsqlDefs._add_resolved): Pro tabulky a view zjisti jejich
	sloupce a vlo je do 'self._relation_columns'.
	(viewng): Nov funkce.

2006-04-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/defs.py: Nov modul.
	(get_default_select, flatten_menus, get_menu_defs, menu_report)
	(cmd_menu_report, check_form, cmd_check_form, check_defs)
	(check_menus_defs, cmd_check_menus_defs, cache_spec): Pesunuto z
	`misc'.
	(cmd_menu_report, cmd_check_form, cmd_check_menus_defs): Pepsno
	s pouitm `Application.COMMAND_HANDLED_ACTION'.

	* lib/pytis/extensions/spec.py (user_cmd, _user_cmd_caller):
	Zrueno.
	(printdirect, cmd_run_any_form, run_any_form, help_window)
	(run_cb, cb2strvalue, cb2colvalue, cb_computer): Nov funkce
	pesunut z `misc'.
	(context_rp): Zrueno.
	(enum): Pesunuto do 'dbutils'.
	(cmd_run_any_form): Pepsno s pouitm
	`Application.COMMAND_HANDLED_ACTION'.

	* lib/pytis/extensions/misc.py: Zrueny vechny divok importy.
	Spolhej na importy v `__init__.py'.
	(cb_computer, cb2colvalue, cb2strvalue, printdirect, run_cb) 
	(help_window, run_any_form, cmd_run_any_form): Pesunuto do `spec'.
	(constraints_email_many, constraints_email): Opraven docstring.
	(cmd_help_window): Zrueno.
	(get_default_select, flatten_menus, get_menu_defs, menu_report) 
	(cmd_menu_report, check_form, cmd_check_form, check_defs) 
	(check_menus_defs, cmd_check_menus_defs, cache_spec): Pesunuto do
	novho modulu `defs'.
	
	* lib/pytis/extensions/dbutils.py (enum): Pesunuto ze `spec'.

	* lib/pytis/extensions/__init__.py: Importuj zde ve z
	`pytis.form'.  Importuj tak nov modul `defs'.

2006-04-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.on_command): Neoetuj pkazy
	s handlerem.

	* lib/pytis/form/command.py (Command.__init__): Zrueny argumenty
	`handler', `enabled' a `access_groups'.
	(Command.handler, Command.has_access): Metody zrueny.
	(Command.enabled): Nepracuj s atributy `_enabled' a `_has_access'.

	* lib/pytis/form/screen.py (Menu.create): Nepouvej zruenou metodu
	`Command.has_access()'.

	* lib/pytis/form/commands_.py: Nov pkaz
	`Application.COMMAND_HANDLED_ACTION'.

	* lib/pytis/form/application.py (Application.on_command): Namsto
	pkazu s handlerem oetuj pkaz `COMMAND_HANDLED_ACTION'.
	(Application._on_handled_action, Application._on_handled_action):
	Nov metody.

	* lib/pytis/form/list.py (BrowseForm._context_menu): Nepouvej
	`ViewSpec.popup_menu()'.
	(ListForm.on_command): Neoetuj pkazy s handlerem.
	(ListForm._on_handled_command)
	(ListForm._context_menu_handler_args): Metody zrueny.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Zruen argument
	`popup_menu'.
	(ViewSpec.popup_menu): Metoda zruena.

2006-04-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec, Column): Tdy pesunuty
	do Pytisu.

2006-04-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.create): Uri vchoz
	hodnotu `selection_type' podle toho, zda polko m enumertor a
	je znm nzev selnku.  Pedvej metod `FieldSpec.codebook()'
	datov objekt.
	(InputField.__init__): `fspec' -> `spec'.
	(GenericCodebookField.__init__): Pedvej metod
	`FieldSpec.codebook()' datov objekt.  Ukldej nzev specifikace
	selnku do `self._codebook_name'.
	(GenericCodebookField._run_codebook_form)
	(CodebookField._on_codebook_insert, ListField._create_ctrl)
	(ListField.on_command, ListField.on_command): Vyuvej
	`self._codebook_name'.

	* lib/pytis/form/list.py (ListForm._post_selection_hook): st
	zobrazujc hodnotu selnku podstatn pepsna.
	(ListForm._on_show_cell_codebook)
	(ListForm.can_show_cell_codebook): Pedvej metod
	`FieldSpec.codebook()' datov objekt.
	(ListForm._on_export_csv): Kosmetick prava.
	(ListForm._on_show_cell_codebook)
	(ListForm.can_show_cell_codebook): Pracuj zatm pouze se sloupci,
	kter maj enumertor.
	(ListForm._current_codebook_column): Nov metoda.
	(ListForm._on_show_cell_codebook,
	ListForm.can_show_cell_codebook): Vyuvej ji.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Vznamn
	aktualizovn docstring.  Neprovdj dn doplovn vchoz
	hodnoty `selection_type' a asserty.
	(FieldSpec.codebook): Nov argument `data'.
	(DataSpec): Nov tda.
	(Column): Nov tda.
	(ViewSpec): Pidny asserty na hodnotu `related_codebook_field'.
	(FieldSpec.__init__): Nov argument `related_codebook_field'.
	Aktualizovn docstring.
	(FieldSpec.codebook): Hodnotu specifikovanou argumentem
	konstruktoru `codebook' pedvej pouze pokud nen mon zjistit
	nzev selnku z enumertoru.
	(FieldSpec.related_codebook_field): Nov metoda.

	* lib/pytis/data/types_.py (DataEnumerator.iter): Doplnn docstring a
	koment.
	(DataEnumerator.data_factory): Nov metoda.
	(DataEnumerator.get): Opraven docstring.
	(DataEnumerator.value_column): Doplnn docstring.

2006-04-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (Column.id, Column.column)
	(Column.enumerator, Column.type, Column.kwargs): Doplnny
	dokumntan etzce.
	(DataSpec): Aktualizovn dokumentan etzec.
	

2006-04-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._secondary_context): Oprava chyby
	/identifiktor/.

2006-04-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Zruen argument
	`description_format'.
	(ViewSpec.description_format): Metoda zruena.

	* lib/pytis/form/form.py (TitledForm._on_show_description): Nepouvaj
	`ViewSpec.description_format()'.  Formt popisu je vdy
	`TextFormat.PLAIN'.
	(TitledForm._create_title_bar): Ukazuj popis formule tak jako
	tooltip tlatka vyvolvajcho okno, kter popis zobraz.

2006-04-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec.make): Metoda zruena.
	(DataSpec.columns): Nov metoda.
	(Column.__init__): Doplnny docstringy.
	(DataSpec.__init__): Zruen argument `ignore_enumerators'.

2006-04-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Zruen argument
	`check'.
	(FieldSpec.check): Metoda zruena.

	* lib/pytis/presentation/field.py (check): Metoda zruena.
	(PresentedRow._Column.__init__): Zruen argument `check'.
	(PresentedRow._process_fieldspec): Nepedvej jej.

	* lib/pytis/form/form.py (RecordForm._check_record): Nevyuvej ji
	metodu `PresentedRow.check()'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Pidno
	mapovn pro `float4'.

2006-04-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._context_menu.action_mitems):
	Nov funkce.
	(BrowseForm._context_menu): Podporuj vnoen
	seznamy a instance `ActionGroup' ve `ViewSpec.actions()'.

	* lib/pytis/presentation/spec.py (ActionGroup): Nov tda.
	(ViewSpec.__init__): Aktualizace docstringu.  Povol vnoen
	seznamy a instance `ActionGroup' v `actions'.

	* lib/pytis/form/application.py (Application): Aktualizace docstringu.

2006-04-06  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application.OnInit): Pouvej logo z
	konfiguranho souboru.

	* lib/pytis/util/util.py (ipython): prava voln ipython.

	* lib/pytis/util/configuration.py (Configuration._Option_logo): Nov
	konfiguran volba.

2006-03-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (run_cb): Doplnn argument 'sort' a
	'multirow'.
	(check_form): Pi kontrole popup_menu peskakuj MSeparator.
	(get_default_select): Nov funkce.

	* lib/pytis/extensions/dbutils.py (data_object): Specifikace me
	bt i unicode.

2006-03-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._commit_form): Reinicializuj
	polka v ppad vkldn novho zznamu.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Instanci Value pro prefill vytvej pmo, bez validace.

2006-03-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application.new_record): Nov
	argument 'block_on_new_record'.

2006-03-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Action.__init__): Oprava peklepu.

2006-03-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/www.py (BrowsableDBTable.__init__): Oprava
	pedn parametr "condition", "sort".
	(BrowsableDBTable.table): Vytvo kontroln litu jen, pokud je k
	dispozici 'uri'.

2006-03-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Action.__init__): Opraven assert pro
	`hotkey'.

2006-03-11  Tomas Cerha  <cerha@brailcom.org>

	* doc/Pytis.wiki (Module): Vymazno ve, co bylo pesunuto do
	npovdy pytisu.

	* lib/pytis/extensions/spec.py (context_mitem): Upraven
	docstring.  Namsto `COMMAND_CURRENT_ROW_ACTION' vyvolvej
	`COMMAND_CONTEXT_ACTION' a vytvej pslunou instanci `Action'.
	(context_rp): Pejmenovno na `rp_handler'.
	(context_rp): Nov alias pro `rp_handler'.

2006-03-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (_check_perm): Metoda zruena.
	(has_access): Nov metoda.
	(Application.can_run_form): Pouvaj `has_access()' namsto
	`self._check_perm()'.
	(Application.can_new_record): Pouvaj `has_access()' namsto
	`self._check_perm()'.

	* lib/pytis/form/commands_.py: Zrueny pkazy
	`COMMAND_CURRENT_ROW_ACTION' a `COMMAND_SELECTED_ROWS_ACTION'.
	Nov pkaz `COMMAND_CONTEXT_ACTION'.


	* lib/pytis/form/dualform.py (DualForm.inactive_form): Nov metoda.

	* lib/pytis/form/form.py (set_scrollbars): Metoda zruena.
	(ShowForm._on_size): Nastavuj scrollbary pmo zde.

	* lib/pytis/form/list.py (ListForm.on_command): Namsto
	`COMMAND_CURRENT_ROW_ACTION' a `COMMAND_SELECTED_ROWS_ACTION'
	oetuj `COMMAND_CONTEXT_ACTION'.
	(ListForm._on_current_row_action)
	(ListForm._on_selected_rows_action): 
	(ListForm.can_selected_rows_action): 
	(ListForm.can_current_row_action): Metody zrueny.
	(ListForm._on_context_action, ListForm._on_context_action) 
	(ListForm.can_context_action, ListForm._context_action_args) 
	(ListForm._secondary_context): Nov metody.
	(BrowseForm._context_menu): Pidvej do menu tak poloky
	vytvoen z `ViewSpec.actions()'.
	(ListForm._on_context_action): Neoakvej dn klov
	argumenty.  Klov arumenty handleru zskvej ze specifikace akce.
	(ListForm.can_context_action): Neoakvej dn klov
	argumenty.  Klov arumenty handleru zskvej ze specifikace akce.
	(BrowseForm._context_menu): Pkazu `COMMAND_CONTEXT_ACTION'
	padvej pouze jedin argument -- `action'.

	* lib/pytis/presentation/spec.py (ActionContext): Nov tda.
	(Action): Nov tda.
	(ViewSpec.__init__): Nov argument `actions'.
	(ViewSpec.actions): Nov metoda.
	(DualSpec.__init__): Doplnn docstring.
	(FieldSpec.__init__): Loguj potlaenou funkci `check' s prioritou
	`OPERATIONAL'.

2006-03-10  Pavel Hanak  <hanak@asellus.cz>

	* INSTALL: Added 'requirements' section.

2006-03-10  Pavel Hanak  <hanak@asellus.cz>

	* INSTALL: Added 'requirements' section.

2006-03-09  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (user_cmd): Zruena pedchoz
	prava s nahrazenm dvojteek.

2006-03-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/www.py (BaseDBTable): Nov tda.
	(BrowsableDBTable): Nov tda.
	(base_db_table): Nov funkce.
	(browsable_db_table): Nov funkce.

2006-03-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_rp): Argumenty pedvej
	procedue jako pozin.  Navc tak pedvej libovoln klov
	argumenty.
	(user_cmd): Nahrazuj dvojteky v nzvu specifikace podtrtky.

2006-03-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (Command.__init__): V assertov hlce
	uve tak typ argumentu 'name'.

	* lib/pytis/form/application.py (Application.run_procedure): Volan
	procedue padvej jak klov, tak pozin argumenty.

2006-03-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_rp): Pedvej procedue
	argumenty jako pozin.

2006-03-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._init_row.genval):
	Pidn koment.	

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Aktualizace
	docstringu.

	* lib/pytis/form/application.py (Application.new_record): Zruen
	argument `key'.
	(Application.can_new_record): Zruen argument `key'.

	* lib/pytis/form/list.py (ListForm._on_insert_line): Pouvej
	`_row_copy_prefill()'.	

	* lib/pytis/form/form.py (RecordForm._row_copy_prefill): Nov metoda.
	(RecordForm._on_new_record): Koprovan dek pedvej jako
	prefill, ne jako `row'.

2006-03-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (ItemNode._menu_node_path) 
	(ItemNode._menu_node_path): Nov metoda.
	(ItemNode.menu_path): Vyuvej ji.
	(ItemNode.menu_path_title): Nov metoda.
	(ItemNode._create_content): Uvdj nhled tak u pkazu New Record.
	(DescrNode._descr): Nov metoda.
	(_split_menu_descriptions): Nov funkce.

2006-03-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._find_help_files): Loguj,
	pokud nen npovda nalezena.

2006-02-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/types_.py (Inet._validate): prava chybovch hlek.
	(Macaddr._validate): prava chybovch hlek.

	* lib/pytis/form/form.py (RecordForm._original_key): Nov metoda.
	(EditForm._commit_form): Pro update pouij pvodn kl.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Doplnn typ
	'inet' a 'macaddr'.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	V pkazech 'select count' nahra 'count(*)' pomoc 'count(key)'. 

	* lib/pytis/data/types_.py (Inet): Nov typ.
	(Macaddr): Nov typ.

2006-02-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_mitem): Vytvej pkaz
	`COMMAND_CURRENT_ROW_ACTION', ne `COMMAND_CONTEXT_MENU_ACTION'.

	* lib/pytis/extensions/__init__.py: Aktualizovno.

	* lib/pytis/extensions/dbutils.py: Nov modul.
	(dbfunction): Netoleruj dn klov argumenty, krom
	`proceed_with_empty_values'.
	(dbupdate_many): Vyuvej `data_object()'.
	(row_update): Pejmenovno na `dbupdate'.  Ponechn alias pro
	zptnou kompatibilitu.
	(dbinsert): Vyuvej `data_object()'.
	(dbselect): Vyuvej `data_object()'.  Netoleruj dn klov argumenty, krom `condition' a
	`sort'.
	(dbfunction): Oprava zpracovn argument.

	* lib/pytis/extensions/misc.py (data_create, dbfunction) 
	(dbselect, dbupdate_many, dbinsert, row_update, is_in_groups):
	Funkce pesunuty do novho modulu `dbutils'.

	* lib/pytis/extensions/configuration.py: Pejmenovno na `dbconfig.py'.

	* lib/pytis/extensions/dbconfig.py: Nov soubor.
	(DBConfig.__init__): Vyuvej funkce `data_object()'.

2006-02-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: Pkaz `COMMAND_CONTEXT_MENU_ACTION'
	pejmenovn na `COMMAND_CURRENT_ROW_ACTION'.  Nov pkaz
	`SELECTED_ROWS_ACTION'.

	* lib/pytis/form/list.py (ListForm._context_menu): Nov metoda.
	(ListForm._context_menu, ListForm._context_menu): Nov metody.
	(ListForm.on_command): Namsto `COMMAND_CONTEXT_MENU_ACTION'
	oetuj `COMMAND_CURRENT_ROW_ACTION' a
	`COMMAND_SELECTED_ROWS_ACTION'.
	(ListForm._on_context_menu_action): Pevedeno na
	`_on_current_row_action'.
	(ListForm.can_context_menu_action): Pevedeno na
	`can_current_row_action'.  Nedovol akci, pokud aktuln vybran
	dek nen dek, na kterm je kurzor.
	(ListForm._on_selected_rows_action)
	(ListForm.can_selected_rows_action): Nov metody.
	(ListForm.can_current_row_action): Nezkoumej argumenty handleru
	pes inspect.
	(ListForm._on_context_menu): Nepenastavuj vbr.
	(SelectRowsForm): Nov tda.
	(ListForm._create_grid): `self._on_context_menu()' ->
	`self._on_right_click()'.
	(ListForm._on_context_menu): Pejmenovno na `_on_right_click'.
	Zobrazuj menu pouze pokud je aktivn dek jedinm vybranm dkem.

2006-02-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (data_create): Vra jen data. 
	(dbinsert): Argument 'row' je pozin.
	(dbinsert): Upraveno s monost pedn pytis.data.Row.

	* lib/pytis/extensions/www.py (form_validate): Pouij
	'data_create'. 
	(PopupCB): Doplnn argument 'selected'.

2006-02-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_dbpass._DESCR): Doplnno.

	* lib/pytis/data/dbdata.py (_pypg_new_connection): Pokud dojde k chyb
	a chybov zprva obsahuje etzec 'authentication failed', povauj
	chybu tak za DBLoginException.

2006-02-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/util/configuration.py (Configuration._Option_dbpass):
	Nov konfiguran volba.
	(Configuration._Option_dbconnection.default): Dopl i novou
	konfiguran volbu 'dbpass'.

2006-02-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (TableRowIterator): Nov tda.

	* lib/pytis/form/command.py (Command.__init__): Vyuvej
	`pytis.data.is_in_groups()'.

	* lib/pytis/data/access.py (is_in_groups): Nov funkce.

	* lib/pytis/form/search.py (SFDialog._create_content.condition):
	Oeti ppad, kdy `self._field_id' ji nen v `self._columns'.

	* lib/pytis/form/screen.py (wx_text_view): Pedvej argument `id'
	konstruktoru `lcg.WikiNode'.

	* lib/pytis/form/application.py (Application.OnInit): S slem portu
	db spojen pracuj jako s etzcem.

	* lib/pytis/data/dbdata.py (_pypg_new_connection): Pevdj slo
	portu na etzec.

2006-02-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py: Neimportuj 'pytis.output'.
	(data_create): Nov funkce.
	(printdirect): Importuj 'pytis.output'.

	* lib/pytis/extensions/www.py: Pouvej 'NullApplication'.
	(DBTable): Doplnn dokumentan etzec.
	(form_validate): Nov funkce.
	(PopupCB): Nov funkce.

2006-02-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py
	(DescrNode._default_description_text): Pokud nen definovno
	`description', pouij `help'.

	* lib/pytis/extensions/misc.py (ConfigDB): Tda zruena.
	(DBConfig, saved_config_reader.reader) 
	(saved_config_writer.writer, cfg_param): Pesunuto do novho modulu
	`configuration'.

	* lib/pytis/extensions/__init__.py: Importuj nov modul
	`configuration'.

	* lib/pytis/extensions/configuration.py: Nov soubor.
	(cfg_param): Odstrann zapomenut print.

2006-02-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application.OnInit): Oeti situaci,
	kdy nen definovn port.

2006-02-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (RefSpec): Tda zruena.
	(FieldSpec.__init__): Zruen argument `references'.
	(ViewSpec.__init__): Zruen argument `enable_inline_insert'.
	(CodebookSpec.__init__): Zruen argument `insert_unknown_values'.
	(ViewSpec.__init__): Nov argument `help'.
	(ViewSpec.help): Nov meotda.
	(ViewSpec.__init__): Aktualizovn docstring.

	* lib/pytis/presentation/field.py (PresentedRow.refvalue): Metoda zruena.

	* lib/pytis/form/screen.py (KEY_ANY): Konstanta zruena.
	(Window.ACT_WINDOW, Window.ACTIVATIONS): Konstanty zrueny.
	(_MenuObject): Nov tda.
	(MSeparator): Bu jejm potomkem.
	(_TitledMenuObject): Nov tda.
	(MenuBar._append_menu, MenuBar._replace_menu)
	(MenuBar._remove_menu, MenuBar.add_menu, MenuBar.activate)
	(MenuBar.save, MenuBar.restore): Metody zrueny.
	(Menu): Bu potomkem `_TitledMenuObject'.
	(Menu.__init__): Zruen argument `activation'.  Zruena monost
	pedvat v items funkci, vytvejc menu dynamicky.
	(Menu.activation, Menu.dynamic, Menu.title): Metody zrueny.
	(Menu.create): Zruen argument `form'.  Kosmetick pravy.  Wx
	metodm pedvej "raw" titulek.
	(MItem): Bu potomkem `_TitledMenuObject'.
	(MItem.__init__): Kosmetick pravy assert.  Volej konstruktor
	pedka.
	(MItem._on_ui_event): Nepedvej argument `application' metod
	`Command.enabled()'.
	(MItem.title): Metoda zruena.
	(MItem.create): Wx metodm pedvej "raw" titulek.
	(ButtonSpec, ButtonBar, Help, HelpFrame): Tdy zrueny.

	* lib/pytis/form/command.py (Command.__init__): Zrueny argumenty
	`key' a `static'.  Argument `name', nech je pozin.  Zruen hack
	upravujc po staru pedan argumenty.
	(Command.enabled): Zruen argument `application'.  Nekeuj
	vsledky voln `enabled()' funkce.
	(Command.__setattr__): Metoda zruena.
	(invoke_command): Nepedvej argument `application' metod
	`Command.enabled()'.

	* lib/pytis/form/application.py (Application._update_window_menu):
	Zruen argument `recreate'.
	(Application._activate): Metoda zruena.
	(Application.run_form): Nevolej `_activate()'.
	(Application.restore): Nevolej `_activate()' ani
	`_update_window_menu()'.
	(Application.run_form): Pokud jde o PrintForm, nepidvej jej do
	recent_forms.
	(Application.OnInit): Zobraz v titulku aplikace informace o
	databzovm spojen.

	* lib/pytis/form/form.py (Form.ACT_FORM, Form.ACTIVATIONS): Konstanty
	zrueny.

	* lib/pytis/form/output.py (PrintForm.ACT_PRINT_FORM) 
	(PrintForm.ACTIVATIONS): Konstanty zrueny.
	(PrintForm._menus): Metoda zruena.
	(PrintForm.DESCR): Nov konstanta.
	(PrintForm._create_controls): Pouvej stock buttons.

2006-02-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/www.py: Upraveny importy.

2006-02-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_rp): Nov funkce.

2006-02-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._on_context_menu_action): Nov
	arguemnt `access_groups'.  Nezkoumej argumenty handleru pomoc
	`inspect'.  Vdy pedej aktuln dek a vechny klov
	argumenty.
	(ListForm.can_context_menu_action): Nov arguemnt
	`access_groups'.  Provuj nejprve ptomnost v `access_groups',
	teprve potom funkci `enabled'.

	* lib/pytis/form/commands_.py: Aktualizovn popis pkazu
	`BrowseForm.COMMAND_CONTEXT_MENU_ACTION'.  

2006-02-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (NullApplication.recent_forms_menu):
	Nov metoda.

	* lib/pytis/form/command.py (Command.__init__): Pidny hlky k assertm.

2006-02-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (_menu_items): Nov globln
	promnn.
	(ItemNode.menu_path): Nov metoda.
	(ItemNode._create_content): Vytvej seznam poloek menu pro kad
	defs `_menu_items'.
	(DescrNode._info): Nov metoda.
	(DescrNode._create_content): Vyuvej ji.  `_specific_info()' ->
	`_access_rights'.
	(DescrNode._specific_info): Pejmenovno na `_access_rights'.
	(DescrNode._info): Nov metoda.
	(DualDescrNode._specific_info): Pejmenovno na `_access_rights'.
	Vracej przdn seznam.
	(DescrNode._p): Metoda zruena.
	(DescrNode._create_content): Nepouvej `_p', ale vytvej pmo
	`lcg.Paragraph'.

2006-02-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._find_help_files): Pokud
	adres npovdy neexistuje, rovnou vra przdn seznam.

2006-02-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (ItemNode._create_content):
	Upravena podmnka rozeznn dulnho formule.
	(DualDescrNode._specific_info): Nad tabulku pidej horizontln
	separtor.

2006-02-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer.show_page): Oeteno
	dlen nulou pi vpotu nastaven scrollbar.

	* lib/pytis/util/log.py (Module, Logger._retrieve_info): Pouvej
	`positive_id()' namsto `id()'.

	* lib/pytis/util/util.py (positive_id): Nov funkce.

	* lib/pytis/form/screen.py (MItem.__init__): Umoni pedat namsto
	argumentu `command' pmo dvojici (COMMAND, ARGS), urujc jak
	pkaz, tak jeho argumenty.

	* lib/pytis/form/form.py (Form.on_command): Oetuj pkaz
	`Form.COMMAND_HELP'.
	(Form.on_command): Nzev topicu sestav pmo zde.

	* lib/pytis/form/dualform.py (DualForm.on_command): Oetuj pkaz
	`Form.COMMAND_HELP'.
	(DualForm.on_command): Oetuj `Form.COMMAND_HELP' jen pokud jde
	duln formul vytvoen nad DualSpec.
	

	* lib/pytis/form/configui.py (ConfigForm.DESCR): Nov konstanta. 

	* lib/pytis/form/application.py (Application.OnInit): Natej hned pi
	startu seznam dostupnch soubor npovdy.  Vytven menu pkaz
	pesunuto do `_create_command_menu()'.  Pidvej tak menu
	npovdy s vyuitm `_create_help_menu()'.
	(Application._create_help_menu, Application._create_command_menu)
	(Application._find_help_files): Nov metody.
	(Application.help): Vyuvej seznam dostupnch soubor npovdy
	`self._help_files'.  Pokud nejsou dostupn dn soubory, zobraz
	vdy jen informan dialog.  Jako vchoz topic vyuvej index
	prvnho nalezenho souboru npovdy.
	(Application.on_command): Pedvej argumenty pkazu
	`Application.HELP' metod `help()'.
	(Application.can_run_form): Netoleruj neexistujc specifikace.
	(Application.OnInit): Po naten uloenho `recent_forms'
	zkontroluj, zda dan specifikace stle existuj.

	* lib/pytis/form/commands_.py: Nov pkaz `Form.COMMAND_HELP'.
	Popisky pkaz upraveny, aby neobsahovaly argumenty a teku na konci.
	(DEFAULT_KEYMAP): Nov zkratka `Ctrl-F1' pro `Form.COMMAND_HELP'.
	Pkazu `Application.HELP' na `F1' pedvej arguemnt `topic' s
	hodnotou `pytis'.

2006-02-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Nov modul.

2006-02-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (dbselect): Pouij novou instanci
	Resolveru.

	* lib/pytis/extensions/__init__.py: 	

	* lib/pytis/extensions/www.py (DBTable): Nov funkce.

2006-02-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm.DESCR, CodebookForm.DESCR): Nov konstanta.

	* lib/pytis/form/application.py (NullApplication): Nov tda.

	* lib/pytis/form/dualform.py (DualForm, BrowseShowDualForm): `_DESCR'
	-> `DESCR'.

	* lib/pytis/form/form.py (Form._DESCR): Pejmenovno na `DESCR'.
	(PopupEditForm, ShowForm, Form.descr): `_DESCR' -> `DESCR'.

2006-02-07  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GviewsqlRaw): Nov tda.
	(view_sql_raw): Nov funkce.
	(_GviewsqlRaw.output): Umoni pedn columns jako tuple.

2006-02-07  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GviewsqlRaw): Nov tda.
	(view_sql_raw): Nov funkce.
	(_GviewsqlRaw.output): Umoni pedn columns jako tuple.

2006-02-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm.__init__): Volej
	`self._init_inserted_row()' namsto vbru `self._inserted_row()'
	zde.
	(EditForm._inserted_row, PopupEditForm._inserted_row): Metody
	zrueny.
	(EditForm._init_inserted_row, PopupEditForm._init_inserted_row):
	Nov metody.
	(PopupEditForm._on_next_button, PopupEditForm._on_skip_button):
	Volej `self._init_inserted_row()' namsto vbru
	`self._inserted_row()' zde.

	* lib/pytis/form/list.py (ListForm._displayed_columns_menu): Zobrazuj
	v menu `column_label', ne `label'.
	(ListForm._init_col_attr): Pokud je editovatelnost urena
	computerem, nastav sloupec jako editovateln.

2006-01-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SearchDialog._HELP_TOPIC)
	(FilterDialog._HELP_TOPIC, SortingDialog._HELP_TOPIC): Nov
	konstanty.

	* lib/pytis/form/dialog.py (GenericDialog._HELP_TOPIC): Nov
	konstanta.
	(GenericDialog._create_dialog): Nevytvej dialog se stylem
	`wx.STAY_ON_TOP'.
	(GenericDialog.on_command): Oetuj pkaz `Dialog.COMMAND_HELP'.

	* lib/pytis/form/commands_.py: Nov pkaz `Dialog.COMMAND_HELP'.

	* lib/pytis/form/application.py (Application._cleanup): Uzavrej tak
	okno npovdy.
	(Application.help): V adresi npovdy vyhledej vechny dostupn
	soubory s npovdou v zazipovan podob a pouij je.

2006-01-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration._Option_doc_dir):
	Doasn vrceno.

2006-01-26  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (constraints_email): Nov povolen znak
	na konci textu ped zavinem "-".
	(smssend): prva kontroly tvaru sla, tak aby lo poslat SMS i
	na pedvolby do zahrani.

2006-01-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._commit_form): 'original_row'
	pedvej do cleanupu jako novou instanci.

2006-01-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._create_content.condition): Pokud
	nebyl pedn vchoz sloupeek, vyber prvn sloupec.

	* lib/pytis/form/application.py (Application.run_form):
	`self._post_init_form()' volej a po zobrazen formule.
	(Application.help): Rozena chybov zprva pi nenalezen manulu.

2006-01-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.help): Nech je argument
	`topic' nepovinn.  Pouvej konfiguran volbu `help_dir' a
	zobraz varovn, pokud soubor npovdy nen nalezen.  Doplnn
	docstring.
	(help): Nech je argument `topic' nepovinn. Doplnn docstring.
	(Application.on_command): Oetuj pkaz `Application.COMMAND_HELP'.

	* lib/pytis/util/configuration.py (Configuration._Option_help_dir):
	Nov volba.
	(Configuration._Option_doc_dir): Volba zruena.

	* lib/pytis/form/commands_.py: Nov pkaz `Application.COMMAND_HELP'
	a klvesov zkratka.

2006-01-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (Warning.__init__): Rozeno o argumenty
	'report' a 'report_init'.
	(Error.__init__): Rozeno o argumenty 'report' a 'report_init'.

2006-01-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Aktualizace
	docstringu.

	* lib/pytis/form/list.py (ListForm._update_grid): Provdj
	penastaven velikosti gridu i pokud dolo ke zmn potu sloupc,
	nejen dk, a provdj jej vdy a pln nakonec.

2006-01-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Importuj `wx.html'.
	(Application.OnInit): Inicializuj atribut `self._help_controller'.
	(Application._cleanup): Mezi ukldan konfiguran volby zahrnuj
	pouze volbu z konfiguranch formul a nkter explicitn
	vyjmenovan volby.
	(Application.help): Nov metoda.
	(help): Nov funkce.

	* lib/pytis/form/list.py (ListForm._on_sort_column): Aktualizuj tak
	grouping.
	(ListForm._on_label_left_up): Vypoti nov smr tdn a pedej
	konkrtn smr, nikoli konstantu `SORTING_CYCLE_DIRECTION'.  Pokud
	nen stisknut Shift, prove primrn tdn i pokud sloupec ji
	je setdn (sekundrn).

	* lib/pytis/form/form.py (LookupForm.SORTING_CYCLE_DIRECTION):
	Konstanta zruena.
	(LookupForm._on_sort_column): Aktualizace docstringu.  Nee
	cyklick pepnn smru zde.
	(LookupForm.can_sort_column): Neuvauj s `SORTING_CYCLE_DIRECTION'.

	* lib/pytis/form/configui.py (configurable_options): Nov funkce.

2006-01-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._commit_form): Do cleanupu pedvej
	skuten pvodn hodnotu 'original_row'.

2006-01-20  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._commit_form): Do cleanupu pedvej
	i pvodn dek.

2006-01-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (ListTable.GetAttr): Zruen zapomenut print.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Loguj pouit
	potlaenho argumentu `enable_inline_insert'.
	(ViewSpec.enable_inline_insert): Metoda zruena.

	* lib/pytis/form/list.py (ListForm._on_label_left_down): Nevolej
	`event.Skip()'.
	(ListForm._on_insert_line): Ignoruj `enable_codebook_insert' a
	namsto toho kontroluj, zda jsou zobrazeny vechny not_null
	sloupce.
	(ListForm._init_attributes): Neinicializuj
	`self._enable_inline_insert'.
	(ListForm._update_grid.notify): Zavrej editory jet ped ruenm
	sloupc.
	(ListForm._update_grid): Nezavrej editory zde.
	(ListForm._init_col_attr): Pokud existuj njak editory, naped
	je zavi.
	(BrowseForm._formatter_parameters): `_lf_translated_sorting' ->
	`_data_sorting'.

	* lib/pytis/form/application.py (Application.on_command): Testuj
	existenci aktivnho formule v boolean kontextu, ne jen na None
	hodnotu.  To by mlo zachytit i mrtv formule.

2006-01-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/spec.py (TextFormat): Tda pesunuta 'v'.
	(ViewSpec.__init__): nov argument 'description_format'.
	(ViewSpec.description_format): Nov metoda.

	* lib/pytis/form/form.py (TitledForm._on_show_description): Nov
	metoda. 
	(TitledForm._create_title_bar): Doplnn button pro description.

2006-01-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (ListTable.__init__): Vchoz hodnotou pro
	`grouping' nech je przdn tuple.  Pidn assert.
	(ListTable._group): Potej s vcesloupcovm seskupovnm.
	(ListTable._cached_value): Keuj vechny sloupce z `grouping'.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Aktualizace
	docstringu.  Povol sekvenci, jako hodnotu pro `grouping' a pokud
	jde jen o jeden identifiktor sloupce, peve jej na jednoprvkov
	tuple.  Provdj kontrolu na existenci sloupc z `grouping' a
	`sorting'.
	(ViewSpec.grouping): Aktualizace docstringu.

	* lib/pytis/form/list.py (ListForm._on_sort_column): Nekontroluj zde
	ptomnost sloupce v datech, dl to pedek.
	(ListForm._on_label_left_up): Pokud nen stisknut klvesa
	`Shift', nastav tdc sloupec jako primrn.
	(ListForm._refresh): Neukldej nastaven tdn zde.
	(ListForm._on_label_paint, CodebookForm._on_idle): Nepracuj s
	promnnou `self._lf_sorting' pmo.  Pouvej nov metody.
	(ListForm._init_grouping): Pracuj s groupingem jako s tuple.
	(ListForm._column_context_menu): Rozeny pkazy pro prci s
	groupingem.
	(ListForm._on_label_paint): Pracuj s groupingem jako s tuple.
	(ListForm._set_grouping_column, can_set_grouping_column): Nov
	arguemnty `reset' a `remove'.  Pracuj s groupingem jako s tuple.
	(ListForm._set_grouping_column): Zrueny argumenty `reset' a
	`remove'.  Nastavuj seskupovn jen podle tdcch sloupc, a po
	`col'.
	(ListForm._column_context_menu): Pro seskupovn pouij jen dva
	pkazy, respektujc tdn.
	(ListForm._on_label_paint): Seskupovn indikuj barvou tdcho
	trojhelnku.
	(ListForm.can_set_grouping_column): Zrueny argumenty `reset' a
	`remove'.  Umoni seskupovn jen podle tdcch sloupc.

	* lib/pytis/form/form.py (LookupForm.SORTING_NONE) 
	(LookupForm.SORTING_CYCLE_DIRECTION) 
	(LookupForm.SORTING_ASCENDENT, LookupForm.SORTING_DESCENDANT):
	Aktualizace docstringu.
	(_lf_translated_sorting): Pejmenovno na `self._data_sorting()'.
	(LookupForm._data_sorting): Nov metoda.
	(LookupForm._sorting_columns): Nov metoda.
	(LookupForm._sorting_position): Nov metoda.
	(LookupForm._sorting_direction): Nov metoda.
	(LookupForm._on_sort_column): Vrazn pepsno.
	(LookupForm.can_sort_column): Vrazn pepsno.
	(LookupForm._init_sorting): Nov metoda.
	(LookupForm._init_attributes): Pouvej ji.
	(_user_defined_sorting): Metoda zruena.

2006-01-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (ListTable.GetAttr): Peci jen pouvej
	providera k zjitn vchozch atribut buky (obsahuj atributy
	sloupce).

	* lib/pytis/form/list.py (ListForm._create_form_parts): Neoekvej
	nvratovou hodnotu od `self._create_grid()'.
	(ListForm._create_grid): Piazuj rovnou zde do `saelf._grid'.
	Nevracej dnou nvratovou hodnotu.  Neinicializuj atributu
	sloupc zde.  Vyuvej k tomu `self._init_col_attr()'.
	(ListForm._update_grid): Pokud dolo ke zmnm sloupc, volej
	`self._init_col_attr()'.
	(ListForm._init_col_attr): Nov metoda.
	(ListForm._edit_cell): Loguj radji identifiktor sloupce.
	(ListForm.on_command): Netestuj
	(ListForm._close_editors): Nov metoda.
	(ListForm.Close): Vyuvej ji.

2006-01-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._create_content.condition):
	Pouij pouij vdy `self._field_id' jako pednastaven sloupec pro
	novou podmnku.
	(SFDialog._save_values): Neukldej nastaven, pokud mme pouze
	jednu nevyplnnou podmnku.
	(SFDialog.run, SearchDialog.run, FilterDialog.run): Arguemnt `col'
	zmnn na `fiald_id'.

	* lib/pytis/form/_grid.py (ListTable.GetAttr): Nepokouej se zskat
	instanci `wx.grid.GridCellAttr' od providera, rovnou vytvo
	vlastn.
	(ListTable.GetValue, ListTable.GetTypeName, ListTable.GetAttr):
	Oetuj situaci, kdy slo sloupce neodpovd potu zobrazench
	sloupc.

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): Klvesov zkratka pro
	pkaz `Application.COMMAND_CUSTOM_DEBUG' zmnna na `Ctrl-x d'

	* lib/pytis/form/form.py (LookupForm._init_attributes): Zruen
	argument `grouping'.  Zjisti a ppadn uplatni uivatelsk
	nastaven tdn.
	(LookupForm._default_grouping): Metoda zruena.
	(LookupForm._on_reload_form_state): Nov metoda.
	(LookupForm._on_sort_column): Zapamatuj si tdn jako
	uivatelsk nastaven.
	(LookupForm._default_sorting): Uri vchoz tdn a vra
	specifikaci.
	(Form._get_state_param): Nov argument `cls'.
	(LookupForm._init_attributes): Pouvej metodu
	`self._user_defined_sorting()'.
	(LookupForm._user_defined_sorting): Nov metoda.
	(RecordForm.current_field): Nov metoda.
	(LookupForm._on_search): Pedvej metod `run()' dialogu
	identifiktor aktulnho polka.
	(LookupForm._on_filter): Zrueny argumenty `row' a `col'.
	Pedvej metod `run()' dialogu identifiktor aktulnho polka.

	* lib/pytis/form/list.py (ListForm.can_set_grouping_column): Nov
	metoda.
	(ListForm.can_set_grouping): Metoda zruena.
	(ListForm._init_attributes): Nov argument `grouping'.
	Inicializuj `self._grouping'.
	(ListForm._default_grouping): Metoda zruena.
	(ListForm._default_sorting): Metoda zruena.
	(ListForm._update_grid): Pouvej `self._grouping' namsto
	`self._lf_grouping'.
	(ListForm._on_label_right_down): Pkazu
	`ListForm.COMMAND_SET_GROUPING_COLUMN' pedvej slo, ne id
	sloupce jako argument.
	(ListForm._on_label_paint): Pouvej `self._grouping' namsto
	`self._lf_grouping'.
	(ListForm._on_reload_form_state): Reinicializuj `self._grouping'.
	Volej metodu pedka.
	(ListForm.on_command): Pkaz
	`ListForm.COMMAND_SET_GROUPING_COLUMN' obsluhuj volnm
	`self._set_grouping_column()', ne `self._refresh()'.
	(ListForm._set_grouping_column): Nov metoda.
	(ListForm._refresh): Nestarej se zde vbec o grouping.  Zapamatuj
	si tdn jako uivatelsk nastaven.
	(ListForm._init_attributes): Neinicializuj sloupce ani grouping
	zde, volej `self._init_columns()', `self._init_grouping(grouping)'
	a tak `self._init_column_widths()'.  Inicializuj
	`self._check_default_columns'.
	(ListForm._init_columns, ListForm._init_column_widths)
	(ListForm._init_grouping): Nov metody.
	(ListForm._column_width): Pouvej slovnk uloen v
	`self._column_widths'.
	(ListForm._update_grid): Pouvej `self._init_columns()'.
	(ListForm._on_idle): Pokud je nastaveno
	`self._check_default_columns', zkontroluj zmnu pmo zde.
	(ListForm._remember_column_size): Pouvej slovnk uloen v
	`self._column_widths'.
	(ListForm._on_reload_form_state): Pouvej `self._init_grouping()'
	a `self._init_column_widths()'.
	(ListForm._set_grouping_column): Ukldej nastavenou hodnotu jako
	uivatelsk nastaven.
	(ListForm._update_grid): Ujisti se, e `inserted_column_index' je
	v rozumnch mezch.
	(ListForm._displayed_columns_menu): Nov meotda.
	(ListForm._column_context_menu): Nov meotda.
	(ListForm._on_label_right_down): Vyuvej tyto metody.  Pokud jsme
	mimo sloupce, zobrazuj pouze menu pro zobrazen/skryt sloupc
	(ListForm._on_label_left_down, ListForm._on_label_left_up):
	Oetuj situaci, kdy bylo kliknuto mimo sloupce.
	(ListForm._on_toggle_column): Umoni skrt sloupec, by je
	poslednm zobrazenm sloupcem v gridu.
	(ListForm._resize_columns): Ueti nulovou celkovou ku pi
	skryt vech sloupc.
	(ListForm.current_row): Nov metoda.
	(ListForm._on_filter): Metoda zruena.

2006-01-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_application_state): Nov volba.

	* lib/pytis/form/form.py (RecordForm._on_import_interactive): Nov
	metoda.
	(RecordForm.on_command): Oetuj pkaz
	`BrowseForm.IMPORT_INTERACTIVE'.
	(EditForm._inserted_row, EditForm.__init__): Vyuvej ji.
	(PopupEditForm._init_attributes): Nov argument `inserted_data'.
	Inicializuj `self._inserted_data' a `self._inserted_data_pointer'.
	(PopupEditForm._create_status_bar_field): Nov metoda.
	(PopupEditForm._create_status_bar): Vyuvej ji.
	(PopupEditForm._inserted_row): Nov metoda.
	(PopupEditForm._on_cancel_button): Nov metoda.
	(PopupEditForm._on_next): Pejmenovno na `_on_next_button'.
	(PopupEditForm._on_next_button): Vyuvej `self._inserted_row()'.
	(PopupEditForm._buttons): Vyuvej `self._on_cancel_button'.
	`_on_next' -> `_on_next_button'.
	(PopupEditForm.set_status): Vyuvej vechna polka stavovho
	dku.
	(PopupEditForm._init_attributes): Doplnn docstring.  Zruen
	argument `disable_next_button'.
	(PopupEditForm._create_status_bar_field): Nov arguemnt `descr'
	(PopupEditForm._create_status_bar): Pouvej ho.  Vytvej polko
	`progress' pouze pokud mme `inserted_data'.
	(PopupEditForm._inserted_row): prava zprvy v dialogu.
	(PopupEditForm._on_skip_button): Nov metoda.
	(PopupEditForm._buttons): Nepouvej `self._disable_next_button'.
	Pokud mme `inserted_data', pidvej tak tlatko "Peskoit".
	(Form._init_attributes): Nastavuj `self._form_state' podle
	konfigurace a kopruj poten hodnotu do `self._initial_form_state'.
	(Form._get_state_param, Form._set_state_param) 
	(Form._unset_state_param): Pracuj jen s `self._form_state'.
	(Form._on_reload_form_state): Nov metoda.
	(Form.on_command): Oetuj pkaz `Form.COMMAND_RELOAD_FORM_STATE'.

	* lib/pytis/form/list.py (BrowseForm._on_import_interactive): Metoda
	zruena.
	(BrowseForm.on_command): Neoetuj pkaz
	`BrowseForm.IMPORT_INTERACTIVE'.
	(ListForm._on_label_drag_size): Penastav velikost gridu.
	(ListForm._column_width, ListForm._remember_column_size): Uloen
	ky sloupc pevdj ped pouitm na slovnk.
	(ListForm._update_grid): Nov argument `soft_reset_columns'.
	(ListForm._remember_column_size): Ukldej ky jako tuple dvojic
	pevoditeln na slovnk.
	(ListForm._on_reset_columns): Nov metoda.

	* lib/pytis/form/commands_.py: `BrowseForm.COMMAND_IMPORT_INTERACTIVE'
	-> `RecordForm.COMMAND_IMPORT_INTERACTIVE'.  Nov pkaz
	`Form.COMMAND_RELOAD_FORM_STATE'.
	

	* lib/pytis/form/application.py (Application.new_record): Nov
	argument `inserted_data'.
	(Application.OnInit): Ulo seznam posledn otevench formul do
	`self._recent_forms'.  Nenetel je z `config.form_state', ale
	`config.application_state'.
	(Application._recent_forms_menu_items, Application.on_command)
	(Application.can_clear_recent_forms)
	(Application._update_recent_forms): Zde pracuj u pouze se
	`self._recent_forms', ne s konfiguran volbou.
	(Application._set_form_state): Pejmenovno na
	`Application._post_init_form'.
	(Application._write_config): Nepokouej se vyadit volby, kter
	pedtm nebyly uloeny.
	(Application.run_form): `state_kwargs' -> `post_init_kwargs',
	`self._set_form_state' -> `self._post_init_form'.

2006-01-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.CALL_SKIP_NAVIGATION):
	Update docstringu.
	(InputField._skip_navigation_callback.cb): Hodnotu argumentu pro
	callback `CALL_SKIP_NAVIGATION' pedvaj jako `back', ne
	`forward'.
	(Invocable.on_command): Namsto oetovn
	`COMMAND_INVOKE_SELECTION_ALTERNATE' pedvej argumenty pro
	`COMMAND_INVOKE_SELECTION'.

	* lib/pytis/form/dualform.py
	(BrowseDualForm._set_main_form_callbacks): Nastavuje callback
	`CALL_ACTIVATION' na `self._on_main_activation()'.
	(BrowseDualForm._on_show_record): Metoda zruena.
	(BrowseDualForm._on_main_activation): Nov metoda.

	* lib/pytis/form/screen.py (CallbackHandler._run_callback): Nov
	argument `kwargs' pedvej callbackov funkci jako klov argumenty.

	* lib/pytis/form/form.py (LookupForm._on_search): Zruen argument
	`show_dialog'.  Vchoz hodnota `direction' nech je None.  Zobraz
	dialog jen pokud nen uren smr, nebo nebyla zadna podmnka.
	(LookupForm.on_command): Neoetuj zruen pkazy
	`COMMAND_SEARCH_NEXT' a `COMMAND_SEARCH_PREVIOUS' a pi vyvoln
	`COMMAND_SEARCH' pedvej vechny argumenty.
	(RecordForm.on_command): Neoetuj `COMMAND_NEW_RECORD_COPY'.  Pi
	oetovn `COMMAND_NEW_RECORD' pedvej callbacku arguemnty.
	(EditForm._navigate): Arguemnt `forward' nahrazen argumentem `back'.
	(EditForm.on_command): Namsto oetovn `COMMAND_NAVIGATE_BACK'
	pedvej argumenty pi vyvoln `COMMAND_NAVIGATE'.

	* lib/pytis/form/command.py (Command.__call__): Nov metoda.

	* lib/pytis/form/dialog.py (GenericDialog.__init__): `self._buttons'
	pejmenovno na
	(GenericDialog._create_buttons): `self._button_labels' ->
	`self._button_label_dict'.  `self._buttons' ->
	`self._button_labels'.  Ukldej taltka do `self._buttons'.
	(GenericDialog._can_commit): Vdy vracej `False'.
	(GenericDialog._button_label): `self._button_labels' ->
	`self._button_label_dict'.
	(GenericDialog._commit_dialog): Pokud jde o tlatko, simuluj jeho
	stisk i kdy `force' nen pravda.
	(GenericDialog.on_command): Neoetuj zruen pkaz
	`COMMAND_FORCE_COMMIT_DIALOG'.  Pedvej voln
	`self._commit_dialog()' argumenty.

	* lib/pytis/form/list.py (ListForm._resize_column): Zruen argument
	`col' - pracuj automaticky s aktulnm sloupcem.
	(ListForm._move_column): Nov metoda.
	(ListForm.can_move_column): Nov metoda.
	(ListForm.on_command): Oetuj nov pkaz `MOVE_COLUMN'.  Namsto
	pkaz `ENLARGE_COLUMN' a `CONTRACT_COLUMN' nyn oetuj pouze
	`RESIZE_COLUMN'.
	(ListForm.can_show_cell_codebook): Kosmetick zmna.
	(ListForm.on_command): Zde neoetuj dn vyhledvac pkazy.
	(BrowseForm._on_import_interactive): Oprava slovn dk.
	(ListForm.CALL_ALTERNATE_ACTIVATION): Konstanta zruena.
	(ListForm.__init__): Nastavuj callback `CALL_ACTIVATION' na
	`self._on_activation()'.
	(ListForm._on_activation): Nov metoda.
	(ListForm.on_command): Namsto oetovn
	`COMMAND_LINE_SOFT_ROLLBACK' pedvej argumenty pi voln
	`COMMAND_LINE_ROLLBACK.  Namsto oetovn
	`COMMAND_ACTIVATE_ALTERNATE' pedvej argumenty pi voln
	`COMMAND_ACTIVATE'.  `COMMAND_ACTIVATE' oetuj vyvolnm
	callbacku s pslunmi argumenty.  Namsto oetovn
	`COMMAND_FULL_INCREMENTAL_SEARCH' pedvej argumenty pi voln
	`COMMAND_INCREMENTAL_SEARCH'.  Namsto oetovn
	`COMMAND_NEW_LINE_AFTER', `COMMAND_NEW_LINE_AFTER_COPY',
	`COMMAND_NEW_LINE_BEFORE' a `COMMAND_NEW_LINE_BEFORE_COPY' oetuj
	`COMMAND_NEW_LINE' a pedvej arguemnty.
	(ListForm._on_activation): Metoda zruena.
	(ListForm._on_alternate_activation): Metoda zruena.
	(ListForm._on_incremental_search): Nech je arguemnt `full'
	klov.
	(ListForm._on_insert_line): Argumnet `after' nahrazen argumentem
	`before'.
	(CodebookForm.__init__): Nenastavuj callback `CALL_ACTIVATION'.
	(CodebookForm._on_activation): Definuj klov argumenty `key' a
	`alternate'.
	(BrowseForm.__init__): Metoda zruena.
	(BrowseForm._context_menu): Namsto `COMMAND_ACTIVATE_ALTERNATE'
	pouvej `COMMAND_ACTIVATE' s argumentem `alternate'.

	* lib/pytis/form/application.py (Application): Nzev i formt
	specifikan funkce `command_keys' zmnn.  Nov nzev je `keymap'
	a poloky definuj navc tak argumenty pkazu, piem definice
	klvesy je nyn na prvnm mst.
	(Application.OnInit): Pokud je pkaz definovan v
	`DEFAULT_KEYMAP', nebo `FORM_COMMAND_MENU' sekvenc, povauj tuto
	sekvenci za dvojici (COMMAND, ARGS).

	* lib/pytis/form/commands_.py: Pkazy `ENLARGE_COLUMN' a
	`CONTRACT_COLUMN' nahrazeny jednm `RESIZE_COLUMN'.  Nov pkaz
	`MOVE_COLUMN'.  Zrueny pkazy `FORCE_COMMIT_DIALOG',
	`SEARCH_PREVIOUS' a `SEARCH_NEXT'.
	Pkazy `NEW_LINE_AFTER', `NEW_LINE_AFTER_COPY', `NEW_LINE_BEFORE'
	a `NEW_LINE_BEFORE_COPY' nahrazeny jendm `NEW_LINE' a argumenty
	`before' a `copy'.  Pkaz `NEW_RECORD_COPY' nahrazen arguemntem
	`copy' pkazu `NEW_RECORD'.  `ACTIVATE_ALTERNATE' nahrazen
	argumentem `alternate' pkazu
	`ACTIVATE'. `FULL_INCREMENTAL_SEARCH' nahrazeno arguemntem `full'
	pkazu `INCREMENTAL_SEARCH'. `LINE_SOFT_ROLLBACK' nahrazeno
	arguemntem `soft' pkazu `LINE_ROLLBACK'.  `NAVIGATE_BACK'  nahrazeno
	arguemntem `back' pkazu `NAVIGATE'.
	`INVOKE_SELECTION_ALTERNATE'  nahrazeno
	arguemntem `alternate' pkazu `INVOKE_SELECTION'.
	(DEFAULT_COMMAND_KEYS): Konstanta zruena.
	(DEFAULT_KEYMAP): Nov konstanta s novm formtem podle zmn v
	`application.py' a s vyuitm argument pkaz.
	(FORM_COMMAND_MENU): Vyuvej definice pkaz vetn argument.
	

2006-01-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (DBConfig.__init__): Ukldej datov
	objekt do cache pouze pokud se ho skuten podailo vytvoit.

2006-01-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._lf_sfs_columns): Nepedvej
	funkci `sfs_columns()' `labelfunc' ani `widthfunc'.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Nov argument
	`row_style'.
	(ViewSpec.row_style): Nov metoda.
	(FieldSpec.__init__): Vchoz hodnotou argumentu `style' nech je
	`None'.

	* lib/pytis/form/configui.py (_LAYOUT): Pidna tak volba
	`grouping_background_downgrade'.

	* lib/pytis/form/list.py (ListForm._GROUPING_BACKGROUND_DOWNGRADE):
	Konstanta zruena.
	(ListForm._init_attributes): Pokud dolo ke zmn sloupc ve
	specifikaci, nastav `self._default_columns_changed'.  Inicializuj
	atribut `self._mouse_dragged' na `False'.
	(ListForm._create_grid): Pedvej konstruktoru `ListTable'
	argument `row_style'.
	(ListForm._update_grid): Pi `reset_columns' ma zapamatovan
	uivatelsk nastaven sloupc.
	(ListForm._on_idle): Pokud je nastaveno
	`self._default_columns_changed', zobraz dialog s upozornnm na
	zmny ve specifikaci sloupc a zeptej se, zda uivatel chce
	sloupce resetovat.
	(ListForm._on_label_left_down): Poni petahovn sloupce pouze
	pokud uivatel kliknul dostaten daleko od rozhran sloupc.
	Nuluj `self._mouse_dragged'.
	(ListForm._on_label_left_up): Prove tdn pouze pokud nedolo k
	popotaen myi.
	(ListForm._on_label_mouse_move): Netestuj `event.Dragging()'.
	(ListForm._on_label_mouse_move): Nastavuj `self._mouse_dragged'.
	(SideBrowseForm._default_columns): Vracej tuple.
	(ListForm._scroll_x_offset): Nov metoda.
	(ListForm._on_label_right_down, ListForm._on_label_left_down) 
	(ListForm._on_label_left_up, ListForm._on_label_mouse_move) 
	(ListForm._on_label_paint): Vyuvej ji.
	(ListForm._lf_sfs_columns): Nov metoda.

	* lib/pytis/form/_grid.py (ListTable.__init__): Nov argument
	`row_style'.  Inicializuj `self._grouping_background_downgrade'.
	(ListTable._group_bg_downgrade): Nov metoda.
	(ListTable.update): Pepotej
	`self._grouping_background_downgrade'.
	(ListTable.close): Nuluj tak `self._current_row',
	`self._row_style' a `self._grouping_background_downgrade'.
	(ListTable._cached_value): Pokud grouping column nen v columns,
	stejn nacachuj jeho hodnotu.  Vypoti tak `row_style' pokud jde
	o funkci.
	(ListTable.GetAttr): Pokud je styl None, zkus pouij `row_style'.
	Pouvej `self._grouping_background_downgrade' namsto
	`ListForm._GROUPING_BACKGROUND_DOWNGRADE'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_grouping_background_downgrade._DEFAULT):
	Pozmnna vchoz hodnota.

	* lib/pytis/form/search.py (SFDialog._selected_condition): Nezjiuj
	sloupec podle labelu, ale podle poad.
	(SFDialog._on_suck): Uruj sloupec podle poad, ne podle labelu.
	(sfs_columns): Zruen argument `widthfunc'.  Vynechvej sloupeky
	bez labelu.

	* lib/pytis/form/dialog.py (GenericDialog._commit_dialog): Don't end
	the dialog.  Rather simulate a button click.

2006-01-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (get_menu_defs): Vynechvej poloky
	tkajc se konfigurace.

2006-01-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Inicializuj
	klvesovou mapu ped natnm konfigurace.

2006-01-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._selected_condition): Validuj
	hodnoty s nastavenm `strict=False'.  Pokud dolo k validan
	chyb, vyvolej vjimku.
	(SearchDialog._search, FilterDialog._on_filter): Oetuj vjimky v
	`_selected_condition()'.  Vracej pravdu, pokud k vjimce nedolo.
	(SearchDialog._on_button): Nov metoda.
	(SearchDialog._customize_result): Neprovdj search zde, ponech to
	na `_on_button()'.
	(FilterDialog._on_filter): Oetuj vjimky v
	`_selected_condition()'.  Vracej pravdu, pokud k vjimce nedolo.
	(FilterDialog._on_button): Nov metoda.
	(FilterDialog._customize_result): Neprovdj filtrovn zde,
	ponech to na `_on_button()'.

	* lib/pytis/form/form.py (LookupForm._lf_sfs_columns): Vracej pln
	vechny definovan sloupce.
	(Form._unset_state_param): Nov metoda.

	* lib/pytis/form/application.py (Application._stored_options): Nov
	metoda.
	(Application._read_config): Vyuvej ji.
	(Application._write_config): Ped zapsnm vyma vechny
	existujc volby.
	(Application.OnInit): Vyluuj 'dbconnection' z natench
	konfiguranch voleb.
	(Application._cleanup): Vyluuj 'dbconnection' z ukldanch
	konfiguranch voleb.
	(Application._write_config): Na konci volej jet `wxconfig.Flush()'.
	(Application._write_config): Ma pouze poloky, kter nebyly nastaveny.

	* lib/pytis/form/list.py (ListForm._column_width): Nevyaduj argument
	`grid'.
	(ListForm._create_grid): Neinicializuj `self._total_width'.
	Nenastavuj zde vbec velikosti sloupc.
	(ListForm._update_grid): Nakonci volej `self._resize_columns()'.
	(ListForm._modify_column_width): Pejmenovno na
	`_resize_column()'.  Na konci volej `self._remember_column_size()'
	(ListForm._resize_column): Nov metoda.
	(ListForm._on_idle): Volej callback a hook pouze pokud dek nen
	None.
	(ListForm._on_label_left_up): Nevolej zde `self._on_size()'.
	(ListForm._on_label_drag_size): Nezapamatovvej ku zde, volej
	`self._remember_column_size()'.
	(ListForm._remember_column_size): Nov metoda.
	(ListForm._on_toggle_column, ListForm._on_reset_columns): Nevolej
	zde `self._on_size()'.
	(ListForm.on_command): `_modify_column_width()' ->
	`_resize_column()'.
	(ListForm._resize_columns): Nov metoda.
	(ListForm._on_size): Vyaduj argument event.  Vlastn pepotn
	sloupc pesunuto do `_resize_columns()' a algoritmus pozmnn.
	Zde pouze obstarej ve co souvis s eventem.
	(CodebookForm.__init__): Namsto atributu `self._total_width'
	pouvej metodu `self._total_width()'.

	* lib/pytis/util/configuration.py: 
	(Configuration._Option_stretch_tables): Nov volba.

	* lib/pytis/form/configui.py (_LAYOUT, _LABELS): Pidna poloka pro
	`stretch_tables'.
	(ConfigForm._buttons): Metodu _on_apply() skuten volej.

2006-01-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_mitem): Nov funkce.

	* lib/pytis/extensions/misc.py (DBConfig.__init__): Vytvej
	datov objekt pomoc `db_operation'.

2006-01-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/configui.py (ConfigForm._create_view_spec): Metod
	`Configuration.description()' pedvej nov argument `full'.

	* lib/pytis/util/configuration.py
	(Configuration.Option._DOC, Configuration.Option._DESCR): Nov
	konstanty.
	(Configuration.Option.__init__): Ujisti se, e je definovn popis
	volby.
	(Configuration.Option.description) Nov metoda.
	(Configuration.description): Nov argument `full'.  Namsto
	dokumentanho etzce vyuvej nov metody
	`Configuration.Option.description()'.
	(Configuration._Option_*): Namsto dokumentanho etzce definuj
	konstanty `_DOC' a `_DESCR'.

	* lib/pytis/form/list.py (ListForm._context_menu_handler_args):
	Oetuj ppad, kdy handler nem dn klov argumenty.

	* lib/pytis/form/application.py (Application.OnInit): Vytvo stack
	oken a stavovou dku jet ped natnm konfigurace.

2005-12-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py
	(Command.__init__): Update docstringu.  Pamatuj si dokumentan
	etzec pkazu.
	(Command.doc): Nov metoda.

	* lib/pytis/form/list.py (ListForm._on_insert_line): Oetuj ppad
	przdn tabulky.
	(ListForm.__init__): Na konci nevolej `_select_cell()'.
	(ListForm._is_editable_cell): Pokud se nachzme v editaci, pracuj
	s editovanm dkem.
	(ListForm._find_next_editable_cell): Kosmetick prava.
	(ListForm.on_command): Oetuj nov pkaz
	`COMMAND_CONTEXT_MENU_ACTION'.
	(ListForm._context_menu_handler_args): Nov metoda.
	(ListForm._on_handled_command): Vyuvej ji.
	(ListForm._on_context_menu_action): Nov metoda.
	(ListForm.can_context_menu_action): Nov metoda.

	* lib/pytis/form/application.py
	(Application._RECENT_FORMS_MENU_TITLE): Nov konstanta.
	(Application.OnInit): Read the stored configuration before
	creating the menu.  Nenastavuj aktivace menu oken a pkaz -
	nech jsou vidt vdy.  Po sestaven menu se pokus vyhledat menu
	posledn otevench formul a zapamatuj jej v atributu
	`self._recent_forms_menu'.
	(Application._recent_forms_menu_items): Nov metoda.
	(Application._update_window_menu.wmitem): Vyuvej ji.
	(Application._update_window_menu): Pedvej voln `wmitem()' jen
	slo a formul.
	(Application._update_recent_forms): Nov metoda.
	(Application._recent_forms_menu_items): Nov metoda.
	(Application.run_form): Aktualizuj menu posledn sputnch
	formul.
	(Application.recent_forms_menu): Nov meotda.
	(recent_forms_menu): Nov funkce.
	(Application.on_command): Oetuj pkaz `COMMAND_CLEAR_RECENT_FORMS'.
	(Application.can_clear_recent_forms): Nov metoda.

	* lib/pytis/form/commands_.py: Nov pkaz `COMMAND_CLEAR_RECENT_FORMS'.
	Nov pkaz `COMMAND_CONTEXT_MENU_ACTION'.
	

2005-12-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._STATUS_FIELDS): Nov poloka
	'data-changed'.
	(ListForm._show_data_status): Nov metoda.
	(ListForm.on_data_change, ListForm._refresh, ListForm.focus):
	Volej ji.

	* lib/pytis/form/form.py (PopupEditForm._create_form_parts): Povol
	horizontln expanzi obsahu formule v sizeru.

	* lib/pytis/form/configui.py (_LABELS): Pidny popisky pro volby exportu.
	(_ConfigData): Nov tda.
	(_MemData): Tda zruena.
	(ConfigForm.__init__): Nastavuj `mode' vdy na `MODE_EDIT'.
	Inicializuj select a vyber prvn dek z datovho objektu.
	(ConfigForm._commit_form): Metoda zruena/
	(ConfigForm._on_apply): Nov metoda.
	(ConfigForm._buttons): Vyuvej ji.  Vytvej vsledek skldnm
	tupl a ueti tak pevod na list.

2005-12-23  Tomas Cerha  <cerha@brailcom.org>

	* config/config.py: Aktualizovno.

2005-12-23  Tomas Cerha  <cerha@brailcom.org>

	* config/config.py: Aktualizovno.

2005-12-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (PopupForm._on_parent_close): Testuj, zda ji
	okno nen po smrti.

	* lib/pytis/form/configui.py: Update docstringu.
	(_LAYOUT): Definuj jako tuple dvojic, ne jako slovnk.
	(config_menu_items, ConfigForm._layout): Respektuj to.

	* lib/pytis/form/application.py (Application.run_form): Pokud nen
	Editformu pedn argument select_row, nastavuj `mode' na
	`MODE_INSERT'.
	(Application.new_record): Nenastavuj EditFormu afgument `new', ale
	`mode'.

2005-12-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._create_form_parts): Po vytvoen
	gridu volej self._update_colors()
	(ListForm._update_colors): Nov metoda.
	(ListForm._create_grid): Nenastavuj barvy zde, dlej to v
	`_update_colors()'.
	(ListForm._update_grid): Namsto `_update_label_colors()' volej
	`_update_colors()'.
	(ListForm._update_label_colors): Zruen argument `grid'.  Pouvej
	`self._grid'.

	* lib/pytis/form/inputfield.py: Importuj `wx.lib.colourselect'.
	(ColorSelectionField._create_button):
	Namsto obuyejnho 'wx.Button' vytvej
	`wx.lib.colourselect.ColourSelect'.
	(ColorSelectionField._set_value): Namsto `SetBackgroundColour()'
	volej `SetColour()'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_row_focus_bg_color): Update docstringu.
	(Configuration._Option_grouping_background_downgrade): Nov
	konfiguran volba.
	(Configuration._Option_export_directory) 
	(Configuration._Option_export_encoding): Update docstringu.

	* lib/pytis/form/form.py (PopupEditForm._init_attributes): Arguemnt
	`disable_new_button' pejmenovn na `disable_next_button'.
	(PopupEditForm._create_buttons): `self._disable_new_button' ->
	`self._disable_next_button'.
	(PopupEditForm._buttons): Nov metoda.
	(PopupEditForm._create_buttons): Nenastavuj tlatkm labely.  Tm
	budou vytvoena "Stock Buttons", kter maj label automaticky a
	navc ikonu.  Vytvej tlatka podle informac ze `self._buttons()'.
	(PopupEditForm._create_additional_buttons): Nov metoda.
	(TitledForm._create_title_bar): Tiskov tlatko vytvej bez okraje.
	(PopupEditForm._create_additional_buttons): Zrueno.
	(_on_submit): Zrueno.
	(_on_cancel): Zrueno.
	(PopupEditForm._buttons): Nevyuvej zruen metody a volej
	handler rovnou pomoc `lambda'.

	* lib/pytis/form/application.py (Application.run_form): Nenastavuj
	`mode' na MODE_INSERT, pokud nen konstruktoru EditForm pedn
	argument `select_row'.

	* lib/pytis/form/configui.py (ConfigForm._create_view_spec)
	(ConfigForm._create_data_object): Kosmetick pravy.
	(ConfigForm.__init__): Nov metoda.
	(ConfigForm._create_view_spec.cleanup): Zrueno,
	(ConfigForm._create_view_spec): Nenastavuj polkm `default'.
	(ConfigForm._commit_form): Nov metoda.
	(config_menu_items): Nov funkce.
	(ConfigForm._buttons): Nov metoda.
	(config_menu_items): Doplnn docstring.
	(_LAYOUT): Doplnn layout `export'.

2005-12-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (ConfigDB): Nov tda (pesunuto z
	pytis).
	(DBConfig): Nov tda.
	(ConfigDB): Bu potomkem `DBConfig'.  Pozor, rozhran je lehce
	pozmnno.
	(saved_config_reader, saved_config_writer): Nov funkce.
	(cfg_param): Nechachuj datov objekty zde, ale vyuvej `DBConfig'.
	(ConfigDB.__setitem__): Nov metoda.
	(DBConfig): Bu potomkem `object'.
	

2005-12-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/__init__.py (Module): Importuj `configui'.

	* lib/pytis/form/configui.py (Module): Nov modul.

	* lib/pytis/form/list.py (CodebookForm._on_idle): Pokud poadovan
	sloupec pro `begin_search' nen v columns, nepokouej se
	nastartovat inkrementln vyhledvn a tuto skutenost loguj.
	(ListForm._init_attributes): Pokus se nast seznam sloupc z
	upoench parametr.
	(ListForm._column_width): Pokus se zjistit ku sloupce z
	uloench parametr.
	(ListForm._update_grid): Pokud dolo ke zmn poad nebo potu
	sloupc, ukldej seznam sloupc do stavovch parametr.
	(ListForm._on_label_drag_size): Ukldej novou velikost sloupce do
	stavovch parametr.
	(ListForm._on_size): Neignoruj sloupce s nulovou velikost ve
	specifikaci.
	(ListForm._on_label_paint): Titulek sloupce zjiuj pes
	`column_label', nikoli `label'.

	* lib/pytis/form/application.py: Importuj `cPickle' jako `pickle'.
	(Application): Aktualizovn docstring.
	(Application.OnInit): Udlost uzaven hlavnho okna aplikace
	oetuj volnm `self._on_frame_close()'.  Natej a obnovuj
	konfiguraci z externho zdroje.
	(Application._spec): Argument `default_value' pejmenovn na
	`default'.  Vechny ppadn klov argumenty pedvej metod
	`get()' resolveru.
	(Application._config_name, Application._on_frame_close)
	(Application._read_config, Application._write_config)
	(Application._cleanup): Nov metody.
	(Application.exit): Veker ukonovac akce pesunuty do
	`_cleanup()'.  Zde pouze zavi hlavn okno.
	

	* lib/pytis/form/form.py (Form._form_state_key) 
	(Form._get_state_param, Form._set_state_param): Nov metody.

	* lib/pytis/util/resolver.py (ResolverModuleError.__init__): Zprvu
	pedvej pedkovi jako etzec, ne tuple.
	(ResolverSpecError): prava docstringu.
	(ResolverSpecError.__init__): Zprvu pedvej pedkovi jako
	etzec, ne tuple.

	* lib/pytis/util/configuration.py (Configuration.Option.init_value):
	Nastavuje tak `self._initial_value'.
	(Configuration._Option_form_state): Bu potomkem `Option', nikoli
	`_StringOption'.
	(Configuration._Option_startup_forms._DEFAULT): Vchoz hodnotou
	nech je przdn slovnk, nikoli None.
	(print_options): Zrueno.
	(Configuration.options, Configuration.description) 
	(Configuration.type, Configuration.changed): Doplnn docstring.
	(ConfigDB): Zrueno (pesunuto do pytis-extensions).
	(Configuration.Option.init_value, Configuration.Option.set_value):
	Do `self._initial_value' ukldej vdy kopii hodnoty.

2005-12-20  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_body): Msto 'plpython'
	pouvej 'plpythonu'.

2005-12-20  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_body): Msto 'plpython'
	pouvej 'plpythonu'.

2005-12-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (HGroup, VGroup, LHGroup, LVGroup):
	Tdy zrueny (zahrnuty do Pytis).

2005-12-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	`pytis.data.Value' -> `Value'.
	(DBColumnBinding.__init__): Aktualizovn docstring.

	* lib/pytis/presentation/spec.py: 
	(HGroup, VGroup, LHGroup, LVGroup): Nov tdy.
	(ViewSpec.__init__): Aktualizovn docstring.  Pi vpotu vchoz
	hodnoty pro `columns' vynechvej sloupce s `column_width' rovnm nule.
	(ViewSpec.field): Aktualizovn docstring.

	* lib/pytis/util/configuration.py (Configuration.Option._OPTION):
	Konstanta zruena.
	(Configuration.Option._CMDLINE): Nov konstanta.
	(Configuration.Option._LONG_OPTION): Nov konstanta.
	(Configuration.Option.__init__): Inicializuj tak
	`self._initial_value'.
	(Configuration.Option.name): Nov metoda.
	(Configuration.Option.set_value): Nov nepovinn argument
	`initialization'.  Pokud je pravdiv, penastav tak
	`self._initial_value'.
	(Configuration.Option.changed): Nov metoda.
	(Configuration.Option.long_option): Pokud nen definovno
	`_LONG_OPTION', vytvej argument pro 'getopt' automaticky podle
	typu.
	(Configuration.Option.type): Nov metoda.
	(Configuration._StringOption, Configuration._BooleanOption)
	(Configuration._ColorOption, Configuration._NumericOption): Nov
	tdy.
	(Configuration._FileOption): Bu potomkem `_StringOption'.
	(Configuration._HiddenOption, Configuration._CommandlineOption):
	Nov tdy.
	(Configuration._Option_*): Vyuvej novch td k uren typu
	kad volby a dalch parametr.
	(Configuration._Option_form_state): Nov konfiguran volba.
	(Configuration._parse_command_line_options): Pouvej "list
	comprehension" namsto map a filter.
	(Configuration._read_configuration_file): Pi voln
	`Option.set_value()' nastavuj `initialization' na True.
	(Configuration.serial_number): Metoda zruena.
	(Configuration.options, Configuration.description, Configuration.type) 
	(Configuration.changed): Nov metody.

	* lib/pytis/form/inputfield.py (CodebookField._on_invoke_selection):
	Pokud je `alternate' True, nastavuj `begin_search' na
	`value_column' enumertoru.

2005-12-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.Option.HIDDEN)
	(Configuration.Option.VISIBLE,
	Configuration.Option.COMMENTED_OUT): Konstanty zrueny.
	(Configuration.Option._DEFAULT) 
	(Configuration.Option._DEFAULT_STRING) 
	(Configuration.Option._OPTION, Configuration.Option._ENVIRONMENT) 
	(Configuration.Option._VISIBLE): Nov konstanty.
	(Configuration.Option.long_option): Jako vchoz hodnotu pouvej
	konstantu `_OPTION'.
	(Configuration.Option.environment): Jako vchoz hodnotu pouvej
	konstantu `_ENVIRONMENT'.
	(Configuration.Option.default): Jako vchoz hodnotu pouvej
	konstantu `_DEFAULT'.
	(Configuration.Option.default_string): Jako vchoz hodnotu pouvej
	konstantu `_DEFAULT_STRING', pokud nen `None'.
	(Configuration.Option.visible): Jako vchoz hodnotu pouvej
	konstantu `_VISIBLE'.
	(Configuration._Option_*): Pokud to lze, pedefinovvej pouze
	pslun konstanty namsto metod `default', `default_string',
	`visible', `long_option' a `environment'.
	(Configuration.dump_config_template): S nvratovou hodnotou
	`Option.visible()' pracuj jako s boolean pznakem.  Volby kter
	nejsou skryt jsou vdy zakomentovan.

	* lib/pytis/form/dialog.py (Calendar._COMMIT_BUTTON)
	(BugReport._COMMIT_BUTTON): Nov konstanty.
	(GenericDialog._can_commit): Testuj zda jde o tlatko pomoc
	`self._button_label()'.

2005-12-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: Nov paz `COMMAND_FORCE_COMMIT_DIALOG'.
	(DEFAULT_COMMAND_KEYS): Nov klvesa pro `COMMAND_FORCE_COMMIT_DIALOG'.

	* lib/pytis/form/search.py (_COMMIT): Konstanta zruena.
	(SFDialog._commit_dialog): Metoda zruena.
	(SearchDialog._COMMIT): Pejmenovno na `_COMMIT_BUTTON'.
	(FilterDialog._COMMIT): Pejmenovno na `_COMMIT_BUTTON'.
	(SortingDialog._COMMIT): Pejmenovno na `_COMMIT_BUTTON'. 
	(SortingDialog._commit_dialog): Metoda zruena.

	* lib/pytis/form/dialog.py (BugReport._close_dialog): Nevyaduj dn
	argumenty.
	(Dialog._COMMIT_BUTTON): Nov konstanta.
	(GenericDialog._can_commit): Testuj rovnou ptomnost widgetu v
	`self._buttons', ne jeho wx id ve slovnku id.
	(_commit_dialog): Nov argument 'force'.
	(GenericDialog.on_command): Oetuj pkaz
	`COMMAND_FORCE_COMMIT_DIALOG'.
	(InputDialog._COMMIT_BUTTON): Nov konstanta.

	* lib/pytis/util/configuration.py
	(Configuration._Option_config_file.environment): `EBASCONFIG' ->
	`PYTISCONFIG'.
	(Configuration._Option_def_dir.environment): `EBASDEFDIR' ->
	`PYTISDEFDIR'.
	(Configuration._Option_doc_dir.environment): `EBASDOCDIR' ->
	`PYTISDOCDIR'.

	* lib/pytis/form/list.py (ListForm._on_toggle_column): Kontroluj
	mazn poslednho sloupce pouze pokud jde skuten o mazn...

2005-12-15  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Doplnn argument 'with_oids'.
	(_GsqlDefs.get_connection): Nov metoda.
	(_GsqlDefs.update_view): Nov metoda.

2005-12-15  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Doplnn argument 'with_oids'.
	(_GsqlDefs.get_connection): Nov metoda.
	(_GsqlDefs.update_view): Nov metoda.

2005-12-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: Nov pkaz `COMMAND_RESET_COLUMNS'.

	* lib/pytis/form/screen.py (MItem.create): Kosmetick pravy.
	(CheckItem.state): Nov metoda.
	(CheckItem._on_ui_event): Vyuvej ji.
	(Menu.create): Pednastav `state' poloek typu `RadioItem',
	`CheckItem'.

	* lib/pytis/form/_grid.py (ListTable.__init__): Neinicializuj
	`self._TYPE_MAPPING' zde.
	(ListTable.__init__): Namsto prochzen sloupc zde volej
	`self._update_columns()'.
	(ListTable._wx_type): Nov metoda.  Zde inicializuj
	`self._TYPE_MAPPING'.
	(ListTable._update_columns): Nov metoda.  Namsto `self._column_info'
	inicializuj `self._columns'.
	(ListTable.update): Nov argument `columns'.  Aktualizuj pokad
	mnoinu sloupc.
	(ListTable._cached_value, ListTable.column_id) 
	(ListTable.column_label, ListTable.GetValue, ListTable.GetValue) 
	(ListTable.SetValue, ListTable.GetTypeName, ListTable.GetAttr):
	namsto `self._column_info' pouvej `self._columns'.

	* lib/pytis/form/dualform.py
	(PostponedSelectionDualForm._on_main_selection): Skuten oetuj
	pkpad, kdy `row' je None.
	
	* lib/pytis/form/list.py (ListForm._init_attributes): Nenastavuj zde
	`_orig_columns' ale rovnou `_columns'.  Do `_columns' dej pouze
	viditeln sloupce.  Inicializuj atributy `_column_to_move' a
	`_column_move_target'.
	(ListForm._create_grid): Nenastavuj zde `_columns'.  Pedvej
	`_columns' konstruktoru `ListTable'.  Nastav md vbru v gridu na
	vbr dk.  Namsto `wx.grid.EVT_GRID_LABEL_LEFT_CLICK' oetuj
	`wx.EVT_LEFT_DOWN' a `wx.EVT_LEFT_UP'.  Nzvy handler udlost
	pejmenovny podle konzistentjho schematu - viz dle.  Oetuj
	tak `wx.grid.EVT_GRID_COL_SIZE' a `wx.EVT_MOTION'.
	(ListForm._update_grid): Nov argumenty `delete_column',
	`insert_column' a `inserted_column_index'.
	(ListForm._update_grid.notify): Nov funkce.
	(ListForm._update_grid): Vyuvej ji.  Provdj tak skrvn a
	zobrazovn sloupc a souvisejc pravy v `_columns'.
	(_on_label_left): Zrueno.  azen je nyn provdno v rmci
	`_on_label_left_up', ale jen pokud nejde o pesun sloupce.
	(_on_column_header_paint): Pejmenovno na `_on_label_paint'.
	(_on_label_paint): Nov metoda.  Krom toho, co bylo dve v
	`_on_column_header_paint' tak vykresluj ipeku pi pesunu
	sloupce a trojhelnk indikujc tdn kresli o kousek vt.
	(ListForm._on_label_right_down): Nov poloky pro skrvn a
	zobrazovn sloupc.  Nenastavuj pozici menu run -- penech to
	na wx.  Respektuj zmnu typu oetovanho eventu
	`wx.grid.EVT_GRID_LABEL_LEFT_CLICK' -> `wx.EVT_LEFT_DOWN'.
	(ListForm._on_label_left_down): Nov metoda.
	(ListForm._on_label_left_up): Nov metoda.
	(ListForm._on_label_mouse_move): Nov metoda.
	(ListForm._on_label_drag_size): Nov metoda.
	(ListForm._on_toggle_column): Nov metoda.
	(ListForm.on_command): Oetuj `ListForm.COMMAND_TOGGLE_COLUMN'.
	(ListForm._on_delete_record): prava komente.
	(ListForm._on_size): Nevyaduj arguemnt `event'.  Pokud nen
	pedn, pepotej ve bez ohledu na to, zda se zmnila celkov
	velikost.
	(ListForm.Close): Zavrej editor, pouze pokud jet ije.
	(CodebookForm): Upraven docstring.
	(SideBrowseForm._init_attributes): Nenastavuj `_orig_columns'.
	Zapamatuj si vazebn sloupec v atributech.
	(SideBrowseForm._default_columns): Nov metoda.  Zde provdj
	skryt vazebnho sloupce.
	(ListForm._on_label_right_down): V menu sloupc zobrazuj pln
	vechna polka z fields.
	(ListForm._update_grid): Nov argument `reset_columns'.
	(ListForm._on_label_right_down): Pidna poloka pro vrcen
	vchozch sloupc.
	(ListForm._on_reset_columns): Nov metoda.
	(ListForm.on_command): Oetuj pkaz `COMMAND_RESET_COLUMNS'.

2005-12-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (ListTable.__init__): Pdn assert na
	argument `columns' a kad jeho prvek.  Naopak odebrn assert na
	styl zskan z FieldSpec().

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Pidn assert
	na `style'.

	* lib/pytis/form/application.py (Application.refresh): Pracuj s
	aktivnm oknem, nikoli s poslednm oknem na zsobnku.

2005-12-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.__init__): Neinicializuj
	atribut `self._window_menu_item'.
	(Application._update_window_menu): Neukldej poloky menu do 
	`self._window_menu_item' a vyuvej funkce `state' pedan
	konstruktoru `RadioItem'.

	* lib/pytis/form/screen.py (MItem): Bu potomkem `object'.
	(MItem._WX_KIND): Nov konstanta.
	(MItem._wx_kind): Metoda zruena
	(MItem.create): Pouvej `_WX_KIND' namsto `_wx_kind()'.
	(RadioItem): Bu potomkem CheckItem.
	(CheckItem): Nov tda.

	* lib/pytis/form/command.py: Update docstringu.

	* lib/pytis/form/__init__.py: `_commands' -> `commands_'.

	* lib/pytis/form/_commands.py: Pejmenovno na `commands_.py'.

	* lib/pytis/form/dualform.py
	(PostponedSelectionDualForm._on_main_selection): Oetuj tak
	pkpad, kdy `row' je None.

	* lib/pytis/presentation/field.py (PresentedRow.__getitem__): Nastav
	dirty na False jet ped volnm pepotvac funkce a umoni
	tak zjitn pvodn hodnoty (ped pepotnm) v jejm prbhu.

	* lib/pytis/form/list.py (ListForm._modify_column_width): Aktualizuj
	tak velikost celho gridu a tm i scrollbary.  Pokud je vypotn
	nov ka zporn, nedlej nic.
	(ListForm._filter_by_cell): Filtruj pouze pokud se zda pidn
	podmnky do dialogu.  Pokud ne, zobraz chybovou zprvu.
	

	* lib/pytis/form/search.py (SFDialog.append_condition): Pokud sloupec
	nen v sfs_columns, vra False, jinak vracej True.
	(SFDialog.append_condition): Testuj ptomnost v sfs_columns hned
	na zatku.  Nastavuj sprvn hodnoty urujc typ spojovacho
	opertoru pi konstrukci widget.  Zruen argument `and_'.
	

2005-12-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._on_delete_record): Pedvej
	vsledek 'on_delete_record' pes nvratovou hodnotu funkce
	'blocked_code'.

2005-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (user_cmd): Nov argument
	`block_refresh_'.

2005-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py
	(GenericCodebookField._run_codebook_form): Nepedvej formuli
	argument 'columns'.
	(GenericCodebookField.__init__): Neoetuj `AttributeError' pi
	zskvn specifikace selnku.

	* lib/pytis/form/list.py (ListForm._modify_column_width): Nov metoda.
	(ListForm.on_command): Oetuj pkazy `COMMAND_ENLARGE_COLUMN' a
	`COMMAND_CONTRACT_COLUMN'.
	(ListForm._default_columns): Nov metoda.
	(ListForm._init_attributes): Pouvej ji.
	(CodebookForm._init_attributes): Natej specifikaci
	`CodebookSpec' a ukldej ji do atributu `_cb_spec'.
	(CodebookForm._default_columns): Nov metoda.
	(CodebookForm._default_sorting): Vyuvej `self._cb_spec'.

	* lib/pytis/form/_commands.py: Nov pkazy `COMMAND_ENLARGE_COLUMN' a
	`COMMAND_CONTRACT_COLUMN'.

	* lib/pytis/form/search.py (FilterDialog.__init__): Zrueno.
	(SFDialog.run): Nov argumenty `data' a `filter'.

	* lib/pytis/form/form.py (LookupForm.can_sort_column): Pro cyklick
	pepnn smru tdn vracej vdy pravdu.
	(LookupForm._lf_sf_dialog): Konstruktoru FilterDialog nepedvej
	datov objekt ani aktuln podmnku.
	(LookupForm._on_filter): Pedvej datov objekt a aktuln
	podmnku voln `run_dialog()'.

	* lib/pytis/form/application.py (Application.run_procedure): Argumett
	`block_refresh' pejmenovn na `block_refresh_'.

2005-12-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_commands.py: Nov pkazy `ListField.COMMAND_SELECT' a
	`ListField.COMMAND_SHOW_SELECTED'.

	* lib/pytis/form/application.py (Application.run_procedure): Nov
	argument `block_refresh'.
	(block_refresh): Pedvej vechny argumenty.

	* lib/pytis/form/inputfield.py (ListField._create_ctrl): Neuetuj
	udlost zruen vbru.  Oetuj aktivaci poloky.  Nenastavuj
	`self._last_deselected_item'.
	(ListField._on_deselect): Zrueno.
	(ListField._on_select): Vbr hned zase zru.
	(ListField._on_activation): Nov metoda.  Zde provdj vbr
	aktivivan poloky.
	(ListField._load_list_data): Pokud v novch datech nen minul
	poloka, nevybrej nic.
	(ListField._selected_item): Metoda zruena.  Nyn vystame se
	stejnojmennm atributem.
	(ListField._set_selection): Namsto nastavovn vbru prostedky
	ListCtrl pouze zm barvu pozad vybranho polka zapamatuj si
	jeho index v `self._selected_item' a nastav mu focus.  Tm
	umonme nezvislost aktuln buky (na kter je focus) a
	vybran/zvraznn buky.
	(ListField._set_value): Pokud jsou data dirty, penati je.
	Zpehlednno.
	(ListField.get_value, ListField.can_invoke_edit_form): Namsto
	metody `self._selected_item' pouvej stejnojmenn atribut.
	(ListField._menu): Pidej nov pkazy `COMMAND_SELECT' a
	`COMMAND_SHOW_SELECTED'.
	(ListField.on_command): Oetuj nov pkazy `COMMAND_SELECT' a
	`COMMAND_SHOW_SELECTED'.

	* lib/pytis/form/form.py (Refreshable._block_refresh): Nech je slo
	urujc rove vnoen blokace.
	(Refreshable.block_refresh): Nastavuj atribut `_block_refresh'
	vdy td `Refreshable', ne td, pro kterou je metoda volna.
	(Refreshable.refresh): Vyvolej vjimku, pokud se `_block_refresh'
	dostane do zporn hodnoty.
	(LookupForm._on_search): Pouij `block_refresh' namsto runho
	blokovn refreshe zde.

	(Form._create_print_menu): Odstrann zapomenut print.
	(Refreshable.block_refresh): Pedvej volan funkci vechny
	argumenty. Pi kadm voln hodnotu atributu `_block_refresh'
	inkrementuj a nakonec zase dekrementuj.

	* lib/pytis/form/list.py (ListForm._on_select_cell): Volej callback
	`CALL_USER_INTERACTION' pouze pokud nen grid uvnit
	BeginBatch/EndBatch, co jsou zmny provdn v rmci
	`_update_grid()' a ty nejsou interaktivn.
	(ListForm._init_attributes): Neinicializuj atribut
	`_block_refresh'.
	(ListForm._on_delete_record): Pouij `block_refresh' namsto
	runho blokovn refreshe zde.
	(ListForm._refresh): Netestuj blokovn refreshe zde.

	* lib/pytis/form/dualform.py (DualForm.focus): Nov metoda.
	(DualForm._on_focus): Metoda zruena.
	(DualForm.__init__): Pi udlosti `EVT_SET_FOCUS' volej
	`self.focus()'.

2005-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (block_refresh): Nov funkce.

	* lib/pytis/form/search.py (SFSDialog._create_choice) 
	(SFSDialog._create_button, SFSDialog._create_text_ctrl): Pouvej
	`SetMinSize' nam9sto `SetSize'.

	* lib/pytis/form/form.py (Form._on_print_menu): Zobrazuj menu pod
	tlatkem.
	(Refreshable._block_refresh): Nov konstanta.
	(Refreshable.block_refresh): Nov metoda tdy.
	(Refreshable.refresh): Volej `self._refresh', pokud nen refresh
	blokovn.
	(Refreshable._refresh): Nov metoda.

	* lib/pytis/form/dialog.py (GenericDialog.focus): Nov metoda.
	(GenericDialog._finish_dialog): (Staro)nov metoda.
	(GenericDialog._end_modal): Volej `self._finish_dialog()'

	* lib/pytis/form/dualform.py (DualForm.on_command): Nevyaduj argument
	`form' u pkazu COMMAND_PRINT.
	(ShowDualForm.refresh, BrowseShowDualForm.refresh)
	(BrowseDualForm.refresh): Pejmenovno na `_refresh'.
	(ShowDualForm._refresh, BrowseShowDualForm._refresh)
	(BrowseDualForm._refresh): Pedvej argument `when'.

	* lib/pytis/form/list.py (BrowseForm.on_command): Prove pkaz
	COMMAND_PRINT i pokud pokud nen nastaven argument `form'.
	(ListForm._on_handled_command): Definuj argument `norefresh' pmo
	a nevybrej jej z kwargs.
	(ListForm.refresh): Pejmenovno na `_refresh'.
	(FilteredBrowseForm.filter, ListForm._filter)
	(ListForm._on_sort_column, ListForm.on_command): Pouvej
	`self._refresh', ne `self.refresh
	

2005-12-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog._on_idle): Focus nastavuj
	pouze pokud je dialog ji zobrazen.

	* lib/pytis/form/dualform.py (DualForm.on_command): Pkaz
	`COMMAND_PRINT' nepedvej aktivnmu formuli, ale pouij jeho
	argument `form'.

	* lib/pytis/form/form.py (Form.__init__): Nevytvej tiskov menu v
	menubaru aplikace.  Vytvo jej jen jako PopupMenu.
	(Form._create_print_menu): Nov metoda.
	(Form._print_menu): Metoda zruena.
	(Form._on_print_menu): Nov metoda. 
	(TitledForm._create_title_bar): Pidej tlatko tisku.
	(Form._on_print_menu): Zobrazuj menu uprosted tlatka.

	* lib/pytis/form/application.py (Application.add_menu, add_menu): Zrueno.

	* lib/pytis/form/list.py (BrowseForm.on_command): Oetuj
	`COMMAND_PRINT' pouze pokud je argument `form' tohoto pkazu
	roven `self'.

	* lib/pytis/form/screen.py (MenuBar.add_menu): Zruen argument
	`form'.  Nepedvej jej voln `_replace_menu'.

2005-12-01  Tomas Cerha  <cerha@brailcom.org>

	* icons/warning.xpm: Soubor odstrann.

	* icons/tip.xpm: Soubor odstrann.

	* icons/question.xpm: Soubor odstrann.

	* icons/info.xpm: Soubor odstrann.

	* icons/error.xpm: Soubor odstrann.

2005-12-01  Tomas Cerha  <cerha@brailcom.org>

	* icons/warning.xpm: Soubor odstrann.

	* icons/tip.xpm: Soubor odstrann.

	* icons/question.xpm: Soubor odstrann.

	* icons/info.xpm: Soubor odstrann.

	* icons/error.xpm: Soubor odstrann.

2005-11-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_commands.py (DEFAULT_COMMAND_KEYS): Nastav
	`Dialog.COMMAND_COMMIT_DIALOG' na `Enter', ne `Ctrl+Enter'.

	* lib/pytis/form/dialog.py (GenericDialog.__init__): Neinicializuj
	atribut `self._default_button'.  Inicializuj `self._want_focus'.
	(GenericDialog._create_buttons): Namsto `self._default_button'
	nastavuj `self._want_focus'.  Namsto `wx.EVT_SET_FOCUS' oetuj
	`wx.EVT_IDLE'.  Nevolej `dialog.SetDefaultItem()'.
	(GenericDialog._create_icon): Namsto jmna souboru ber jako
	argument wx identifiktor ikony.  Zskvej ikonu pes
	`wx.ArtProvider'.
	(GenericDialog._finish_dialog): Metoda zruena
	(GenericDialog._can_commit): Nov metoda.
	(GenericDialog._end_modal): Nevolej `_finish_dialog'.
	(GenericDialog._on_set_focus): Metoda zruena.
	(GenericDialog._on_idle): Nov metoda.
	(GenericDialog._navigate): Nov metoda.
	(GenericDialog._commit_dialog): Zjiuj zda aktivn widget me
	ukonit dialog pomoc `self._can_commit()'.  Pokud ne, vyvolej
	navigan udlost.
	(Message.ICON_INFO, Message.ICON_QUESTION, Message.ICON_WARNING)
	(Message.ICON_ERROR, Message.ICON_TIP): Pia konstantm hodnoty
	wx identifiktor ikon.
	(Login._create_content): Neoetuj `wx.EVT_KEY_DOWN' na vstupnch
	polkch.  Pouvej `self._want_focus' namsto pmho
	nastavovn focusu.
	(Login._on_key_down): Metoda zruena.
	(Login._navigate): Metoda zruena.
	(Login._on_show): Zrueno.
	(OperationDialog._on_show): Volej `wx_yield_()'.
	(Calendar._create_content): Nastavuj `self._want_focus'.
	(Calendar._on_set_focus): Metoda zruena.
	(Calendar._can_commit): Nov metoda.
	(RunFormDialog._customize_result): Oetuj tak ppad odeslanho
	dialogu na widgetu kalende.
	(BugReport._create_content): Nastavuj `self._want_focus'.
	(_on_set_focus): Metoda zruena.

	* lib/pytis/form/_grid.py (ListTable._get_row): Update docstringu.
	(ListTable.row): Pokud je dek vrcen z `_get_row()' instanc
	PresentedRow, vra jej pmo.

	* lib/pytis/form/list.py (ListForm._is_editable_cell): Update komente.

2005-11-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (Calendar._create_content): Upravuj
	velikost pouze pokud je verze wxWidgets men ne 2.6.

	* lib/pytis/form/list.py (CodebookForm._default_sorting): Oeti
	vjimku resolveru.

	* lib/pytis/form/inputfield.py (GenericCodebookField.__init__):
	Nespolhej na `self.spec()' ped volnm rodiovskho
	konstruktoru.  Radji vyber odkaz na FieldSpec pmo z argument.

2005-11-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_dbhost.long_option): Nov metoda.
	(Configuration._Option_dbport): Nov konfiguran volba.
	(Configuration._Option_dbconnection.default): Pouvej novou volbu
	`dbport'.

	* lib/pytis/form/list.py (ListForm._post_selection_hook): Na
	`DataAccessException' se odkazuj celm jmnem.
	(ListForm.on_command): Neignoruj vjimky pi voln metody
	on_command aktivnho vstupnho polka.

	* lib/pytis/form/inputfield.py (ListField._set_selection): Pidn
	koment.
	(ListField._create_ctrl): Oetuj udlosti koleka myi.
	(GenericCodebookField._select_row_arg): Vracej None, pokud je
	Pythonov hodnota instance Value nepravdiv.
	(InputField.CALL_FIELD_CHANGE, InputField.CALL_SKIP_NAVIGATION):
	Aktualizace docstringu.
	(ListField._on_change): Pejmenovno na `_on_select'.  Pokud je
	pole needitovateln, vra vbr na pedchoz vybranou poloku.
	(ListField._create_ctrl): Oetuj wx udlost vbru volmm
	`_on_select' a zruen vbru volmm `_on_deselect'.
	(ListField._disable): Nenastavuj widget nako needitovateln, pouze
	zm barvu.
	(ListField._set_selection): Nov argument `make_visible'.
	(GenericCodebookField._read_cb_spec): Metoda zruena.
	(GenericCodebookField.__init__): Natej `CodebookSpec' zde.
	(CodebookField._create_widget, ListField._create_ctrl): Nevolej
	`self._read_cb_spec()'.

2005-11-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._init_row.genval):
	Odstrann hack umoujc pouit computer namsto default.

	* lib/pytis/form/inputfield.py (__getattr__): Zrueno.
	(_on_enumerator_change): Nepenatej data hned, pouze nastav
	pznak.
	(ListField._set_value): Pedvej vechny potebn argumenty metod
	`ListCtrl.SetItemState()'.  Zru vbr i v ppad nenalezen
	poadovan hodnoty.
	(ListField._create_ctrl): Nastavuj pznak `self._data_dirty'.
	(ListField._on_idle): Nov metoda.
	(ListField._load_list_data): Nuluj pznak `self._data_dirty'.
	(ListField._set_selection, ListField._set_value): Pi nastavovn
	vbru zaka zpracovn udlost listu.

2005-11-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._load_list_data): Zachovvej
	aktuln hodnotu i po penaten dat.

	* lib/pytis/form/list.py (CodebookForm._default_sorting): Nov metoda.

	* lib/pytis/form/form.py (EditForm.__init__): Volej
	`self._select_row()' opt jen pi inicializaci novhho zznamu.
	Problm neinicializovanch runtime filtr byl vyeen dnen
	opravou `DescriptiveDualForm._do_selection'.

	* lib/pytis/form/dualform.py (DescriptiveDualForm._do_selection):
	Nepedvej pmo PresentedRow -- namsto `set_row()' volej radji
	`select_row()' a datovm dkem jako argumentem.

2005-11-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (enum): Nov funkce.

2005-11-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._init_row.genval):
	Inicializuj hodnotu volnm 'default' funkce pouze pokud jde o
	nov dek.  Pidn HACK, kter doasn povauje computery s
	przdnm depends za default funkce a vol je tedy tak jen pi
	inicializaci novho zznamu.

	* lib/pytis/form/form.py (EditForm.__init__): Volej
	`self._select_row()' vdy kvli inicializaci PresentedRow a
	potamo runtime filtr.
	(EditForm._select_row): Odstrann neaktuln koment.

	* lib/pytis/presentation/spec.py (CodebookSpec.__init__): Nov
	arguemnt `sorting'.
	(CodebookSpec.sorting): Nov metoda.

	* lib/pytis/form/inputfield.py (ListField._load_list_data): Spojuj
	vcedkov hodnoty.

2005-11-23  Tomas Cerha  <cerha@brailcom.org>

	* NEWS: Sloueno s BUGFIXES.

	* BUGFIXES: Soubor zruen.  Ve je nyn v NEWS.

2005-11-23  Tomas Cerha  <cerha@brailcom.org>

	* NEWS: Sloueno s BUGFIXES.

	* BUGFIXES: Soubor zruen.  Ve je nyn v NEWS.

2005-11-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField.__getattr__): Nevolej zde
	`_load_list_data()'.
	(ListField.__getattr__): Nov metoda.
	(ListField._on_enumerator_change): Nedlej nic, pokud je list ji
	po smrti.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.__init__): Kosmetick
	prava (nepedvej lokln promnn do lambda funkce pes klov
	arguemnty).

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Kosmetick prava.

	* lib/pytis/presentation/field.py (PresentedRow.__getitem__): Pro
	virtuln polko, kter jet nebylo nastaveno a nem computer
	dosazuj automaticky hodnotu None.
	(PresentedRow.__setitem__): Nastavuj sprvn i virtuln polka.

	* lib/pytis/data/types_.py (DataEnumerator._retrieve): Pedvej
	konstruktoru vjimky etzcovou reprezentaci filtrovac podmnky.
	(MutableEnumerator.__init__): Inicializuj atribut `_running_hooks'.
	(MutableEnumerator._update): Blokuj vnoen voln.

	* lib/pytis/form/form.py (RecordForm.select_row): Akceptuj tak
	'position' 'None'.

2005-11-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.create): Zprhlednno
	mapovn typu pes 'selection_type'.
	(InputField._set_disabled_color): Nov metoda.
	(InputField._set_value): Pijmej argument 'value'.
	(TextField._set_value): Namsto nastavovn barvy pozad zde
	pouvej `self._set_disabled_color()'.
	(Invokable): Pod tak `object'.
	(Invocable.on_command): Pedka volej pomoc `super()'.
	(GenericCodebookField): Nov tda.
	(CodebookField): Pod tak `GenericCodebookField'.
	(CodebookField._create_widget): Vyuvej `_read_cb_spec()' z `GenericCodebookField'.
	(CodebookField._on_invoke_selection): Vyuvej `_run_codebook_form()' z `GenericCodebookField'.
	(ListField): Kompletn pepsno.  Zrueny vechny hacky s
	`refvalue', `choose_key' apod.

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Neinicializuj `self._refvalues'.
	(PresentedRow.listfield_choose): Metoda zruena.
	(PresentedRow.refvalue): Pouit tto potlaen metody loguj a
	vracej vdy None.

	* lib/pytis/form/form.py (EditForm.on_command): Nestarej se zde o
	`ListField.COMMAND_CHOOSE_KEY'.

	* lib/pytis/form/command.py: prava docstringu.

	* lib/pytis/form/_commands.py: Nov pkaz
	`GenericCodebookField.INVOKE_CODEBOOK_FORM'.  Zruen pkaz
	`ListField.CHOOSE_KEY'.
	
	* lib/pytis/data/types_.py (DataEnumerator.values): Kosmetick prava.
	(DataEnumerator.iter): Nov metoda.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Loguj pouit
	potlaenho argumentu `references'.
	(FieldSpec.references): Metoda zruena.
	(RefSpec): Ve zrueno, ponechn jen konstruktor pro zptnou
	kompatibilitu.
	(SelectionType.LIST): Nov konstanta.
	(FieldSpec.__init__): Nastavuj vchoz hodnotu `selection_type'
	podle ptomnosti `codebook'.  Aktualizovn docstring.  Pidn
	assert na kombinaci 'selection_type' a 'codebook'.

2005-11-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._find_row_by_values): Nen-li k
	dispozici dn dek, vracej None.	

2005-11-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm.select_row): Pedvej argument `quiet'.
	(ListForm.refresh): Volej `select_row' s nastavenm `quiet=True'.

	* lib/pytis/form/form.py (EditForm.set_row): Nastavuj tak
	editovatelnost polek.
	(EditForm.__init__): Inicializuj editovatelnost polek zde.
	(EditForm._init_fields): Pejmenovno na `_set_focus_field'.
	Nestarej se zde o editovatelnost polek, pouze nastav focus.
	(PopupEditForm._on_next): Nevolej zde `self._init_fields()'.
	(EditForm.__init__): `self._init_fields()' ->
	`self._set_focus_field()'.
	(ShowForm._create_form_parts): Pidvej titulek do sizeru s
	nastavenm `wx.FIXED_MINSIZE'.
	(RecordForm.select_row): Instanci Value povauj za kl.
	(RecordForm._find_row_by_key): Umoni tak pedat jako `key' tak
	pmo instanci `Value' a peddj ji automaticky na tuple.
	(RecordForm.select_row): Nov argument `quiet'.  Zobraz chybov
	dialog, pokud dek nebyl nalezen a `quiet' nen nastaveno.
	(LookupForm._on_sort_column, RecordForm.on_command): Pouvej
	`self._current_key()' namsto `self.current_key()'.
	(LookupForm._filter): Pouvej `self._current_key()', ne
	`self._row.row()', jako argument `select_row'.

	* lib/pytis/form/inputfield.py (CodebookField._create_widget):
	Pebrej `display_size' z `cb_spec' jen pokud je None (ne pi
	jakkoliv nepravdiv hodnot).
	(CodebookField._create_widget): Vytvej display jen pokud je
	ka nenulov.

	* lib/pytis/presentation/spec.py (CodebookSpec.__init__): prava
	docstringu.  Loguj pouit potlaenho argumentu
	`insert_unknown_values'.
	(CodebookSpec.insert_unknown_values): Metoda zruena.

2005-11-18  Tomas Cerha  <cerha@brailcom.org>


	* BUGFIXES: Nov soubor.

	* bin/pytis: Kosmetick pravy.

2005-11-18  Tomas Cerha  <cerha@brailcom.org>


	* BUGFIXES: Nov soubor.

	* bin/pytis: Kosmetick pravy.

2005-11-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (RecordForm.select_row): Doasn oeti
	ppad, kdy se ped jako position instance Value.
	(LookupForm._on_sort_column): Jako argument self.select_row()
	pouij self.current_key().

2005-11-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (KeyHandler.__init__): Inicializuj
	`_prefix_key_sequence' zde, nikoliv jako atribut tdy.
	(Keymap._define_key): Namsto pouhho assertu vyvolvej
	`ProgramError', pokud jde o kolidujc definici prefixov klvesy.

2005-11-16  Tomas Cerha  <cerha@brailcom.org>

	* NEWS: Nov soubor.

2005-11-16  Tomas Cerha  <cerha@brailcom.org>

	* NEWS: Nov soubor.

2005-11-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Pidno
	oeten zruench argument `key' a `new' a jejich peveden na
	nov `select_row' a `mode'.

	* lib/pytis/form/dualform.py (BrowseShowDualForm._create_side_form)
	(BrowseDualForm._on_show_record): Pedvej funkci `run_form'
	argument `select_row' nikoliv `key'.
	(BrowseShowDualForm._create_side_form): Nepedvaj konstruktoru
	`ShowForm' argument `editable=True'.

	* lib/pytis/form/inputfield.py (ListField.on_command): Pedvej funkci
	`run_form' argument `select_row' nikoliv `key'.

	* lib/pytis/form/form.py (RecordForm._init_attributes): Zruen
	argument `key'.  Nenastavuj `self._key'.
	(RecordForm._select_row): Argument `new' konstruktoru
	`PresentedRow' nastavuj podle `self._new', nikoliv `self._key'.
	(RecordForm._run_form): Pi vytven formule vdy nastavuj
	argument `select_row', ne `key'.
	(LookupForm._filter, LookupForm._on_sort_column): Jako argument
	pro `select_row()' pouvej aktuln datov dek, ne `self._key'.
	(EditForm): Aktualizace docstringu.
	(EditForm.MODE_INSERT, EditForm.MODE_EDIT, EditForm.MODE_VIEW)
	(EditForm.__init__): Nevolej `self.select_row()', pouze v reimu
	vkldn zznam inicializuj formul przdnm dkem.
	(EditForm.init): Pejmenovno na `_init_fields'.
	(EditForm.__init__, PopupEditForm._on_next): `init' ->
	`_init_fields'.
	(EditForm._init_fields): Neber v potaz editovatelnost polka v
	PresentedRow, nastavuj editovatelnost pouze podle mdu formule.
	(EditForm._create_form): Pouvej `self._mode' k uren typu
	pstupovch prv.  Uri typ prv pouze jednou na zatku cyklu.
	(EditForm._commit_form): Jako argument pro `data.update()'
	pouvej `self._current_key()', ne `self._key'.  Pouvej
	`self._mode' k zjidn typu operace.
	(PopupEditForm.run): Kl zjisti pes `self._current_key()', ne
	`self._key'.  Zamykej pouze v editanm reimu.
	(RecordForm._select_row): Zde pouze vyvolej vjimku --
	implementace pesunuta do `EditForm'.
	(EditForm._select_row): Nov metoda.
	(EditForm._navigate): Pouvej `self._mode' namsto
	`self._editable'.
	(PopupEditForm._create_buttons): Pouvej `self._mode' namsto
	`self._new.
	(ShowForm._init_attributes): Namsto `editable' pedvej `mode'.
	

2005-11-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._find_row_by_number): Nov
	meotda.
	(RecordForm._get_row_number): Nov metoda.
	(RecordForm.select_row): Pijmej na vstupu tak integer, jako
	slo dku.  K vlastnmu nastaven pouvej `self._select_row()'
	(LookupForm._select_row): Nov metoda.
	(LookupForm._on_jump): Namsto vracen hodnoty rovnou prove jump.
	(LookupForm._on_sort_column, EditForm.__init__)
	(EditForm.__init__, PopupEditForm._on_next)
	(BrowsableShowForm._on_next_record)
	(BrowsableShowForm._select_row, LookupForm._filter): Namsto
	`self._set_row()' pouvej `self._select_row()'.
	(BrowsableShowForm.on_command): Namsto
	`self._on_set_row()' pouvej `self.select_row()'.
	(BrowsableShowForm._on_next_record): Kosmetick pravy.
	(BrowsableShowForm._on_set_row): Metoda zruena.
	(RecordForm._find_row_by_key): Nov metoda.
	(RecordForm.select_row): Pouvej ji.
	(_find_row): Metoda zruena.
	(LookupForm._filter, LookupForm._on_sort_column) 
	(EditForm.__init__): Namsto kombinace `self._find_row()' a
	`self._select_row()' pouvej `self.select_row()'.

	* lib/pytis/form/list.py (ListForm.__init__, ListForm._update_grid)
	(ListForm.refresh): Namsto `self.select_row()' pouvej
	`self._select_cell()'.
	(_on_jump): Metoda zruena.
	(_find_row_by_values): Vracej instanci `Row', ne slo dku.
	(ListForm._find_row_by_number): Nov metoda.
	(ListForm.select_row): Oeti pouze speciln plady a jinak
	volej metodu pedka.
	(ListForm._select_row): Nov metoda.

2005-11-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	Pi sestavovn podmnky oetuj dkladnji monost vskytu NULL
	hodnot v tdcch sloupcch.
	

2005-10-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/screen.py (Menu.create): Pokud k pkazu nejsou
	pstupov prva, pouij jako hotkey "(N/A)".

	* lib/pytis/form/command.py (Command.has_access): Nov veejn metoda.

2005-10-18  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail): Kosmetick prava.

2005-10-18  Pavel Hanak  <hanak@asellus.cz>

	* doc/todo: Nov dokument.

2005-10-18  Pavel Hanak  <hanak@asellus.cz>

	* doc/todo: Nov dokument.

2005-10-12  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail): Nov parametr html -
	uruje jestli se PGP mail pole jako multipart GPG message.

2005-10-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._commit_form): Pokud je odesln
	nespn a je vrcen textov popis piny, zobraz ho.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.insert): Pokud je znma
	pina nespchu, vracej ji v prvn poloce vstupnho tuple.
	(DBDataPostgreSQL.update): Pokud je znma
	pina nespchu, vracej ji v prvn poloce vstupnho tuple.

	* lib/pytis/data/data.py (Data.insert): Oprava dokumentanho etzce.
	(Data.update): Oprava dokumentanho etzce.

2005-10-07  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki: Update npovdy.

2005-10-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/_grid.py (ListTable._retrieve_row): Pidna
	zapomenut specifikace modulu.

	* lib/pytis/form/list.py (ListForm._on_delete_record): Prove refresh
	celho formule na vrcholu zsobnku oken.

2005-09-29  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail): GnuPGInterface
	importuj jen pokud mme kl.
	(send_mail): Oeten UNICODE v adresch.

2005-09-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail):
	Nov funkce.

2005-09-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/_grid.py (IncrementalSearch._exit): Oeti uzaven
	okna listformu ped ukonenm vyhledvn.

2005-09-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._select_cell): Nevolme
	'self.show_position'. 
	(ListForm._post_selection_hook): Volme 'self.show_position'.

2005-09-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (dbinsert): Nov funkce.

2005-09-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.on_command): Pokud jde o
	uivatelsk pkaz tdy `Application', oetuj jej vdy zde
	volnm uivatelskho handleru.

	* lib/pytis/form/command.py (Command.__init__): Nov metoda.

2005-09-07  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki (Pklad): Updatovana vseobecna napoveda.

2005-09-06  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki: Updatovana vseobecna napoveda.

2005-09-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._on_edit_record) 
	(RecordForm._on_new_record): Zrueny doasn refreshe.

	* lib/pytis/form/dualform.py (BrowseDualForm.refresh): Volej tak refresh
	sideformu.
	(BrowseDualForm.refresh): Pidn koment.

	* lib/pytis/form/list.py (ListForm._update_grid): Obejit chyby
	wxWidgets: po zmn potu dk gridu vyvolej SizeEvent, aby byly
	ppadn skryty, i zobrazeny scrollbary.

2005-09-05  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki: Updatovana vseobecna napoveda.

2005-09-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/__init__.py: Zohledni nahrazen 'commands.py' modulem
	'_commands.py'.	

	* lib/pytis/form/_commands.py: Nov modul (nahrazuje commands.py).

	* lib/pytis/form/commands.py: Zruen (tlue se s pythonovskm modulem
	commands).

	* lib/pytis/form/search.py (SFSDialog._create_choice):
	Po vytvoen 'wx.Choice' zavolej jet 'SetSelection' pro
	nastaven implicitn volby.		

2005-09-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (user_cmd): Pidn klov argument
	'spec'. 

2005-09-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py: Kosmetick pravy.

2005-08-31  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (user_cmd): Zakomentovno logovn
	pejmenovn pkazu.

2005-08-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (user_cmd): Pouvej nov argumenty
	konstruktoru tdy Command.  Pejmenovvej duplicitn pkazy.
	Pi redefinici stejnho pkazu vracej existujc instanci, pokud
	se handler shoduje.
	(user_cmd): Vyvolej vjimku pi redefinici stejnho pkazu z
	jinho msta v defsech.

2005-08-31  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py
	(Invocable.get_command_handler_instance): Nov metoda.

2005-08-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/_test.py (DataEnumerator.test_values): Nov metoda.
	(DBDataDefaultClass.setUp): Zrueny zakomentovan sti testujc
	multi-codebooky.
	(DBDataDefaultClass.test_lock): -> '_test_lock'.
	(DBDataFetchBuffer.setUp): Pouvej konfiguran promnn namsto
	konstang tdy `DBDataPostgreSQL'.
	(DBDataFetchBuffer.setUp): Vytvo tabulku `small' a pslun
	vazby..
	(DBDataFetchBuffer.tearDown): Dropni tabulku `small'.
	(DBDataFetchBuffer.test_skip_fetch): Pijmej datov objekt jako
	argument.  Pdno nkolik fetch pro testovn nkterch zludnost.
	(DBDataReuse.test_it): Pouvej konfiguran promnn namsto
	konstang tdy `DBDataPostgreSQL'.
	(TutorialTest.test_it): Pedvej arguemnty konstruktoru podle
	novch pravidel.
	(TutorialTest.test_it): Zakomentovny problematick testy (doasn).

	* lib/pytis/form/__init__.py (_list): Load `command' sooner.  Load
	`commands' at the end.

	* lib/pytis/form/inputfield.py (InputField, Invocable): Bu potomkem
	`CommandHandler'.
	(InputField.get_command_handler_instance): Nov metoda.

	* lib/pytis/form/form.py (Form): Bu potomkem
	`CommandHandler'.
	(Form.get_command_handler_instance): Nov metoda.

	* lib/pytis/form/dualform.py (DualForm.get_command_handler_instance):
	Nov metoda.

	* lib/pytis/form/dialog.py (Dialog): Bu potomkem `CommandHandler'.
	(Dialog.get_command_handler_instance): Nov metoda.
	(GenericDialog._create_dialog_elements): Nastavuj vchoz tlatko
	pomoc `SetDefaultItem'.

	* lib/pytis/form/application.py (Application): Bu potomkem
	`CommandHandler'.
	(Application.get_command_handler_instance): Nov metoda.

	* lib/pytis/form/command.py: Pepis dokumentace.
	(CommandHandler): Nov tda.
	(Command): Aktualizace docstringu.
	(Command.__init__): Nov povinn argument `cls'.  `id' nahrazeno
	`name'.  Poad klovch arguemnt zmnno.  Pidno doasn
	oeten starho zpsobu pedn arguemnt s logovnm.  Vyvolej
	vjimku, pokud stejn pkaz ji byl definovn.  Vytvej
	automaticky konstantu `COMMAND_<name>' tdy `cls'.
	(Command.enabled): Testuj tak, zda aktivn prvek aplikace um
	zpracovat pkaz a zda jeho metoda 'can_<name>' vrac pravdu.
	(define_cmd): Zrueno.
	Vechny definice pkaz a piazen klves pesunuty z tohoto
	modulu do novho modulu `commands'.
	(FORM_COMMAND_MENU): Tak pesunuto do `commands'.
	(Command.name): Nov metoda.

	* lib/pytis/form/commands.py: Nov modul.

2005-08-30  Tomas Cerha  <cerha@brailcom.org>

	* doc/napoveda.wiki: Drobn opravy, zalamovn dk.

	* lib/pytis/extensions/spec.py (run_any_form): Funkce zruena.
	(help_mitem): Pouvej `cmd_help_window'.
	(user_cmd): Pidn kd pro pouit s novou verz `command.py'
	/zatm zakomentovno/.

	* lib/pytis/extensions/misc.py (check_form): Nepijmej dn
	arguemnty.
	(cmd_check_form): Nov pkaz.
	(check_menus_defs): Nepijmej dn arguemnty.
	(cmd_check_menus_defs): Nov pkaz.
	(cmd_help_window): Nov pkaz.
	(run_any_form): Nov funkce.
	(cmd_run_any_form): Nov pkaz.
	(menu_report): Nepijmej dn argumenty.
	(cmd_menu_report): Definuj 'handler', jako klov argument.
	(cmd_check_form): Definuj 'handler', jako klov argument.
	(cmd_check_menus_defs): Definuj 'handler', jako klov argument.
	(help_window): Hledej soubor tak v adresi 'doc' instalace pytisu.
	(cmd_run_any_form): Definuj 'handler', jako klov argument.

2005-08-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._on_handled_command): Oprava
	podmnky pro pedvn argument.

	* lib/pytis/form/command.py (Command.__init__): Doasn pijmej i
	argumenty podle budouc verze.

2005-08-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (help_window): Definuj klov
	argumenty pmo a nevytahuj je sloit z `**kwargs'.  Pouvej
	`os.path.join()'.  Vypisuj chybov hlen z vjimky do chybovho
	dialogu.

2005-08-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (RecordForm._check_record): Oprava
	'failed_id' na 'field_id'.
	(RecordForm._check_record): Pro chybov polko pouvej radji
	vude 'failed_id'. 
	(EditForm._commit_form): Pro chybov polko pouvej radji
	vude 'failed_id'. 

2005-08-25  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (RecordForm._on_new_record): Doasn pidn
	refresh.
	(RecordForm._on_edit_record): Doasn pidn
	refresh.

	* lib/pytis/form/output.py (PrintForm._create_controls):
	Pro EVT_SIZE zaregistruj `self._on_size'.
	(PrintForm._on_size): Nov metoda.
	(OnSize): Metoda zruena.

2005-08-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._create_grid): V cyklu pro
	nastaven parametr sloupc vyuvej `enumerate()' a jdi pouze
	pes `visible_columns'.

2005-08-24  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (emailsend): Odele email.

2005-08-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._select_cell): Vracej pravdu, pokud
	m bt udlost dokonena.
	(ListForm._finish_editing): Pokud je result None /map. oputn dialogu
	klvesou Esc/, pokrauj v editaci.
	(ListForm._find_next_editable_cell): Spus editaci nalezen buky.
	(ListForm._on_select_cell): Pedvej udlost k dalmu zpracovn
	pouze pokud `_select_cell' vrt pravdu.  Jinak udlost vetuj a
	obnov vbr.
	(ListForm._on_edit): Vyuvej `RecordForm._lock_record'.
	(ListForm._on_line_commit): Vyuvej `RecordForm._check_record',
	`RecordForm._record_data' a `RecordForm._unlock_record'
	(ListForm._on_line_rollback): Vyuvej `RecordForm._unlock_record'

	* lib/pytis/form/form.py (Form._print_menu): Neodkazuj se na
	identifiktory z `lib.form' zbyten celm nzvem.
	(RecordForm._lock_record, RecordForm._unlock_record)
	(RecordForm._check_record, RecordForm._record_data): Nov metody.
	(LookupForm._on_jump): Neodkazuj se na identifiktory z `lib.form'
	zbyten celm nzvem.  Obaluj etzce volnm gettext.
	(EditForm._lock, EditForm._unlock, EditForm._validate): Metody zrueny.
	(EditForm._validate_fields): Nov metoda.
	(EditForm._edit_insert, EditForm._edit_update): Metody zrueny.
	(EditForm._commit_form): Vyuvej metod z `RecordForm'.
	Nevyuvej `_edit_insert' a `_edit_update'.  
	(PopupEditForm._create_buttons): Obaluj etzce volnm gettext.
	(PopupEditForm.run): Vyuvej `_lock_record'.
	(PopupEditForm.run): Vyuvej `_unlock_record'.
	(RecordForm._record_data): Zahrnuj do dku pouze sloupce obsaen
	v datovm objektu formule.

2005-08-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (BrowseDualForm.refresh): Refreshuj pouze
	hlavn formul.  Vedlej je tm refreshovn dky sv zvislosti...
	(ShowDualForm._on_idle): Nevolej po pefiltrovn `_select_form()'.

2005-08-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Pokud
	nen zaosteno dn okno, nic si z toho nedlej a pokrauj normln.
	

	* lib/pytis/form/list.py (BrowseForm._on_import_interactive): Vkldan
	sloupce kontroluj oproti `self._fields', nikoli `self._columns'.

2005-07-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	Oeten podmnky pro zjitn vzdlenosti nalezenho dku tak,
	aby respektovala mon vskyt NULL hodnot v 'sorting' sloupcch.	

2005-07-25  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (DataSpec.__init__): Pidvej
	sloupec 'oid', jen pokud jet nen v seznamu sloupc.

2005-07-14  Peter Herich  <herich@asellus.cz>

	* doc/napoveda.wiki: Doplnena vseobecna napoveda.

2005-07-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/event.py (top_level_exception): Pednastavuj adresu
	'from'.

	* lib/pytis/output/formatter.py (LoutFormatter._lout): Smazno
	zapomenut vypisovn do 'lout' souboru.

2005-07-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (is_in_groups): Nov funkce.

2005-07-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (CodebookField._create_widget):
	Nov atribut 'self._insert_button'.
	(CodebookField._disable): Pedefinovan metoda - pidno
	znepstupnn 'self._insert_button'.	
	(CodebookField._enable): Pedefinovan metoda - pidno
	zpstupnn 'self._insert_button'.
	
2005-07-13  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.output): Doplnny triggery pro insert.

2005-07-13  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.output): Doplnny triggery pro insert.

2005-07-11  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_body): Vynechvej przdn
	dky ve funkcch (plpython je nem rd).

2005-07-11  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_body): Vynechvej przdn
	dky ve funkcch (plpython je nem rd).

2005-07-07  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (RecordForm._on_delete_record): Oprava chyby
	v pedn dku do 'on_delete_record'.

	* lib/pytis/output/formatter.py (_INTRO): Oeten 'landscape' mdu.

2005-07-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application._check_perm): Vyputno
	podivn vodn znepstupnn pro 'Permission.INSERT'.

	* lib/pytis/data/types_.py (_check_format): Vyputn omylem zdvojen
	kd. 

2005-07-01  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.output): Doplnn trigger pro
	logovn 'delete'.

2005-07-01  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.output): Doplnn trigger pro
	logovn 'delete'.

2005-06-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._current_row): Zrueno.
	(_current_key, current_key): Pesunuto do `Form'.
	(ListForm.current_row, ListForm._search_adjust_data_position)
	(ListForm.show_position, ListForm._on_edit)
	(ListForm._on_insert_line, ListForm.refresh)
	(BrowseForm._formatter_parameters, BrowseForm._on_edit_record):
	Namsto `_current_row()' pouvej `_current_cell()'.
	(ListForm.is_changed): Pejmenovno na `_is_changed'.
	(ListForm.can_line_commit, ListForm.can_line_commit): Nov metody.
	(ListForm.on_command): Neoetuj zruen pkaz
	`ListForm.COMMAND_LINE_DELETE'.
	(can_show_cell_codebook): Bu metodou instance, nikoli tdy.
	(ListForm._on_handled_command): `row' -> `the_row'.
	(_on_delete_line): Zrueno.
	(ListForm._on_delete_record): Nov metoda.
	(BrowseForm._context_menu): `ListForm.COMMAND_LINE_DELETE' nahra
	`RecordForm.COMMAND_DELETE_RECORD'.
	(BrowseForm): Callbacky CALL_EDIT_RECORD a CALL_NEW_RECORD
	pesunuty do `RecordForm'.
	(BrowseForm.__init__): Nenastavuj zruen callbacky.
	(BrowseForm._run_form, BrowseForm._redirected_name)
	(BrowseForm._on_new_record, BrowseForm._on_edit_record): Pesunuto
	do `RecordForm'.
	(BrowseForm.on_command): Neoetuj pkazy `COMMAND_NEW_RECORD',
	`COMMAND_NEW_RECORD_COPY' a `COMMAND_EDIT_RECORD'.
	(ListForm._on_activation, ListForm._on_alternate_activation):
	Volej callback jen pokud je vybrn njak dek.

	* lib/pytis/form/inputfield.py (InputField.can_reset_field): Nov
	metoda.
	(Invocable.can_invoke_selection, Invocable.can_invoke_selection)
	(ListField.can_invoke_edit_form)
	(ListField.can_invoke_browse_form, ListField.can_choose_key): Nov metody.

	* lib/pytis/form/form.py (Form.__init__): Namsto voln
	`_add_menus()' pidvej tiskov menu pmo zde.
	(Form._add_menus): Zrueno.
	(Form._menus): Zrueno.
	(Form._print_menu): Nov metoda.
	(Form.check_permission): Nov nepovinn argument `quiet'.
	(print_menu): Zrueno.
	(RecordForm._init_attributes): Aktualizace docstringu.
	(RecordForm._signal_update): Nov metoda.
	(RecordForm.current_row): Nov metoda.
	(RecordForm._current_key): Nov metoda.
	(RecordForm.current_key): Nov metoda.
	(RecordForm._on_delete_record): Nov metoda.
	(RecordForm.can_delete_record): Nov metoda.
	(RecordForm.on_command): Nov metoda.
	(LookupForm.is_searching): Pejmenovno na `_is_searching'.
	(LookupForm._is_searching, LookupForm._is_searching): Nov metody.
	(LookupForm.can_sort): Zrueno.
	(EditForm.ACT_EDITFORM, EditForm.ACTIVATIONS): Zrueno.
	(EditForm._edit_delete): Zrueno.
	(EditForm._menus): Zrueno.
	(EditForm.on_command): Neoetuj `EditForm.COMMAND_RECORD_INSERT',
	`EditForm.COMMAND_RECORD_UPDATE',
	`EditForm.COMMAND_RECORD_DELETE'.
	`EditForm.COMMAND_RECORD_COMMIT' ->`EditForm.COMMAND_COMMIT_RECORD'.
	(RecordForm.CALL_EDIT_RECORD, RecordForm.CALL_NEW_RECORD): Nov callbacky.
	(RecordForm.__init__): Nov metoda.
	(RecordForm.select_row): Nov metoda /pesunuto z EditForm/.
	(RecordForm._find_row_by_values): Nov metoda /pesunuto z EditForm/.
	(RecordForm._redirected_name, RecordForm._run_form) 
	(RecordForm._new_form_kwargs, LookupForm._new_form_kwargs) 
	(RecordForm._on_new_record, RecordForm._on_edit_record): Nov metody.
	(RecordForm.on_command): Oetuj pkazy
	`RecordForm.COMMAND_NEW_RECORD',
	`RecordForm.COMMAND_NEW_RECORD_COPY' a `COMMAND_EDIT_RECORD'.
	(EditForm._find_row_by_values): Zrueno.
	(EditForm.select_row): Zrueno.
	

	* lib/pytis/form/command.py: Bu potomkem `object'.
	(_check_perm, _can_run_form, _can_insert)
	(_current_form_can_insert, _current_form_can_update)
	(_current_form_can_delete, _current_form_searching)
	(_current_form_changed, _current_field_enabled)
	(_current_field_modified, _current_field_has_selection): Zrueno.
	(FORM_COMMAND_MENU): Nov konstanta.
	(define_cmd): Nov dunkce.  Vechny pkazy nyn definovny s jej
	pomoc.  Pkazy `EditForm.COMMAND_NEW_RECORD',
	`EditForm.COMMAND_NEW_RECORD_COPY' a
	`EditForm.COMMAND_EDIT_RECORD' pesunuty do tdy `RecordForm'.
	`EditForm.COMMAND_RECORD_COMMIT'
	->`EditForm.COMMAND_COMMIT_RECORD'.

	* lib/pytis/form/application.py (Application.OnInit): Pidvej tak
	menu pkaz.  Pejmenovna lokln promnn `spec' -> `name'.
	(Application._check_perm): Nov metoda.
	(Application.can_run_form): Nov metoda.
	(Application.can_new_record): Nov metoda.
	(window_count): Zrueno.
	(Application.can_next_form, Application.can_prev_form) 
	(Application.can_leave_form): Nov metody.

2005-06-30  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (RunFormDialog._create_content):
	Po vytvoen 'wx.Choice' zavolej jet 'SetSelection' pro
	nastaven implicitn volby.	

	* lib/pytis/form/form.py (LookupForm._on_jump): Pro zskn sla
	dku pouvej 'InputNumeric'.

2005-06-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._total_height): Zjiuj vku
	nultho dku, ne prvnho. 

	* lib/pytis/form/screen.py (Menu.create): Vylepen koment.

	* lib/pytis/form/command.py: Opraveny identifiktory pkaz
	`LookupForm.COMMAND_SEARCH_NEXT' a
	`LookupForm.COMMAND_SEARCH_PREVIOUS'.

2005-06-29  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (ef): Nov zkratka.

2005-06-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_startup_forms.long_option): Nov volba.

	* lib/pytis/form/application.py (Application.OnInit): Otevi vechny
	formule z `config.startup_forms'.
	(Application.__init__): Inicializuj `self._window_menu_item' ped
	volnm konstruktoru pedka.

	* lib/pytis/form/list.py (ListForm._column_width): Nov metoda.
	(ListForm._create_grid, ListForm._on_size): Vyuvej ji.

2005-06-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (Application.COMMAND_LEAVE_FORM): Upravena
	`enabled' funkce aby brala v potaz i formule, kter nejsou na
	stacku.
	
2005-06-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._on_line_commit): Spoutj i check funkci
	z 'ViewSpec'.

2005-06-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._create_grid): Neoetuj
	`EVT_GRID_CELL_LEFT_CLICK'.

2005-06-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Nov argument
	'upd_log_trigger'. 
	(_GsqlTable.output): Pouvej ho.

2005-06-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Nov argument
	'upd_log_trigger'. 
	(_GsqlTable.output): Pouvej ho.

2005-06-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (menu_report): Toleruj `None' ve
	vsledku voln `permitted_groups()'.

2005-06-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Pokud je
	`name' callable, povauj za `name' vsledek jeho voln.

	* lib/pytis/form/command.py (_can_run_form): Pokud je `name' callable,
	povauj za `name' vsledek jeho voln.
	(_can_run_form): Pedchoz prava zruena.
	(ListForm.COMMAND_SHOW_CELL_CODEBOOK): Nov pkaz.
	(BrowseForm.COMMAND_RECORD_EDIT): Pejmenovno na
	`BrowseForm.COMMAND_EDIT_RECORD'.
	(_can_run_form): Oprava chyby z minulho commitu.

	* lib/pytis/form/inputfield.py (CodebookField._on_codebook_insert):
	Prefill vypluj pouze pokud je v polku zeditovan hodnota.

	* lib/pytis/form/list.py (ListForm._init_attributes): Inicializuj
	`self._selection_candidate'.
	(ListForm._select_cell): Nenastavuj vbr zde, pouze nastav
	`self._selection_candidate'.
	(ListForm._on_idle): Pokud je nastaveno
	`self._selection_candidate', nastav vbr, jeho barvy a zviditelni
	buku.
	(ListForm.show_context_menu): Kosmetick pravy.
	(BrowseForm._context_menu, ListForm.show_context_menu): Kosmetick
	pravy.
	(ListForm.on_command): Oetuj
	`ListForm.COMMAND_SHOW_CELL_CODEBOOK' volnm
	`self._on_show_cell_codebook()'.
	(ListForm.can_set_grouping): Zruen zapomenut print.
	(ListForm._on_show_cell_codebook)
	(ListForm.can_show_cell_codebook): Nov metody.
	(BrowseForm._context_menu): Pidna poloka pro pkaz
	`ListForm.COMMAND_SHOW_CELL_CODEBOOK'.  Kosmetick pravy.
	(ListForm._on_line_commit): Kosmetick pravy.
	(BrowseForm._context_menu): `BrowseForm.COMMAND_RECORD_EDIT' ->
	`BrowseForm.COMMAND_EDIT_RECORD'.
	(BrowseForm.on_command): `BrowseForm.COMMAND_RECORD_EDIT' ->
	`BrowseForm.COMMAND_EDIT_RECORD'.
	(ListForm._on_select_cell): Callback volej jen pokud nejsme uvnit
	`_select_cell()'.
	(ListForm._on_context_menu): Volej callback
	`CALL_USER_INTERACTION'.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Namsto
	koncovch akc volej `self._set_row()'.
	(PresentedRow._set_row): Nov metoda.
	(PresentedRow.set_row): Vyuvej `self._set_row()'.

	* lib/pytis/form/_grid.py (IncrementalSearch._on_kill_focus): Nastavuj
	callback pouze pokud listform stle existuje.

	* lib/pytis/form/form.py (LookupForm.can_sort): Oprava peklepu.
	(Form._menus): `BrowseForm.COMMAND_RECORD_EDIT' ->
	`BrowseForm.COMMAND_EDIT_RECORD'.

2005-06-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._select_cell): Pechod na sloupeek
	provdj pouze pokud nebyl proveden pechod na dek /pi nm je
	provdn i pechod na sloupeek/.  prava vpotu sloupeku.
	(ListForm._on_handled_command): Pokud m handler mn ne dva
	pozin arguemnty, pedvej pouze `row', nebo vbec nic.
	(ListForm._on_handled_command): Zohleduj `None' ve vsledku
	voln `inspect.getargspec()'.

	* lib/pytis/form/form.py (Form.check_permission): Vracej pravdu pokud
	je dan prvo alespo k jednomu sloupeku datovho objektu.  Pouze
	pro delete vracej globln prvo.
	(LookupForm.can_sort_column): Oprava smantiky.

2005-06-20  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_make_complex_tables): Odstranno.
	(_GsqlView._make_tables): Nepouvej '_make_complex_tables'.
	Nepouvej 'remove_duplicates'.
	(_GsqlView._format_rule): Prochzej cyklus pes 'self._tables'
	(kvli zachovn poad v generovn rules).

2005-06-20  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_make_complex_tables): Odstranno.
	(_GsqlView._make_tables): Nepouvej '_make_complex_tables'.
	Nepouvej 'remove_duplicates'.
	(_GsqlView._format_rule): Prochzej cyklus pes 'self._tables'
	(kvli zachovn poad v generovn rules).

2005-06-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (help_mitem): Nov funkce.
	(bf, df, ddf, nr, rp): Nov zkratky.

2005-06-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py: 
	(run_procedure_mitem, run_form_mitem, new_record_mitem, user_cmd) 
	(run_any_form): Nov funkce.

2005-06-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm.UI_EDIT_CHANGE)
	(ListForm.UI_EXISTS_CONDITION, ListForm.UI_SORTING)
	(ListForm.UI_GROUPING): Konstanty zrueny.
	(ListForm.can_sort_column): Nov metoda.
	(ListForm._on_label_left): `ListForm.SORTING_CYCLE_DIRECTION' ->
	`LookupForm.SORTING_CYCLE_DIRECTION'.  Nepouvej argument
	`uievent_id' konstruktoru `MItem'.
	(on_ui_event): Metoda zruena.
	(ListForm.is_changed): Nov metoda.
	(ListForm.can_set_grouping): Nov metoda.

	* lib/pytis/form/form.py (Form._menus): Nepouvej argument `uievent_id' konstruktoru
	`MItem'.
	(Form.on_ui_event): Metoda zruena.
	(Form.guardian): Nov metoda.
	(RecordForm.UI_ACCESS_INSERT, RecordForm.UI_ACCESS_UPDATE)
	(RecordForm.UI_ACCESS_DELETE): Konstanty zrueny.
	(RecordForm.on_ui_event): Metoda zruena.
	(LookupForm.can_sort_column): Nov metoda.
	(LookupForm.sorting, LookupForm.can_sort): Nov metoda.
	(EditForm._menus): Nepouvej argument `uievent_id' konstruktoru
	`MItem'.
	(EditForm.on_ui_event, BrowsableShowForm.on_ui_event): Zrueno.

	* lib/pytis/form/dualform.py (on_ui_event): Zrueno.
	(DualForm.active_form): Nov metoda.

	* lib/pytis/form/application.py (Application.UI_ALWAYS_DISABLED)
	(Application.UI_OPENED_WINDOW,
	Application.UI_OPENED_MORE_WINDOWS): Konstanty zrueny.
	(Application.new_record): Pouvej `self._current_form()' namsto
	`current_form()'.
	(on_ui_event): Metoda zruena.
	(Application.window_count): Nov metoda.
	(Application.current_form): Nov metoda.
	(get_status): Upraven docstring.
	(current_form): Pouze volej `_application.current_form()'.
	(exit): Upraven docstring.

	* lib/pytis/form/command.py (Command.__init__): Nov arguemnty
	`enabled' a `static'.
	(Command.__init__): Pidny asserty na `handler' a
	`access_groups'.  Zjisti ptomnost v access groups ji zde a
	zapamatuj.
	(access_groups): Metoda zruena
	(Command.enabled): Nov metoda.
	(invoke_command): Vyvolej pkaz pouze pokud je `enabled'.
	(_check_perm, _can_run_form, _can_insert, _can_insert) 
	(_can_insert, _current_form_can_update, _current_form_can_update) 
	(_current_form_can_delete, _current_form_changed) 
	(_current_form_changed, _current_field_modified): Nov funkce.
	Vyuvej tyto funkce v definicch pkaz.

	* lib/pytis/form/screen.py (Keymap._define_key): V assertov zprv
	vypisuj tak pkaz a jeho argumenty.
	(MenuBar._create_menu): Neinicializuj `self._access_groups'.
	(MenuBar.activate): Neinicializuj `self._access_groups'.
	(Menu.create): Nezjiuj zde `access_groups' pkazu, radji
	ponech uen na `Command.enabled()'.
	(MItem.__init__): Zruen arguemnt `uievent_id'.
	(MItem._on_ui_event): Nov metoda.
	(MItem.create): Namsto voln `Application.on_ui_event()' oetuj
	`wx.EVT_UPDATE_UI' pomoc `self._on_ui_event()'.
	(MItem.uievent_id): Metoda zruena.

	* lib/pytis/form/inputfield.py (InputField.UI_IS_MODIFIED)
	(InputField.UI_IS_ENABLED, ListField.UI_LIST_ITEM_SELECTED):
	Konstanty zrueny.
	(InputField.on_ui_event): Metoda zruena.
	(InputField._menu): Nepouvej argument `uievent_id' konstruktoru
	`MItem'.
	(InputField.is_enabled): Nov mentoda.
	(Invocable._menu, CodebookField._menu, ListField._menu):
	Nepouvej argument `uievent_id' konstruktoru `MItem'.
	(ListField.on_ui_event): Metoda zruena.
	(ListField.has_selection): Nov mentoda.


2005-06-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (DEFAULT_COMMAND_KEYS): 

2005-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm._create_form): Na konci volej
	`_set_main_form_callbacks()' a `_set_side_form_callbacks()'.
	(DualForm._set_main_form_callbacks)
	(DualForm._set_main_form_callbacks)
	(SideBrowseDualForm._create_side_form)
	(BrowseDualForm._set_main_form_callbacks)
	(ShowDualForm._set_main_form_callbacks)
	(BrowseShowDualForm._set_main_form_callbacks)
	(DescriptiveDualForm._set_side_form_callbacks): Nov metody.
	(SideBrowseDualForm._create_side_form)
	(BrowseDualForm._create_main_form)
	(ShowDualForm._create_main_form)
	(BrowseShowDualForm._create_main_form)
	(DescriptiveDualForm._create_side_form): Nastavovvovn callback
	penech novm metodm.
	(DescriptiveDualForm._init_attributes): Nov metoda.
	(DescriptiveDualForm._do_selection): Nastavuj
	`self._in_mainform_selection'.
	(DescriptiveDualForm._on_side_selection): Nedlej nic, pokud je
	nastaveno `self._in_mainform_selection'.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Nov argumert
	`fixed'.
	(FieldSpec.fixed): Nov metoda.

	* lib/pytis/form/list.py (ListForm._on_size): Korekci ky kvli
	scrollbarm provdj a po kontrole shody nov a pvodn velikosti.
	(ListForm._on_column_header_paint): Dedopus, aby label pesahoval
	ku sloupce.
	(ListForm._on_size): Ponech velikost fixnch sloupc nezmnnou.

2005-06-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._select_cell): Neprovdj zde rewind.
	(ListForm._create_grid): Zruen hack s initilnm fetchem.

	* lib/pytis/form/dualform.py (DualForm._initial_sash_ratio) 
	(DescriptiveDualForm._initial_sash_ratio): Nov metoda.
	(DualForm._init_attributes): Vyuvej ji.

	* lib/pytis/data/_test.py (DataEnumerator.test_values): Nov metoda.
	(DBDataDefaultClass._test_lock): Test odstaven pro momentln
	nefunknost.
	(DBDataFetchBuffer.setUp): Pouvej konfiguran volby namsto
	zruench konstant.
	(DBDataFetchBuffer.setUp): Vytvej jet duhou tabulku s malm
	potem dk.
	(_check_skip_fetch): Pijmej datov objekt jako argument.
	(DBDataFetchBuffer.test_skip_fetch): Pidny nov testy pracujc
	s malou tabulkou.

	* lib/pytis/data/types_.py (Type.export, Type.default_value):
	Odstranny hrtky pekladem hodnot sekvence podle `_SPECIAL_VALUES'.
	(Enumerator.values): Nov metoda.
	(DataEnumerator.values): Nov metoda.
	(Value.__init__): Pouvej `super()' k voln metody pedka.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.fetch):
	Kosmetick pravy.
	(DBDataPostgreSQL._PgBuffer.fetch): Loguj jen slo dku, ne
	data.
	(DBDataPostgreSQL._PgBuffer.correction): Kosmetick pravy.
	Pidn koment.
	(DBDataPostgreSQL.__init__): Zruen nepouit atribut
	`_cache_size'.  Pidny nov atributy zrcadlc konfiguran
	promnn (vkonnostn mikro-optimalizace, le dle profileru
	pomrn inn).
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Pouvej
	`self._db_encoding', namsto `config.db_encoding'.
	(DBDataPostgreSQL.fetchone): Pouvej
	`self._pg_initial_fetch_size' namsto `config.initial_fetch_size'
	a `self._pg_fetch_size' namsto `config.fetch_size'.
	Odstranna prazvltn korekce '-2' pi urovn potu
	peskoench dek pi zptnm chodu.
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Postgresov typ
	`float8' mapuj na `Float'.

	* lib/pytis/form/_grid.py (ListTable._retrieve_row): Vypoti skip tak,
	aby mohl bt fetch proveden skuten ve smru pohybu, ne vdy
	dopedu.
	Ped prvnm fetchem provdj jet fetch prvnho dku dopedu,
	aby byl naplnn buffer.
	(ListTable._retrieve_row.fetch): Provdj fetch ve smru `direction'.
	(ListTable._retrieve_row): Provdj tak fetch ve smru pohybu.
	(ListTable._panic): Opravena indentace.

2005-06-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow): Bu potomkem `object'.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	importuj `_grid'.  `ListForm.IncrementalSearch' ->
	`_grid.IncrementalSearch'.
	

	* lib/pytis/form/form.py (LookupForm._init_select): Upravena logovac
	hlka.

	* lib/pytis/form/inputfield.py: Zruen docstring.
	(EnumerationField._values): Oprava peklepu.
	(EnumerationField._set_value): Vracej vsledek voln
	`SetStringSelection()'.
	(ChoiceField._create_ctrl): Nepedvej konstruktoru zbyten
	argumenty.
	(ColorSelectionField._set_value): Vracej vsledek voln metody
	pedka.

	* lib/pytis/form/list.py (ListForm._create_grid): Kosmetick pravy.
	Hack oetujc vyazen buffer pi zptnm natn dk gridu.
	(ListForm._update_grid, ListForm._update_grid): Nov/vrcen argument
	`data_init'.  Popkud je True, inicializuj datov select, jinak
	volej `rewind()'.
	(ListForm.refresh): Neinicializuj select zde, ale nastavuj
	`data_init' pi voln `_update_grid()'.
	(ListForm.focus): Neprovdj refresh.

	* lib/pytis/form/application.py (Application.restore): Pokud je
	aktivn formul `Refreshable', volej `refresh()'.

2005-06-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._init_select): Obaluj databzovou
	operaci do `db_operation'.

	* lib/pytis/form/list.py (ListForm._create_grid): Neobaluj voln
	`_init_select()' do `db_operation'.
	(ListForm._create_recreate_grid): Pejmenovno na
	`_update_label_colors()'.
	(ListForm._recreate_grid): Pejmenovno na `_update_grid()'.
	(ListForm._create_grid, ListForm._update_grid):
	`_create_recreate_grid' -> `_update_label_colors()'.
	(ListForm._on_insert_line, ListForm._on_line_rollback):
	`_recreate_grid()' -> `_update_grid()'.  Nepedvej zruen
	argument `data_init'.
	(ListForm.refresh): Neobaluj voln `_init_select()' do
	`db_operation'.  `_create_recreate_grid' ->
	`_update_label_colors()'.

	* lib/pytis/presentation/spec.py (GroupSpec.__init__): Odstrann
	zapomenut argument `box'.

2005-06-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Volej
	`Show()' formule bez arguemntu `refresh'.

	* lib/pytis/form/__init__.py: Importuj `_grid' a aktualizuj jeho
	jmenn prostor. 

	* lib/pytis/form/form.py (PopupForm._popup_frame): Zruen argument
	`title'.
	(PopupForm._popup_frame): Ke stylu dialogu pidej tak
	`wx.DEFAULT_DIALOG_STYLE'.
	(PopupForm.run): Volej na `frame' `SetTitle()' a `SetClientSize()'.
	(_finish_top_level_sizer): Zrueno.
	(Form._create_form): Nevolej `_finish_top_level_sizer()'.
	(Form._finish_top_level_sizer): Zrueno.
	(PopupEditForm._finish_top_level_sizer): Zrueno.

	* lib/pytis/form/list.py (ListForm._init_attributes): Atribut
	`self._size' zruen.
	(ListForm._create_form_parts): Neukldej `self._size'.
	(ListForm._create_grid, ListForm._on_size): Nepouvej
	`self._size'.
	(ListForm._on_size): Zrueno `SPECIAL_WX_CORRECTION'.  Zpehlednn
	a zjednoduen cyklus pepotvn sloupc.  I pi pedasnm
	oputn volej `Skip()'.  Nenastavuj velikost gridu explicitn.
	Nepipotvaj velikosti scrollbar.
	(ListForm._recreate_grid): Neprovdj
	`self.SetSize(self.GetSize())'.
	(ListForm.total_width): Zrueno
	(ListForm.total_height): Pejmenovno na `_total_height()'.
	(CodebookForm_DEFAULT_WINDOW_HEIGHT): Zveno na 500.
	(CodebookForm.__init__): Nepedvej `title' voln
	`_popup_frame()'.  Nastavuj velikost formule, ne rodiovskho
	okna/framu.
	(_InputFieldCellEditor, _ListTable, IncrementalSearch.__init__):
	Pesunuto do novho modulu `_grid'.
	(_create_grid): Zrueny nepouit argumenty `data_init',
	`inserted_row_number' a `inserted_row'.
	(ListForm._create_grid): `self._ListTable' -> `_grid.ListTable'.
	`_InputFieldCellEditor' -> `_grid.InputFieldCellEditor'.
	(ListForm._recreate_grid): Zruen arguemnt `data_init'.
	Neprovdj zde inicializaci dat.
	(ListForm._select_cell): Nepepisuj si `col'.
	(ListForm.on_data_change): Update docstringu.
	(ListForm._on_incremental_search): `self.IncrementalSearch' -> `_grid.IncrementalSearch'.
	(ListForm.refresh): Inicializuj sde datov select.
	(ListForm.Show): Nevolej refresh().
	(ListForm._select_cell): Volej `MakeCellVisible()' dvakrt...

2005-06-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (DualForm._init_attributes): Nastavuj
	'sash_ratio' podle specifikace.

	* lib/pytis/presentation/spec.py (DualSpec.__init__):
	Nov argument 'sash_ratio'.
	(DualSpec.sash_ratio): Nov metoda.

2005-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec): Bu potomkem
	`pytis.data.DataFactory'.
	(DataSpec.__init__): Pokud jsou `access_rights' None, dopluj
	neomezen `AccessRights'.  Nov argument `data_class_'.
	Transformuj vechny argumenty zde a volej konstruktor pedka.
	(DataSpec.make): Zde nedlej nic, pouze vracej sebe sama.
	(ASC, ASC, LOWER, UPCASE, ALPHA, NUMERIC, ALPHANUMERIC, ASCII)
	(FLOAT, ALWAYS, ONCE, NEVER): Nov konstanty.
	(LHGroup): Bu potomkem HGroup.
	(LVGroup): Bu potomkem VGroup.
	(LHGroup.__init__, LVGroup.__init__): Nenastavuj `orientation' a
	volej konstruktor pedka pes `super()'.
	(HGroup.__init__, VGroup.__init__): Volej konstruktor pedka pes
	`super()'.

2005-06-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (run_cb): Zruen 'returned_column',
	vrac se cel dek.

2005-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/data.py (Data.row_key): Pouvej "list comprehension"
	namsto 'map()'.

	* lib/pytis/form/application.py (Application.OnInit): V debug reimu
	vypisuj verzi wxWidgets.

	* lib/pytis/form/dualform.py (ExtInfoDualForm): Pejmenovno na
	`BrowseShowDualForm'.
	(DescriptiveDualForm): `ExtInfoDualForm' -> `BrowseShowDualForm'.

	* lib/pytis/form/list.py (total_height): Zjiuj vku dku jen pokud
	je zobrazen alespo jeden dek.

	* lib/pytis/presentation/spec.py (BorderStyle, Orientation, Button) 
	(GroupSpec, LayoutSpec, ViewSpec, DualSpec, Editable) 
	(SelectionType, Color, TextFormat, FieldStyle, PostProcess) 
	(TextFilter, Computer, RefSpec, FieldSpec): Bu potomkem `object'.
	(Spec): Tda zruena.
	(SelectionType): Upraveny docstringy.
	(SelectionType.CODEBOOK): Nov konstanta.
	(FieldSpec.__init__): Upraven docstring.

2005-06-07  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (dbselect): Oprava mal chybky.

2005-06-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (Window.resize): Namsto `OnSize(event)'
	volej prost `SetSize(size)'.

	* lib/pytis/form/dualform.py (DualForm.__init__): Wx callback
	`EVT_SIZE' oetuj pomoc `self._on_size' a `EVT_SET_FOCUS' pomoc
	`self._on_focus'.
	(DualForm._on_size): Nov metoda.
	(DualForm..OnSize): Zrueno.
	(DualForm._init_attributes): `self._sash_ratio' nastav na 0.5.
	(DualForm._create_form): `OnSashChanged' -> `_on_sash_changed'.
	(DualForm._sash_position): Neoekvej None v `self._sash_ratio'.
	(DualForm._on_size_hook): Zrueno.
	(DualForm.OnSashChanged): Pejmenovno na `_on_sash_changed'.
	(DualForm.OnSize): Pejmenovno na `_on_size'.  Vdy nakonec volej
	'Skip()'.
	(ShowDualForm._sash_position): Nepouvej nikdy `self._sash_ratio'.
	(ShowDualForm._on_size_hook): Zrueno.
	(ExtInfoDualForm): Nov tda.
	(DescriptiveDualForm): Bu jejm potomkem.
	(DescriptiveDualForm._sash_position)
	(DescriptiveDualForm._on_size_hook, DescriptiveDualForm.refresh)
	(DescriptiveDualForm._create_main_form): Zrueno.

	* lib/pytis/form/form.py
	(EditForm._find_row_by_values): Nov metoda.
	(EditForm.size): Doplnn docstring.
	(EditForm.set_scrollbars):  Kosmetick pravy.
	(select_row): Argument `key' pejmenovn na `position'.  Umonno
	pouit slovnku hodnot jako `position'.
	(EditForm._find_row_by_values): Nov metoda.
	(ShowForm._init_attributes): Wx callback
	`EVT_SIZE' oetuj pomoc `self._on_size'.
	(ShowForm._on_size): Nov metoda.
	(ShowForm.OnSize): Zrueno.

	* lib/pytis/form/dialog.py (InputDialog.__init__): Pijmej klov
	argumenty 'report' a 'report_format'.
	(FileDialog.__init__): Vchoz hodnota argumentu `wildcards'
	nastavena tak, aby byly zobrazeny vechny soubory.

	* lib/pytis/form/command.py (BrowseForm.COMMAND_IMPORT_INTERACTIVE):
	Nov pkaz. 
	(DEFAULT_COMMAND_KEYS): Pia mu klvesu.

	* lib/pytis/form/list.py (BrowseForm.on_command): Oetuj
	`COMMAND_IMPORT_INTERACTIVE' volnm
	`self._on_import_interactive()'.
	(BrowseForm._on_import_interactive): Nov metoda.
	(BrowseForm._on_new_record): Upravena chybov hlka.
	(ListForm.__init__): Wx callback `EVT_SIZE' oetuj pomoc
	`self._on_size'.
	(ListForm.OnSize): Zrueno.
	(ListForm.SetSize): Pejmenovno na `_on_size()'.  Transformovno
	na event handler.  Na konci volej `event.Skip().

2005-06-07  Pavel Hanak  <hanak@asellus.cz>

	* bin/pytis: Doplnno o monost pout rznch verz wxPython.

2005-06-07  Pavel Hanak  <hanak@asellus.cz>

	* bin/pytis: Doplnno o monost pout rznch verz wxPython.

2005-06-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (_select_cell): Eliminuj nsobn voln
	`SetGridCursor()', `GetGridCursorCol()' a `GetGridCursorRow()'.
	(BrowseForm._PrintResolver._Spec.body) 
	(BrowseForm._PrintResolver._Spec.doc_header) 
	(BrowseForm._PrintResolver._Spec.doc_footer) 
	(BrowseForm._PrintResolver._Spec.coding): Akcepruj klov
	argument `variant'.

2005-06-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.validate): Pejmej
	(InputField._value): Nov metoda.
	(InputField._is_valid): Nov metoda.
	(DateField._on_invoke_selection): Pouvej `self._value()'.
	Pouvej pmo metody `value' a `self._type' a ne oklikou pes
	vytven nov instance typu `Date'.
	(CodebookField._on_change_hook): Vyuvej `self._value()'.
	Pdvej metod `get()' enumertoru Pythonovou hodnotu, ne stringovou.
	(CodebookField._on_invoke_selection): Vyuvej `self._value()'.
	(CodebookField._on_codebook_insert): Vyuvej `self._is_valid()'.

	**kwargs a pedvej je metod `validate()' datovho typu.

	* lib/pytis/form/form.py (RecordForm._on_editability_change): Nech
	metoda pijm dva arguemnty.
	(EditForm._on_editability_change): Pejmenovn argument.

2005-06-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._field_change): 
	Pejmenovno na `_on_field_edit()'.
	(EditForm._create_form): `_field_change()' -> `_on_field_edit()'.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Ukldej vazebn sloupce do atribut.  Zapamatuj si typ vazebnho
	sloupce v side_formu.
	(SideBrowseDualForm._do_selection): Vyuvej tchto atribut.

	* lib/pytis/presentation/field.py (_finalize): Pejmenovno na
	`_resolve_dependencies()'.  Zruen argument `invoke_callbacks'.
	Oznaovn dirty polek provdj zde.
	(PresentedRow.__setitem__): Namsto `_finalize()' pouvej
	`_resolve_dependencies()' a penech mu tak oznaovn dirty
	polek.
	(PresentedRow._recompute_editability): Kosmetick pravy.
	(PresentedRow._recompute_codebook_runtime_filter): Pejmenovno na
	`_notify_runtime_filter_change()'.
	(PresentedRow.__setitem__): `_recompute_codebook_runtime_filter'
	-> `_notify_runtime_filter_change()'.
	(PresentedRow.set_row, PresentedRow.listfield_choose)
	(PresentedRow.__init__): : `_finalize()' ->
	`_resolve_dependencies()'.
	(PresentedRow._resolve_dependencies): Oznam zmnu runtime
	codebook jet ped pepotvnm editovatelnosti.

2005-06-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/_test.py: Opraveny importy.  Instance
	 datovch typ nezskvej pes `.make()'.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Argumenty
	`enable_field_callback' a `disable_field_callback' nahrazeny
	jedinm `editability_change_callback'.
	(PresentedRow.__init__): Pidny vemon asserty na argumenty.
	Inicializuj cache vypotench virtulnch hodnot `self._virtual'.
	Vyuvej `_finalize()'.
	(PresentedRow._init_row.genval): Promnn `id' pejmenovna na
	`key'.
	(PresentedRow.__getitem__): Dopotvej dopotvan hodnoty pmo
	zde.  Cachuj vypoen hodnoty virtulnch sloupc.  Pokud dojde ke
	zmn hodnoty, volej change_callback ihned po dopotn nov
	hodnoty.
	(_invoke_callbacks, _needs_recomputation, _compute)
	(_recompute_dependencies): Zrueno.
	(PresentedRow._finalize): Nov metoda.
	(PresentedRow._recompute_editability): Namsto `id' pouvej
	promnnou `key'.
	(PresentedRow._compute_editability): Ukldej vypotenou hodnotu do
	`self._editable' a nuluj "dirty" pznak.
	(PresentedRow._recompute_codebook_runtime_filter): Kosmetick
	pravy.
	(PresentedRow.row): Nesna se zde eit, co sem nepat.  Hodnotu
	zskvej pes pstup ke slovnku /__getitem__/.
	(PresentedRow.format): Nesna se zde eit, co sem nepat.
	Hodnotu zskvej pes pstup ke slovnku /__getitem__/.
	(PresentedRow.field_changed): Kosmetick prava.
	(PresentedRow.editable): Nee zde co je nyn v
	`_compute_editability'.
	(PresentedRow.listfield_choose): Vyuvej `_finalize()'.
	(PresentedRow.__setitem__): Vyuvej `_finalize()'.
	(PresentedRow.set_row): Vyuvej `_finalize()'.

	* lib/pytis/form/form.py (RecordForm._set_row): Respektuj zmnu
	argument `PresentedRow'.
	(RecordForm._on_row_change, EditForm._on_row_change):
	Pejmenovno na `_on_field_change'.
	(RecordForm._on_field_enable, RecordForm._on_field_disable)
	(EditForm._on_field_enable, EditForm._on_field_disable): Zrueno.
	(RecordForm._on_editability_change)
	(EditForm._on_editability_change): Nov metody.
	():

2005-05-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CodebookField._on_invoke_selection):
	Pedvej dek jako slovnk s value_column jako kl.

	* lib/pytis/form/list.py (select_row): Umoni pedat dek tak jako
	slovnk.

2005-05-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.__setitem__):
	Kontroluj typ nastavovan hodnoty.

	* lib/pytis/form/application.py
	(Application._WINDOW_MENU_TITLE): Pouij `&' pro klvesovou
	zkratku.
	(Application.OnInit): Vynech v menu oken pkazy pro manipulaci s
	okny.
	(Application._window_menu): Zrueno.
	(Application._update_window_menu): Nepouvej
	`self._window_menu()'.  Pidvej do titulku slo formule,
	fungujc tak jako klvesov zkratka.  Popis formule uvdj
	pouze pokud nejde o BrowseForm.

	* lib/pytis/form/dualform.py (DualForm._DESCR,
	DescriptiveDualForm._DESCR): Nov konstanty.

	* lib/pytis/form/form.py (Form._menus, EditForm._menus): Pidny pkazy pro
	manipulaci s okny.
	(Form.descr): Pokud `self._DESCR' nen None, vracej jeho hodnotu.
	(EditForm._validate): Neprovdj kontrolu datovho typu hodnot v
	row zde.
	(ShowForm): Nov konstanta.

2005-05-30  Tomas Cerha  <cerha@brailcom.orWg>

	* lib/pytis/form/dualform.py (DualForm._DESCR) 
	(DescriptiveDualForm._DESCR): Nov konstanty.

	* lib/pytis/form/list.py (_post_selection_hook): Oetuj
	`DataAccessException' pi zjiovn hodnoty displeje.

2005-05-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Nov argumenty
	`allow_codebook_insert', `codebook_insert_spec'.
	(FieldSpec.allow_codebook_insert) 
	(FieldSpec.allow_codebook_insert): Nov metody.

	* lib/pytis/form/inputfield.py (InputField._validation_error_handler):
	Zrueno.
	(InputField.validate): Zapome na `_validation_error_handler'.
	(TextField._create_ctrl): Vka polka lehce zvtena.  Volej
	tak `self.SetSize()'.
	(Invocable._create_widget): Nastavuj tlatku tooltip.
	(Invocable._create_widget): Mezeru v sizeru vytvej zleva.
	Nastavuj `wx.FIXED_MINSIZE' pi vkldn do sizeru.
	(Invocable._create_button): Namsto `SetSize()' pouij
	`SetMinSize()'.
	(CodebookField._create_widget): Pokud bylo ve specifikaci povoleno
	`allow_codebook_insert', vytvo tak pidvac tlatko.  Nastavuj
	`wx.FIXED_MINSIZE' pi vkldn do sizeru.
	(CodebookField._validation_error_handler): Zrueno.
	(CodebookField._on_codebook_insert): Nov metoda.
	(CodebookField._create_widget): Nech je tlatko pro pidvn
	zznam peskakovno pi prchodu formulem.

	* lib/pytis/form/list.py (_post_selection_hook): Pokud nejsi
	zaostenm oknem, nic neprovdj.

2005-05-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (run_cb): Update docsrtringu.
	Nezskvej resolver, kter nepotebuje.
	(row_update): Obal batabzovou operaci volnm `db_operation'.

2005-05-25  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (run_cb): Argument
	'returned_column' je pozin.

2005-05-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._Column.__init__):
	Zruen argument separator.
	(PresentedRow._process_fieldspec): Nepedvej `separator'.
	(PresentedRow.__setitem__): Pidn zatm zakomentovan assert na
	typ nastavovan hodnoty.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Kosmetick prava.
	(FieldSpec.__init__): Zruen argument `separator'.
	(FieldSpec.separator): Metoda zruena.
	(CodeBookSpec): Tda zruena.
	(FieldSpec.__init__): Povol pouze etzec jako argument `codebook'.

	* lib/pytis/form/inputfield.py (InputField.create): Enumertor zkoumej
	jak pro typ `String', tak `Number'.
	(CodebookField._maxlen): Pokud dojde k `AttributeError', vracej None.
	(CodebookField._create_widget): Zrueny hacky kvli kompatibilit
	se starou definic `codebook'.
	(CodebookField._on_invoke_selection)
	(CodebookField._validation_error_handler): Respektuj to.

	* lib/pytis/form/list.py (ListForm._ListTable.GetColLabelValue):
	Zrueno.
	(ListForm._on_column_header_paint.triangle): Nov metoda.
	(_InputFieldCellEditor.BeginEdit): Nezkouej
	`control.SetInsertionPoint()'
	(ListForm._create_grid): Nastav callback `wx.EVT_PAINT' na
	`self._on_column_header_paint()'.
	(ListForm._ListTable.column_id): Nov metoda.
	(ListForm._ListTable.column_label): Nov metoda.
	(ListForm._SELECTION_CALLBACK_DALAY): Pejmenovno na
	`_SELECTION_CALLBACK_DELAY'.
	(ListForm._select_cell): `_SELECTION_CALLBACK_DALAY' ->
	`_SELECTION_CALLBACK_DELAY'
	(ListForm._post_selection_hook): Nov metoda.
	(ListForm._on_idle): Volej ji.

2005-05-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (cb_computer): Aktualizace docstringu.
	(cb2colvalue): Aktualizace docstringu.
	(cb2strvalue): V assertu testuj `enumerator', ne typ.
	(run_cb): `CodeBook' -> `CodebookForm'.

2005-05-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (DEFAULT_COMMAND_KEYS): Pehozeny klvesy
	pkaz `Application.COMMAND_NEXT_FORM' a
	`Application.COMMAND_PREV_FORM'.

	* lib/pytis/form/application.py (Application.OnInit): Pehozeno poad
	pkaz v menu oken.
	(Application._add_window_menu_item)
	(Application._remove_window_menu_item)
	(Application._check_window_menu_item): Metody zrueny.
	(Application._update_window_menu): Nov metoda.
	(Application.run_form): Namsto `self._add_window_menu_item()'
	pouvej `self._update_window_menu()'.
	(Application.leave_form): Namsto `self._remove_window_menu_item()'
	pouvej `self._update_window_menu()'.
	(Application.restore): Namsto `self._check_window_menu_item()'
	pouvej `self._update_window_menu()'.
	(Application.on_ui_event): Opravena podmnka pro `UI_OPENED_WINDOW'.

	* lib/pytis/output/resolver.py (OutputResolver.output_parameter):
	Pebrej klov argumenty a pedvej je metod `get()'.

	* lib/pytis/form/inputfield.py (CodebookField._on_invoke_selection):
	Hodnotu argumentu `select_row' pedvej jako tuple.

	* lib/pytis/data/_test.py (Module): Nastav implicitn kdovn na
	'iso-8859-2' volnm `sys.setdefaultencoding()'.
	(Color): Nov test.
	(Enumeration): Zrueno.
	(Enumerator): Pejmenovno na `DataEnumerator'.
	(DataEnumerator.test_get): Nov test.
	(FixedEnumerator): Nov test.
	(Sequence): Zrueno.
	(Date.test_validation): Netestuj dvoucifern rok jako validn hodnotu.
	(Boolean.test_values): Zrueno.

	* lib/pytis/data/types_.py (Type.__cmp__): Porovnvej
	`self._enumerator', nikoliv `self._enumeration'.
	(Color._VALIDATION_REGEX): Oprava.

	* lib/pytis/util/util.py (direct_public_members): Testuj tdu pomoc
	`isinstance()' Pouvej "list comprehension" namsto `map()' a
	`filter()'.
	(XStack.__init__): Vyuvej `super()' k voln pedka.
	(XStack.push): Pidvej prvek za prv aktivn prvek, ne na konec.
	(XStack.pop): Vyuvej `super()' k voln pedka.
	(XStack.remove): Aktivuj nsledujc, resp. pedchoz prvek, ne
	vrcholov prvek.

	* lib/pytis/util/test.py (prefix_test): Pouvej "list comprehension"
	namsto `map()' a `filter()'.

	* lib/pytis/presentation/spec.py (CodebookSpec.__init__): Oprava chyby.

2005-05-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (help_window): Opraveno zpracovn
	argument.

2005-05-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (CodebookSpec): Nov tda.
	(CodeBookSpec): Bu potomkem `CodebookSpec'.
	(FieldSpec.__init__): Aktualizace docstringu.
	(FieldSpec.__init__): Nov argument `display_size'.
	(FieldSpec.display_size): Nov metoda.
	(FieldSpec.__init__): Povol tak etzec jako argument `codebook'.

	* lib/pytis/form/dialog.py (RunFormDialog._CODEBOOK_FORM) 
	(RunFormDialog.__init__): `CodeBook' -> `CodebookForm'.

	* lib/pytis/form/list.py (_on_incremental_search): Zapome na typ
	`pytis.data.Codebook'.
	(CodeBook): Pejmenovno na `CodebookForm'.
	(CodebookForm.__init__, CodebookForm._init_attributes) 
	(CodebookForm.on_command): `CodeBook' -> `CodebookForm'.

	* lib/pytis/form/inputfield.py (CodeBookField): Pejmenovno na
	`CodebookField'.
	(InputField.create): `CodeBookField' ->	`CodebookField'.
	(InputField._init_ctrl): Kosmetick pravy.
	(EnumerationField): Aktualizace docstringu.
	(Invocable): Aktualizace docstringu.
	(CodebookField): Aktualizace docstringu.
	(CodebookField._create_widget): Specifikaci selnku zskvej
	pes resolver zde, pokud je self.spec().codebook() etzec.  Ulo
	ji do `self._cb_spec' a nzev do `self._cb_name'.
	(CodebookField._on_invoke_selection): Pouvej `self._cb_spec'.
	(CodebookField._validation_error_handler): Pouvej
	`self._cb_spec' a `self._cb_name'.
	(CodebookField._on_invoke_selection): `CodeBook' -> `CodebookForm'.

2005-05-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm.print_menu): Odstranno.

2005-05-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.leave_form): Neloguj
	ukonen dialogu.

	* lib/pytis/form/screen.py (wx_text_view): Drobn oprava.

2005-05-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (cfg_param, cb2colvalue): Namsto
	typu `Codebook' pracuj s enumertorem.

	* lib/pytis/extensions/types.py (CodebookNull) 
	(ValueColumnCodebook, ValidityColumnCodebook): Zrueno.

2005-05-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (help_window): Pouij 'InfoWindow'.
	(menu_report): Pouij 'InfoWindow'.

2005-05-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (wx_text_view): Odhaduj velikost okna i pro
	WIKI formt ze zdrojovho textu.

	* lib/pytis/data/__init__.py: Neimportuj `xtypes'.  Aktualizuj jmenn
	prostor modulu `types_'.

	* lib/pytis/data/_test.py (Boolean.test_values): Oekvej vnitn
	hodnoty, nikoli uivatelsk. 
	(Boolean.test_noncmp): Porovnvej s typem `String', ne `Enumeration'.
	(Codebook): Zrueno.
	(Enumerator): Nov test.

	* lib/pytis/data/types_.py (Type.VM_NULL_VALUE): Nov konstanta.
	(Type._VALIDATION_MESSAGES): Pidna zprva pro `VM_NULL_VALUE'.
	(Type.__init__): Nov argument `enumerator'.
	(Type._complete): Zrueno.
	(Type.__cmp__): Porovnvej tak enumertory.
	(Type.__getattr__): Nevolej `self._complete()'.
	(Type._check_constraints): Pokud je value None a typ nen "NOT
	NULL", vracej True bez dalch kontrol.  Pokud je definovn
	enumertor, kontroluj hodnotu jeho prostednictvm.
	(Type.enumerator): Nov metoda.
	(Type.constraints): Zrueno.
	(MutableType): Tda zruena.
	(Enumeration): Tda zruena.
	(Boolean): Bu rovnou potomkem `Type' s vyuitm `enumerator'.
	(FixedEnumeration): Tda zruena.
	(Enumerator, FixedEnumerator, MutableEnumerator, DataEnumerator): Nov tdy.
	(Sequence): Tda zruena.
	(_Value.__cmp__): Pokud dojde na porovnvn hodnot, pouij
	`cmp()', ne `compare_objects()'.
	(Boolean.__init__): Pedvej argument `not_null'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_codebook_cache):
	Zrueno.
	(DBDataPostgreSQL._pg_query): Nevytvej `_pg_codebook_cache'.
	(DBDataPostgreSQL._pg_create_make_row_template): Odstranno
	zpracovn typ `Codebook' a `Sequence'.  `DateTime' a `Time'
	zpracovvej spolen.  Nee `icount', je nyn vdy 1.
	(DBDataPostgreSQL._pg_validate_codebook): Metoda zruena.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Neoekvej `icount'
	v `self._pg_make_row_template'.  Zapome na typy typy `Codebook' a
	`Sequence'.  `DateTime' a `Time' zpracovvej spolen.
	(DBDataPostgreSQL._pg_value): Namsto `Enumeration' pracuj s `Boolean'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Zrueny vechny hacky se zpracovnm `Codebook' a `Sequence'.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Zapome na typy typ `Codebook'.

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Pracuj s enumertorem, ne pmo s typem.
	(PresentedRow.__str__): Volej metodu pedka, pokud jet
	neexistuje `self._row'.
	(PresentedRow._recompute_codebook_runtime_filter): Pracuj s
	enumertorem, ne pmo s typem.

	* lib/pytis/form/inputfield.py (InputField.create): selnkov
	polka rozpoznvej podle enumertoru, ne podle typu.
	(EnumerationField._values): Pracuj s enumertorem.
	(EnumerationField._set_value, EnumerationField.get_value): Zruen
	neaktuln docstring.
	(ListBoxField._create_ctrl): Kosmetick pravy.
	(CodeBookField._on_change_hook):
	(CodeBookField._on_invoke_selection): Zruen hack s validac podle
	typu sloupce selnku.  Pracuj s enumertorem.  Nepouvej
	`returned_column'.
	(CodeBookField._validation_error_handler): Validuj typ pmo, ne
	pes sloupce selnku.
	(CodeBookField._validation_error_handler): Nepouvej
	`returned_column'.

	* lib/pytis/form/list.py (CodeBook.__init__): Oetuj Double-click
	volnm `_on_activation()'.
	(CodeBook._init_attributes, CodeBook._init_attributes): Argument
	`ctype' nahrazen argumentem `condition'.
	(BrowseForm._context_menu): Kosmetick pravy.

	* lib/pytis/form/application.py (Application.run_form): Po uzaven
	formule volej `busy_cursor(False)'.
	(Application.run_dialog): Po uzaven dialogu volej
	`busy_cursor(False)'.

	* lib/pytis/data/xtypes.py: Removed.

	* lib/pytis/data/data.py (MemData.select): `cond' nen nikdy None.
	Vracej poet nalezench dek.

2005-05-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (Form.print_menu): Zohledni vrcen 'None' z
	'print_spec'. 

2005-05-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (menu_report): Upraveno pro
	'report' a 'report_format'. Doplnn odskok zpt na menu.
	(check_form): Upraveno pro 'report' a 'report_format'.
	(check_defs): Upraveno pro 'report' a 'report_format'.
	(help_window): Nov funkce.

2005-05-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/util/configuration.py (Configuration._Option_doc_dir):
	Nov konfiguran volba.

2005-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (wx_text_view): Pouvej `lcg.WikiNode', ne
	pmo `lcg.wiki.Parser'.
	(wx_text_view): Vstup Wiki parseru tak obaluj HTML kdem.

	* lib/pytis/form/dialog.py (GenericDialog._create_dialog_elements):
	Vkldej report do sizeru bez okraj.

2005-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (TextFormat.PLAIN): Nov tda.

	* lib/pytis/form/screen.py (wx_text_view): Nov funkce.
	(InfoWindow._create_content): Vyuvej ji.
	(wx_html_view): Nov funkce.
	(HtmlWindow._create_content): Vyuvej ji.
	(InfoWindow.__init__): Nepedven argument `title' voln
	`_create_content()'.
	(InfoWindow.__init__): Nov argument `format'.  Vytvej widget
	pmo zde volnm `wx_text_view()'.  Pidny asserty na typy arguemnt.
	(InfoWindow._create_content): Metoda zruena.
	(HtmlWindow): Tda zruena.
	(wx_html_view): Funkce zruena.
	(wx_text_view): Nov argument `format'.  Vytvej odpovdajc
	widget podle tohoto argumentu.

	* lib/pytis/form/dialog.py (GenericDialog.__init__): Nov arguemnty
	`report' a `html'.
	(GenericDialog._create_dialog): Pokud byl specifikovn `report',
	pidej do dialogu pslun prvek.
	(Message.__init__, MultiQuestion.__init__, Question.__init__):
	Nov arguemnty `report' a `html'.
	(GenericDialog.__init__): Argument 'html' nahrazen argumentem
	'report_format'.
	(GenericDialog._create_dialog_elements): Pedvaj `report_format'
	voln `wx_text_view()'.  Nepouvej ji `wx_html_view()'.
	(Message.__init__, MultiQuestion.__init__, Question.__init__):
	Argument 'html' nahrazen argumentem 'report_format'.

	* lib/pytis/util/log.py (SyslogLogger.FACILITY_LOCAL0) 
	(SyslogLogger.FACILITY_LOCAL1, SyslogLogger.FACILITY_LOCAL2)
	(SyslogLogger.FACILITY_LOCAL3, SyslogLogger.FACILITY_LOCAL4)
	(SyslogLogger.FACILITY_LOCAL5, SyslogLogger.FACILITY_LOCAL6)
	(SyslogLogger.FACILITY_LOCAL7): Nov konstanty.
	(SyslogLogger.__init__): Pidn assert na hodnotu `facility'.
	
2005-05-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._commit_form): Cleanup provdj
	pouze pokud projde 'check'.

2005-05-10  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (constraints_email): Doplnn re
	vraz. Povoluje vskyt slic a znak "-", "_" v emailu.

2005-05-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (Module): Vechna voln `log(DEBUG, ...)'
	uvozena podmnkou `if __debug__: ...'.

	* lib/pytis/form/list.py (Module): Vechna voln `log(DEBUG, ...)'
	uvozena podmnkou `if __debug__: ...'.

	* lib/pytis/form/screen.py (Module): Vechna voln `log(DEBUG, ...)'
	uvozena podmnkou `if __debug__: ...'.

	* lib/pytis/form/output.py (Module): Vechna voln `log(DEBUG, ...)'
	uvozena podmnkou `if __debug__: ...'.

	* lib/pytis/remote/data.py (_DataChangesWatcher._watcher)
	(_DataChangesWatcher.register_callback)
	(_DataChangesWatcher.unregister_callback): Voln 
	`log(DEBUG, ...)'  uvozeno podmnkou `if __debug__: ...'.

	* lib/pytis/util/util.py (copy_stream): Voln
	`log(DEBUG, ...)'  uvozeno podmnkou `if __debug__: ...'.

	* lib/pytis/util/resolver.py (FileResolver._get_module): Odstranna
	debug hlka.

	* lib/pytis/output/formatter.py (LoutFormatter._resolve)
	(LoutFormatter._lout, LoutFormatter._lout, LoutFormatter._lout):
	Voln `log(DEBUG, ...)'  uvozeno podmnkou `if __debug__: ...'.

	* lib/pytis/form/form.py (Form._on_parent_close): Voln
	`log(DEBUG, ...)'  uvozeno podmnkou `if __debug__: ...'.

	* lib/pytis/form/event.py (wx_callback.process_event): Voln
	`log(DEBUG, ...)'  uvozeno podmnkou `if __debug__: ...'.

	* lib/pytis/data/dbdata.py (Module): Vechna voln `log(DEBUG, ...)'
	uvozena podmnkou `if __debug__: ...'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_application_name.default): Vracej `Pytis'.
	(Configuration._Option_log_logger.default_string): Vracej hodnotu
	korespondujc s `default' hodnotou.

	* lib/pytis/form/application.py (Application.OnInit): titulek aplikace
	zskvej pmo z konfiguran volby `application_name', nikoliv ze
	specifikace.
	(set_status): Voln `log(DEBUG, ...)'  uvozeno podmnkou 
	`if __debug__: ...'.
	(Application.OnInit, Application.run_dialog): Zmnna logovac
	priorita.

	* lib/pytis/util/log.py (StreamLogger): Bu potomkem `object'.
	(StreamLogger.__init__): Pouvej `super()'.
	(SyslogLogger._prefix): Loguj tak jmno uivatele.
	(LoggingInterface.__call__): Kosmetick pravy.
	(SyslogLogger.__init__): Nov metoda.
	(SyslogLogger._send): Zakduj pedanou `facility' do `priority'.

2005-05-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (flatten_menus): Nevracej slovnky,
	pouze linearizuj poloky.
	(get_menu_defs): Pracuj pmo s polokami menu vrcenmi funkc
	`flatten_menu()'.
	(menu_report): Nepouvej `flatten_menus()'.  Vytvej
	hierarchick seznam v HTML.  Prolinkuj defsy s informacemi o
	prvech.  Pouvej `HtmlWindow'.
	(check_form): Pouivej `InfoWindow' namsto `InputDialog'.
	(check_defs): Pouivej `InfoWindow' namsto `InputDialog'.
	(cache_spec): Seznam vytvej pedem pomoc `get_menu_defs()'.

2005-05-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (HtmlWindow, InfoWindow): Nov tdy.

	* lib/pytis/form/application.py (Application.wx_frame): Nov metoda.
	(wx_frame): Nov funkce.

2005-05-06  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template): Dopl o testovn
	instance 'Time'.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Oeti typ 'Time'.

2005-05-06  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/presentation/spec.py, pytis/form/screen.py (init_colors):
	Doplnn konstant:
        BLANCHETALMOND:(255, 235, 205),
        LIGHTYELLOW:(255, 255, 224),
        PEACHPUFF2:(238, 203, 173),
        SLATEGRAY2:(185, 211, 238),
        LIGHTSALMON:(255, 160, 122)	

2005-05-05  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (dbselect): Doplnna monost zadat
	nzev specifikace (pedtm jen instanci 'DataFactory').
	(flatten_menus.flatten): Do slovnku ukldej pro 'form' pmo
	'form_class'. 
	(get_menu_defs): Nov funkce.
	(menu_report): Testuj duln formule podle pedan 'form_class'.
	(check_form): Doplnno '*args' a '**kwargs'.
	(check_defs): Doplnno '*args' a '**kwargs'.
	(check_defs.check_spec): Pepsno. Testuje se i vytven
	'PresentedRow'. Upraven vzhled ProgressBaru.
	(check_all_defs): Odstranno.
	(check_menus_defs): Vyuvej 'get_menu_defs'.
	(cache_spec): Doplnno '*args' a '**kwargs'.
	(cache_spec.do): Cachuj i defsy zskan z VARIANTS.

2005-05-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec.make): Penech vytven
	selnk datovmu rozhran, pouze pedvej argumenty.
	(Column.__init__): Zdokumentovny podrobnosti o pedvn
	argument datovm typm.  Pidny dal asserty na integritu argument.

2005-05-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/xtypes.py (Codebook.validity_condition): Povol None,
	jako hodnotu vrcenou providerem.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Nov
	argument `type_kwargs'.  Pedvej jej voln
	`self._pdbb_get_type()'
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Nov argument
	`type_kwargs'.  Nech je argument `ctype' nepovninn.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Nepodporuj ji specifikaci typu ani enumertoru obsahujc tuple.
	Pedvej klov argumenty z DBColumnBinding do voln
	`self._pdbb_get_table_type()' a konstruktorm typ.
	(DBBinding.__init__): Pidn assert na typ argumentu `id'.
	(DBColumnBinding.__init__): Nov argument `**kwargs'.
	Zdokumentovny zmny v chpn argument `enumerator' a `type_'.
	Pidny asserty an datov typy vech arguemnt.
	(DBColumnBinding.kwargs): Nov metoda. 

2005-05-04  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (cache_spec): Cachovn specifikac
	pi startu; provd se podle specifikac v menu.

2005-05-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec.__init__): Nov argument `oid'.
	(DataSpec.make): Pidvej OID sloupce v zvislosti na jeho hodnot.

2005-05-04  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (constraints_email,
	constraints_email_many): Kontroluje
	string podle re vrazu. Pokud odpovd nebo je None funkce vrac
	None. Jinak vrac string s chybovou hlkou. 

2005-05-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (flatten_menus): Nov funkce.
	(menu_report): Nov funkce.
	(check_form): Nov funkce.
	(check_defs): Nov funkce.
	(check_all_defs): Nov funkce.
	(check_menus_defs): Nov funkce.

2005-05-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	`begin_search' condition fixed.

	* lib/pytis/form/list.py (CodeBook._on_idle): `begin_search' handling
	simplified.  Report invalid `begin_search' argument.

	* lib/pytis/form/search.py: Import everything from `pytis.presentation'.

2005-04-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/types.py: `lib.*' nahrazeno `pytis.*'.

	* lib/pytis/extensions/spec.py: `lib.*' nahrazeno `pytis.*'.

	* lib/pytis/extensions/misc.py: `lib.*' nahrazeno `pytis.*'.

2005-04-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (cb2colvalue): Pro validaci pouij
	exportovanou (stringovou) podobu pedanho 'value'.
	(run_cb): Doplnny argumenty 'columns' a 'returned_column'

2005-04-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.get): Pokud je v nzvu modulu
	dvojteka, povauj za nzev modulu pouze st ped dvojtekou a co
	je za n pedej jako argument `variant'.

2005-04-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (run_cb): Nov funkce.
	(row_update): Nov funkce.

2005-04-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (Type.validate): Doplnn koment.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Kosmetick pravy.

	* lib/pytis/form/inputfield.py
	(CodeBookField._validation_error_handler): Pedpokldej jedinou
	hodnotu v 'returned_column'.

2005-04-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (CodeBook._init_attributes): Zrueny argumenty
	'returned_column' a 'returned_columns'.
	(CodeBook._on_activation): Vracej instanci 'PresentedRow' pro
	aktuln dek.

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Zohledni, e vyvolan Codeboook vrac 'PresentedRow'.

	* lib/pytis/data/data.py (DataFactory.create): Cachovn objekt zatm
	nelze pout, protoe narme na problm udrovanch konex.

2005-04-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/__init__.py: Importuj `spec'.  Oeti cyklick
	zvislosti.

	* lib/pytis/presentation/field.py Importuj lib.data a ve z lib.util.
	(Editable, SelectionType)
	(Orientation, Color, FieldStyle, PostProcess, TextFilter)
	(Computer, CodeBookSpec, RefSpec, Editable)
	(SelectionType, Orientation, Color, FieldStyle, PostProcess)
	(FIELD_STYLE_EMPHASIS, FIELD_STYLE_WARNING, FIELD_STYLE_DEFAULT)
	(TextFilter, Computer, CodeBookSpec, RefSpec, FieldSpec):
	Everything moved to the `spec' module.
	(PresentedRow.format): Odstrann hack exportem codebook, kter
	maj runtime condition.
	(PresentedRow.format): Odchytvej vjimky pi exportu vypotan
	hodnoty.  Odmtej vceprvkov hodnoty.

	* lib/pytis/presentation/spec.py: New module.

	* lib/pytis/form/__init__.py (list): Don't import `spec'.

	* lib/pytis/form/spec.py: Moved to `lib.presentation'.

	* lib/pytis/form/search.py (SFDialog._selected_condition): Validuj
	boolean hodnoty s argumentem `extended', nikoliv `strict'.
	Odstrann hack na validaci codebook.

	* lib/pytis/form/list.py (ListForm._on_line_commit): Nezskvej
	view_spec pes resolver, ale pouij `self._view'.
	(CodeBook._init_attributes): Nov argument 'returned_column'.
	(CodeBook._on_activation): Pracuj s 'self._returned_column'.
	(CodeBook): Odstranna zakomentovan metoda `select_row()'.
	(BrowseForm._redirected_name): Pidn assert na typ vrcen
	hodnoty.  Pokud nen funkce definovna, vracej None.

	* lib/pytis/form/inputfield.py (InputField.create): Namsto typu
	`_Codebook' pracuj s `Codebook'.  Vytvej vdy jen jeden control
	volnm metody `self._create_ctrl()'.  Namsto
	`self._init_controls()' volej `self._init_ctrl()'.
	(InputField._init_controls): Pejmenovno na `_init_ctrl()'.
	Zruen cyklus -- mme jen jeden control.
	(InputField._create_controls): Pejmenovno na `_create_ctrl()'.
	(InputField._create_widget): Netrap se s pakovnm controls, mme
	jen jeden.
	(InputField.show_popup_menu, InputField._enable_event_handlers)
	(InputField._disable_event_handlers)
	(InputField._register_skip_navigation_callback)
	(InputField._unregister_skip_navigation_callback)
	(InputField._alive): Pracuj se `self._ctrl' namsto
	`self._controls'.
	(InputField._enable, InputField._disable InputField._set_focus):
	Implementovno implicitn chovn.
	(GenericField): Tda zruena.
	(TextField): Odvozeno z `InputField', ne 'GenericField'.
	(TextField._create_controls, TextField._create_text_control):
	Zrueno.
	(TextField._text_control_style): Pejmenovno na `_style()'.
	(TextField._create_ctrl): Nov metoda.
	(TextField._on_kill_focus): Zrueno.
	(TextField._filter_func): Pejmenovno na `_filter()'.
	(TextField.get_value, TextField._enable, TextField._disable)
	(TextField._disable.call_on_idle, TextField._set_value): Pracuj se
	`self._ctrl' namsto `self._controls'.
	(NumericField._text_conterol_style): Pejmenovno na `_style()'.
	(CheckBoxField): Odvozeno z `InputField', ne 'GenericField'.
	(CheckBoxField._create_controls, ChoiceField._create_controls)
	(RadioBoxField._create_controls, ListBoxField._create_controls)
	(ListField._create_controls): Pejmenovno na `_create_ctrl()'.
	(CheckBoxField.get_value, CheckBoxField._set_value): Pracuj se
	`self._ctrl' namsto `self._controls'.
	(EnumerationField): Odvozeno z `InputField', ne 'GenericField'.
	(EnumerationField._values): Namsto typu `_Codebook' pracuj s
	`Codebook'.
	(EnumerationField.get_value): Zrueno ve tkajc se
	MultiCodebook.
	(Invocable._INVOKE_SELECTION_MENU_TITLE)
	(ColorSelectionField._INVOKE_SELECTION_MENU_TITLE)
	(CodeBookField._INVOKE_SELECTION_MENU_TITLE)
	(Invocable._INVOKE_SELECTION_MENU_TITLE): Nov konstanta.
	(Invocable._create_widget, CodeBookField._create_widget): Pracuj
	se `self._ctrl' namsto `self._controls'.
	(Invocable._menu): Nov metoda.
	(ColorSelectionField._menu, CodeBookField._menu): Zrueno.
	(InlineMultiTextField, MultiTextField): Zrueno.
	(CodeBookField): Odvozeno z `TextField;, nikoliv `MultiTextField'.
	(CodeBookField._menu): Vyuvej `_menu()' pedka.
	(CodeBookField._number_of_fields): Zrueno.
	(CodeBookField._on_change_hook): Vyuvej `Codebook.export()'
	namsto `Codebook.data_value()'.
	(CodeBookField._set_value): Zrueno
	(CodeBookField._on_invoke_selection): Vrazn pepsno pro pouit
	s novmi Codebooky.
	(CodeBookField._validation_error_handler): Pracuj s hodnotou jako
	s etzcem, ne tuplem.  Pouvej `CodeBookSpec.returned_column()'
	(HiddenField, ListField): Odvozeno z `InputField', nikoliv
	`GenericField'.
	(ListField._create_controls): Pejmenovno na `_create_ctrl()'.
	(ListField._menu): Pouvej `RefSpec.returned_column()'.

	* lib/pytis/data/xtypes.py (_Codebook): Pejmenovno na `Codebook'.
	(Codebook): Aktualizace docstringu.
	(Codebook.VM_PARTIAL_VALIDATION): Zrueno.
	(Codebook._SPECIAL_VALUES): Nov konstanta.
	(Codebook.__init__): Zrueny argumenty `value_columns' a `strict'.
	Nov argumenty `value_column', `not_null', `use_key'.  Zrueno ve
	kolem MultiCodebook.
	(Codebook.value_columns, Codebook.number_of_columns): Zrueno.
	(Codebook.maxlen): Zrueno ve kolem MultiCodebook.
	(Codebook.strict): Zrueno.
	(Codebook._validate_retrieve, Codebook._value_retrieve): Zrueno.
	(Codebook._retrieve): Zruen argument `strict'.  Zjednodueno.
	(Codebook._row_values, Codebook.values): Zrueno.
	(Codebook._validate): Zruen argument `strict'.  Kompletn
	pepsno.
	(Codebook.wm_validate): Zrueno.
	(Codebook._export): Zruen argument `strict'.  Kompletn pepsno.
	(Codebook.data_value): Pouvej `self._retrieve()' namsto
	`self._value_retrieve()'.
	(SingleCodebook, MultiCodebook): Zrueno.

	* lib/pytis/data/types_.py (Type.VM_NULL_VALUE): Nov zprva.
	(Type._VALIDATION_MESSAGES): Pidno `VM_NULL_VALUE'.
	(Type.__init__): Nov argument `not_null'.
	(Type.__cmp__): Porovnvej tak `self._not_null'.
	(Type.validate): Nov argument `strict'.  Neuetuj TypeError pi
	vbru z cache.  To by mlo bt provdno cache samotnou.  Pidej
	`strict' jako soust kle chache.
	(Type._validating_provider): Zskvej z kle tak hodnotu
	`strict'.  Kontroluj `constraints' pouze pokud je strict pravdiv.
	(Type.wm_validate): Pouvej kontrolu typu namsto
	`is_anystring()'.
	(Type._check_constraints): Kontroluj tak `not_null'.
	(Type.not_null): Nov metoda.
	(Type.default_value): Vracej pmo `Value(self, None).
	(Integer._validate, Float._validate): Pouvej kontrolu typu
	namsto `is_anystring()'.
	(String._validate_maxlen): Pejmenovno na `_check_maxlen()'
	(String._check_constraints): `_validate_maxlen' ->
	`_check_maxlen'.
	(String._validate, String._export, DateTime.__init__)
	(Boolean._validate): Pouvej kontrolu typu namsto
	`is_anystring()'.
	(DateTime._check_format): Nov metoda.
	(Date._validate): Kontroluj, zda je as nulov.
	(FixedEnumeration.default_value): Pouvej `super()' namsto
	`super_()'.
	(Boolean._validate): Argument `strict' pejmenovn na `extended'.
	(Value._init): Opraven nefunkn nebezpen hack s 

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template): Namsto typu
	`_Codebook' pracuj s `Codebook'.  Zrueno ve, co se tk
	MultiCodebook.
	(DBDataPostgreSQL._pg_validate_codebook): Zrueno ve, co se tk
	MultiCodebook.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Zrueno ve, co se
	tk MultiCodebook.  Provdj vdy pouze nestriktn validaci
	natench dat.
	(DBDataPostgreSQL._pg_value): Zrueno ve, co se tk
	MultiCodebook.
	(_validate_not_null): Zrueno.
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Vyuvej pmo
	asgument 'not_null', namsto obecnho 'constraints'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Namsto typu `_Codebook', `SingleCodebook' a `MultiCodebook'
	pracuj vdy s `Codebook'.  Nepedvej `constraints', jen
	`not_null'
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Namsto
	typu `_Codebook' pracuj s `Codebook'. `_Codebook.value_columns()'
	-> `Codebook.value_columns()'.
	(PostgreSQLUserGroups._pgg_retrieve_access_groups): Oeti ppad
	przdn mnoiny skoupin.

	* lib/pytis/data/data.py (MemData.__init__): Nov argument 'data'.
	(MemData._condition2pyfunc): Nov metoda.
	(MemData.select): Vytvo data selectu odpovdajc podmnce.
	(MemData.close): Vyprzdni data selectu.
	(MemData._mem_find_index): Pouvej data selectu.

	* lib/pytis/data/_test.py: Vechny testovac metody pejmenovny z
	'check_*' na 'test_*'.
	(_TypeCheck._test_validity): Vupisuj stringovou reprezentaci
	hodnoty v assertu.
	(Date.test_validation): Testuj, zda dvoucifern letopoet skuten
	neprojde.
	(Codebook.setUp): Pedvej data konstruktoru tdy 'MemData'.
	(Codebook._test_validate): Nov metoda.
	(Codebook.test_validate): Vyuvej ji.
	(Codebook.test_validate_invalid): Nov metoda.
	(Codebook.test_validity_column): Nov metoda.
	(Codebook.test_export): Pidny nov testy.
	(Codebook.test_export_column): Nov metoda.
	(tests): Pidej tdu 'Codebook'.

2005-04-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (db_operation): Pokud je definovna tak
	obalen databzov vjimka, vypi j do dialogu.

2005-04-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (Calendar.__init__): Do styly pidn flag pro
	zobrazen sousednch tdn.
	(Calendar._create_content): Rozi dialog natvrdo o 150 pixel.

	* lib/pytis/data/types_.py (DateTime.__init__): Inicializuj
	`self._check_matcher'.
	(DateTime._check_format): Namsto metn vjimky vracej pravdu i
	nepravdu.
	(DateTime._validate): Testuj nvratovou hodnotu
	`self._check_format()'.

2005-04-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/data.py (DataFactory.__init__): Implementovna cache
	pro datov objekty.
	(DataFactory._data_object_cache): Nov statick metoda.

2005-04-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (DateTime._check_format): Nov metoda.
	(DateTime._validate): Vyuvej ji.  Namsto `is_anystring()'
	rovnou porovnvej tdu datovho typu.

2005-04-20  Tomas Cerha  <cerha@brailcom.org>

	* config/config.py: Odstrann import * z `lib.util'.

2005-04-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._validate): Kontrolu zmny provdj
	pomoc 'f.is_modified'.

2005-04-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.last_select_condition_sql):
	Nov metoda.

	* lib/pytis/form/form.py (EditForm._validate): Pro 'insert' provdj
	validaci vdy.

2005-04-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (Form.__init__): Pedvej klov argumenty
	'spec_args' do 'self._create_view_spec' a
	'self._create_data_object'. 
	(Form._init_attributes): Zruen assert a pejmej pouze 'spec_args'.
	(Form._create_view_spec): Pedvej '**kwargs' resolveru.
	(Form._create_data_object): Pedvej '**kwargs' resolveru.

2005-04-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Provdj refresh
	jet ped focusem.
	(Application.new_record): Provdj zde refresh hornho formule
	aplikace.

	* lib/pytis/form/list.py (BrowseForm._on_edit_record): Provdj refresh
	jen pokud je provdna uivatelsk proceduda `on_edit_record' z view.
	(BrowseForm._on_new_record): Neprovdj refresh.
	

2005-03-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application.run_procedure):
	Oeten ztrty focusu.

2005-03-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_export_csv): Provdj export, jen kdy
	jsou k tomu prva.

	* lib/pytis/data/access.py: Nov konstanta 'Permission.EXPORT'.	

2005-02-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Filtrovn provdj a po nastaven prefillu.

2005-02-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/xtypes.py (_Codebook.data_value): Pi zskvn
	data_value pouvej 'strict=True'.

2005-02-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/xtypes.py (_Codebook._retrieve): Neprovdj databzov
	select, pokud nen nastaveno 'strict'.

	* lib/pytis/presentation/field.py (PresentedRow.field_changed): Oeti
	vskyt 'key' v datovm dku.

	* lib/pytis/data/xtypes.py (_Codebook._export): Nepouvej 'strict'.

2005-02-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow.field_changed): Nov metoda.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Pidn argument
	'description'.
	(ViewSpec.description): Nov metoda.

	* lib/pytis/form/list.py (_create_form_parts): Zohledni argument
	'description'.

	* lib/pytis/form/form.py (Form.__init__): Oprava peklepu.
	(TitledForm._create_title_bar): Doplnn argument
	'description'.
	(EditForm._validate): Validuj jen zmnn polka.

2005-02-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow._init_row.genval):
	Oeti pedn instance 'Value' v 'prefill' pro Codebooky.

	* lib/pytis/data/dbdata.py (DBData.table): Nov metoda.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Hodnotu
	pro 'side_binding_column' ber z metody 'export'.

2005-02-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_export_csv._process_table): Upraveno s
	pouitm 'ProgressDialog'.	
	(_filter): Zakomentovno nepouvan rozen podmnky.
	(_on_insert_line): Pedvej do 'prefill' instance 'Value'.

2005-02-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (GenericDialog.focus): Doplnna metoda 'focus'.

	* lib/pytis/form/search.py (SFDialog._selected_condition):
	Zohledni 'non-strict' validaci pro codebooky.

2005-02-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Do 'prefill' pedvej instanci 'Value' odpovdajc typu
	v 'SideForm'.

2005-02-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Do
	'prefill' pedvej instanci 'Value'.

2005-01-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (InputDialog._create_content) 
	(InputDialog.__init__): Pidn argument 'input_height'.
	(InputDialog._create_content): Zohlednno pidn 'input_height'.

2005-01-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._pack_fields): Oprava zapomenutho style.

2005-01-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py
	(EditForm._create_group.create_handler._handler):
	Pokud handler vrac 'True' zajisti refresh formule.
	(EditForm._create_button): Nov metoda.
	(EditForm._create_group): 'Button' pidvej do 'pack' a zpracuj
	metodou '_pack_fields'.
	(EditForm._pack_fields): Argument 'fields' pejmenovn na 'items'.
	Zohledni 'field' a 'Button'.
	(EditForm._create_button.create_handler._handler): Refresh
	formule provdj vdy.

2005-01-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_group.create_handler): Nov funkce.
	(EditForm._create_group): Vyuvej ji.

2005-01-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (InputNumeric): Nov tda.

2005-01-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql):
	Zohlednna zmna v pouvn ValueCodeBook.

2005-01-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/screen.py (microsleep): Msto 'wx.Usleep' pouvej 'wx.Microsleep'.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm._on_idle):
	prava microsleep.

	* lib/pytis/form/list.py (_on_idle): prava microsleep.

	* lib/pytis/form/search.py (SortingDialog._create_content): Oeti
	ppad tdn podle "neviditelnho" sloupce.

2004-12-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_select_cell): Oprava reakce na 'HOME' a 'END'.

2005-01-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (_update_selection_colors): Nastavuj barvy
	poped a pozad pouze pokud nejsou None.
	(ListForm.Show): Nov klov argument `refresh'.  Provdj refresh jen
	pokud je pravdiv.

	* lib/pytis/form/dualform.py: Bu potomkem `PostponedSelectionDualForm'.
	(DescriptiveDualForm._do_selection): Volej `ListForm.Show()' s
	`refresh=False'.

2004-12-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Ped vyhlednm pedvyplnn hodnoty zvaliduj typy `value_columns'.

2004-12-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._validate): Provdj `check()' jen
	nen-li None.

2004-12-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._validate): Oprava nepedanho parametru.

2004-12-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._validate): Nejprve volej `check' z
	`ViewSpec', teprve potom `PresentedRow.check()' kvli doasn zptn
	kompatibilit.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): V dokumentaci
	oznaen argument `check' jako potlaen.
	(FieldSpec.__init__): Loguj pouit potlaenho argumentu `check'.
	(PresentedRow.check): Pidno TODO.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nov argument `check'.
	Kosmetick pravy.
	(ViewSpec.check): Nov metoda.
	(DualSpec.__init__): Kosmetick pravy.

2004-12-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._validate): Nepouvan argument
	`omit_read_only' zruen.  Zkonstruuj data a po voln `check()' a
	to pmo z row.

2004-12-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Vyhledn dku dlej podle `internal_columns'.

2004-12-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (IncrementalSearch.__init__): Kosmetick prava.
	(IncrementalSearch._exit): Nakonec, pokud byl vbr potvrzen,
	volej zde callback `CALL_SELECTION'.
	(IncrementalSearch._search): Smazn zapomenut print.

2004-12-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_copy_cell): Pro zkoprovn
	do clipboardu vyuvej i utilitu 'xclip'.
	(_on_copy_cell): Pro zkoprovn do clipboardu pouij hack
	s vyuitm metody wxTextCtrl.Copy().

2004-12-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (ImmediateSelectionDualForm): Nov tda.
	(PostponedSelectionDualForm): Nech je odvozena
	`ImmediateSelectionDualForm'.
	(SideBrowseDualForm): Nech je odvozena
	`ImmediateSelectionDualForm'.
	(DescriptiveDualForm): Nech je odvozena
	`ImmediateSelectionDualForm'.

	* lib/pytis/form/list.py (ListForm._ListTable.GetAttr): Nenastavuj
	atributy, pokud se nepoda zskat providera.
	(IncrementalSearch._search): Volej nakonec `l.select_row()' pouze
	v ppad nutnosti korekce vyplvajc z posunutho `start_row'.
	(ListForm._on_editor_shown): Nov metoda.
	(ListForm._create_grid): Oetuj callback
	`wx.grid.EVT_GRID_EDITOR_SHOWN' volnm `self._on_editor_shown()'.


	* lib/pytis/form/dialog.py (ProgressDialog._run_dialog): Nech
	aktualizan funkce pijm i klov argument 'newmsg' pro
	aktualizaci textu dialogu.
	(ProgressDialog.__init__): Aktualizovn docstring.
	(ProgressDialog): Aktualizovn docstring.
	(RepeatedOperationDialog): Nov tda.

2004-12-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._ListTable.GetAttr): Nastavuj
	paramerty `attr' jen pokud `attr' nen None.
	(ListForm._SELECTION_CALLBACK_DALAY): Nov konstanta.
	(ListForm._CELL_SELECTION_TICK): Zrueno.
	(ListForm.__init__): Nevolej zde `select_row()' ani
	`MakeCellVisible()', na to je `refresh()'...
	(ListForm._init_attributes): Neinicializuj `self._changed',
	`self._cached_position', `self._cell_to_select' a
	`self._cell_selection_tick'.  Inicializuj
	`self._selection_callback_candidate' a
	`self._selection_callback_tick'.
	(ListForm._recreate_grid): Pokud je nov poet dk roven nule,
	nastavuj `current_row' na -1.
	(ListForm._recreate_grid): Nestarej se o `self._cached_position',
	ani nepenastavuj `self._position'.  Tak nevolej
	`self._select_cell()', kter tu bylo z neznmch dvod...
	Nevolej ani `self._update_selection_colors()'.
	(ListForm._set_position): Metoda zruena.
	(ListForm._select_cell): Nevolej odsud `self.select_row()', ale
	opan.  Kd vbru dku pesunut pmo sem a `select_row()'
	nech vol `self._selcect_cell(row=...)'.  To ve zejmna kvli
	respektovn `self._in_select_cell', zbytenmu vcensobnmu
	voln `self._update_selection_colors()' apod.
	(ListForm._update_selection_colors): Zruen argument `sideform'.
	Fuj!!!  Pekresluj selection jen pokud existuje.  K tomu vak
	nepouvej `self.select_row()', ale `self._grid.SelectRow()'.
	(ListForm._on_idle): Namsto zpodnho voln `_select_cel()'
	provdj pouze zpodn voln callbacku `CALL_SELECTION'.
	(ListForm._on_select_cell): Volej `self._select_cell()' rovnou.
	(ListForm.show_position): Zruen argument `row'.  Pouvej
	`self._current_row()'.
	(ListForm._select_cell_command): Zrueno.
	(ListForm.on_command): Namsto `self._select_cell_command()'
	pouvej `self._select_cell()'. Pkazy `COMMAND_FIRST_COLUMN' a
	`COMMAND_LAST_COLUMN' oetuj pouze mimo editaci.
	(ListForm._on_delete_line): Nevolej self._set_position().
	(ListForm._on_line_commit): Nenastavuj `self._position'.
	(ListForm.select_row): Zrueno pebrn libovolnch kwargs Fuj!!!
	Zde pouze peve argument na slo dku a volej
	`self._select_cell()'.
	(ListForm._find_row_by_values): Nov metoda.
	(ListForm.refresh): Nenastavuj `self._changed'.  Penastaven
	pvodnho rdky pepsno.
	(CodeBook._init_attributes): Neinicializuj `self._search_cols'.
	(CodeBook.select_row): Zrueno.
	(BrowseForm): Zruen neaktuln docstring.
	(SideBrowseForm._update_selection_colors): Neovlivuj metodu
	pedka vlastnmi argumenty, ale e problm zde.

	* lib/pytis/form/dualform.py (DualForm._init_attributes): Inicializuj
	`self._active_form'.
	(DualForm._create_form): Namsto inicializace `self._active_form'
	volej `self._select_form()'
	(DualForm.on_command): Pidn koment.
	(BrowseDualForm.__init__): Zrueno.

2004-12-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/access.py (AccessRights.permitted_groups): Nov metoda.

	* lib/pytis/form/application.py (Application.on_ui_event): Oetuj
	`UI_ALWAYS_DISABLED'.  Zrueno vyuvn callable event.
	Kosmetick pravy.
	(Application.UI_ALWAYS_DISABLED): Nov konstanta.

2004-12-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/output/flibdata.py (P_NAME): Nov konstanta.

	* lib/pytis/form/screen.py (MItem.__init__): Zohledni monost pedn
	funkce v 'uievent_id'.

	* lib/pytis/form/application.py (Application.on_ui_event): Oeteno
	pedn funkce.	

	* lib/pytis/data/data.py (DataFactory.access_rights): Nov metoda.

2004-11-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/util.py (stack_info): Nov funkce.

	* lib/pytis/form/screen.py (StatusBar.__init__): Oeten krajn ppad
	przdnho seznamu stavovch polek.

	* lib/pytis/form/dialog.py: Importuj Pythonove `types'.
	(GenericDialog.__init__, InputDialog.__init__)
	(ColorSelector.__init__, FileDialog.__init__): Namsto
	`is_any_string()' pouvej rovnou `isinstance(x,
	types.StringTypes)'
	(GenericDialog._create_dialog): Nevracej dnou hodnotu.
	(GenericDialog.run): Neoenvaj nvratovou hodnotu.
	(InputDialog.__init__): Zrueno pebrn libovolnch klovch
	arguemnt pomoc `**kwargs'.  Nov klov argument `allow_empty'.
	Inicializuj atributy `self._allow_empty', `self._mask', a
	`self._autoformat'.
	(InputDialog._create_content): Neoperuj se zruenm
	`self._kwargs'.  Explicitn pedvej polku argumenty
	`emptyInvalid', `mask' a `autoformat'.
	(InputDate.__init__): Metodu pedka volej jako prvn.  Pot pouze
	penastav `self._autoformat'.  
	(ProgressDialog): Nov tda.
	(PBOperationDialog): Zrueno.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm._on_idle):
	Nastavuj hodnoty `self._selection_candidate' a
	`self._selection_data' zde.  Pedpokldej booleanovskou nvratovou
	hodnotu metody `_do_selection()' a pedvej j argument `row'.
	(PostponedSelectionDualForm._on_main_selection): Do
	`self._selection_candidate' ukldej kopii pedanho dku, nikoliv
	tak data.
	(PostponedSelectionDualForm._do_selection): Nov argument `row'.
	V tto td nedlej vbec nic, jen vracej `True'.
	(SideBrowseDualForm._do_selection): Nov argument `row'.  Nevolej
	metodu pedka.  Data filtru pebrej z pedanho `row'.
	(DescriptiveDualForm._do_selection): Nov argument `row'.  Nevolej
	metodu pedka.

2004-11-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (delete_record_question): Pejmenovno z
	'delete_record'. 

	* lib/pytis/form/form.py (EditForm._edit_delete): 'delete_record'
	pejmenovno na 'delete_record_question'.	

	* lib/pytis/form/list.py (_on_insert_line): Pro signalizace
	needitovatelnosti pouvej 'message'.
	(_on_delete_line): Oeti pstupov prva. Oprava refreshe.

2004-11-25  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (PBOperationDialog.__init__): Doplnn
	argument 'step'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_cache_spec_onstart): Nov volba.

	* lib/pytis/form/dialog.py (PBOperationDialog): Nov dialogov tda.

	* config/config.py: Pegenerovno.

2004-11-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._init_attributes): prava komente.	

2004-11-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (show_context_menu): Nastav polokm menu
	klvesov zkratky, pokud je najde v globln klvesov map.

	* lib/pytis/form/screen.py (MItem.set_hotkey): Nov metoda.

	* lib/pytis/form/spec.py (Button): Doplnn docstring.
	(Button.__init__): Doplnn docstring.  Nov argument `width'.
	(Button.width): Nov metoda.

	* lib/pytis/form/dualform.py (DualForm._create_form): Nov metoda.
	(DualForm.__init__): Pesu vytven formul do metody
	`self._create_form()' a nastavovn atribut do
	`self._init_attributes()'.
	(DualForm._init_attributes): Inicializuj atribut
	 `self._sash_ratio'.  Volej metodu pedka.  Doplnn docstring.

	* lib/pytis/form/form.py (Form.__init__): Loguj asy vytven formule
	a natn specifikac.
	(EditForm._create_group): Nastavuj ku polka, pokud
	specifikace tlatka definuje parametr `width'.

2004-11-24  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/form/screen.py (init_colors): Oprava peklepu.

2004-11-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (init_colors): Definuj vechny barvy jako
	instance `WxColor'.

	* lib/pytis/form/list.py (ListForm._ListTable._DisplayCache.__init__):
	Vchoz velikost cache zvena na 100 dek.
	(ListForm._ListTable.__init__): Zruena cache
	`self._column_styles'.  Nov cache `self._attr_cache'.
	(ListForm._ListTable._group): Namsto `self.row()' pouvej
	`self._cached_value()'.
	(ListForm._ListTable._make_attr): Zrueny argumenty `row', `col' a
	`_something'.  Vracej trojici (foregreound, background, font),
	namsto instance `wx.CellAttr'
	(ListForm._ListTable.close): Namsto `self._column_styles' nuluj
	`self._attr_cache'.
	(ListForm._ListTable._cached_value): Nov metoda.
	(ListForm._ListTable.row): Necachuj instance `PresentedRow'.
	(ListForm._ListTable.GetValue): Pokud nejde o editovan dej,
	pouvej `self._cached_value()'.
	(ListForm._ListTable.GetAttr): Pouvej `self._cached_value()'.
	Cachuj tak vsledky voln `self._make_attr()' v
	`self._attr_cache'.  Pevdj vsledek voln `self._make_attr()'
	na instanci `wx.CellAttr'.
	(ListForm._CELL_SELECTION_TICK): Nov konstanta.
	(ListForm._init_attributes): Inicializuj `self._cell_to_select' a
	`self._cell_selection_tick'.
	(ListForm._on_idle): Provdj zpodn vbr dku, po uplynut
	"selection tick".
	(ListForm._on_context_menu): Namsto `self.on_select_cell' volej
	`self._select_cell()'.
	(ListForm.on_command): Oetuj tak pkaz
	`ListForm.COMMAND_SET_GROUPING_COLUMN'.
	(ListForm._run_form): Zruen nepouvan klov argument
	`redirect_name'.  Nastavuj kwargs podle typu fromule.

2004-11-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (Button): Nov tda.
	(GroupSpec.__init__): Povol mezi prvky tak instance `Button'.
	(LayoutSpec.__init__.find_fields): Ignoruj prvky typu `Button'.
	(ViewSpec.__init__.recourse_group): Ignoruj prvky typu `Button'.
	

	* lib/pytis/form/form.py (EditForm._create_group): Vytvej tlatko,
	pokud najde instanci 'Button' ve specifikaci.

	* lib/pytis/form/list.py (SideBrowseForm._init_attributes): Oprava
	metody sluovn podmnek.

2004-11-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm._init_attributes): Nov metoda.
	(DualForm.__init__): Konstruktoru hlavnho formule pedvej jen
	ty klov arguenty, kter proly a do
	`DualForm._init_attributes()'.
	(BrowseDualForm.__init__, BrowseDualForm._create_main_form)
	(ShowDualForm.__init__, ShowDualForm._create_main_form)
	(DescriptiveDualForm._create_main_form): Nestarej se o klov
	argumenty a pedvej je jak jsou (nech jejich zpracovn na novm
	mechanismu).
	(ShowDualForm._on_idle): Odstrann hack na nastaven dku
	hlavnho formule.
	(DescriptiveDualForm.__init__): Metoda zruena.
	

	* lib/pytis/form/form.py (Form.__init__): Zpracovvej tak klov
	argument `guardian'.  Doplnna dokumentace novho zpsobu
	zpracovn klvch argument a inicializace formul.  Volej
	`_init_attributes()' pro zpracovn klovch argument a
	inicializaci atribut.
	(Form._init, RecordForm._init, LookupForm._init): Zrueno.
	(Form._init_attributes, RecordForm._init_attributes)
	(LookupForm._init_attributes, EditForm._init_attributes)
	(PopupEditForm._init_attributes, ShowForm._init_attributes): Nov
	metody.
	(EditForm.__init__): Provdj pouze nezbytn akce, zbytek pesunut
	do `_init_attributes()'.  Argumenty pedvej jen jako *args, **kwargs.
	(PopupEditForm.__init__): Provdj pouze nezbytn akce, zbytek pesunut
	do `_init_attributes()'.
	(ShowForm.__init__): Zrueno.
	

	* lib/pytis/form/search.py (SFDialog.append_condition): Nastavuj sprvn
	konstantu logickho opertoru pi ukldn do `defaults'.

	* lib/pytis/form/list.py (ListForm._select_cell): Nech je argument
	`row' tak klov.  Pi vchoz hodnot `None' pouij aktuln
	dek.
	(ListForm._recreate_grid, ListForm._search_skip)
	(ListForm._on_select_cell, ListForm._on_insert_line)
	(ListForm._on_line_commit, ListForm._on_delete_line)
	(ListForm._on_line_rollback, CodeBook._on_idle): Pouvej vdy
	identifiktory vech klovch argument pi voln
	`self._select_cell()'
	(ListForm.on_command): Oetuj nov pkazy
	`ListForm.COMMAND_FIRST_COLUMN' a `ListForm.COMMAND_LAST_COLUMN'.
	(ListForm.__init__): Zruen argument `select_row'.  Vdy vysvi
	prvn dek a ppadnou zmnu penech na voln metody
	`select_row()'.
	(ListForm._init_attributes, CodeBook._init_attributes)
	(FilteredBrowseForm._init_attributes)
	(SideBrowseForm._init_attributes): Nov metody.
	(SideBrowseForm._init, ListForm._init): Zrueno.
	(ListForm._create_grid): self._orig_columns je nyn jen seznam id.
	Mapuj jej tedy na specifikace sloupc.
	(CodeBook.__init__): Provdj zde jen to, co nepat do
	`_init_attributes()'.
	(BrowseForm._run_form): Volej `run_form()' s arguentem
	`select_row' namsto `key'.
	(FilteredBrowseForm__init__): Argumenty pedvej jen jako *args a
	(SideBrowseForm.__init__): Zrueno.

	**kwargs.

	* lib/pytis/form/application.py (Application.OnInit): Pouvej
	DEFAULT_COMMAND_KEYS k pednastaven klvesov mapy.
	(Application._set_form_state): Nov metoda.
	(Application.run_form): Odstra stavov atributy z klovch
	argument konstruktoru a po vytvoen nebo znovuvytaen instance
	ze zsobnku volej `_set_form_state()' s tmito stavovmi
	atributy.

	* lib/pytis/form/command.py: Nov pkazy
	`ListForm.COMMAND_FIRST_COLUMN' a `ListForm.COMMAND_LAST_COLUMN'.
	(DEFAULT_COMMAND_KEYS): Nov konstanta.

2004-11-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm.__init__): Namsto voln
	`self._create_context_menu()' jen nastavuj klvesov zkratky z
	poloek kontextovho menu.  Neukldej vytvoen kontextov menu
	jako atributy.
	(ListForm._create_grid): Nastavuj barvy pouze nejsou-li None.w
	(ListForm._create_context_menu): Zrueno.
	(ListForm.show_context_menu): Menu pokad znovu vytvej.
	(ListForm.on_command): Oeti pkaz
	`ListForm.COMMAND_FILTER_BY_CELL' volnm
	`self._filter_by_cell()'.
	(ListForm._on_filter): Nov argument `show_dialog' (pedvej
	nadazen metod).
	(BrowseForm._context_menu): Zmnno poad poloek a pidna
	poloka pro pkaz `ListForm.COMMAND_FILTER_BY_CELL'.

	* lib/pytis/form/command.py: Nov pkaz
	`ListForm.COMMAND_FILTER_BY_CELL'.

	* lib/pytis/form/form.py (LookupForm._on_filter): Nov argument
	`show_filter'. Pokud je nepravdiv, nezobrazuj dialog, ale jen
	pouij jeho aktuln podmnku. 

	* lib/pytis/form/search.py (SFDialog._save_values): Nov metoda.

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Respektuj zmnu argument pi voln
	`_Codebook.set_runtime_filter_provider()'.
	(PresentedRow.format): Pro codebook s runtime-condition nastavuj
	pi exportu `strict' na `False'.
	(PresentedRow.set_row): Doplnn docstring.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Namsto
	`self._runtime_filter_row' initializuj `self._runtime_filter_args'
	(_Codebook._export): Nov klov argument `strict'.  Pokud nen
	None, rozhoduj o striktn validaci podle nj.
	(_Codebook.set_runtime_filter_provider): Namsto argumentu `row'
	pijmej obecn argument `args'.  Ukdej jej do
	`self._runtime_filter_args'.  Docstring aktualizovn.
	(_Codebook.validity_condition): Docstring aktualizovn.  V
	promnn `self._runtime_filter_provider' oekvej pmo funkci, ne
	`Computer'.  Pedvej tto funkci `self._runtime_filter_args'.
	(SingleCodebook._export): Pedvej vechny pozin i klov
	argumenty.

2004-11-12  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (CodeBookSpec.__init__): Pidn
	argument 'begin_search'.	
	(CodeBookSpec.begin_search): Nov metoda.

	* lib/pytis/form/list.py (CodeBook.__init__): Upraven popis argumentu
	'begin_search'. 
	(CodeBook._on_idle): Zohledni pm pedn id sloupce v
	'begin_search'. 

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Zohlednna monost pejmn 'begin_search' ze specifikace
	'CodeBookSpec'.

2004-11-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow.set_row): Doplnn
	argument 'reset'.	

	* lib/pytis/form/form.py (EditForm._edit_insert): Aktualizuj
	stvajc instanci PresentedRow a formul.
	(EditForm._edit_update): Aktualizuj
	stvajc instanci PresentedRow a formul.

	* lib/pytis/presentation/field.py (PresentedRow.__init__):
	Upraven popis argumentu 'prefill'.
	(PresentedRow._init_row.genval): 'prefill' me bt i instance
	'Value'.
	(PresentedRow._init_row): Zohledni 'prefill' pro existujc dek.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nov argument
	'on_line_commit'. 
	(ViewSpec.on_line_commit): Nov metoda.

	* lib/pytis/form/list.py (_on_line_commit): Pidna obsluha
	user handleru `on_line_commit'.

	* lib/pytis/form/application.py (Application.run_form):
	Zruen hack se `set_row'.

2004-11-05  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (current_row): Nov metoda.
	(_on_handled_command): Vyuij modul 'inspect' ke zjitn
	argument handleru a podle toho pedej handleru i 'kwargs'.
	Volej 'self.refresh()' jen pokud nen pedn klov argument
	'norefresh'.

	* lib/pytis/form/dualform.py (DualForm.on_command): Je-li voln
	uivatelsk pkaz, pedej handleru aktivnho formule
	i klov argumenty 'mainform', 'sideform' a 'norefresh'.
	Po zavoln 'refresh' nastav jet zptky fokus aktivnmu
	formuli.

2004-11-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (DualForm.__init__): Zaregistruj callback
	pro `wx.EVT_SPLITTER_SASH_POS_CHANGED'. Nov atribut
	`self._sash_ratio'. 
	(DualForm._sash_position): Pouvej `self._sash_ratio'.
	(ShowDualForm._sash_position): Pouvej `self._sash_ratio'.
	(DescriptiveDualForm._sash_position): Pouvej `self._sash_ratio'.
	(DualForm.OnSashChanged): Nov metoda.

2004-10-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/screen.py (CallbackHandler.get_callback): Nov metoda.

	* lib/pytis/form/list.py (IncrementalSearch.__init__): Ulo
	`ListForm.CALL_SELECTION' callback a nastav ho na `None'.
	(IncrementalSearch._on_kill_focus): Obnov nastaven
	`ListForm.CALL_SELECTION'.

2004-10-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/spec.py (DualSpec.__init__): Pidn argument
	`append_condition'. 
	(DualSpec.append_condition): Nov metoda.

	* lib/pytis/form/list.py (_on_jump): Nov metoda.
	(SideBrowseForm.__init__): Pidn argument `append_condition'.

	* lib/pytis/form/form.py (LookupForm._on_jump): Nov metoda.
	(LookupForm.on_command): Oeti pkaz `LookupForm.COMMAND_JUMP'.
	(BrowsableShowForm._on_jump): Nov metoda.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Pidn argument `append_condition'.

	* lib/pytis/form/command.py: `LookupForm.COMMAND_JUMP' - Nov pkaz.

2004-10-26  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._make_tables): Oeti vskyt `None'.	

2004-10-26  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._make_tables): Oeti vskyt `None'.	

2004-10-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow.row): Ped sestavenm
	datovho dku jet aktualizuj hodnoty vech `dirty' polek.

	* lib/pytis/form/list.py (ListForm._ListTable.EditInfo.__init__):
	Ukldej ve td i instanci PresentedRow.
	(ListForm._ListTable.editing): Pedej konstruktoru `EditInfo' i
	instanci PresentedRow.
	(_on_line_commit): Pouvej uloen PresentedRow v instanci
	`EditInfo'. Nevaliduj codebooky ped uloenm.
	(BrowseForm._on_new_record): Pi oputn volej `self.refresh'.
	(BrowseForm._on_edit_record): Pi oputn volej `self.refresh'.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): ValueCodebooky nastavuj
	jako `strict'.
	(_Codebook._value_retrieve): Metod `_retrieve' pedvej argument
	`strict'. 
	(_Codebook._retrieve): Pokud se `select' vrac vce dk naho vjimku.
	(_Codebook._validate): Pro zskn values pedvej `self._value_columns'.
	(_Codebook._export): Pro zskn `row' pedvej `self._value_columns'.
	(_Codebook._export): Pro mapovn `subtypes' pedvej
	`self._value_columns_types'. 
	(_Codebook.data_value): Pro zskn `row' pedvej `self._value_columns'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_value): Pro
	`SingleCodebook' jednodue prove export.

2004-10-20  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_line_commit): Zvaliduj `value codebooky'
	ped odeslnm dku a nastav focus na aktuln list.

2004-10-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Funkci `set_runtime_filter_provider' pedvej funkci a instanci
	PresentedRow. 
	(PresentedRow._recompute_codebook_runtime_filter): Nenastavuj
	znovu `runtime_filter_provider'.
	(PresentedRow.keys): Oprava docstringu.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Nov atribut
	`self._runtime_filter_row'.
	(_Codebook.set_runtime_filter_provider): Pidn argument `row'.
	(_Codebook.validity_condition): Zohledni pouit
	`self._runtime_filter_row'.

2004-10-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_insert_line): Pi kopii dku nenastavuj
	polko s klem.
	(BrowseForm._on_new_record): Pokud je nvratovou hodnotu
	PresentedRow, nastav na nj pozici.

	* lib/pytis/form/application.py (Application.new_record): Vracej
	nvratovou hodnotu formule.

2004-10-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py
	(PresentedRow._recompute_codebook_runtime_filter):
	Kosmetick prava vytven seznamu `id'.
	(PresentedRow._recompute_codebook_runtime_filter):
	Poslat notifikaci o zmn funkce nesta, je teba funkci
	optovn nastavit pomoc `set_runtime_filter_provider'.

2004-10-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/caching.py (_Cache.reset): Namsto `self.dict'
	reinicializuj `self.data'.

	* lib/pytis/util/_test.py (Module): Importuj `caching'.  Volej
	`unittest.main()' bez argument.
	(tests): Nech je instanc `test.TestSuite'.
	(Caching): Nov testovac tda.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Aktualizace
	docstringu.
	(PresentedRow._process_fieldspec.runtime_filter_provider): Zrueno.
	(PresentedRow._process_fieldspec): Neinicializuj atributy pro
	zapamatovn stavu runtime filtru coodebook.  Kosmetick pravy v
	definici runtime filter providera pro selnkov datov typ.
	(PresentedRow._recompute_codebook_runtime_filter): Namsto
	oznaovn podmnky jako dirty pouze notifikuj potenciln zmnu
	nadazenmu typu.
	(_codebook_runtime_filter_provider): Metoda zruena.

	* lib/pytis/form/inputfield.py (RadioBoxField._create_controls):
	Kosmetick prava.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Inicializuj atributy
	`self._runtime_filter' a `self._runtime_filter_dirty'.
	(_Codebook.notify_runtime_filter_change): Nov metoda.
	(_Codebook.validity_condition): Zapamatuj si hodnotu runtime
	filtru od providera a poaduj ji od nho pouze pokud byla
	oznmena zmna.  Potom tak vdy volej `self._update()'.

2004-10-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (TextField): Doplnno `DECIMAL_POINTS' a
	`SIGNS'.

	* config/config.py: Pegenerovna nov podoba.

	* lib/pytis/util/configuration.py
	(Configuration._Option_fetch_size.default): Zmna hodnoty.
	(Configuration._Option_initial_fetch_size.default): Zmna hodnoty.

	* lib/pytis/presentation/field.py (PresentedRow._compute_editability):
	Pedvej funkci i `key'.

	* lib/pytis/data/types_.py (DateTime.__init__): Doplnny argumenty
	`mindate' a `maxdate'.
	(DateTime._validate): Zohledni nov argumenty.

2004-10-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Opravena
	dokumentace k argumentm.

2004-10-12  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (BrowseDualForm._on_new_record): Oprava
	chybn podmnky.

	* lib/pytis/form/dialog.py (InputDate._customize_result): Pokud nen
	datum vloen, vracuj lib.data.Value s hodnotou `None'.

2004-10-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_insert_line): Pi nespchu editace vracej
	`False'.

	* lib/pytis/form/dualform.py (BrowseDualForm._on_new_record): Testuj
	spch v editaci `self._main_form' i na nvratovou hodnotu `False'.

2004-10-06  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Pokud je `width'
	nula, nastav editovatelnost na `NEVER'.
	
	* lib/pytis/form/spec.py (ViewSpec.__init__): Nov argument `focus_field'.
	(ViewSpec.focus_field): Nov metoda.

	* lib/pytis/form/form.py (EditForm.__init__): 
	(EditForm.init): Zohledni ppadn
	nastaven `focus_field' ve `ViewSpec'.

	* lib/pytis/output/formatter.py (LoutFormatter._process):
	Defaultnm fontem je opt "FIXED_FONT".

2004-10-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSequence.output): doplnny argumenty
	pkazu `create sequence'.

2004-10-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSequence.output): doplnny argumenty
	pkazu `create sequence'.

2004-10-05  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (EnumerationField._set_value): Zru
	testovn nastaven hodnoty.

	* config/config.py: Pegenerovna nov podoba.

	* lib/pytis/util/configuration.py (Configuration._Option_cache_size):
	Nov konfiguran volba.
	(Configuration._Option_initial_fetch_size): Nov konfiguran volba.
	(Configuration._Option_fetch_size): Nov konfiguran volba.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL): Nastaven `cache' a
	`fetch' je konfigurovateln.	

2004-10-04  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (on_key_down): Zrueno (ve
	wxPythonu-2.5.2.8 u to funguje sprvn - hack nen teba).

	* lib/pytis/form/form.py (PopupEditForm._on_next): Pro nov formul
	nastavuj dek na None.

2004-10-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py
	(PresentedRow._process_fieldspec.runtime_filter_provider): Nov
	funkce.
	(PresentedRow._process_fieldspec): Vyuvej ji.
	(PresentedRow._codebook_runtime_filter_provider): Odstrann
	zapomenut print.

2004-09-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Argument
	`codebook_runtime_condition' pejmenovn na
	`codebook_runtime_filter'.
	(FieldSpec.codebook_runtime_condition): Pejmenovno na
	`codebook_runtime_filter'.
	(PresentedRow._Column.__init__): Nov argument
	`codebook_runtime_filter'.
	(PresentedRow._recompute_dependencies): Nov metoda.
	(PresentedRow.__init__, PresentedRow._codebook_dependent)
	(PresentedRow.set_row): Pouvej `_recompute_dependencies()'
	namsto `_recompute_editability()'.
	(PresentedRow._process_fieldspec): Inicializuj Vnitn promnn
	potebn pro vpoet runtime filtrovac podmnky selnku.
	Registruj run-time filtr metodou `set_runtime_filter_provider()'
	pro selnkov sloupce s nastavenm `cedebook_runtime_filter'.
	(PresentedRow._recompute_editability): Zruen klov argument
	`invoke_callbacks', nebo nebyl nikde vyuit.
	(PresentedRow._recompute_codebook_runtime_filter): Nov metoda.
	(PresentedRow._codebook_runtime_filter_provider): Nov metoda.

	* lib/pytis/form/inputfield.py
	(CodeBookField._validation_error_handler): Odstrann hack s
	nastavovnm runtime filtrovac podmnky selnku.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Zru
	`self._appended_validity_condition'.  Inicializuj
	`self._runtime_filter_provider'
	(_Codebook.set_runtime_filter_provider): Nov metoda
	(_Codebook.append_validity_condition): Zrueno.
	(_Codebook.validity_condition): Namsto
	`_appended_validity_condition' vyuvej `_runtime_filter_provider'.

2004-10-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow.data): Nov metoda.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Pidny argumenty
	`on_edit_record' a `on_delete_record'.
	(ViewSpec.on_edit_record): Nov metoda.
	(ViewSpec.on_delete_record): Nov metoda.

	* lib/pytis/form/screen.py (MenuBar.add_menu): Pedvej i argument `form'.
	(MenuBar.add_menu): Pi hledn shody menu porovnvej nejen
	`title', ale i `activation'.
	(MenuBar.activate): prava podmnky pro voln `self._replace_menu'

	* lib/pytis/form/list.py (_create_grid): Zaregistruj `wx.EVT_MOUSEWHEEL'.
	(_on_wheel): Nov metoda.
	(_on_delete_line): Zohledni ppadnou definici funkce `on_delete_record'.
	(BrowseForm._on_edit_record): Nov metoda.
	(BrowseForm.__init__): Pouvej ji.

	* lib/pytis/form/form.py (Form._add_menus): Pedvej i instanci formule.
	(EditForm.ACT_EDITFORM): `EditForm' m vlastn aktivaci.
	(EditForm._menus): `EditForm' m vlastn podobu menu `Pkazy'.

	* lib/pytis/form/dialog.py (delete_record): Pidn voliteln argument
	`msg'.

	* lib/pytis/form/application.py (Application.add_menu): Pedvej i
	argument `form'.
	(add_menu): Pedvej i argument `form'.

	* lib/pytis/data/types_.py (String._validate): Vdy vracej `unicode'.
	(String._export): Vdy vracej `unicode'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL): Pokusn nastaveny vt
	hodnoty pro `_PG_CACHE_SIZE' a `_PG_INITIAL_FETCH_SIZE'.

2004-09-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_value): Kosmetick
	prava. 

	* lib/pytis/form/form.py (EditForm._edit_update): Pro update pouvej
	zvalidovanou podobu `row'.

2004-09-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (InputDate._customize_result):
	Nen-li vstup validn vracej None.

	* lib/pytis/form/application.py (Application.run_form):
	Msto metody `set_row' volej `_set_row', aby se inicializoval
	nov PresentedRow.

2004-09-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_create_form_parts): Oeti inicializaci
	`self._size'.

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Oeti sprvn nastaven vysvcenho dku.

	* lib/pytis/data/xtypes.py (SingleCodebook.value_columns): Nov metoda.
	(SingleCodebook._validate): Nov metoda.
	(MultiCodebook.value_columns): Nov metoda.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template):
	Id sloupc ber vdy z `value_columns'.
	(DBDataPostgreSQL._pg_value): V selncch zohledni
	`value_columns' pro vytvoen exportovan hodnoty.	

2004-09-21  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._format_rule): Zohledni pouit
	`table_alias'.

2004-09-21  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._format_rule): Zohledni pouit
	`table_alias'.

2004-09-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Zjiuj typy sloupc i
	pro `value_columns'.
	(_Codebook.__init__): Nenastavuj `strict' pro nastaven
	`value_columns'.
	(_Codebook._export): Zohleduj nastaven `value_columns'.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template):
	Pi zjiovn typ zohleduj `value_columns'.

2004-09-16  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_create_grid): Zohlednn povolen editace
	polka pro editable jako instanci Computeru.
	(_on_cell_commit): Oprava chybnho odkazu na `g.SetGridCursor'
	msto sprvnho `self._grid.SetGridCursor'.
	(refresh): Pokud nelze nastavit pozici na pozici pedchozho
	kle, zkus nastavit pozici na pedchoz slo dku gridu.	
	(SetSize): I kdy se velikost nezmnila, prove SetSize u gridu a
	pedka (aby se sprvn zobrazovaly scrollbary u sideform).
	(refresh): Oprava chybn podmnky pi nastavovn na pedchoz
	pozici gridu.
	
	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Oprava patnho pedvn stavjc hodnoty polka pro
	`select_row'. 

2004-09-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/output/markup.py (Euro): Nov tda.
	(Pound): Nov tda.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pidny znaky pro `Euro' a `Pound'.
	(LoutFormatter._format_euro): Nov metoda
	(LoutFormatter._format_pound): Nov metoda.

	* lib/pytis/form/dialog.py (InputDialog._create_content):
	Nepouvej defaultn masku 'X'*13.
	(RunFormDialog.__init__): Rozen vstupnho pole na 25 znak.

	* lib/pytis/form/list.py (ListForm._ListTable._retrieve_row.fetch):
	Nepouvej manvr se stahovnm dat pro cache ve smru `BACKWARD'.
	(show_popup_menu): Nov metoda.

	* lib/pytis/form/event.py (_is_user_event): Vbr poloky z menu
	nepovauj za `user_event'.

2004-09-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/xtypes.py (_Codebook.append_validity_condition):
	Oprava assert s umonnm podmnky `None'.

	* lib/pytis/form/form.py (Form._menus):
	Oprava chyby pro `Editovat zznam'.
	Pidno voln nhled na zznam.
	(EditForm.__init__): Nastaven dku pomoc `self._set_row'
	pesu ze self.init() sem.

	* lib/pytis/form/dialog.py (InputDialog.__init__)
	(InputDialog._create_content): 
	Upraveno s vyuitm `masked.TextCtrl'. Zajitn mechanismus
	kontroly vstupnho pole pi ztrt focusu.
	(InputDialog._on_kill_control_focus): Nov metoda.
	(InputDate): Nov tda.

	* lib/pytis/form/application.py (Application.run_form):
	Pidn hack pro monost voln metody `set_row' u vytvoenho
	formule.

2004-08-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application.restore): Na konci
	nastav formuli fokus.

	* lib/pytis/form/list.py (SetSize): Pokud nedolo ke zmn
	velikosti gridu, neprovdj pepotn ky sloupc.

	* lib/pytis/form/dialog.py (Login._create_content): Zaregistruj callback
	pro stisk klvesy u `self._login' a `self._passwd'.	
	(Login._on_key_down): Nov funkce.
	(Login._navigate): Nov funkce.
	(Calendar._create_content): Rozi widget tak, aby se sprvn
	zobrazoval rok.

2004-08-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/output.py (PostscriptViewer.DoDrawing): Nepedvej
	souadnice jako tuple.

2004-08-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (TextField._create_text_control):
	Pidvej k ce widgetu automaticky jeden znak.

	* lib/pytis/form/form.py (PopupEditForm._create_buttons): Upraveno
	poad tlatek.

	* lib/pytis/form/dialog.py (Login.__init__): Pedvej dialogu etzce
	jako unicode.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm):
	`_SELECTION_TICK' nastaveno na 2.

	* lib/pytis/form/inputfield.py (TextField._create_text_control)
	(ColorSelectionField._create_button, CodeBookField._create_widget)
	(Invocable._create_button, ListField._create_controls): 
	Msto control.SetSize() pouvej control.SetMinSize()
	(viz Migration Guide wxPython-2.5.2.7).	

	* lib/pytis/form/list.py (_create_form_parts): Do metody `sizer.ADD'
	pidej flag `wx.FIXED_MINSIZE' (viz Migration Guide pro
	wxPython-2.5.2.7).

2004-08-20  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_export_csv): Zohleduj config.db_encoding.

2004-08-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/types_.py (Float._export): Vracej exportovanou hodnotu
	jako unicode.

2004-08-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CheckBoxField._create_controls):
	Registruj self._on_key_down
	(CheckBoxField.on_key_down): Nov metoda.

2004-08-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/output/formatter.py (LoutFormatter._process):
	Jako zkladn font pouvej SANS_SERIF.
	* lib/pytis/data/types_.py (Float._export): Vracej exportovanou hodnotu
	jako unicode.

2004-08-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (DateField._menu) 
	(ColorSelectionField._menu, CodeBookField._menu) 
	(ListField._menu): Nastavuj argument `originator' na `self' u
	jako argument vech pkaz v menu.
	(ListField.on_command): Pokud je oteven modln formul pi
	pkazu `COMMAND_INVOKE_BROWSE_FORM', nedlej nic, jen zobraz
	zprvu, e to nejde...

	* lib/pytis/form/application.py (Application.__init__): Inicializuj
	slovnk `self._window_menu_item'.
	(Application._window_menu_item_title): Metoda zruena.
	(Application._add_window_menu_item): K zakrtnut menu pouvej
	radji `self._check_window_menu_item()'.  Pidej poloku do
	slvnku `self._window_menu_item'.
	(Application._remove_window_menu_item): Namsti vyhledvn
	poloky v menu pomoc wx metod pouvej slovnk
	`self._window_menu_item'.  Poloku nakonec zni volnm
	`Destroy()'.
	(Application._check_window_menu_item): Nejprve vechny poloky
	ozna jako neaktivn.  Aktivn poloku nehledej v menu pomoc wx
	metod, ale pouvej slovnk `self._window_menu_item'.

	* lib/pytis/form/list.py (__init__): Nestarej se zde o nastavovn statusbaru.
	(ListForm.show_position): Nov metoda.
	(ListForm._select_cell_command, ListForm.focus): Vyuvej ji.

	* lib/pytis/form/form.py (LookupForm._lf_sf_dialog): Pi vytven
	`FilterDialog' pedvej tak filtrovac podmnku.
	(EditForm.on_command): Je-li nastaven argument `originator' a ten
	je jednm z polek formule, zpracuj udlost tmto polkem.

	* lib/pytis/form/search.py (SFDialog._create_content): Oprava zajitn
	rozestupu tlatek pi pidvn do sizeru.
	(FilterDialog.__init__): Nov argument `filter'.
	(FilterDialog._on_compute_aggregate): K filtrovac podmnce
	pidvej tak podmnku z konstreuktoru.

	* lib/pytis/form/screen.py (init_colors): Definuj, e nastavovan
	konstanty jsou globln.
	(RadioItem._wx_kind): Vracej `wx.ITEM_CHECK' namsto
	`wx.ITEM_RADIO' (ten zpsobuje segfaulty pi pidvn do menu).

	* lib/pytis/form/dialog.py (Calendar._on_set_focus): Prvn argument
	nech se jmenuje `event'.

2004-08-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration._Option_filter_color):
	Oprava docstringu.

	* lib/pytis/form/list.py (ListForm._GROUPING_BACKGROUND_DOWNGRADE):
	Lehce zveno ztmaven.
 
	* lib/pytis/form/application.py (Application.run_dialog): Pokud m 
	aplikace njak modln okno, nech je toto rodiem dialogu.
	(Application.run_form): Kosmetick pravy.
	(Application.run_dialog): Nakonec vra focus nejvymu oknu.

	* lib/pytis/form/dialog.py (GenericDialog._on_set_focus): Nakonec vdy
	prove `event.Skip()'.
	(GenericDialog._create_dialog): Volej `self._handle_keys()' pro
	vytvoen dialog.
	(GenericDialog._finish_dialog): Nov metoda.
	(GenericDialog._on_button, GenericDialog._close_dialog) 
	(GenericDialog._commit_dialog, InputDialog._commit_dialog) 
	(OperationDialog._on_show, Calendar._on_calendar) 
	(BugReport._close_dialog, FileDialog.on_command): Vyuvej
	`self._end_modal()' namsto pmho ukonovn dialogu.
	(GenericDialog.rebuild): Nakonec dialogu nastav focus.
	(Calendar._on_set_focus): Nakonec volej `event.Skip()'.
	(BugReport._on_set_focus): Nakonec volej `event.Skip()'.

	* lib/pytis/form/search.py (SFDialog._create_button)
	(SFDialog._create_choice, SFDialog._create_text_ctrl): Nov
	metody.
	(SFDialog._FIELD_HEIGHT): Nov konstanta.
	(SFDialog._create_content.condition): Nepebrej lokln promnn
	jako klov argumenty.  Nevytvej vstupn prvky pmo, ale
	vyuvej nov metody `_create_*()'.
	(SFDialog._create_content, FilterDialog._create_content)
	(SortingDialog._create_content): Nevytvej vstupn prvky pmo,
	ale vyuvej nov metody `_create_*()'.
	(SFSDialog): Nov tda
	(SFDialog._create_button, SFDialog._create_choice)
	(SFDialog._create_text_ctrl): Metody pesunuty do `SFSDialog'.
	(SFDialog._FIELD_HEIGHT): Pesunuto do `SFSDialog'.
	(SortingDialog, SFSDialog): Bu potomkem `SFSDialog'.
	(SortingDialog._customize_result_sorting): Vracej konstanty
	`LookupForm.SORTING_ASCENDENT' a `LookupForm.SORTING_DESCENDANT'
	namsto `lib.data.ASCENDENT' a `lib.data.DESCENDANT'.
	(SFDialog._create_content): Nevytvej atributy `_and_button_id' a
	`_or_button_id' a namsto toho pouvej `self._on_add()' a
	`self._on_add_or_()'.  Kosmetick pravy.  Nepouvej
	`wx.StaticText' pro vytvoen mezery, ale specifikuj border v sizeru.
	(SortingDialog._on_add): Nov nepovinn argument
	logical_selection.  Nerozhoduj se posle id tlatka, ale podle
	argumentu `logical_selection'.
	(SFDialog._on_add_or_): Nov metoda.
	(SFDialog._on_remove): Ve dlej pouze pokud je
	`self._number_of_conditions' vt ne 1.
	(SFSDialog._create_button, SFSDialog._create_choice)
	(SFSDialog._create_text_ctrl): Nov argument tip.  Pokud nen
	None, nastav vytvenmu widgetu tooplip.
	(SFDialog._create_content.condition, SFDialog._create_content) 
	(SortingDialog._create_content): Nastavuj vem vytvenm
	ovldacm prvkum tooltip.
	(SFDialog._LABEL): Pejmenovno na `_TITLE'. 
	(SFDialog.__init__): Konstruktoru pedka pedvej tak argument default.
	(SFDialog._COMMIT): Nov konstanta.
	(SearchDialog._COMMIT): Nov konstanta.
	(SearchDialog._LABEL): Pejmenovno na `_TITLE'. 
	(FilterDialog._COMMIT): Nov konstanta.
	(FilterDialog._LABEL): Pejmenovno na `_TITLE'. 
	(SFDialog._commit_dialog): Nov metoda.
	(SortingDialog._commit_dialog): Nov metoda.
	(SortingDialog): Oprava docstringu.
	(SortingDialog._create_content): Namsto tdcch konstant z
	`lib.data' pouvej konstanty `LookupForm'.

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection): S
	`codebook_runtime_condition' pracuj pouze pokud nen None...
	(InputField.__init__): Inicializuj nov atribut
	`self._unregistered_widgets'.
	(InputField._skip_navigation_callback.cb): V callbacku kontroluj,
	zda widget nen v `self._unregistered_widgets' v ktermto ppad
	prove pouze Skip.
	(InputField._register_skip_navigation_callback): Pokud je widget v
	`self._unregistered_widgets', sma je odtamtud.
	(InputField._unregister_skip_navigation_callback): Pidej widget
	do `self._unregistered_widgets'.  Disconnect neprovdj, stejn to
	nefunguje...

2004-08-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Upraven vpoet ky polka.
	(CodeBookField._on_invoke_selection): Pidn rychl hack pro
	aktualizaci mnoiny selnku podle `codebook_runtime_condition'.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Nov argument
	`codebook_runtime_condition'.
	(FieldSpec.codebook_runtime_condition): Nov metoda.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Inicializuj atribut
	`self._appended_validity_condition'.
	(_Codebook._retrieve): Pouvej metodu `validity_condition()'
	namsto atributu `_validity_condition'.
	(_Codebook.append_validity_condition): Nov metoda.
	(_Codebook.validity_condition): Zohledn tak
	`self._appended_validity_condition'

	* lib/pytis/form/list.py (ListForm._create_grid): Vylepen vypoet ky sloupc.
	(ListForm.SetSize): Vylepen vypoet ky sloupc.
	(CodeBook.__init__): Vylepen docstring.  Kosmetick pravy.

	* lib/pytis/form/form.py (PopupEditForm.set_status): Pevdj zprvu na
	unicode.

	* lib/pytis/form/output.py (PrintForm._create_controls): Vzezen
	tlatkov lity vylepeno.

	* lib/pytis/output/formatter.py (LoutFormatter._lout): Pro streamovn
	nacachovanho loutovho zdrojku pouvej StringIO namsto cStringIO.

2004-08-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer.DoDrawing): Pedvej metod
	`DrawBitmap()' souadnice jako dvouprvkovou sekvenci.
	(PrintForm._create_controls.make_widget): Nepouvej `expand' pi
	pidvn do ziseru.
	(PrintForm._create_controls): Nzvy tlatek zmnny s pouitm
	ipek (znaky '<' a '>').

	* lib/pytis/output/formatter.py (LoutFormatter._format): Pouvej
	`is_anystring()' namsto porovnn s type('').
	(LoutFormatter._unit): Replace comma by a dot in the formatted
	string (to avoid problems with locale dependent float formatting).
	

	* lib/pytis/form/list.py (ListForm._create_grid): Zmeni vku dk v
	gridu.

2004-08-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (_IncrementalSearch): Pejmenovno na
	`IncrementalSearch'.
	(IncrementalSearch.TEXT_CONTROL_NAME): Nov konstanta.
	(IncrementalSearch.__init__): Pouvej ji k nastaven jmna
	vstupnho textovho polka.
	(_on_incremental_search): `_IncrementalSearch' -> `IncrementalSearch'.

	* lib/pytis/form/inputfield.py (TextField._on_set_focus): Provdj vbr
	textu pouze je-li polko editovateln.
	(TextField._on_kill_focus): Vbr textu nee vbec...

	* lib/pytis/form/form.py (EditForm._navigate): V needitovatelnm
	formuli nedlej vbec nic.
	(BrowsableShowForm.on_command): Pouvej `super()' namsto `super_()'.
	(BrowsableShowForm._set_row): Pouvej `super()' namsto `super_()'.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm._on_idle):
	Pokud je `self._side_form' None, nedlej nic (vykej na dal
	idle).
	(PostponedSelectionDualForm._on_main_selection): Nehle na
	existenci `self._side_form' (mlo by bt oeteno pravou ve).
	(SideBrowseDualForm._do_selection): Test na TextCtrl
	inkrementlnho vyhledvn rozen o test na nzev widgetu.
	(ShowDualForm.__init__): Nevolej `self._side_form.refresh()'.
	Inicializuj atribut `self._initialization_done' na False.
	(ShowDualForm._on_idle): Nov metoda (oeten prvotn
	inicializace formule).

2004-08-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: Namsto `grid' importuj `wx.grid'.  Vude
	pouvej Pythonov konstanty `True' a `False' namsto naich
	`TRUE' a `FALSE' a wx `wx.TRUE' a `wx.FALSE'.  Vechna `wx.wx*'
	jmna nahra jejich ekvivalenty v novm namespace (`wx.*').
	Vyuvej funkci `is_anystring()' namsto porovnvn s type('').
	(_scrollbar_width): Zrueno.
	(ListForm._ListTable._make_attr): Odvozuj velikost fontu od
	v7choz9ho fontu.
	(_update_selection_colors): Pokud je zkonfigurovan barva pozad
	aktivnho dku None, pouij systmovou barvu zvraznn.
	(ListForm.label_font, ListForm.cell_font): Metody zrueny.
	(ListForm.total_height): Nov metoda.
	(ListForm.SetSize): Vyuvej `self.total_height()' k zjitn, zda
	zapotat scrollbar.  Pouvej
	`wx.SystemSettings.GetMetric(wx.SYS_VSCROLL_X)' ke zjitn ky
	scrollbaru.
	(CodeBook): `_WINDOW_HEIGHT' -> `_DEFAULT_WINDOW_HEIGHT'.
	(CodeBook.__init__): Pokud je seznam kratt ne
	`_DEFAULT_WINDOW_HEIGHT', zmeni okno na vku seznamu.  Nastavuj
	titulek okna.
	(ListForm._create_context_menu): Nov metoda.
	(ListForm._create_popup_menu): Pejmenovno na `_context_menu'.
	(ListForm._create_edit_popup_menu): Pejmenovno na `_edit_menu'.
	(BrowseForm._create_popup_menu): Pejmenovno na `_context_menu'.
	(CodeBook._create_popup_menu): Pejmenovno na `_context_menu'.
	(ListForm.show_popup_menu): Pejmenovno na `show_context_menu'.
	(ListForm.show_context_menu): `self._edit_popup_menu' -> `menu =
	(ListForm._on_popup_menu): Pejmenovno na `_on_context_menu'.
	self._edit_menu_'.  `self._popup_menu' -> `self._context_menu_'
	(ListForm.__init__): Pouvej `ListForm._create_context_menu()' k
	vytven kontextovch menu.  Nov jmna atribut:
	`self._edit_popup_menu' -> `menu = self._edit_menu_'.
	`self._popup_menu' -> `self._context_menu_'.
	`self._on_popup_menu()' -> `self._on_context_menu()'

	(BrowseForm._context_menu): `_create_popup_menu()' ->
	`_context_menu'.

	* lib/pytis/form/form.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  Vechna `wx.wx*' jmna nahra jejich ekvivalenty v
	novm namespace (`wx.*').  Vyuvej funkci `is_anystring()'
	namsto porovnvn s type('').
	(_class_name): Metoda zruena.
	(Form.__str__): Pouvej `self.__class_.__name__' namsto
	`self._class_name()'.
	(Form.__repr__): Nov metoda.
	(EditForm.on_command): Oeti pkaz
	`EditForm.COMMAND_NAVIGATE_BACK' volnm `self._navigate()'.
	(EditForm._navigate): Argument `dir' pejmenovn na `forward'.

	* lib/pytis/form/dialog.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  Vechna `wx.wx*' jmna nahra jejich ekvivalenty v
	novm namespace (`wx.*').  Vyuvej funkci `is_anystring()'
	namsto porovnvn s type('').  `wxPython.claendar' ->
	`wx.calendar'.
	(Message.__init__): Pevdj `message' do unicode.
	(Calendar._customize_result): Ped volnm `DT.DateTimeFrom()'
	peve argument na prost etzec.
	(BugReport._create_content): Velikost fontu odvozuj od vchozho
	fontu.
	(BugReport._create_content): Text do polka vkldej po dcch.
	(BugReport._create_content): Nov (zatm zakzan) monost
	zobrazit traceback v HTML widgetu.
	(BugReport._customize_result): Pokud `self._display' nen
	`wx.TextCtrl' vracej text tracebacku.
	(BugReport._on_set_focus): `self._text' -> `self._display'.

	* lib/pytis/form/inputfield.py: Vude pouvej Pythonov konstanty
	`True' a `False' namsto naich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  Vechna `wx.wx*' jmna nahra jejich ekvivalenty v
	novm namespace (`wx.*').
	(InputField._class_name): Metoda zruena.
	(InputField.__str__): Pouvej `self.__class_.__name__' namsto
	`self._class_name()'.
	(TextField._set_value): Vyuvej funkci `is_anystring()' namsto
	porovnvn s type('').

	* lib/pytis/form/spec.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE'.  Vyuvej funkci
	`is_anystring()' namsto porovnvn s type('').
	(GroupSpec.__init__): Pevdj `label a `caption' pomoc
	`gettext_()'.
	(DualSpec.__init__): Pevdj `title' pomoc `gettext_()'.

	* lib/pytis/form/screen.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  Vechna `wx.wx*' jmna nahra jejich ekvivalenty v
	novm namespace (`wx.*').
	(init_colors): Nov funkce.
	(set_clipboard_text): Vyuvej funkci `is_anystring()' namsto
	porovnvn s type('').
	(color_dictionary): `wxPython.lib' -> `wx.lib'.
	(WxKey.is_event_of_key): Pi porovnn wx td pouvej pmo
	nzev tdy, nikoliv `*Ptr' tdu.
	(WxKey.event_key): Umoni tak kombinace Ctrl, Alt a Shift.
	Psmena se shiftem pevdj na velk a pro ostatn klvesy
	pidvej `Shift-' prefix.  Zpracuj tak Enter na numerick
	klvesnici jako `Enter'.
	(_WX_COLORS, _WX_COLORS_DATABASE): Inicializace pesunuta do
	`init_colors()'.
	(Keymap.define_key): Klov argumenty pkazu pebrej jako jeden
	argument typu slovnk, ne jako vlastn klov argumenty.
	(Keymap.define_key): Aktualizovn docstring.
	(KeyHandler.on_key_down): Nov debug logovac hlky.
	(Menu.__init__): Vyuvej funkci `is_anystring()' namsto
	porovnvn s type('').
	(Menu.create): Klov argumenty pkazu pedvej jako slovnk, ne
	jako klov argumenty voln `Keymap.define_key()'.
	(MItem.__init__): Vyuvej funkci `is_anystring()' namsto
	porovnvn s type('').
	(MItem.__init__): Pevdj `title' a `help' pomoc `gettext_()'.
	(field_width): Posledn polko zvtuj o 22px kvli rohovmu
	"drtku" v novch wx.
	(StatusBar.message): Text zprvy pevdj do unicode.
	(KeyHandler.__init__): Initialize the attriburte
	`self._temporary_keymap'.
	(KeyHandler._init_commands): Removed processing of `Command.key'
	attributte.
	(KeyHandler._init_commands): Process the `self._temporary_keymap'.
	(KeyHandler.define_key): New method.

	* lib/pytis/form/search.py: Vude pouvej Pythonov konstanty `True'
	a `False' namsto naich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  Vechna `wx.wx*' jmna nahra jejich ekvivalenty v
	novm namespace (`wx.*').

	* lib/pytis/form/output.py: Vude pouvej Pythonov konstanty `True'
	a `False' namsto naich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  Vechna `wx.wx*' jmna nahra jejich ekvivalenty v
	novm namespace (`wx.*').

	* lib/pytis/form/grid.py: Module removed. 

	* lib/pytis/form/dualform.py: Vude pouvej Pythonov konstanty `True'
	a `False' namsto naich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  Vechna `wx.wx*' jmna nahra jejich ekvivalenty v
	novm namespace (`wx.*').

	* lib/pytis/form/command.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE'.
	(EditForm.COMMAND_NAVIGATE_BACK): Nov pkaz.
	(Command.__init__): Vyuvej funkci `is_anystring()' namsto
	porovnvn s type('').

	* lib/pytis/form/event.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  Vechna `wx.wx*' jmna nahra jejich ekvivalenty v
	novm namespace (`wx.*').  Pi porovnn wx td pouvej pmo
	nzev tdy, nikoliv `*Ptr' tdu.
	(_system_callback_pid): Pejmenovno na
	`_system_callback_thread_ident'.
	(wx_callback.process_event.system_callback):
	`_system_callback_pid' -> `_system_callback_thread_ident'.  `pid'
	-> `ident'.  Namsto PID procesu rozliuj thready pomoc
	`thread.get_ident()'.
	(wx_callback.process_event): `_system_callback_pid' ->
	`_system_callback_thread_ident'.
	(yield_): Namsto PID procesu rozliuj thready pomoc
	`thread.get_ident()'.
	(interrupt_watcher.watcher): Namsto microsleep pouvej
	`time.sleep(0.1)'.
	(interrupt_init): Namsto PID procesu rozliuj thready pomoc
	`thread.get_ident()'.  `*pid*' -> '*thread_ident*'.
	(_is_user_event): `grid' -> `wx.grid'.

	* lib/pytis/form/application.py: Vude pouvej Pythonov konstanty
	`True' a `False' namsto naich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  Vechna `wx.wx*' jmna nahra jejich ekvivalenty v novm
	namespace (`wx.*').
	(Application.run_form): Po uzaven modlnho formule nad
	przdnm oknem aplikace nastav focus na `self._panel'.  Pi
	logovn volej na formule `str()'

	* lib/pytis/form/wx.py: Module removed.

	* lib/pytis/output/markup.py (PageNumber.__init__, Group.KWARGS):
	Pouvej Pythonov konstanty `True' a `False' namsto naich
	`TRUE' a `FALSE'.

	* lib/pytis/output/formatter.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE'.

	* lib/pytis/output/flibdata.py (data_table.table_row): Pouvej
	Pythonov konstanty `True' a `False' namsto naich `TRUE' a
	`FALSE'.

	* lib/pytis/presentation/field.py: Vude pouvej Pythonov konstanty
	`True' a `False' namsto naich `TRUE' a `FALSE'.  Vude vyuvej
	funkci `is_anystring()' namsto porovnvn s type('').
	(RefSpec.__init__): Pevdj `name' pomoc `gettext_()'.
	(FieldSpec.__init__): Pevdj `label' a `descr' pomoc
	`gettext_()'.

	* lib/pytis/remote/server.py: Vude pouvej Pythonov konstanty `True'
	a `False' namsto naich `TRUE' a `FALSE'.

	* lib/pytis/remote/data.py (_DataChangesWatcher._watcher): Pouvej
	Pythonov konstanty `True' a `False' namsto naich `TRUE' a
	`FALSE'.

	* lib/pytis/util/_test.py (BooleanConstants): Zrueno.
	(ListUtils.check_some): Pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE'.

	* lib/pytis/util/configuration.py (Configuration.dump_config_template):
	Vytvej na zatku generovanho souboru tak hlaviku Pythonovho
	kdovn.

	* lib/pytis/util/log.py (Module): Vude pouvej Pythonov konstanty
	`True' a `False' namsto naich `TRUE' a `FALSE'.
	(Logger.log): Vyuvej funkci `is_anystring()' namsto porovnvn
	s type('').

	* lib/pytis/util/util.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE'.
	(gettext_): Nov funkce.
	(is_string, is_unicode, is_anystring): Nov funkce.

	* lib/pytis/util/test.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE'.

2004-08-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/_test.py:  Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE'.

	* lib/pytis/data/dbdata.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE'.  Vude vyuvej funkci
	`is_anystring()' namsto porovnvn s type('').
	(DBDataPostgreSQL._pg_make_row_from_raw_data): etzcov hodnoty
	pevdj do unicode.
	(_pg_encoding): Nov metoda.
	(_pypg_new_connection): Nastavuj `client_encoding' podle
	konfigurace.
	(DBDataPyPgSQL._pg_query): Konvertuj unicode etzce do
	`client_encoding'.

	* lib/pytis/data/data.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE'.  Vude vyuvej funkci
	`is_anystring()' namsto porovnvn s type('').

	* lib/pytis/data/types_.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE'.  Vude vyuvej funkci
	`is_anystring()' namsto porovnvn s type('').

	* lib/pytis/data/xtypes.py: Vude pouvej Pythonov konstanty `True' a
	`False' namsto naich `TRUE' a `FALSE'.

	* config/config.py: Pegenerovno.

	* lib/pytis/util/configuration.py: Vude pouvej Pythonov konstanty
	`True' a `False' namsto naich `TRUE' a `FALSE'.
	(Configuration._Option_db_encoding): Nov konfigruran volba.
	(Configuration._Option_row_focus_bg_color.default): Vracej `None'.

	* ebas: Pidn hack s volnm `sys.setdefaultencoding()'.

2004-08-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/*.py: Added Python source encoding tag to all files.

2004-07-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._make_tables):
	Pi vytven seznamu `tables_from' a `tables' zohledni
	`self._complexp'.

2004-08-11  Petr Malivanek  <malivanek@asellus.cz>

	* tools/gensql.py (): Nahrazen TRUE -> True, FALSE -> False

2004-07-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._make_tables):
	Pi vytven seznamu `tables_from' a `tables' zohledni
	`self._complexp'.

2004-08-11  Petr Malivanek  <malivanek@asellus.cz>

	* tools/gensql.py (): Nahrazen TRUE -> True, FALSE -> False

2004-07-16  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): Pedvej `key_columns'
	v rmci kwargs.	
	(_GsqlView.__init__): Nov argument `table_alias'.
	(_GsqlView._make_tables): Vytvej dva seznamy tabulek `tables_from'
	a `tables'.
	(_GsqlView.output): Pro klauzuli `from' pouvej seznam
	`tables_from', zatmco pro generovn rules pouvej `tables'.	

2004-07-16  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): Pedvej `key_columns'
	v rmci kwargs.	
	(_GsqlView.__init__): Nov argument `table_alias'.
	(_GsqlView._make_tables): Vytvej dva seznamy tabulek `tables_from'
	a `tables'.
	(_GsqlView.output): Pro klauzuli `from' pouvej seznam
	`tables_from', zatmco pro generovn rules pouvej `tables'.	

2004-07-01  Pavel Hanak  <hanak@asellus.cz>

	* templates/template.py: Pidno kdovn.

	* tools/gensql.py (_GsqlView.__init__): Zpehlednn kdu.
	(_GsqlView._split_columns): Pejmenovn funkce `separate_complex_columns'.
	(_GsqlView._make_tables): Nov funkce.
	(_GsqlView._format_complex_columns): Msto `c.name' testuj `c.sql'.	

2004-07-01  Pavel Hanak  <hanak@asellus.cz>

	* templates/template.py: Pidno kdovn.

	* tools/gensql.py (_GsqlView.__init__): Zpehlednn kdu.
	(_GsqlView._split_columns): Pejmenovn funkce `separate_complex_columns'.
	(_GsqlView._make_tables): Nov funkce.
	(_GsqlView._format_complex_columns): Msto `c.name' testuj `c.sql'.	

2004-06-17  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): Nevytvej sm seznam
	`key_columns'.
	(_GsqlTable.key_columns): Nov metoda.
	(_GsqlView.output): Pidn argument `table_keys' a zajitno
	nastaven `self._key_columns' podle skutench `PrimaryColumns'.
	(_GsqlDefs.__init__): Nov atribut `self._table_keys'.
	(_GsqlDefs.add): Pidej klov sloupce tabulek do
	`self._table_keys'. 
	(_GsqlDefs.gensql.process): Pokud je objekt view, pedvej metod
	`output' i seznam klovch sloupc.

2004-06-17  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): Nevytvej sm seznam
	`key_columns'.
	(_GsqlTable.key_columns): Nov metoda.
	(_GsqlView.output): Pidn argument `table_keys' a zajitno
	nastaven `self._key_columns' podle skutench `PrimaryColumns'.
	(_GsqlDefs.__init__): Nov atribut `self._table_keys'.
	(_GsqlDefs.add): Pidej klov sloupce tabulek do
	`self._table_keys'. 
	(_GsqlDefs.gensql.process): Pokud je objekt view, pedvej metod
	`output' i seznam klovch sloupc.

2004-05-25  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._format_column_doc): Oeti
	mon tvary jmna sloupce.

2004-05-25  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._format_column_doc): Oeti
	mon tvary jmna sloupce.

2004-05-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSpec.outputall): Nov metoda.
	(_GsqlTable.outputall): Nov metoda.
	(_GsqlDefs.gensqlall): Nov metoda.
	(_GSQL_OPTIONS): Doplnna volba 'create-all'.

2004-05-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSpec.outputall): Nov metoda.
	(_GsqlTable.outputall): Nov metoda.
	(_GsqlDefs.gensqlall): Nov metoda.
	(_GSQL_OPTIONS): Doplnna volba 'create-all'.

2004-03-12  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/presentation/field.py (Color.WHITE): Nov barva LRED.

	* lib/pytis/form/screen.py (_WX_COLORS): Nov barva LRED.

2004-03-11  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): Oeti uveden
	`exclude' sloupce ve tvaru `table.column'.

2004-03-11  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): Oeti uveden
	`exclude' sloupce ve tvaru `table.column'.

2004-03-04  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (PopupEditForm.__init__):
	Pidno oeten klovho argumentu `disable_new_button'.

2004-02-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type):
	Oprava testu hodnoty `not_null'.

2004-02-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/xtypes.py (_Codebook._validate_retrieve): Neprojde-li
	njak pole validac, vracej `None'.	

	* lib/pytis/data/types_.py (Type._validating_provider): Kosmetick prava.

2004-02-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/types_.py (Type.__cmp__): Oprava chybn zadan podmnky
	`self._constraints == self._constraints'.
	(Type._validating_provider): Provdj `self._check_constraints' i
	pro hodnoty ze `_SPECIAL_VALUES'.

2004-02-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_delete_line): Neprovuj zznam
	podle `self.editable'.

2004-02-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Pedvej argument `hide_binding_column'.

	* lib/pytis/form/list.py (SideBrowseForm.__init__): Doplnn argument
	`hide_binding_column'.
	(SideBrowseForm._init): Vypus vazebn sloupec, pokud je
	nastaveno `hide_binding_column'.

2004-02-09  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (ShowDualForm._create_main_form):
	Nenastavuj atribut `self._sash_position'.

2004-02-02  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Ukldej i atribut `name'.

2004-02-02  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Ukldej i atribut `name'.

2004-01-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._on_new_record): Namsto pmho
	spoutn formule volej novou funkci `new_record().

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nov argument
	`on_new_record'.  Inicializuj `self._on_new_record'.
	(ViewSpec.on_new_record): Nov metoda.

	* lib/pytis/form/application.py (Application.run_procedure): Nov
	metoda.
	(Application.on_command): Oetuj pkaz
	`Application.COMMAND_RUN_PROCEDURE'.
	(run_procedure): Nov funkce.
	(Application.new_record): Nov metoda.
	(new_record): Nov funkce.
	(Application.on_command): Oetuj pkaz
	`Application.COMMAND_NEW_RECORD'.

	* lib/pytis/form/command.py: Nov pkaz
	`Application.COMMAND_RUN_PROCEDURE'.  Nov pkaz
	`Application.COMMAND_NEW_RECORD'.
	

	* lib/pytis/form/dialog.py (RunFormDialog.__init__): Mapuj
	`self._EDIT_FORM' na `PopupEditForm'.

	* lib/pytis/form/form.py (EditForm._create_form): Zjiuj pstupov
	prva k polkm pro danou operaci a nastavuj argument
	`accessible' pi voln `InputField.create()'.

	* lib/pytis/form/inputfield.py (InputField.__init__): Nov argument
	`accessible'.  Nastavuj prva a ediovatelnost podle nj.
	(InputField.create): Nov argument `accessible'.  Pedvej jej
	konstruktoru.

2004-01-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._on_change): Prozatm vyazen
	hack s resetem disabled polek.

2004-01-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Pokud nen
	`self._enabled' volej nakonec tak `self._disable()'.
	(InputField._init_controls, InputField._init_controls): Nestarej
	se zde o zakazovn i povolovn control.
	(InputField._on_idle): Pokud je nastaveno `self._call_on_idle',
	zavolej danou funkci a atribut opt nastav na None.
	(InputField._on_change): Ve provdj pouze pokud je
	`self._enabled'.  Jinak namsto toho provdj `reset()'.
	(InputField.disable): Nov argument `change_appearance'.  Pouij
	jej pi voln `self._disable()'.  Update dokumentace.
	(InputField._disable): Nov argument `change_appearance'.
	(GenericField._disable): Nov argument `change_appearance'.
	Zneaktivni polko jen pokud je `change_appearance' pravda.
	(TextField._create_text_control): Nevytvej neaktivn polko ani
	kdy nen `self._accessible'.
	(TextField._create_text_control): Validtor vytvej vdy (by jen
	`wx.wxDefaultValidator') a pia jej do atributu
	`self._validator'.
	(TextField._enable): Nastavuj tak pvodn validtor.
	(TextField._disable): Nov argument `change_appearance'.  Pokud je
	pravdiv, nastav `self._call_on_idle' na funkci nastavujc barvu
	pozad.  Zru validtor (nastav na `wx.wxDefaultValidator').
	(Invocable._create_widget): Vytvej tlatko vdy (i pokud
	polko nen aktivn).
	(Invocable._disable): Nov argument `change_appearance'.  Pouij
	jej pi voln `self._call_next_method()'.
	(CodeBookField._DISPLAY_COLOR): Zrueno.
	(CodeBookField._create_widget): Pouij svtlej barvu pozad pro
	display.
	(HiddenField._disable): Nov argument `change_appearance'.
	(ListField._disable): Nov argument `change_appearance'.
	(_TextValidator._on_char): Oetuj ppad, kdy je `self._filter'
	None.  Opravena chyba v podmnce zjitn platn klvesy.
	(TextField._create_text_control): Vytvej `_TextValidator' i
	pokud je `filter' None.
	(TextField._filter): Nov metoda.
	(TextField._disable): Vytvej nov `_TextValidator' pro kad
	control.

	* lib/pytis/form/form.py (Form._menus): Vyuvejvej
	`RecordForm.UI_ACCESS_*'.
	(RecordForm.UI_ACCESS_INSERT, RecordForm.UI_ACCESS_UPDATE)
	(RecordForm.UI_ACCESS_DELETE): Nov konstanty.
	(RecordForm.on_ui_event): Nov metoda.  Oetuj
	`RecordForm.UI_ACCESS_*'.
	(EditForm.init): Voln enable/disable na polka provdj i v
	zvislosti na editovatelnosti celho formule.  Pro
	needitovateln formul pedvej `change_appearance=TRUE' pi
	voln `field.disable()'.
	(EditForm._create_form): Nee nic kolem
	editovatelnisti/needitovatelnosti polek/formule.
	(EditForm._commit_form): Prove ve i pokud je formul nezmnn.

	* lib/pytis/form/list.py (on_ui_event): Nakonec volej metodu pedka.

	* lib/pytis/util/configuration.py
	(Configuration._Option_row_focus_bg_color.default): Vracej
	systmovou barvy zvraznn vbru.
	(Configuration._Option_field_disabled_color)
	(Configuration._Option_field_inaccessible_color): Nov
	konfiguran volby.

	* lib/pytis/presentation/field.py (PresentedRow.accessible): Nov
	metoda, kter vak nakonec nen zatm nikde vyuita, take je
	zatm zakomentovna.

2004-01-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/wx.py: Pidn copyright 2004 a nastaveno kdovn jako
	pznak pro Pythonov parser.

	* lib/pytis/util/configuration.py
	(Configuration._Option_row_focus_bg_color.default): Pouij
	systmovou barvu (zskamou pes
	`wxPython.misc2.wxSystemSettings_GetColour()'.
	(Configuration._Option_grid_line_color.default): Nov volba.
	(Configuration._Option_grid_line_color.default): Nov volba.

	* lib/pytis/form/inputfield.py (InputField.__init__): Nastavuj
	`self._accessible' a `self._editable' s ohledem na pstupov
	prva.  Pokud nen accessible, volej nakonec
	`self._register_skip_navigation_callback()'.
	(InputField._init_controls): Pokud nen `self._enabled' zaka vstup.
	(InputField.enable): Ve provdj jen pokud je accessible.
	(InputField.disable): Ve provdj jen pokud je accessible.
	(TextField._text_control_style): Pokud nen accessible, nastavuj
	tak `wx.wxTE_READONLY'.

	* lib/pytis/data/access.py: Pidn copyright 2004.
	(RestrictedData.accessible): `self._rights' ->
	`self._access_rights'.  `self._acccess_groups' ->
	`self.access_groups'.

2004-01-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/types_.py (DateTime._validate): Zru omezen na data,
	kter maj rok men ne 1000.	
	(Time.SQL_FORMAT): Nov konstanta.
	(Time._validate): Nastavuj "kwargs['local']" na FALSE.
	(Time._export): Nastavuj "kwargs['local']" na FALSE.

	* lib/pytis/form/application.py (Application.__init__): Konstruktor
	'KeyHandler' volej ped konstruktorem 'wx.wxApp'.

2004-01-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py: Pidn copyright 2004.  Na zatku
	souboru uvdj kdovn jako pznak pro Pythonov parser.
	(PresentedRow._process_fieldspec): Inicializuj
	`self._editability_dirty'.
	(PresentedRow._compute_editability): Nov metoda.
	(PresentedRow._recompute_editability): Pokud nen teba volat
	callbacky, pouze ozna hodnotu jako "dirty".  Vyuvej metodu
	`_compute_editability()'.
	(PresentedRow.editable): Pokud je editovatelnost polka "dirty",
	pepotej ji.

	* lib/pytis/presentation/_test.py: Run `unittest.main()' without
	arguments.
	(PresentedRow): All methods with `check_' prefix renemed to use
	the `test_' prefix.  Why does `check_*' no longer work?
	(PresentedRow.test_editable): New test.
	(PresentedRow.test_editability_callbacks): New Test.

	* lib/pytis/form/inputfield.py: Pidn copyright 2004.  Na zatku
	souboru uvdj kdovn jako pznak pro Pythonov parser.
	
	* lib/pytis/form/form.py: Pidn copyright 2004.
	(EditForm.init): Pokud je polko editovateln, volej `enable()'.

	* lib/pytis/data/dbdata.py: Na zatku souboru uvdj kdovn jako
	pznak pro Pythonov parser.  Pidn copyright 2004.
	(PostgreSQLStandardBindingHandler._pg_skip): Oetuj zmnn typ
	nvratov hodnoty `_pg_query' po pechodu na PostgreSQL 7.4.

2003-12-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (show_popup_menu): Pepotvej pozici po
	scrollovn.

	* lib/pytis/form/application.py (Application.run_form): Hack: pejdi na
	poadovan dek, pokud formul podporuje metodu `select_row()'.

	* lib/pytis/form/dualform.py (DualForm.select_row): Nov metoda.
	(SideBrowseDualForm.title): Oddluj nzvy etzcem ' :: ' namsto
	lomtka, se kterm jsou problmy.
	(DualForm.show_popup_menu): Nov metoda.

2003-12-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.show_popup_menu): Nov metoda.
	(InputField._on_popup_menu): Vyuvej ji.

	* lib/pytis/form/command.py: Nov pkaz
	`Application.COMMAND_SHOW_POPUP_MENU'.

	* config/config.py: Pegenerovn.

	* lib/pytis/form/form.py: Na zatku souboru uvdj kdovn jako pznak pro
	Pythonov parser.
	(EditForm.__init__): Nastavuj `self._new' jet ped volnm
	konstruktoru pedka.
	(EditForm._commit_form): Nov nepovinn argument `close'.  Pokud
	je pravdiv, nezavrej okno formule.
	(PopupEditForm._on_next): Nov metoda.
	(PopupEditForm._create_buttons): Pokud jde o formul pro
	vytvoen novho zznamu, vytvej tak tlatko pro vloen
	dalho zznamu.
	(PopupEditForm._create_buttons): Nastav tlatkm tooltipy.
	(Form.show_popup_menu): Nov metoda.
	(EditForm.show_popup_menu): Nov metoda.

	* lib/pytis/form/application.py (Application.refresh): Nov metoda.
	(refresh): Nov funkce.
	(_application): Pkaz `Application.COMMAND_REFRESH' oetuj
	volnm self.refresh().
	(Application.on_command): Zpracuj
	`Application.COMMAND_SHOW_POPUP_MENU'.

	* lib/pytis/form/list.py (ListForm._CELL_HIGHLIGHT_COLOR): Zrueno.
	(ListForm._GRID_LINE_COLOR): Zrueno.
	(ListForm._FILTER_COLOR): Zrueno.
	(ListForm._create_grid): Namsto `self._CELL_HIGHLIGHT_COLOR' a
	`self._GRID_LINE_COLOR' vyuvej `config.cell_highlight_color' a
	`config.grid_line_color'.
	(ListForm._create_recreate_grid): Namsto `self._FILTER_COLOR'
	vyuvej `config.filter_color'.
	(ListForm._on_export_csv): Neimportuj `config'.
	(ListForm._FOCUS_COLORS, ListForm._NOFOCUS_COLORS)
	(ListForm._EDIT_COLORS): Zrueno
	(Module): Na zatku souboru uvdj kdovn jako pznak pro
	Pythonov parser.
	(ListForm._change_selection_colors): Pejmenovno na
	`_update_selection_colors'.  Argument `colors' zruen.  Vyuvej
	konfiguranch voleb, namsto konstant.
	(ListForm._on_select_cell, ListForm._on_edit)
	(ListForm._on_insert_line, ListForm._on_line_rollback)
	(ListForm._recreate_grid, ListForm.focus, ListForm.defocus):
	Namsto metody `_change_selection_colors()' vyuvej
	`_update_selection_colors()'.
	(ListForm._select_cell): Vracej nepravdu, pokud je polko
	needitovateln, pravdu v ostatnch ppadech.
	(ListForm._on_edit): Odejdi z editace pokud `self._edit_cell()'
	vrt nepravdu.
	(ListForm.show_popup_menu): Nov metoda.
	(ListForm._on_popup_menu): Vyuvej ji.

	* lib/pytis/util/configuration.py
	(Configuration._Option_grid_line_color): Nov tda.
	(ConfigDB.__init__): Uzavrej po sob select.
	(Configuration._Option_filter_color): Nov tda
	(Configuration._read_configuration_file): Ignoruj None hodnoty ve
	zdrojovm slovnku.
	(Configuration._Option_row_nofocus_bg_color.default): Zmna hodnoty.

2003-12-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pro `declare cursors' doplnno klov slovo `scroll' kvli
	kompatibilit s Postgresql7.4.

2003-12-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (Calendar): Oprava docstringu.
	(Calendar._customize_result): Zruen neaktuln docstring.
	(ColorSelector): Nov tda.

	* lib/pytis/data/types_.py (Color): Nov tda.

	* lib/pytis/presentation/_test.py (PresentedRow.check_keys): Nov test.

	* lib/pytis/presentation/field.py (PresentedRow.keys): Nov metoda.

	* lib/pytis/util/configuration.py:
	(Configuration._Option_show_tooltips)
	(Configuration._Option_show_splash)
	(Configuration._Option_row_focus_fg_color) 
	(Configuration._Option_row_focus_bg_color) 
	(Configuration._Option_row_nofocus_fg_color) 
	(Configuration._Option_row_nofocus_bg_color) 
	(Configuration._Option_row_edit_fg_color) 
	(Configuration._Option_row_edit_bg_color) 
	(Configuration._Option_cell_highlight_color): Nov volby.
	

	* lib/pytis/form/inputfield.py (InputField._init_controls): Nastav
	tooltip, pouze pokud to povoluje konfigurace.
	(ColorSelectionField): Nov tda.
	(InputField.create): Pro datov typ `lib.data.Color' vytvej pole
	typu `ColorSelectionField'.

	* lib/pytis/form/list.py (Module): Odstrann zapomenut print.
	(_create_grid): Vyuvej `config.cell_highlight_color'.
	(ListForm._CELL_HIGHLIGHT_COLOR): Zrueno.

2003-12-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.merge): Nov metoda.
	(ConfigDB): Nov tda.

	* lib/pytis/form/list.py (ListForm._TITLE_BACKGROUND_COLOR): Zrueno.

2003-12-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.__init__): Nenastavuj
	`self._sash_position'.
	(DualForm._sash_position): Nov metoda.
	(DualForm._on_size_hook): Nov metoda.
	(DualForm.OnSize): Namsto promnn `self._sash_position' vyuvej
	stejnojmennou funkci.  Volej `self._on_size_hook()'.
	(ShowDualForm._sash_position): Nov metoda.
	(ShowDualForm._on_size_hook): Nov metoda.
	(DescriptiveDualForm._create_side_form): Nenastavuj
	`self._sash_position'.
	(DescriptiveDualForm._sash_position): Nov metoda.
	(DescriptiveDualForm._on_size_hook): Nov metoda.

	* lib/pytis/form/screen.py (Window): Namsto `wx.wxPanel' bu
	potomkem `wx.wxScrolledWindow'.
	(Window.__init__): Respektuj to.

	* lib/pytis/form/form.py (EditForm.set_scrollbars): Nov metoda.
	(ShowForm.OnSize): Vyuvej ji.

	* lib/pytis/form/inputfield.py (InputField._init_controls): Nastav
	tooltip, pokud je definov8no `descr' ve specifikaci'

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Nov argument
	`descr'.
	(FieldSpec.column_label): Nov metoda.

2003-12-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm): Zmny konstant barev.
	(ListForm._GRID_LINE_COLOR): Nov konstanta.
	(ListForm._CELL_HIGHLIGHT_COLOR): Nov konstanta.
	(_create_grid): Vyuvej nov konstanty k nastaven barev.

	* lib/pytis/form/screen.py (MenuBar._create_menu): Nov metoda.
	(MenuBar._append_menu): Nov metoda.
	(MenuBar._replace_menu): Nov metoda.
	(MenuBar._remove_menu): Nov metoda.
	(MenuBar.add_menu): Pokud menu ji existuje, nahra jej.
	(MenuBar.activate): Vykonej ve i pokud je nov aktivace stejn
	jako pvodn.  Vyuvej `_append_menu()' a `_remove_menu'.
	Dynamick menu vytvej pokad znovu.
	(Menu.__init__): Inicializuj `self._dynamic'.
	(Menu.dynamic): Nov metoda.

	* lib/pytis/form/output.py (PrintForm._menus): Pejmenovno menu `Tisk'
	-> `Vytisknout'.

	* lib/pytis/form/form.py (Form._menus): Definuj tiskov podmenu jako
	hlavn menu.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Povol pro poloky
	`popup_menu' tak `MSeparator' a `Menu'.

	* lib/pytis/form/dualform.py (SideBrowseDualForm.title): Nov metoda.

2003-12-08  Tomas Cerha  <cerha@brailcom.org>

	All files without general significance removed.

2003-12-08  Tomas Cerha  <cerha@brailcom.org>

	All files without general significance removed.

2003-12-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Vytvej sprvn seznam `Values' pro `select_row' CodeBooku.

2003-12-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Pedvej konstruktoru `CodeBook' hodnotu `begin_search' pouze jako boolean.

	* lib/pytis/form/list.py (ListForm._on_incremental_search): Akceptuj tak sloupce
	typu `Codebook'.
	(CodeBook.__init__): Nech je hodnotou argumentu `begin_search'
	pouze boolean.
	(CodeBook._on_idle): Uri vyhledvac sloupeek automaticky podle tdn.

2003-11-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_change_selection_colors): Kvli zamezen
	rekurze pouij pro metodu select_row() slo aktulnho dku.

2003-09-23  Petr Malivanek  <malivanek@akont.cz>

	* lib/pytis/presentation/field.py (TextFilter): Nov konstanta FLOAT.

	* lib/pytis/form/inputfield.py (TextField): Nov konstanta FLOAT.
	(TextField._filter_func): Doplnno do slovnku mapping:
	"TextFilter.FLOAT: self.FLOAT" 

2003-12-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (CodeBook.__init__): Kosmetick pravy zpsobu
	zpracovn kwargs.  Nov argument `begin_search'.
	(CodeBook._on_idle): Nov metoda.

	* lib/pytis/form/inputfield.py (Invocable._create_widget): Pro oeten
	`EVT_BUTTON' volej `self._on_invoke_selection()' bez argument.
	(Invocable._on_invoke_selection, DateField._on_invoke_selection)
	(DateField._on_invoke_selection): Definuj argumenty obecn jako
	`**kwargs'.
	(Invocable.on_command): Oetuj pkaz
	`Invocable.COMMAND_INVOKE_SELECTION_ALTERNATE'.
	(CodeBookField._on_invoke_selection): Nov argument `alternate' a
	implementace pkazu
	`Invocable.COMMAND_INVOKE_SELECTION_ALTERNATE' vyvolnm selnku
	s nastartovanm inkrementlnm vyhledvnm.
	(CodeBookField._menu): Nov poloka pro pkaz
	`Invocable.COMMAND_INVOKE_SELECTION_ALTERNATE'.

	* lib/pytis/form/command.py (Module): Nov pkaz
	`Invocable.COMMAND_INVOKE_SELECTION_ALTERNATE'.

2003-10-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (ListField._menu): Opravena chyba pro
	generovn menu bez urench `returned_columns'.

2003-10-07  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/presentation/field.py (RefSpec.__init__): Nov parametr
	`returned_columns'.
	(RefSpec.returned_columns): Nov metoda.
	(PresentedRow._process_fieldspec): Nov atribut `self._refvalues'.
	(PresentedRow.refvalue): Nov metoda.
	(PresentedRow.listfield_choose): Nov metoda. 

	* lib/pytis/form/inputfield.py (ListField._create_controls): Nov
	atributy `self._colspec', `self._get_item'.
	(ListField._choose_returned_column): Nov metoda.
	(ListField.get_item): Nov metoda.
	(ListField._menu): Vytvej `user_popup'.
	(ListField.on_command): Oeti voln pkazu
	`ListField.COMMAND_CHOOSE_KEY'.

	* lib/pytis/form/form.py (EditForm.on_command): Oeti voln pkazu
	`ListField.COMMAND_CHOOSE_KEY'.

	* lib/pytis/form/command.py: Nov pkaz `ListField.COMMAND_CHOOSE_KEY'.

2003-10-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._on_field_enable): Volej `enable'
	pouze na polka, kter jsou v layoutu.
	(EditForm._on_field_disable): Volej `disable' pouze na polka,
	kter jsou v layoutu.

2003-09-23  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/inputfield.py (InputField._on_change): Pro voln
	`self._post_process()' znepstupni event handlery (aby
	nedochzelo k rekurzi).
	(TextField._post_process): Nov funkce.
	(InlineMultiTextField._post_process): Nov funkce.

2003-09-18  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Zohleduj monost, e v `returned_columns' nejsou pouze stringy.

2003-08-26  Petr Malivanek  <malivanek@akont.cz>

	* tools/gensql.py (_GsqlView._format_rule): Podmnka pi vytven
	WHERE podmnky pro UPDATE a DELETE rule se neporvnv se sting
	'table', ale s promnou table.
	(_GsqlView.output): Seznam tabulek z kerch se vytv view se
	bere jako seznam uniktnch prvk seznamu self._tables. Seznam
	se vytvo do promn tables_unique.

2003-10-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (ViewColumn.__init__): Pidn argument `type'.
	(_GsqlView._make_complex_tables): Oetena monost vskytu `None'
	v `c.name[i]'.
	(_GsqlView._format_complex_columns): Vyuvej `c.type' pro
	zjitn typu sloupce.

2003-10-22  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._format_rule): Negeneruj `insert'
	ev. `update' rule pro przdn seznam `insert' a `update' sloupc.
	(ViewColumn.__init__): Opraven chybn assert.
	(_GsqlView._complex_columns_length): Opraveno chybn zjiovn
	`_complex_columns_length' pro `name=None'.

2003-10-02  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView.__init__): Nov atributy
	`self._complexp', `self._simple_columns', `self._complex_columns'
	`self._complex_len'.
	(_GsqlView._separate_complex_columns): Nov metoda pro zjiovn
	`complex_columns'.
	(_GsqlView._complex_columns_length): Nov metoda zjiujc
	velikost `complex_columns'.
	(_GsqlView._make_complex_tables): Nov metoda zjiujc tabulky
	pouit pro jednotliv selecty v unionu.
	(_GsqlView._format_column): Zohledni monost vskytu sekvence
	nejen v `column.name', ale i v `column.sql'.
	(_GsqlView._format_complex_columns): Upraveno s vyuitm novch
	atribut a opraveno chybn generovn rky na zatku seznamu
	sloupc.
	(_GsqlView._format_rule): Zjiuj sloupce pro defaultn rules jen
	u  view, kde nejsou `complex_columns', jinak generuj rule
	'NOTHING' nebo explicitn uveden.
	(_GsqlView.output): Nezjiuj `tables_unique' - u ho mme v
	`self._tables'. Generuj sprvn klauzuli `where' pro jednotliv
	selecty `union all'.

2003-09-23  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._make_view): Umoni pedat vlastn
	seznam `key_columns'.
	(_GsqlView._format_rule): Doplnna podpora pro defaultn rules,
	kter v ppad `insert' vkldaj do pslunch tabulek, a v
	ppad `update' aktualizuj pslun tabulky.	
	(ViewColumn.__init__): Nov argumenty `insert', `update'.
	(_GsqlView._format_rule): Doplnna podpora pro defaultn delete
	rule. pravy ve formtovn. Vyuvej podporu pro specifikaci
	`insert' a `update' u `ViewColumn'.	

2003-09-16  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (ViewColumn.__init__): Doplnn atribut `sql' pro
	specifikaci sql vrazu jako view sloupce.
	(_GsqlView.__init__): Seznam tabulek `self._tables' tvo vdy na
	zklad seznamu sloupc.
	(_GsqlView._format_column): Existuje-li specifikace `column.sql'
	pouij ji jako `cname'.

2003-09-02  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._grant_command): Pedefinuj metodu
	kvli generovn prv pro sekvence.
	(_GsqlTable._make_view): Jmno tabulky pidvej vdy do 'depends'.
	(_GsqlTable.output): Pro polka `SERIAL' generuj 'GRANT' pkaz
	na sekvenci.
	(_GsqlTable.__init__): V `self._init_columns' uvdj vdy jen
	jmno sloupce bez tabulky.

2003-08-28  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._column_column): Nov metoda.
	(_GsqlTable._make_view): Pouvej ji pro filtrovn sloupc
	uvedench v `exclude'.
	(_GsqlTable._format_column): Pouvej ji pro ppadn odstrann
	jmna tabulky ze jmna sloupce.
	(_GsqlTable.output): Nezapisuj vstup pro `self._views' (kvli
	poad v zvislostech).
	(_GsqlDefs.add): Je-li pidvan specifikace `_GsqlTable',
	pidvej i ppadn definovan `view' ze `self._views'.

2003-08-27  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._full_column_name): Nov funkce.
	(_GsqlTable._make_view): Pouvej jmno sloupce vdy ve tvaru
	TABULKA.SLOUPEC.
	(_GsqlView.__init__): Pokud nen nzev tabulky v columns,
	ulo do `self._tables' `name'.
	(_GsqlView._format_rule): Sestavuj sprvn podmnky ve `WHERE'.

2003-08-26  Petr Malivanek  <malivanek@akont.cz>

	* tools/gensql.py (_GsqlView._format_rule): Podmnka pi vytven
	WHERE podmnky pro UPDATE a DELETE rule se neporvnv se sting
	'table', ale s promnou table.
	(_GsqlView.output): Seznam tabulek z kerch se vytv view se
	bere jako seznam uniktnch prvk seznamu self._tables. Seznam
	se vytvo do promn tables_unique.

2003-10-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (ViewColumn.__init__): Pidn argument `type'.
	(_GsqlView._make_complex_tables): Oetena monost vskytu `None'
	v `c.name[i]'.
	(_GsqlView._format_complex_columns): Vyuvej `c.type' pro
	zjitn typu sloupce.

2003-10-22  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._format_rule): Negeneruj `insert'
	ev. `update' rule pro przdn seznam `insert' a `update' sloupc.
	(ViewColumn.__init__): Opraven chybn assert.
	(_GsqlView._complex_columns_length): Opraveno chybn zjiovn
	`_complex_columns_length' pro `name=None'.

2003-10-02  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView.__init__): Nov atributy
	`self._complexp', `self._simple_columns', `self._complex_columns'
	`self._complex_len'.
	(_GsqlView._separate_complex_columns): Nov metoda pro zjiovn
	`complex_columns'.
	(_GsqlView._complex_columns_length): Nov metoda zjiujc
	velikost `complex_columns'.
	(_GsqlView._make_complex_tables): Nov metoda zjiujc tabulky
	pouit pro jednotliv selecty v unionu.
	(_GsqlView._format_column): Zohledni monost vskytu sekvence
	nejen v `column.name', ale i v `column.sql'.
	(_GsqlView._format_complex_columns): Upraveno s vyuitm novch
	atribut a opraveno chybn generovn rky na zatku seznamu
	sloupc.
	(_GsqlView._format_rule): Zjiuj sloupce pro defaultn rules jen
	u  view, kde nejsou `complex_columns', jinak generuj rule
	'NOTHING' nebo explicitn uveden.
	(_GsqlView.output): Nezjiuj `tables_unique' - u ho mme v
	`self._tables'. Generuj sprvn klauzuli `where' pro jednotliv
	selecty `union all'.

2003-09-23  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._make_view): Umoni pedat vlastn
	seznam `key_columns'.
	(_GsqlView._format_rule): Doplnna podpora pro defaultn rules,
	kter v ppad `insert' vkldaj do pslunch tabulek, a v
	ppad `update' aktualizuj pslun tabulky.	
	(ViewColumn.__init__): Nov argumenty `insert', `update'.
	(_GsqlView._format_rule): Doplnna podpora pro defaultn delete
	rule. pravy ve formtovn. Vyuvej podporu pro specifikaci
	`insert' a `update' u `ViewColumn'.	

2003-09-16  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (ViewColumn.__init__): Doplnn atribut `sql' pro
	specifikaci sql vrazu jako view sloupce.
	(_GsqlView.__init__): Seznam tabulek `self._tables' tvo vdy na
	zklad seznamu sloupc.
	(_GsqlView._format_column): Existuje-li specifikace `column.sql'
	pouij ji jako `cname'.

2003-09-02  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._grant_command): Pedefinuj metodu
	kvli generovn prv pro sekvence.
	(_GsqlTable._make_view): Jmno tabulky pidvej vdy do 'depends'.
	(_GsqlTable.output): Pro polka `SERIAL' generuj 'GRANT' pkaz
	na sekvenci.
	(_GsqlTable.__init__): V `self._init_columns' uvdj vdy jen
	jmno sloupce bez tabulky.

2003-08-28  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._column_column): Nov metoda.
	(_GsqlTable._make_view): Pouvej ji pro filtrovn sloupc
	uvedench v `exclude'.
	(_GsqlTable._format_column): Pouvej ji pro ppadn odstrann
	jmna tabulky ze jmna sloupce.
	(_GsqlTable.output): Nezapisuj vstup pro `self._views' (kvli
	poad v zvislostech).
	(_GsqlDefs.add): Je-li pidvan specifikace `_GsqlTable',
	pidvej i ppadn definovan `view' ze `self._views'.

2003-08-27  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._full_column_name): Nov funkce.
	(_GsqlTable._make_view): Pouvej jmno sloupce vdy ve tvaru
	TABULKA.SLOUPEC.
	(_GsqlView.__init__): Pokud nen nzev tabulky v columns,
	ulo do `self._tables' `name'.
	(_GsqlView._format_rule): Sestavuj sprvn podmnky ve `WHERE'.

2003-08-22  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (CodeBook.select_row): Oeti przdn Codebooky
	testem, zda `result > 0'.

2003-08-22  Miroslav Macek  <macek@asellus.cz>

	* ebas-server: Dokumentace je v iso-8859-2 (Python2.3)

	* ebas: Dokumentace je v iso-8859-2 (Python2.3)

2003-08-22  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs.check_db): Oprava chybnho pedn
	jmna metod `db_remove'.

2003-08-22  Miroslav Macek  <macek@asellus.cz>

	* tools/gensql.py: Dokumentace je v iso-8859-2 (Python2.3)

2003-08-22  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs.check_db): Oprava chybnho pedn
	jmna metod `db_remove'.

2003-08-22  Miroslav Macek  <macek@asellus.cz>

	* tools/gensql.py: Dokumentace je v iso-8859-2 (Python2.3)

2003-08-21  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs._add_resolved): Nov metoda.
	(_GsqlDefs.add): Pouvej ji.
	(_GsqlDefs._update_unresolved): Pouvej ji.
	(_GsqlSpec._revoke_command): Skupiny uvozuj klovm slovem "GROUP".

2003-08-21  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs._add_resolved): Nov metoda.
	(_GsqlDefs.add): Pouvej ji.
	(_GsqlDefs._update_unresolved): Pouvej ji.
	(_GsqlSpec._revoke_command): Skupiny uvozuj klovm slovem "GROUP".

2003-08-20  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs._update_unresolved): Oprava chyby,
	kdy se metod `self._resolvedp' pedvalo pouze jmno.
	(_GsqlRaw.__init__): Doplnna monost zadat "name" pro _GsqlRaw
	objekt.

2003-08-20  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs._update_unresolved): Oprava chyby,
	kdy se metod `self._resolvedp' pedvalo pouze jmno.
	(_GsqlRaw.__init__): Doplnna monost zadat "name" pro _GsqlRaw
	objekt.

2003-07-01  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Pokud je aktivovn IncrementalSearch, neprovdj aktualizaci
	`side_form', aby nedolo k likvidaci widgetu.

2003-06-25  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (ListForm._ListTable._EditedRow.__init__):
	Importuj `lib.data'.

2003-06-19  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (DescriptiveDualForm._on_side_selection):
	Metod `select_row' pedvej instanci Row.

	* lib/pytis/form/form.py (RecordForm.set_row): Revert pedchoz pravy
	(tedy pedvej instanci PresentedRow).

2003-06-18  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/application.py: Zkouej import `Pyro.util' jen, je-li k
	dispozici `config.server'.

2003-06-13  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (RecordForm.set_row): Pomoc voln metody
	row.row() zajisti pedn instance Row nikoli PresentedRow.
	(BrowsableShowForm.__init__): Volej self._init_select() a nastav
	status bar.
	(BrowsableShowForm._set_row): Nastavuj status bar.
	(BrowsableShowForm._set_status): Nov metoda.

	* lib/pytis/form/dualform.py (DescriptiveDualForm._do_selection):
	Metod `self._side_form.set_row' pedvej instanaci PresentedRow
	nikoli instanci Row.

2003-06-11  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (Form._create_data_object): Oeti import
	`lib.data'.

	* lib/pytis/form/list.py (ListForm._ListTable._EditedRow.__init__):
	`lib.remote' importuj, jen kdy existuje `server'.
	
	* lib/pytis/form/form.py (Form._create_data_object): `lib.remote'
	importuj, jen kdy existuje `server'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLUserGroups._pgg_retrieve_access_groups): Pi zjiovn
	pslunosti ke skupinm je teba msto `regepx.match' pout
	`regexp.search'.

2003-06-06  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py: `lib.remote' importuj jen pouv-li se proxy.

2003-05-27  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm): Konstanta
	`_SELECTION_TICK' nastavena na 1.

2003-05-26  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLUserGroups._pgg_retrieve_access_groups): Regulrn
	vraz pro uivatele obsahuje uid, nikoli jmno.

2003-05-07  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (EditForm._on_row_change): Polko zjiuj sm
	(ne pomoc self._field, kde Computery ztroskotaj na assert).

2003-04-25  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/output/formatter.py (LoutFormatter.printdirect): Nov metoda.

2003-04-04  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (): Pidn parametr 'lc_numeric'.

2003-04-04  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (BrowseForm._formatter_parameters): Pidn i
	parametr `P_ROW'.

2003-04-02  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (BrowseForm._formatter_parameters): Pidn i
	parametr `P_KEY'.

2003-04-01  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.last_select_condition):
	Vra posledn pouitou podmnku.

2003-03-21  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (_on_export_csv._process_table): Pi exportu
	vcedkovch textovch polek nahra konce dk stednkem.

2003-03-20  Pavel Hanak  <hanak@brailcom.cz>

	* config/config.py: Pegenerovn.

	* lib/pytis/util/configuration.py
	(Configuration._Option_export_encoding): Nov volba.

	* lib/pytis/form/list.py (_on_export_csv): Pi exportu float poloek
	nepouvej `locale' formt. U textovch poloek zohledni
	konfiguran parametr `export_encoding'. Wildcards rozi o
	`*.txt'.
	(select_row): Metoda nyn akceptuje i `**kwargs'. Existuje-li
	kwarg `_search_cols', zohledni ho pi sestavovn podmnky pro
	nalezen dku.
	(CodeBook.__init__): Zohledni `_search_cols'.
	(CodeBook.select_row): Pedefinovn metody zohleduje to, e
	`_returned_columns' Codebooku nemus bt klovmi sloupci.

	* lib/pytis/form/inputfield.py (InputField.create): Pi testovn typu
	pouij msto `Codebook' pedka `_Codebook'.
	(EnumerationField._values): Pi testovn typu pouij msto
	`Codebook' pedka `_Codebook'.
	(MultiTextField._set_value): Msto testu `values' na przdn
	etzec, provdj test na przdnou sekvenci.
	(CodeBookField._set_value): Pedefinovn metody - pedkovi
	pedv jako argument vdy tuple.
	(CodeBookField._on_invoke_selection): Pi vytven instance
	String u nepouvej `make'. Metod `set_value' pedvej tuple.

	* lib/pytis/data/xtypes.py (SingleCodebook.internal_columns): Nov
	metoda vrac intern sloupec i jako tuple.
	(SingleCodebook._validate): Doplnn keyword argument `strict'.
	(SingleCodebook._export): Pedefinovan metoda u nevrac tuple.
	(Codebook): Je nyn SingleCodebook.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template): Pi testovn
	typu pouij msto `Codebook' pedka `_Codebook'.
	(DBDataPostgreSQL._pg_create_make_row_template): Pro zjitn
	`internal_columns' u SingleCodebooku pouij tak metodu
	`type.internal_columns()'.
	(DBDataPostgreSQL._pg_value): Pi zjiovn hodnoty `exported'
	zohledni rozdl mezi `SingleCodebook' a `MultiCodebook'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pi testovn typu pouij msto `Codebook' pedka `_Codebook'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pi vytven `btype' zohledni rozdl mezi `SingleCodebook' a
	`MultiCodebook'.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Pi testovn typu pouij msto `Codebook' pedka `_Codebook'.	

2003-03-14  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (date_time_format): Upraven.

2003-03-11  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/util/configuration.py
	(Configuration._Option_export_directory): Nov volba.

	* lib/pytis/form/list.py (_on_export_csv): Exportn adres ti z configu.

	* config/config.py: Pegenerovn.

2003-03-10  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/util/configuration.py (Configuration._Option_lc_numeric):
	Nov volba.

	* lib/pytis/form/list.py (on_command): Oeti nov pkaz.
	(_on_export_csv): Obslun rutina pro nov pkaz. 

	* lib/pytis/form/form.py (Form._menus): Doplnn pkaz
	`ListForm.COMMAND_EXPORT_CSV'.

	* lib/pytis/form/command.py: Nov pkaz `ListForm.COMMAND_EXPORT_CSV'.

	* lib/pytis/data/types_.py (Float._validate): Zskej value ze stringu
	s vyuitm modulu `locale'.
	(Float._export): Zohleduj locales.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_value): Je-li value
	instanc Float, zohleduj nastaven locales pro export.

	* config/config.py: Pegenerovn.

	* ebas (run_application): Zrueno nastaven LC_NUMERIC na `C',
	msto toho se nastavuje podle konfigurace.

2003-03-07  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (): Pidn printing_command.

2003-03-06  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/inputfield.py (InputField._init_controls): Nenastavuj
	EVT_NAVIGATION_KEY callback.
	(InputField._register_skip_navigation_callback): Nov metoda.
	(InputField._unregister_skip_navigation_callback): Nov metoda.
	(InputField.enable): Volej `_unregister_skip_navigation_callback'.
	(InputField.disable): Volej `_register_skip_navigation_callback'.
	(_register_skip_navigation_callback): Testuj `control' na `None'.
	(_unregister_skip_navigation_callback): Testuj `control' na `None'.

2003-03-04  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/screen.py (color_dictionary): Nov funkce.
	(_WX_COLORS_DATABASE): Nov konstanta.
	(color2wx): Hledej barvu i ve _WX_COLORS_DATABASE.

2003-02-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (_TypeCheck._test_validity): Vppad
	nespchu uve ioekvanou hodnotu.  Validaci po exportu volej
	skwargs.
	(_test_instance): Konstruktoru pidn argument `format'.
	(DBDataDefaultClass.check_lock): None testuj opertorem `is'.
	(DateTime.check_validation): Volej validaci sargumentem `local'.
	(_TypeCheck._test_validity): Nov argument `ekwargs'.
	(DateTime.check_export): Volej validace a exporty sargumenty
	`format' a `local'.
	(TutorialTest.check_it): Uzavi select ped dalmi operacemi.

	* lib/pytis/data/dbdata.py (_pypg_query.do_query) 
	(DBDataPostgreSQL.select, DBDataPostgreSQL.lock_row): Pi chyb
	nahazuj pvodn vjimku, ne vjimku nsledn operace.
	(DBDataPostgreSQL.row, DBDataPostgreSQL.search): Odstranno
	zapomenut foo.

2003-02-28  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (BrowseDualForm.__init__): Je-li k
	dispozici klov argument `select_row', pedvej ho do
	`self._main_form.select_row(select_row)'.

	* lib/pytis/form/form.py (EditForm._create_group):
	Pro label nevytvej instanci wxStaticText, protoe metoda
	field.label() u instanci wxStaticText vrac.

2003-02-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (_INTRO): V@cell parametr `height'
	pejmenovn na `width'.  V@hline za rovan objekt pidno ||.
	U@page nov parametry @*Margin, @width, @height a @landscapeMode.
	(LoutFormatter._process): Pidny nov parametry pro _INTRO.
	(LoutFormatter.__init__): Nov atribut _page_layout.
	(PAGE_*): Nov konstanty.
	(LoutFormatter._format_long_table): Opravena pozice separtoru
	vheader component.

	* lib/pytis/form/form.py (EditForm._create_group): Je-li widget
	kompaktnho polka None, nepokouej se ho pidat do sizeru.

	* lib/pytis/form/list.py (_IncrementalSearch._search): Nech prav
	argument WM je instance WMValue.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_skip)
	(PostgreSQLStandardBindingHandler._pg_skip): Nov argument
	`exact_count'.
	(DBDataPostgreSQL.fetchone.skip): Volej `_pg_skip'
	s`exact_count'.
	(DBDataPyPgSQL._pg_query): Pro pkazy klasifikovan jako DDL vra
	result.cmdStatus.  Neprovdj test vsledku MOVE.

2003-02-27  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (BrowseForm._run_form):
	Pokud nen udno `redirect_name', volej `self._redirected_name'.

2003-02-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.fetchone): Pepracovno,
	odstranna podpora pro FETCH BACKWARD, opraveno urovn velikosti
	a skipy.
	(DBDataPostgreSQL._PgBuffer.fetch): Vlogovac hlce vracej
	zestringovan `result'.
	(DBDataPyPgSQL._pg_query): Vrac-li pkaz klasifikovan jako DDL
	`MOVE 0', zaloguj varovn.

2003-02-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (Menu.create): Testuj, zda
	`keyhandler.keymap' nen None.

2003-02-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py
	(DBDataDefaultClass.check_select_fetch_direction): Pidno pr
	informac onespchu.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.fetchone): Zabra provdn
	FETCH BACKWARD, pro obejit dalch kurzorovch chyb PostgreSQL.
	Zajisti, e last_row_number nen vt ne _pg_number_of_rows.

	* lib/pytis/util/util.py (UNDEFINED): Nov konstanta.
	
2003-02-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Metod
	`Menu.create()' pedvej `self' jako argument `keyhandler'.

	* lib/pytis/form/inputfield.py (InputField._on_popup_menu): Metod
	`Menu.create()' pedvej `self' jako argument `keyhandler'.

	* lib/pytis/form/list.py (_on_label_right): Metod `Menu.create()'
	pedvej `self' jako argument `keyhandler'.
	(_on_popup_menu): Metod `Menu.create()' pedvej `self' jako
	argument `keyhandler'.

	* lib/pytis/form/screen.py (MenuBar.__init__): Nov argument
	`keyhandler'.
	(MenuBar.add_menu): Metod `Menu.create()' pedvej argument
	`keyhandler'.
	(Menu.create): Nov argument `keyhandler'.  Pebrej horkou
	klvesu poloky z klvesov mapy instance `keyhandler', nebo pokud
	je klvesa definovna pro poloku, definuj ji v klvesov map
	instance `keyhandler'.
	(Menu.create.hotkey_string): Funkce zruena - namsto toho si
	nadpisy pamatuj ve stejnojmennm slovnku.
	(MItem.__init__): Nestarej se vbec o klvesovou mapu, jen si
	zapamatuj ppadnou specifikaci hork klvesy.

2003-02-24  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlView._format_column): Opraven chybn odkaz
	na jmno sloupce.  Nov argument `type'.  Je-li `columns' string,
	pouij ho pmo jako jmno sloupce.
	(_GsqlView._format_complex_columns): ada oprav a prav.
	(_GsqlView.output): Pidny nov dky.

2003-02-24  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlView._format_column): Opraven chybn odkaz
	na jmno sloupce.  Nov argument `type'.  Je-li `columns' string,
	pouij ho pmo jako jmno sloupce.
	(_GsqlView._format_complex_columns): ada oprav a prav.
	(_GsqlView.output): Pidny nov dky.

2003-02-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (ValidationError): Bu potomkem Exception.

2003-02-22  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_gsql_column_table_column): Oetuj ppad, kdy
	je `column' sekvence.
	(_go): Nov argument `argv'.
	(_GsqlView._format_complex_columns): Opravena ada chyb.
	(_GsqlView._format_column): Nov argument `i'.

2003-02-22  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_gsql_column_table_column): Oetuj ppad, kdy
	je `column' sekvence.
	(_go): Nov argument `argv'.
	(_GsqlView._format_complex_columns): Opravena ada chyb.
	(_GsqlView._format_column): Nov argument `i'.

2003-02-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.fetchone): Uprav poet
	stahovanch dk tak, aby nedolo kpekroen hranic dat.

	* lib/pytis/form/list.py (ListForm._create_grid.registration): Nov
	atribut `_editors'.
	(ListForm.Close): Volej `close' na editory.
	(_InputFieldCellEditor.close): Nov metoda.

2003-02-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (ValidationError): Bu potomkem `object'.
	(WMValue): Nov tda.
	(_Value): Nov tda.
	(Value): Bu potomkem _Value.
	(Type.wm_validate): Nov metoda.
	* lib/pytis/data/data.py (WM): Zmna argument, jen dokumentan zmna.
	* lib/pytis/data/xtypes.py (_Codebook.WMVM_UNSUPPORTED): Nov validan
	hlka.
	(_Codebook.wm_validate): Nov metoda.
	(_codebook_data): Nov funkce.
	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Zohlednna
	zmna operandu opertoru WM.

	* lib/pytis/form/search.py (SFDialog._selected_condition): Opraven
	wildcard match -- vyuvej Type.wm_validate.

2003-02-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (Invocable._call_next_method): Nov metoda.
	(Invocable._create_widget): Vyuvej ji.  Odkaz na tlatko
	uschovvej do atributu `self._invocation_button'.
	(Invocable._disable): Nov metoda.
	(Invocable._enable): Nov metoda.

	* lib/pytis/form/form.py (EditForm.init): Na polka, kter nejsou
	editovateln volej 'disable()'.

2003-02-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._selected_condition): Pidna
	podpora wildcards pro nkter selnky.

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Pedvej do CodeBook argument `ctype'.
	(CodeBookField._on_change_hook): Zrueno uvn demolinho
	argumentu `column' metody Codebook.export.

	* lib/pytis/form/list.py (CodeBook.__init__): Nov argument `ctype'.
	Zohleduj validity condition codebooku.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Nov atributy `_strict'
	a `_validity_column'.  Nov argumenty `validity_column' a
	`strict'.
	(_Codebook._export): Zruen argument `column'.  Pidn nestriktn
	export.
	(_Codebook._validate, _Codebook._validate_retrieve)
	(_Codebook._retrieve): Nov argument `strict'.
	(_Codebook.validity_condition): Nov metoda.
	(_Codebook.strict): Nov metoda.

2003-02-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.row): Zruen argument
	`_in_transaction'.
	(DBDataPostgreSQL.update, DBDataPostgreSQL._pg_already_present):
	Zohlednna pedchoz zmna.
	(DBDataPyPgSQL._pypg_get_connection): Nen-li kdispozici dn
	spojen v_pypg_connection, chovej se jako pi
	outside_transaction==TRUE.

	* lib/pytis/form/application.py (Application.add_menu): Nov metoda.
	(add_menu): Nov funkce.
	* lib/pytis/form/screen.py (MenuBar.add_menu): Nov metoda.
	(MenuBar.__init__): Vyuvej ji.
	* lib/pytis/form/output.py (PrintForm._menus): Nov metoda.
	* lib/pytis/form/form.py (Form._add_menus): Nov metoda.
	(Form._init): Volej ji.
	(Form._menus): Nov metoda.
	(LookupForm._find_row.find_row): dek vyhledvej pmo pes
	`row', ne `search'.

2003-02-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form.print_menu): Nov metoda.
	(EditForm._on_field_enable, EditForm._on_field_disable):
	Odstranna zapomenut print.

	* lib/pytis/form/application.py (Application._activate): Nov argument
	`form'.
	(Application.run_form, Application.restore): Zohlednna pedchoz
	zmna.

	* lib/pytis/form/screen.py (Menu.__init__): Nech `items' sm obsahovat
	ifunkce (jen dokumentan zmna).
	(Menu.create): Zohlednna pedchoz zmna.
	(MenuBar.activate, Menu.create): Nov argument `form'.

	* lib/pytis/form/list.py (BrowseForm._on_print_): Nov argument
	`spec_path'.
	(BrowseForm.on_command): Zohlednna pedchoz zmna.

2003-02-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select_aggregate): Opraven
	peklep ve jmnu promnn.
	(DBDataPostgreSQL.select_aggregate): Opraveno urovn typu.  Pi
	chybnm typu sloupce vracej None.

	* lib/pytis/form/search.py (FilterDialog._AGG_OPERATORS): Nov atribut.
	(FilterDialog._create_content): Nov metoda.
	(FilterDialog._on_compute_aggregate): Nov metoda.
	(FilterDialog.__init__): Nov metoda.

	* lib/pytis/form/form.py (LookupForm._filter): Volej _init_select.
	(LookupForm._lf_sf_dialog): Jedn-li se oFilterDialog, pedej mu
	iself._data.

	* lib/pytis/form/list.py (_IncrementalSearch.__init__): Nov atribut
	`_exiting.  Nastavuj KILL_FOCUS callback pro widget.
	(_IncrementalSearch._exit): Nastavuj `_exiting'.
	(_IncrementalSearch._on_kill_focus): Nov metoda.
	(BrowseForm._create_popup_menu): Titulky menu obaleny _().

	* lib/pytis/form/event.py (top_level_exception): Msto zapomenut
	promnn `einfo' do chybovho dialogu pedvej sys.exc_info().
	(top_level_exception): Ukonen aplikace provdj natvrdo pes
	sys.exit.
	(top_level_exception): Opraven odkaz na neexistujc promnnou
	`tb'.

2003-02-14  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (EditForm._on_row_change): Na `None' testuj
	nejen `field', ale i `self._row'.
2003-02-14  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.check_db): Pro voln getpass.getpass
	pesmruj sys.stdout na sys.stderr.

2003-02-14  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.check_db): Pro voln getpass.getpass
	pesmruj sys.stdout na sys.stderr.

2003-02-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._search): Odstrann zapomenut
	print.
	* lib/pytis/form/list.py (_search_adjust_data_position): Odstrann
	zapomenut print.

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_select_aggregate):
	Nov test.
	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select)
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nov
	atribut `_pdbb_command_select_agg'.
	(DBDataPostgreSQL.select_aggregate): Nov metoda.
	(PostgreSQLStandardBindingHandler._pg_select_aggregate): Nov metoda.
	* lib/pytis/data/data.py (Data.AGG_MIN, Data.AGG_MAX, Data.AGG_COUNT)
	(Data.AGG_SUM, Data.AGG_AVG): Nov konstanty.
	(Data.select_aggregate): Nov metoda.
	(Data.search): Doplnno chybjc `self' ped
	UnsupportedOperation.

2003-02-13  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.check_db): Oetuj chybn/neuveden
	heslo.

2003-02-13  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.check_db): Oetuj chybn/neuveden
	heslo.

2003-02-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form._init): Oetuj ResolverError.

	* lib/pytis/form/dialog.py (db_operation): Pi chyb loguj traceback.

	* lib/pytis/form/event.py (top_level_exception): Vyuvej
	`format_traceback'.

	* lib/pytis/util/util.py (format_traceback): Nov funkce.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pidno HLine.
	(LoutFormatter._format_hline): Nov metoda.
	(_INTRO): Pidn parametr @firstPageHeader.  Do @vfill pidna
	rezervace msta pro zamezen nevhodnho umstn zlomu strnku.
	(LoutFormatter.__init__): Nov atribut `_first_page_header'.
	(LoutFormatter._process, LoutFormatter._format_document): Pidna
	podpora pro first-page-header.
	* lib/pytis/output/markup.py (HLine): Nov znaka.
	(Document): Pidn parametr `first_page_header'.

	* lib/pytis/form/output.py (PrintForm._create_controls): Pidno
	tlatko pro tisk.
	(PrintForm._on_print_): Pidn argument `__event'.

	* lib/pytis/form/list.py (_search_skip): _table petej na `new_row'.
	(_search_adjust_data_position): Nedlej vc ne voln
	self._table.rewind.
	(ListForm._ListTable.rewind): Nech `row' je rovno `position', ne
	`position+1'.
	(_IncrementalSearch._search): Pi uren vslednho dku
	zohleduj "rozbh" od pedchozho dku.

2003-02-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm._ListTable.__init__): Inicializuj
	atribut `_current_row'.
	(ListForm._ListTable.rewind): Reset provdj jen kdy `position'
	je None.  Msto `_fetch' pouvej `_retrieve_row'.
	(ListForm._ListTable._fetch): Pesunuto jako lokln funkce do
	_retrieve_row.
	(ListForm._ListTable._retrieve_row): Zohlednna pedchoz zmna.
	Zrueny asserts na pozici ukazovtka datovho objektu, pozice
	pebrna pmo zdatovho objektu.

2003-02-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_recreate_grid): Volej SetSize na self.
	(_IncrementalSearch.__init__, _IncrementalSearch._set_row):
	Opraveny peklepy list -> listform.

2003-02-10  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlTable.db_update.column_changed.normalize):
	Doplnno chybjc return.
	(_GsqlTable.db_update.column_changed): Vtestovn not-null a
	unique zohleduj primrn kle.
	(_GSQL_OPTIONS): Nov volba `no-warn'.
	(_go): Zohlednna.
	(_GsqlConfig.warnings): Nov atribut.
	(_gsql_warning): Nov funkce.
	(_GsqlTable.db_update): Pouvej ji.  Opraveny SQL pkazy pro
	update sloupce.
	(reoutput, db_update): Pouvej _gsql_warning.

2003-02-10  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlTable.db_update.column_changed.normalize):
	Doplnno chybjc return.
	(_GsqlTable.db_update.column_changed): Vtestovn not-null a
	unique zohleduj primrn kle.
	(_GSQL_OPTIONS): Nov volba `no-warn'.
	(_go): Zohlednna.
	(_GsqlConfig.warnings): Nov atribut.
	(_gsql_warning): Nov funkce.
	(_GsqlTable.db_update): Pouvej ji.  Opraveny SQL pkazy pro
	update sloupce.
	(reoutput, db_update): Pouvej _gsql_warning.

2003-02-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_group): Pidna podpora pro
	kompaktn polka.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Nov argument
	compact.
	(FieldSpec.compact): Nov metoda.

2003-02-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (xor): Nov funkce.

	* lib/pytis/form/list.py (ListForm._ListTable._retrieve_row): Pidna
	asserts na pozici vdatovm objektu.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.last_row_number): Nov
	metoda.
	* lib/pytis/data/data.py (Data.__init__): Nov atribut
	`_select_last_row_number'.
	(Data.last_row_number): Nov metoda.
	(Data.select, Data.close): Nastavuj `_select_last_row_number'.
	(MemData.last_row_number): Nov metoda.

2003-02-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Nakonec volej `self.set_focus()'.
	(InputField._on_change): Nech je argument `event' nepovinn.
	(TextField._on_key_down_multiline): Pi stisku klvesy Enter volej
	`self._on_change()'.
	(InputField.is_modified): Kosmetick prava.

	* lib/pytis/data/data.py (Row.__init__): Vce assert na argument
	`data'.

2003-02-07  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction.db_all_names): Nevracej systmov
	handlery.
	(_GsqlSequence.check, _GsqlRaw.check): Zrueno.
	(_GsqlSpec.db_update): Vracej SQL koment oaktulnosti objektu.
	(_GsqlRaw.db_update): Vracej SQL koment onerozhodnutelnosti
	aktulnosti objektu.
	(_GsqlSpec._grant_command, _GsqlSpec._revoke_command): Nov
	(_GsqlSpec._groups, _GsqlSpec._group_list): Nov atributy.
	metody.
	(_GsqlTable.output, _GsqlView.output, _GsqlSequence.output):
	Pouvej je.
	(_GsqlSpec.__init__): Nov argumenty `doc' a `grant', atributy
	`_doc' a `_grant'.  Pidvej skupiny z`grant' do `_group_list'.
	(_GsqlTable.__init__, _GsqlView.__init__, _GsqlFunction.__init__)
	(_GsqlSequence.__init__, _GsqlRaw.__init__): Zrueny argumenty
	`doc', `depends' a `grant'; nov argument `kwargs', pedvan
	konstruktoru pedka.
	(_GsqlTable.__init__): Nech `_inherits' nen nikdy None.
	(_GsqlDefs.check_db): Pidna dal varovn oneprovench
	objektech.
	(_GsqlTable.db_update): Implementovno.
	(_GsqlTable._format_init_values): Nov metoda.
	(_GsqlTable.output): Pouvej ji.
	(_GsqlDefs.check_db): Import libpq pesunut na top-level rove.

2003-02-07  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction.db_all_names): Nevracej systmov
	handlery.
	(_GsqlSequence.check, _GsqlRaw.check): Zrueno.
	(_GsqlSpec.db_update): Vracej SQL koment oaktulnosti objektu.
	(_GsqlRaw.db_update): Vracej SQL koment onerozhodnutelnosti
	aktulnosti objektu.
	(_GsqlSpec._grant_command, _GsqlSpec._revoke_command): Nov
	(_GsqlSpec._groups, _GsqlSpec._group_list): Nov atributy.
	metody.
	(_GsqlTable.output, _GsqlView.output, _GsqlSequence.output):
	Pouvej je.
	(_GsqlSpec.__init__): Nov argumenty `doc' a `grant', atributy
	`_doc' a `_grant'.  Pidvej skupiny z`grant' do `_group_list'.
	(_GsqlTable.__init__, _GsqlView.__init__, _GsqlFunction.__init__)
	(_GsqlSequence.__init__, _GsqlRaw.__init__): Zrueny argumenty
	`doc', `depends' a `grant'; nov argument `kwargs', pedvan
	konstruktoru pedka.
	(_GsqlTable.__init__): Nech `_inherits' nen nikdy None.
	(_GsqlDefs.check_db): Pidna dal varovn oneprovench
	objektech.
	(_GsqlTable.db_update): Implementovno.
	(_GsqlTable._format_init_values): Nov metoda.
	(_GsqlTable.output): Pouvej ji.
	(_GsqlDefs.check_db): Import libpq pesunut na top-level rove.

2003-02-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm._ListTable.rewind): Vdy resetuj
	aktuln ukazovtko a pevi `_data'.
	(_search_adjust_data_position, select_row.set): Volej
	self._table.rewind.
	(_recreate_grid, _create_grid): Zrueno `_last_select_row_count',
	pouvej `_lf_select_count'.
	(ListForm._ListTable.rewind): Resetuj cache.
	(ListForm._ListTable.update): Neresetuj cache.

	* lib/pytis/form/form.py (LookupForm._init_select): Nastavuj
	`_lf_select_count'.  Zohleduj `_lf_filter'.
	(LookupForm._init): Inicializuj `_lf_select_count' na None.
	(LookupForm._find_row.find_row): Nov select zahajuj
	prostednictvm metody `_init_select' a jen tehdy, pokud jet
	dn nebyl zahjen.

2003-02-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.on_command): Nejprve testuj
	`__debug__' a potom teprve `Application.COMMAND_CUSTOM_DEBUG'.

	* lib/pytis/form/form.py (EditForm._create_form): Vytvo vechna polka
	v poad danm `LayoutSpec.order()' a ulo do `self._fields'.
	(EditForm._create_group): Zruen argument `data'.
	(EditForm._create_form_parts, EditForm._create_group): Respektuj
	to.
	(EditForm._create_group): `fields' pejmenovno na `pack'.
	Upraven dokumentan etzec.
	(EditForm._pack_fields): Zruen argument `data'.  Argument fields,
	nech je jen seznamem identifiktor, nikolov specifikac.
	(EditForm._create_group, PopupEditForm._create_form_parts) 
	(ShowForm._create_form_parts): Respektuj to.
	(EditForm._pack_fields): polka zde nevytvej, pouze vybrej ze
	seznamu `self._fields'.

	* lib/pytis/form/spec.py (LayoutSpec.__init__): prava dokumentace.
	Doplnn assert na tdu argumentu `group'.  Pokud nen uren
	argument `order', vytvo poad podle poad ve skupinch.  V
	opanm ppad zkontroluj zda `order' obsahuje sprvn hodnoty.
	(LayoutSpec.order): Upraven dokumentan etzec.
	(ViewSpec.__init__): Doplnny komente.
	(ViewSpec.__init__.recourse_group): Nov funkce.
	(ViewSpec._recourse_group): Zrueno.
	(ViewSpec.__init__): Nekontroluj to, co me bt zkontrolovno v
	konstruktoru `LayoutSpec'.

2003-02-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_form_parts): Velikost fontu
	uri natvrdo, namsto pouit `layout.caption_size()'.
	(EditForm._create_group): prava dokumentace.
	(PopupEditForm._create_form_parts): Velikost fontu
	uri natvrdo, namsto pouit `layout.caption_size()'.

	* lib/pytis/form/spec.py (GroupSpec): Vce dokumentace.
	(LayoutSpec): prava dokumentace.
	(LayoutSpec.__init__): Nov argument `order'.  Zruen argument
	`caption_size'.
	(LayoutSpec.caption_size): Zrueno.
	(LayoutSpec.order): Nov metoda.
	(ViewSpec.__init__): Prochzej skupinu jen, pokud je nataveno
	`__debug__'.  Zkontroluj sprvnost zadn `order' v layoutu.

	* lib/pytis/form/list.py (ListForm.show, ListForm.hide): Opt nahrazeno
	metodou `Show'.  
	(ListForm._ListTable.GetValue): Pokud je `the_row' None,
	nepokouej se volat `format()' a vra rovnou `'.
	(ListForm._recreate_grid): Pidno TODO.

	* lib/pytis/form/application.py (_call_current_window): Zrueno.
	(Application.on_command): Oetuj pkaz
	`Application.COMMAND_REFRESH'.  Obejdi se bez metody
	`_call_current_window()'.
	(Application.on_ui_event): Obejdi se bez metody
	`_call_current_window()'.
	(Application.on_ui_event): Metodu volej na vrchn okno pouze,
	jde-li o instanci 'Form'.

	* lib/pytis/form/command.py (Application.COMMAND_REFRESH): Nov pkaz.
	(Dialog.COMMAND_CLOSE_DIALOG): Doplnn dokumentan etzec.
	(Dialog.COMMAND_COMMIT_DIALOG): Doplnn dokumentan etzec.

2003-02-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.check_presence): Zrueno.
	(_GsqlSpec.db_all_names, _GsqlSpec.db_remove): Nov metody.
	(_GsqlSpec.check): Pejmenovno na `db_update'.  Zruen argument
	`defined'.
	(_GsqlFunction.db_all_names): Nov metoda.
	(_GsqlDefs.check_db.process): Pepracovno.

2003-02-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.check_presence): Zrueno.
	(_GsqlSpec.db_all_names, _GsqlSpec.db_remove): Nov metody.
	(_GsqlSpec.check): Pejmenovno na `db_update'.  Zruen argument
	`defined'.
	(_GsqlFunction.db_all_names): Nov metoda.
	(_GsqlDefs.check_db.process): Pepracovno.

2003-02-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/flibdata.py (data_table): Okraje tabulky nastav na
	UFont(0.2).

	* lib/pytis/output/formatter.py (LoutFormatter._format_long_table):
	Nepidvej pod labels //@smallmargin.  Odsazen oddlovae
	pidvej ivppad absence oddlovac ry, nepouvej pvodn
	tvrd implicitn mezerovn.  Tlouky ar a okraje formtuj pes
	_unit.
	(_INTRO): V@hline a @vline opt neprovdj kontrakci.

	* lib/pytis/form/list.py (BrowseForm._formatter_parameters): Do
	P_CONDITION pidej _lf_initial_condition.

2003-01-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/flibdata.py (data_table): Do LongTable pidno
	`separator_margin' a `line_separator_margin'.  Doplnna chybjc
	hvzdika vpedn `long_table_args'.

	* lib/pytis/output/formatter.py
	(LoutFormatter._format_table.cell_alignment)
	(LoutFormatter._format_image): Hlky TemplateException peloeny
	do etiny.
	(LoutFormatter._unit): Nov metoda.
	(LoutFormatter._format_space, LoutFormatter._format_table)
	(LoutFormatter._format_long_table): Formtuj dlkov jednotky pes
	`_unit'.
	(_INTRO): V@hline, resp. @vline, obal celou konstrukci volnm
	@HContract, resp. @VContract.  V@hgroup, resp. @vgroup, pidvej
	zvrenou ukonovac ru odpovdajcho smru.
	(LoutFormatter._format_group): Nepidvej na konec ukonovac ru
	odpovdajcho smru.
	(LoutFormatter._format_group, LoutFormatter._format_list):
	Opraveno TemplateError na TemplateException.

	* lib/pytis/output/markup.py (Spaces): Pejmenovno na USpace.  Zmnna
	definice vdocstringu na mezislovn mezeru.
	(UFont, UPoint): Nov tdy.
	(Mm): Pejmenovno na UMm.
	(Unit): Do docstringu doplnna informace omonosti pouit.
	(Unit.__nonzero__, Unit.__add__, Unit.__mul__): Nov metody.

2003-01-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (_IncrementalSearch): Argument `list'
	prejmenovan na `listform'.  Atribut `self._list' takt.
	(_IncrementalSearch._exit): `self._list' -> `self._listform'.
	(_IncrementalSearch._search): `self._list' -> `self._listform'.
	(_IncrementalSearch._set_row): `self._list' -> `self._listform'.
	(ListForm.__init__): Nevolej `self.SetFocus()'.
	(ListForm._recreate_grid): Namsto voln `self.SetFocus()'
	ppadn `self.OnKillFocus()' volej jen
	`self._change_selection_colors()'.
	(ListForm._change_selection_colors): Nech je argument `colors'
	nepovinn.
	(ListForm._on_select_cell): Namsto voln `self.SetFocus()' volej
	jen `self._change_selection_colors()'.
	(ListForm.OnSetFocus, ListForm.OnKillFocus): Zrueno.
	(ListForm.SetFocus): Zrueno (pesunuto do metody `focus()').
	(ListForm.Show): Zrueno (nahrazeno metodami `show()' a `hide()').
	(ListForm.show): Nov metoda.
	(ListForm.hide): Nov metoda.
	(ListForm.focus): Peber tak funknost zruen metody
	`SetFocus()'.  Nevolej vak `self._grid.MakeCellVisible()'.
	(ListForm.defocus): Namsto voln `self.OnKillFocus()' volej
	`self._change_selection_colors()'.
	(CodeBook.__init__): Nevyaduj ptomnost `returned_columns' v
	`kwargs'.
	(ListForm.__init__): Pokud nebylo nastaveno `self._select_row',
	volej `self._grid.MakeCellVisible(0, 0)'.

	* lib/pytis/form/application.py (Application.OnInit): Definuj v globln
	klvesov map Klvesovou zkratku pro pkaz
	`Application.COMMAND_CUSTOM_DEBUG'.

	* lib/pytis/form/command.py (Command.__init__): prava logovac hlky.
	Nenastavuj potlaen atribut `key' pkazu
	`Application.COMMAND_CUSTOM_DEBUG'.


	* lib/pytis/form/screen.py (Keymap._define_key): prava hlky assertu.
	(Keymap.define_key): Neloguj.
	(MenuBar.__init__.check_duplicate_keys): Nestuj si na klvesu,
	pokud definuje stejn pkaz.  Loguj vce informac.

	* lib/pytis/form/inputfield.py (InputField._skip_navigation_callback):
	Nov metoda.
	(InputField._init_controls, Invocable._create_widget) 
	(CodeBookField._create_widget): Vyuvej ji.
	(InputField._on_set_focus): Pidno TODO.
	(TextField._on_set_focus): Nov metoda.
	(TextField._on_kill_focus): Nov metoda.

	* lib/pytis/form/form.py (EditForm._navigate): Vykali se na wxWindows
	verzi < 2.3.

2003-01-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_font_family):
	Nastavuj ez fontu, na Base.
	(LoutFormatter._format_table, LoutFormatter._format_long_table):
	Pidna podpora pro Table.Column.ALIGN_CENTER.
	(LoutFormatter._MARK_PROCESSORS): Pidny znaky AlignLeft,
	AlignRight a Nbsp.
	(_INTRO): Nov definice @alignLeft a @alignRight.  Do @lcell a
	@rcell doplnn parametr `header'.  Nov macro "#A0".  @hline a
	@vline maj nov parametry `linewidth' a `margin'.  V@cell msto
	| pouvej ||.
	(LoutFormatter._format_align_left)
	(LoutFormatter._format_align_right): Nov metody.
	(LoutFormatter._format_long_table): Hlaviku necentruj, nbr se
	i parametrem sloupce `label_alignment'.
	(LoutFormatter._format_table): Npodobn.  Rozdleno generovn
	specifikace dk a specifikace hlaviky.
	(LoutFormatter._format_nbsp): Nov metoda.
	(LoutFormatter._format_long_table): Nastavuj sprvnou tlouku
	oddlovacch ar.  Zohleduj margin.  Nevkldej tolik vertiklnch
	mezer.

	* lib/pytis/output/markup.py (FontFamily): Dokumentan zmna: Znaka
	nastavuje zkladn ez fontu.
	(Table.Column.ALIGN_CENTER): Nov konstanta.
	(AlignLeft, AlignRight): Nov znaky.
	(Table.Column.__init__): Nov argument a atribut
	`label_alignemnt'.
	(Nbsp): Nov znaka.
	(LongTable.__init__): Nov argumenty `separator_margin' a
	`line_separator_margin'.
	(LongTable.separator_margin, LongTable.line_separator_margin):
	Nov metody.
	(Unit, Mm, Spaces): Nov tdy.

2003-01-29  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/output/formatter.py (_INTRO): Nastav @lineSkip na 1.10fx.

2003-01-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_long_table):
	Kosmetick prava formtovn zdrojku Lout.
	(_INTRO): Nov makro @lineSkip a definice @font.
	(LoutFormatter._format_font_size)
	(LoutFormatter._format_font_family): Msto @Font pouvej @font.

2003-01-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (Dialog.__init__): Konstruktor pedka volej
	bez argument.
	(GenericDialog._create_dialog_elements): Pro kad tlatko
	oetuj udlosti klves.
	(GenericDialog.on_command): Namsto
	`Application.COMMAND_LEAVE_FORM' oetuj
	`Dialog.COMMAND_CLOSE_DIALOG' a `Dialog.COMMAND_COMMIT_DIALOG'.
	(GenericDialog._close_dialog): Nov metoda.
	(GenericDialog._commit_dialog): Nov metoda.
	(InputDialog._create_content): Namsto pmho nastavovn pomoc
	`wx_callback()' vyuij metodu `KeyHandler._handle_keys()'.
	(InputDialog._on_key_down): Zrueno.
	(InputDialog._commit_dialog): Nov metoda.
	(Login._create_content): Namsto pmho nastavovn pomoc
	`wx_callback()' vyuij metodu `KeyHandler._handle_keys()'.
	(RunFormDialog._CODEBOOK_FORM): Nov konstanta.
	(RunFormDialog.__init__): Pidej `self._CODEBOOK_FORM' do slovnku
	td.
	(RunFormDialog._create_content): Pidej `self._CODEBOOK_FORM' do
	seznamu td.
	(RunFormDialog._create_content): Namsto pmho nastavovn
	pomoc `wx_callback()' vyuij metodu `KeyHandler._handle_keys()'.
	(Calendar._create_content): Oetuj udlosti klves na kalendi.
	(BugReport._create_content): Font vytvej vdy jako novou
	instanci.
	(BugReport.on_command): Zrueno.
	(BugReport._close_dialog): Nov metoda.
	(FileDialog.on_command): Namsto `Application.COMMAND_LEAVE_FORM'
	oetuj `Dialog.COMMAND_CLOSE_DIALOG'.

	* lib/pytis/form/command.py: Nov pkazy `Dialog.COMMAND_CLOSE_DIALOG'
	a `Dialog.COMMAND_COMMIT_DIALOG'.

	* lib/pytis/form/screen.py (KeyHandler.__init__): Ne pouije `self'
	jako vchoz `widget', testuj, zda je potomkem `wx.wxWindow'.
	(KeyHandler._handle_keys): Nov metoda.
	(KeyHandler.__init__): Vyuvej ji.

2003-01-29  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.check): Nov metoda.
	(_GsqlDefs.check_db): Implementovno.
	(_go.extract_option): Pro volby sargumentem zahrnuj i=.
	(_GsqlRaw.check, _GsqlSequence.check): Nov metody.
	(_GsqlSpec.check_presence): Nov metoda.
	(_GsqlSpec._SQL_NAME, _GsqlSpec._PGSQL_TYPE): Nov konstanty.
	(_GsqlTable._SQL_NAME, _GsqlTable._PGSQL_TYPE) 
	(_GsqlView._SQL_NAME, _GsqlView._PGSQL_TYPE) 
	(_GsqlFunction._SQL_NAME, _GsqlSequence._SQL_NAME) 
	(_GsqlSequence._PGSQL_TYPE): Nov konstanty.

2003-01-29  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.check): Nov metoda.
	(_GsqlDefs.check_db): Implementovno.
	(_go.extract_option): Pro volby sargumentem zahrnuj i=.
	(_GsqlRaw.check, _GsqlSequence.check): Nov metody.
	(_GsqlSpec.check_presence): Nov metoda.
	(_GsqlSpec._SQL_NAME, _GsqlSpec._PGSQL_TYPE): Nov konstanty.
	(_GsqlTable._SQL_NAME, _GsqlTable._PGSQL_TYPE) 
	(_GsqlView._SQL_NAME, _GsqlView._PGSQL_TYPE) 
	(_GsqlFunction._SQL_NAME, _GsqlSequence._SQL_NAME) 
	(_GsqlSequence._PGSQL_TYPE): Nov konstanty.

2003-01-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Operator.logical): Pidno OR.

	* lib/pytis/form/search.py (SFDialog._run_dialog): Nevolej na dialog
	Destroy.
	(SFDialog._run_dialog): Zrueno.
	(SFDialog._finish_dialog): Nov metoda.
	(SFDialog._create_content.condition): Na zatku zru obsah
	_selectors a _logical_selectors.

	* lib/pytis/form/dialog.py (GenericDialog._run_dialog): Nevolej na
	dialog Destroy.
	(GenericDialog.run): Volej na dialog Destroy.
	(GenericDialog._finish_dialog): Nov metoda.
	(GenericDialog._on_button): Volej ji.

	* lib/pytis/form/form.py (LookupForm._lf_translated_sorting): Vracej
	tuple.

	* lib/pytis/output/formatter.py (LoutFormatter._format_long_table):
	Mezera mezi dky snena z1vx na 0.2vx.

	* lib/pytis/form/list.py (BrowseForm._formatter_parameters): Odstranny
	zvorky za _lf_condition.  Msto _lf_sorting pedvej
	transformovan _lf_sorting.
	(FilteredBrowseForm._init_filter): Nov metoda.
	(FilteredBrowseForm.__init__): Volej ji.
	(SideBrowseForm._init_filter): Nov metoda.

2003-01-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MItem.hotkey): Upesnn dokumentanho etzce.
	(MItem.__init__): Zruen veker kd obstarvajc pidn popisu
	hork klvesy do nzvy poloku menu.
	(Menu.create): Pipoj popis klvesov zkratky k nzvm poloek.

	* lib/pytis/form/list.py (ListForm._ListTable._panic): Namsto podivnho
	`self._frame._on_leave_form()' volej funkci `leave_form()'.
	(ListForm._create_grid, ListForm._recreate_grid): Nevolej
	`self._parent._on_leave_form()'.
	(ListForm.on_command): Nakonec jet volej metodu pedka.
	(CodeBook.__init__): Argumenty pedvej jako `*args' a `**kwargs'.
	Klov arkument `returned_columns' zpracuj sm.
	(CodeBook.on_command): Namsto `self._on_leave_form()' volej
	`self._leave_form()'.
	(SideBrowseForm.__init__): Klov argumenty pedvej pomoc
	`**kwargs'.

	* lib/pytis/form/form.py (Form.__init__): `EVT_CLOSE' oetuj pro
	`self._parent', ne pro `parent' (me bt zmnn).
	(Form._on_leave_form): Zrueno.
	(PopupForm._on_leave_form): Zrueno.
	(PopupForm._leave_form): Nov metoda.
	(EditForm._pack_fields): Neoetuj callback `CALL_LEAVE_FIELD'
	polka.
	(EditForm._on_commit_form): Pejmenovno na `_commit_form'.
	Zruen argument `event'.
	(EditForm.on_command): Namsto `_on_commit_form' volej `_commit_form'.
	(PopupEditForm._on_submit): Nov metoda.
	(PopupEditForm._create_buttons): Vyuvej ji.
	(PopupEditForm._on_cancel): Nov metoda.
	(PopupEditForm._create_buttons): Vyuvej ji.

	* lib/pytis/form/application.py (leave_form): Opraven dokumentan
	etzec.
	(Application.run_form): Popup formulm nastavuj klov argument
	`guardian' na vrchn modln formul, nebo sebe sama, nen-li
	takov.

	* lib/pytis/form/event.py (wx_callback.process_event): Neloguj DEBUG
	hlku, pokud jde o `wx.wxIdleEvent' nebo `wx.wxUpdateUIEvent'.

	* lib/pytis/form/inputfield.py (_init_controls): `self._key_guardian'
	nenastavuj na `None'.

2003-01-28  Pavel Hanak  <hanak@brailcom.cz>

	* config/config_ebas.py: Nvrat k pedchoz verzi pepsan omylem.

	* lib/pytis/form/list.py (SideBrowseForm.__init__): V konstruktoru
	nevolej self.filter({}).

2003-01-28  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GSQL_OPTIONS): Nov volby `host', `user',
	`password', 'create', `recreate'.
	(_GsqlConfig): Nov tda.
	(_go): Oetuj vechny nov volby, vetn --check-db a --fix-db.
	(_GsqlDefs.check_db, _GsqlDefs.fix_db, _GsqlDefs.regensql): Nov
	metody.
	(_GsqlDefs._process_resolved): Nov metoda.
	(_GsqlDefs.gensql): Vyuvej ji.
	(_GsqlSpec.reoutput, _GsqlTable.reoutput, _GsqlView.reoutput)
	(_GsqlFunction.reoutput, _GsqlRaw.reoutput): Nov metoda.
	(_GsqlTable.output): Nov argument `_re'.

2003-01-28  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GSQL_OPTIONS): Nov volby `host', `user',
	`password', 'create', `recreate'.
	(_GsqlConfig): Nov tda.
	(_go): Oetuj vechny nov volby, vetn --check-db a --fix-db.
	(_GsqlDefs.check_db, _GsqlDefs.fix_db, _GsqlDefs.regensql): Nov
	metody.
	(_GsqlDefs._process_resolved): Nov metoda.
	(_GsqlDefs.gensql): Vyuvej ji.
	(_GsqlSpec.reoutput, _GsqlTable.reoutput, _GsqlView.reoutput)
	(_GsqlFunction.reoutput, _GsqlRaw.reoutput): Nov metoda.
	(_GsqlTable.output): Nov argument `_re'.

2003-01-27  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (RecordForm._set_row): Je-li argument `row'
	None, nevracej None ale inicializuj nov prow.
	
2003-01-27  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (_on_sort_column): Zohleduj sprvn hodnotu
	parametr `direction' a `col'.

	* lib/pytis/form/form.py (LookupForm._on_sort_column): Pro direction
	`SORTING_CYCLE_DIRECTION' nastav sprvnou hodnotu azen.

2003-01-27  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction.__init__): Nov argument
	`use_functions'.
	(_GsqlFunction._format_body): Generuj zdrojov texty ipro
	`_use_functions'.
	(_GsqlView.output): Msto pes UNION spojuj zznamy pes UNION
	ALL.
	(_GsqlView.__init__): Vdocstringu `join' definovno ipro
	sjednocen tabulek.
	(_GsqlView.output): Zohlednna pedchoz zmna.
	(_GsqlView._format_complex_columns): Pepsno.
	(_GsqlView._format_rule): sten podpora sjednocen tabulek --
	generovn pro prvn tabulku.

2003-01-27  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction.__init__): Nov argument
	`use_functions'.
	(_GsqlFunction._format_body): Generuj zdrojov texty ipro
	`_use_functions'.
	(_GsqlView.output): Msto pes UNION spojuj zznamy pes UNION
	ALL.
	(_GsqlView.__init__): Vdocstringu `join' definovno ipro
	sjednocen tabulek.
	(_GsqlView.output): Zohlednna pedchoz zmna.
	(_GsqlView._format_complex_columns): Pepsno.
	(_GsqlView._format_rule): sten podpora sjednocen tabulek --
	generovn pro prvn tabulku.

2003-01-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Value._VOID): Nov konstanta.
	(Value._init): `_exported' inicializuj na _VOID.
	(Value.export): Nech neinicializovanou hodnotou `_exported' je
	_VOID.

	* lib/pytis/util/util.py (safedel): Nov funkce.
	* lib/pytis/util/_test.py (IsSequence): Pejmenovno na `MiscFunctions'.
	(MiscFunctions.check_it): Pejmenovno na `check_is_sequence'.
	(MiscFunctions.check_safedel): Nov test.

	* lib/pytis/form/dualform.py (DualForm._create_main_form): Nov argument
	`**kwargs'.
	(DualForm.__init__): Zohlednna pedchoz zmna.
	(BrowseDualForm._create_main_form._MainBrowseForm) 
	(ShowDualForm._create_main_form) 
	(DescriptiveDualForm._create_main_form): 

	* lib/pytis/form/form.py (LookupForm._find_row): Opraveno chybn
	testovn kle na None.

2003-01-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_search_skip): Pi zptnm hledn zm
	znamnko vsledku.
	(BrowseForm._run_form): Nov metoda.
	(BrowseForm.__init__): Nastavuj ji pro callbacky.

	* lib/pytis/util/util.py (ecase): Nov funkce.
	* lib/pytis/util/_test.py (FindUtils.check_ecase): Nov test.

	* lib/pytis/form/screen.py (KeyHandler.on_key_down): Je-li klvesa pouze
	modifiktorem, ignoruj ji.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Pidna
	podpora pro opertor OR jako primitivn opertor.
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	Pi pidn implicitnho tdn zohledni smr vyhledvn.

	* lib/pytis/data/data.py (AND): Nepouvej `apply'.
	(OR): Vytvej instanci Operator.
	(Operator.__init__): Nov argument `translation'.
	(Operator.translation): Nov metoda.

	* lib/pytis/form/search.py (SFDialog._create_content.condition): `c'
	pejmenovno na `sizer'.

	* lib/pytis/form/form.py (EditForm.on_command): Neoetuj
	Application.COMMAND_LEAVE_FORM.  Volej metodu pedka.
	(LookupForm._search_skip): Kluj argument metody `skip'.
	(LookupForm._search): Nem znamnko vsledku.
	(LookupForm._on_sort_column): Doplnn chybjc argument `sorting'
	konstruktoru SortingDialog.
	(LookupForm._on_sort_column): Nech zobrazen dek po zmn
	tdn je vyhledn.
	(LookupForm._lf_translated_sorting): Nov metoda.
	(LookupForm._init_select, LookupForm._find_row.find_row): Vyuvej
	ji.
	(LookupForm._find_row): Je-li `key' None, vra None.
	(RecordForm._set_row): Npodobn.

2003-01-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._focused_field)
	(InputField._last_focused_field): Nov atributy.
	(InputField.__init__): Zrueny atributy `self._has_focus' a
	`self._last_validation_error'.
	(InputField._class_name, InputField.__str__): Nov metody.
	(InputField._init_controls): Pokud je polko needitovateln,
	oetuj wx udlost `EVT_NAVIGATION_KEY' volnm callbacku
	`CALL_SKIP_NAVIGATION'.
	(InputField._on_idle): Namsto `self._type.validate()' vyuvej
	`self.validate()'.  Namsto atributu `self._has_focus' vyuvej
	metodu `self.has_focus()'.  Zruena st obstarvajc
	`self._last_validation_error'.
	(InputField._on_set_focus): Provdj zde validaci poslednho
	polka a v ppad chyby se do nj vra.  Volej
	`InputField._focus(self)' namsto nastavovn `self._has_focus'.
	(InputField._on_kill_focus): Neprovdj zde validaci polka.
	Volej `InputField._defocus(self)'.
	(InputField.has_focus): Doplnn dokumentan etzec.  Vyuvej
	`InputField.focused()'.
	(InputField.validate): Nov argumenty `quiet' a `interactive'.
	Volej `self._validation_error_handler()' zde.
	(InputField._alive): Nov metoda.
	(InputField._defocus, InputField._focus)
	(InputField._last_focused, InputField.focused): Nov metody tdy.
	(MultiTextField._on_kill_focus): Zrueno.
	(CodeBookField._DISPLAY_COLOR): Nov konstanta.
	(CodeBookField._create_widget): Vyuvej ji.
	(CodeBookField._on_change_hook): Namsto `self._type.validate()'
	vyuvej `self.validate()'.
	(CodeBookField._validation_error_handler): Pokud nen ve
	specifikaci selnku nastaveno `insert_unknown_values', Nedlej
	nic a vra `FALSE'.  Pokud byl formul pro doplnn nov hodnoty
	oputn bez uloen, vracej tak `FALSE'.

	* lib/pytis/form/screen.py (Keymap.keys): Nov metoda.
	(KeyHandler._prefix_key_sequence): Nov atribut.
	(KeyHandler.on_key_down): Zapamatovvej si stisknut prefixov
	klvesy.  Zobrazuj zprvu o stisknut prefixov sekvenci a monch
	klvesch.
	(MItem.__init__): Zrueny veker triky kolem nastavovn horkch
	klves jako sousti titulku.
	(Menu.create): Zapamatuj si ku titulku vech poloek
	vytvenho menu a nakonec u kad poloku, kter m horkou
	klvesu, dopl titulek mezerami a horkou klvesou tak, aby byly
	hork klvesy zarovnny pod sebe (s pesnost na ku jedn mezery).

	* lib/pytis/form/list.py (CodeBook._on_activation): Zruen argument
	`key'.  Ten zjiuj pomoc `self._current_key()'.
	(_InputFieldCellEditor.EndEdit): Namsto `field.type().validate()'
	vyuvej `field.validate()'.

	* lib/pytis/presentation/field.py (CodeBookSpec.__init__): Nov argument
	`insert_unknown_values'.
	(CodeBookSpec.insert_unknown_values): Nov metoda.

2003-01-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_create_recreate_grid): Nov metoda.
	(_create_grid, _recreate_grid): Volej ji.
	(_TITLE_FOREGROUND_COLOR): Nov konstanta.
	(FilteredBrowseForm.filter): Urenou podmnku pia do
	_lf_initial_condition a do `refresh' pedej jako `condition' None.

	* lib/pytis/form/dualform.py (DescriptiveDualForm._create_main_form):
	List -> ListForm.
	(SideBrowseDualForm._create_side_form, SideBrowseDualForm.close) 
	(BrowseDualForm._create_main_form, BrowseDualForm._on_new_record) 
	(ShowDualForm.__init__): List -> ListForm.

	* lib/pytis/form/form.py (LookupForm.Close): Nov metoda.
	(LookupForm._on_sort_column): List -> LookupForm.
	(BrowsableShowForm.on_ui_event): List -> ListForm.
	(LookupForm._init_select.trans): Pevdj formulovou specifikaci
	tdn na datovou.
	(LookupForm._on_select_filter): Pejmenovno na `_on_filter'.
	(LookupForm.on_command): Zohlednna pedchoz zmna.
	(LookupForm._filter): Nov metoda.
	(LookupForm._on_filter): Pouvej ji.  Nov argumenty `row' a
	`col'.
	(LookupForm._init_select): Zohleduj _lf_initial_condition.

	* lib/pytis/form/screen.py (KeyHandler.on_key_down): Ped event.Skip
	zkus jet volat porunka.

2003-01-23  Petr Malivanek  <malivanek@akont.cz>

	* scripts/SosejGeminy.py (): Narhazen "= ''" za "= NULL" nebo v
	podmince where "is NULL". 

2003-01-23  Petr Malivanek  <malivanek@akont.cz>

	* scripts/SosejGeminy.py (): Narhazen "= ''" za "= NULL" nebo v
	podmince where "is NULL". 

2003-01-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form._init): Nov metoda.
	(Form.__init__): Pouvej ji.  Argumenty nahrazeny obecnou
	specifikac argument *args, **kwargs.
	(RecordForm.__init__, LookupForm.__init__): Pejmenovno na
	`_init'.  Metodu pedka volej pednostn.
	(LookupForm._default_sorting, LookupForm._default_grouping): Nov
	metody.
	(LookupForm._init): Pouvej je.  Nech `grouping' a `sorting'
	jsou vytahovny z`kwargs'.
	(LookupForm._search, LookupForm._search_adjust_data_position) 
	(LookupForm._search_skip): Nov metody.
	(LookupForm._on_search): Vyuvej metodu `_search'.
	(LookupForm.SORTING_CYCLE_DIRECTION, LookupForm.SORTING_NONE):
	Nov konstanty, pesunuty zlib.form.List.
	(LookupForm._on_sort_column): Pepracovno.
	(LookupForm.on_command): Opraveno chybn `super_'.
	(LookupForm.condition, LookupForm.sorting): Nov metody, pesunut
	zlib.form.List.

	* lib/pytis/form/command.py: Zrueny aliasy pro pkazy do List.
	Pkazy zList pevedeny do ListForm.

	* lib/pytis/form/list.py (List): Zrueno, vlenno do ListForm.
	(ListForm): Bu potomkem LookupForm, KeyHandler a CallbackHandler.
	Patin peorganizovno a upraveno, isohledem na vlenn List.
	(ListForm._ListTable._EditedRow.__init__) 
	(ListForm._ListTable.GetAttr): List -> ListForm.
	(BrowseForm.__init__, BrowseForm._formatter_parameters):
	Odstranny odkazy na `_list'.

2003-01-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (LookupForm.__init__): Nov atributy
	`_lf_initial_sorting', `_lf_initial_condition',
	`_lf_initial_grouping', `_lf_search_dialog', `_lf_filter_dialog',
	`_lf_filter'.
	(BrowsableShowForm.__init__): Zrueno.
	(RecordForm.prefill, RecordForm.set_prefill): Nov metody,
	pesunut zlib.form.List.
	(RecordForm.__init__, LookupForm.__init__): Konstruktor pedka
	volej a po vlastnch inicializacch.
	(EditForm.__init__): Npodobn.
	(LookupForm._find_row.find_row): _lf_select_* -> _lf_*.
	(BrowsableShowForm.on_command): _lf_count -> _lf_select_count.

2003-01-22  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List._on_label_left): Msto
	`Form.COMMAND_SORT_COLUMN' volej `LookupForm.COMMAND_SORT_COLUMN'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_application_name.default): Konfiguran
	volba vrcena.

2003-01-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Pokud je ji
	oteveno modln okno, nech je rodiem.  Je-li otevrno
	nemodln okno, ujisti se, e nen oteveno dn modln okno.

2003-01-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Klov argument
	`guardian' konstruktoru formule pedvej jen nen-li tda
	podtdou `PopupForm'.

	* lib/pytis/form/list.py (CodeBook.on_command): Oetuj
	`Application.COMMAND_LEAVE_FORM' volnm `self._on_leave_form()'
	namsto pmho uzavrn okna.

	* lib/pytis/form/form.py (EditForm._validate): Pokud sele validace,
	nastav nevalidnmu polku focus.

2003-01-21  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (BrowsableShowForm.on_ui_event): Msto
	`self._search_dialog' testuj `self._lf_search_dialog'.

2003-01-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_label_right, List.on_command):
	Zohlednno peveden pkaz zForm do LookupForm (jako doasn
	een).

	* lib/pytis/form/command.py: Pkazy pro vyhledvn a filtrovn
	pevedeny do tdy LookupForm.

	* lib/pytis/form/form.py (RecordRow, LookupForm): Nov tdy.
	(EditForm): Msto Form bu potomkem LookupForm.
	(BrowsableShowForm._sfs_columns, BrowsableShowForm._sf_dialog)
	(BrowsableShowForm._on_search)
	(BrowsableShowForm._on_select_filter)
	(BrowsableShowForm._on_sort_column): Zrueno.
	(BrowsableShowForm.on_command): Vyputny pkazy peveden do
	LookupForm.

2003-01-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Vytvej `wxPanel'
	a zapamatuj si jej jako `self._panel'.  Nakonec mu pedej focus.
	(Application.restore): Pokud nezbyl dn oteven formul,
	nastav focus na `self._panel'.
	(Application.__init__): Voln `KeyHandler.__init__()' pedvej
	`self._panel' jako argument `widgets'.
	(Application.set_status): Nov argument `root'.
	(message): Nov argument `root'.
	(Application.run_form): `message()' volej s argumentem
	`root=TRUE'.  Konstruktoru formule pedvej `self' jako klov
	argument 'guardian'.
	
	* lib/pytis/form/dualform.py (DualForm.__init__): Argumenty pedvej
	jako `*args' a `**kwargs'.

	* lib/pytis/form/form.py (EditForm.exit_check): Zruen odporn hack se
	sleepem.
	(Form.close): Nov metoda.

2003-01-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._on_label_right): Volej callback
	`CALL_USER_INTERACTION'.
	(List._on_select_cell): Volej callback `CALL_USER_INTERACTION'.

2003-01-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Boolean._validate): Nov metoda.

	* lib/pytis/form/search.py (SFDialog._selected_condition): Uboolean
	polek provdj nestriktn validaci.
	(SFDialog._on_suck): Je-li exportovan hodnota tuple, pouij jeho
	prvn prvek.

	* lib/pytis/form/application.py (wx_yield_): Nov funkce.
	(Application.run_form): Oznamuj spoutn formule ve stavovm
	dku.

	* lib/pytis/form/event.py (interrupt_watcher.watcher): Pouvej
	wx_yield_ msto pmho voln wx funkce.  * lib/pytis/form/dialog.py
	(GenericDialog._on_set_focus): Npodobn.

2003-01-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/xtypes.py (_Codebook.__init__): `id' pejmenovno na
	`id_'.
	(_Codebook.__new__): Pejmenovno na `_make'.

	* lib/pytis/data/types_.py (_MType): Nov tda.
	(Type.make): Msto __new__ volej `_make'.
	(Type._make): Pidn assert na neprzdn vsledek.  Zmnno na
	staticmethod.
	(Type.__new__): Zrueno.	
	(Type.__init__): Volej metodu pedka.
	(Type.__metaclass__, MutableType.__metaclass): Nastaveno na _MType.
	(Type._TypeTable.get_instance): Msto object.__new__ volej
	class_.__new__.  Pidn assert na vsledek __new__.

2003-01-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py: prava dokumentanho etzce.

	* lib/pytis/form/application.py (Application.run_form): Pokud je
	otevran formul nalezen na zsobnku oken, nevytvej jej, ale
	pouze vyzvedni existujc.
	(Application.run_form): Pidno TODO.

	* lib/pytis/form/form.py (Form.name): Nov metoda.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nov argument
	`enable_inline_insert'.
	(ViewSpec.enable_inline_insert): Nov metoda.

	* lib/pytis/form/list.py (List.__init__): Nov argument
	`enable_inline_insert'.
	(List._on_insert_line): prava dokumentanho etzce.  Pokud nen
	 nastaveno `self._enable_inline_insert', nepovol vloen a zobraz
	 zprvu.  Nevracej `wx.TRUE' ale `TRUE'.
	 (ListForm._create_list): Konstruktoru tdy `List' pedvej
	 argument `enable_inline_insert'.

2003-01-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (BrowseDualForm): Bu potomkem `Refreshable'.
	(BrowseDualForm.refresh): Nov metoda.
	(ShowDualForm): Bu potomkem `Refreshable'.
	(ShowDualForm.refresh): Nov metoda.
	(DescriptiveDualForm): Bu potomkem `Refreshable'.
	(DescriptiveDualForm.refresh): Nov metoda.

2003-01-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (set_clipboard_text): Volej
	`clipboard.UsePrimarySelection(wx.TRUE)'.

2003-01-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.__init__): Konstruktor pedka
	volej jen jednou.
	(List._ListTable.close): Nuluj vznamn data instance.
	(_CellEditor): Zrueno.
	(_InputFieldCellEditor.field)
	(_InputFieldCellEditor.IsAcceptedKey): Pesunuto z_CellEditor.
	(List.Close): Osirotuj grid.
	(List._recreate_grid): Msto vytven novho gridu pouze uprav
	velikost gridu a vynu jeho pekreslen.  Vrazn pepracovno.
	(List._ListTable.update): Nov metoda.

	* ebas (go): Msto gc.DEBUG_LEAK nastavuj odpovdajc flagy bez
	gc.DEBUG_SAVEALL.
	* ebas-server (go): Npodobn.

2003-01-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._create_grid.registration): Nepedvej
	self jako klov argument.
	(List._on_line_rollback): Na konci volej `refresh()' nepodmnn.
	(List.Close): Volej tak `wx.wxPanel.Close()'.

	* lib/pytis/form/application.py (Application._add_window_menu_item):
	Vytven instanci `MItem' nastavuj argument `help'.
	(Application.set_status): Namsto odchytvn vjimek zkoumej
	nvratov hodnoty.  Namsto `message()' na vrchn modln okno
	volej `Form.set_status()', jde-li o instanci `Form'.

	* lib/pytis/form/screen.py (MItem.__init__): Argument `helpstring'
	pejmenovm na `help'.
	(MItem.create): Namsto metody `helpstring()' pouvej atribut `_help'.
	(MItem.helpstring): Metoda zruena.
	(StatusBar.message): Pokud pole danho id neexistuje, vracej
	`FALSE' namsto vyvoln vjimky.  V ppad spchu vracej `TRUE'.

	* lib/pytis/form/form.py (TitledForm._create_caption): Vdy vytvej
	novou instanci fontu (je-li `size' None, pouze d velikost).
	(Form.set_status): Nov metoda.
	(PopupEditForm.message): Zrueno.
	(PopupEditForm.set_status): Nov metoda.

2003-01-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (Tmpdir._cleanup): Nov metoda.
	(Tmpdir.__del__): Kd pesunut do _cleanup a volno.

	* lib/pytis/form/output.py (PrintForm._show_page): Je-li strnka mimo
	rozsah, ppni.
	(PrintForm.close): Nov metoda.
	(PostscriptViewer._init_gs): Nov metoda.
	(PostscriptViewer.__init__): Pouvej ji.
	(PostscriptViewer.restart): Nov metoda.
	(PostscriptViewer.show_page): Pro zobrazovn strnek kombinuj
	star a nov Ghostscript.
	(PrintForm.__init__): Nov atributy `_number_of_runs' a
	`_formatter_running'.
	(PrintForm._run_formatter): Nastavuj je.
	(PrintForm._start_postscript_viewer): Nov argument `new'.
	(PrintForm._on_idle): Restartuj formtova, je-li nutno.

	* lib/pytis/output/formatter.py (LoutFormatter.__init__): Msto
	_formatted_document_lock zavedeno _lout_run_lock.
	(LoutFormatter._lout): Zohlednna pedchoz zmna.
	(LoutFormatter.close): Nov metoda.

2003-01-10  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/application.py (Application.OnInit): Vytvej prvky
	v poad 'statusbar', 'windows', 'modals', 'menus'.	

2003-01-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/markup.py (VSpace.__init__, HSpace.__init__): Nech
	argument `height', resp. `width' sm bt t None.

	* lib/pytis/output/formatter.py (_INTRO): Zrueny nadbyten definice
	@pageHeaderInt a @pageFooterInt.
	(_INTRO): Opraveno generovn sel strnek.  Nov makra @vfill a
	@hfill.
	(LoutFormatter._format_space): Pidna podpora pro velikost None.

2003-01-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (set_clipboard_text): Nov funkce.

	* lib/pytis/form/list.py (List._create_edit_popup_menu): Nov poloka
	pro pkaz `List.COMMAND_COPY_CELL'.
	(List.on_command): Oetuj pkaz `List.COMMAND_COPY_CELL' volnm
	`self._on_copy_cell'.
	(List._on_copy_cell): Nov metoda.
	(BrowseForm._popup_menu): Nov poloka
	pro pkaz `List.COMMAND_COPY_CELL'.

	* lib/pytis/form/command.py: Nov pkaz `List.COMMAND_COPY_CELL'.

2003-01-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/flibutil.py (f_table): Nov argument `kwargs'.

	* lib/pytis/output/markup.py (Table.__init__): Nov argument `vmargin'.
	(Table.vmargin): Nov metoda.
	(LongTable.__init__): Nov argumenty `row_generator_init' a
	`line_separator_height'.
	(LongTable.row_generator_init, LongTable.line_separator_height):
	Nov metody.

	* lib/pytis/output/formatter.py (LoutFormatter._format_long_table): Na
	buky tabulky volej `_format', ne `_format_text'.
	(LoutFormatter._format_table): Zohledni parametr `vmargin'.
	(LoutFormatter._format_long_table): Zohlednny parametry
	`row_generator_init' a `line_separator_height'.  Opraveno
	zjiovn velikosti separtoru zhlav.

2003-01-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (SideBrowseForm.__init__): Nov argument `title'.
	(SideBrowseForm.title): Nov metoda.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Pedvej konstruktoru SideBrowseForm argument `title'.
	(BrowseDualForm._create_main_form._MainBrowseForm): Nov odvozen tda.
	(BrowseDualForm._create_main_form): Pouvej ji.

	* lib/pytis/form/spec.py (DualSpec.__init__): Nov argumenty `title' a
	`side_title'.
	(DualSpec.__init__): Nov argumenty `title' a `side_title'.
	(DualSpec.title, DualSpec.title): Nov metody.

	* lib/pytis/form/form.py (ShowForm._finish_top_level_sizer):
	Zakomentovno a pidno TODO.

	* lib/pytis/form/application.py (Application.UI_OPENED_WINDOW)
	(Application.UI_OPENED_MORE_WINDOWS): Nov UI konstanty.
	(Application.__init__): Nevytvej klvesovou mapu zde.  Metod
	`KeyHandler.__init__()' pedvej `self._frame' jako argument
	`widgets'.
	(Application.OnInit): Vytvej klvesovou mapu zde.
	(Application.OnInit): Do menu oken pidny poloky pro pkazy
	`Application.COMMAND_NEXT_FORM', `Application.COMMAND_PREV_FORM' a
	`Application.COMMAND_LEAVE_FORM'.
	(Application._add_window_menu_item)
	(Application._remove_window_menu_item): Pokud je `menu' None,
	nedlej nic.
	(Application._raise_form): Pokud je `form' None, nedlej nic.
	(Application.on_command): Zpracuj pkazy
	`Application.COMMAND_NEXT_FORM' a `Application.COMMAND_PREV_FORM'.
	(Application.on_ui_event): Zpracuj testy
	`Application.UI_OPENED_WINDOW' a
	`Application.UI_OPENED_MORE_WINDOWS'.
	(Application._on_frame_size): `top.resize()' volej bez argument.
	(Application.__init__): Metod `KeyHandler.__init__()' nepedvej
	`self._frame' jako argument `widgets'.

	* lib/pytis/form/command.py: Pidn Copyright 2003
	(Application.COMMAND_RUN_FORM, Application.COMMAND_LEAVE_FORM)
	(Application.COMMAND_RAISE_FORM): prava dokumentanho etzce.
	(Application.COMMAND_PREV_FORM, Application.COMMAND_NEXT_FORM):
	Nov pkazy.

	* lib/pytis/form/screen.py (WxKey.__init__): Do pekladov tabulky
	pidny klvesy 'Up', 'Down', 'Left' a 'Right'.
	(Keymap._define_key): Pidn assert s vysvtlujc hlkou.
	(Keymap.define_key): Doplnn dokumentan etzec.
	(Keymap.lookup_command): Nov metoda.
	(KeyHandler.__init__): Atribut `keymap' nenastavuj, pokud ji
	existuje.
	(MItem.__init__): Pokud m pkaz poloky menu definovnu
	klvesovou zkratku v globln klvesov map, pevezmi tuto
	klvesu.  Pokud m poloka definovnu vlastn klvesovou zkratku,
	definuj ji tak v globln klvesov map.

2003-01-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (DateTime.now): Nov metoda.

	* lib/pytis/util/configuration.py (Configuration.Option): Bu potomkem
	`object'.
	(Configuration._FileOption): Nov tda.
	(Configuration._Option_def_dir, Configuration._Option_icon_dir):
	Bu potomkem _FileOption.

	* lib/pytis/output/formatter.py (_INTRO): Definice @pageNumber a
	@numberOfPages vytaeny z@document na top-level.  V@document
	zruen prav argument a nov argumenty @pageHeader a @pageFooter.
	(LoutFormatter._format_document): Zohledni nov argumenty ablony
	`page_header' a `page_footer'.
	(LoutFormatter._format_table): Opravena Lout specifikace
	zarovnvn bunk.

	* ebas (go): Pi zapnutm debugovn pamti na konci vypi pending
	data.
	* ebas-server (go): Npodobn.

	* lib/pytis/output/markup.py (Document.KWARGS): Pidny argumenty
	`page_header' a `page_footer'.

2003-01-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/_test.py (XStack.check_it): Testuj shodu opertorem
	`is', ne ekvivalenci.  Testuj metody `next' a `prev' tak na
	przdnch a jednoprvkovch seznamech.

	* lib/pytis/util/util.py (XStack.pop, XStack.remove): Testuj zda byl
	vyazovan prvek suten aktivnm prvkem, ne ptomnost aktivnho
	prvku v seznamu po jeho vyazen.
	(XStack.items): Upesnn dokumentan etzec.
	(XStack.active): Pidn assert.
	(XStack.next): Pokud seznam obsahuje mn ne dva prvky, vracej
	None.  Upesnn dokumentan etzec.

2003-01-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/output.py (PrintForm.ACTIVATIONS): Pidej i
	`Window.ACTIVATIONS'.

2003-01-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (_Ghostscript): Bu potomkem Tmpdir.
	(_Ghostscript.__init__): Volej konstruktor pedka.
	(_Ghostscript.__del__): Msto runho maznho soubor a adrese
	volej metodu pedka.

	* lib/pytis/util/util.py (Tmpdir): Nov tda.
	(Popen.__init__): Nov argument `directory'.

	* lib/pytis/output/flibdata.py (data_table): Opraveno pedvn
	specifikac sloupc do PresentedRow a LongTable.

	* lib/pytis/output/formatter.py (_INTRO): Pepracovno, nemlo by nyn
	zhazovat Lout na vtch dokumentech a vyrat pam.
	(LoutFormatter._format_document): Upraveno pro novou definici
	dokumentu.
	(LoutFormatter): Bu potomkem Tmpdir.
	(LoutFormatter.__init__): Volej konstruktor pedka.
	(LoutFormatter._lout): Volej Popen sargumentem `directory'.

2003-01-06  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/util/util.py (XStack.prev): Oeten ppad, kdy
	self._list[-1], vrac prv aktivn okno.

2003-01-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/_test.py (XStack.check_it): Testuj nov metody.

	* lib/pytis/util/util.py (XStack.next): Nov metoda.
	(XStack.prev): Nov metoda.
	(XStack.pop): Nov metoda.
	(XStack.remove): Pi odebrn aktivnho prvku aktivuj
	pedchzejc prvek.

	* lib/pytis/form/form.py (Form.restore): Nevolej `show()' a `resize()'.

	* lib/pytis/form/application.py (Application.activate): Zrueno.
	(Application._activate): Nov metoda.
	(Application.save, Application.restore): Nov metody.
	(Application._raise_form): Vyuvej je.
	(Application.run_form): Vyuvej `save()'.
	(Application.run_form): Vyuvej `save()' a `_activate()'.
	(Application.leave_form): Vyuvej `restore()'.

2003-01-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Pidn Copyright 2003
	(Application._State): Zrueno.
	(Application._state): Zrueno.
	(Application._spec): Nech je argument `default_value' nepovinn s
	vchoz hodnotou None.
	(Application.OnInit): Nech M vytven menu oken nastavenu
	aktivan kategorii `Window.ACT_WINDOW'.  Pi voln
	`self._spec()' nepedvej argument `default_value', pokud je None.
	Neinicializuj `self._initial_state'.  Namsto `self._states'
	vytvej `self._windows'.
	(Application._window_menu): Nov metoda.
	(Application._window_menu_item_title): Nov metoda.
	(Application._add_window_menu_item): Nov metoda.
	(Application._remove_window_menu_item): Nov metoda.
	(Application._check_window_menu_item): Nov metoda.
	(Application._update_window_menu): Zrueno.
	(Application._raise_form, Application.run_form)
	(Application.leave_form, Application.exit)
	(Application.top_window, Application._on_frame_size): Pepsno s
	ohledem na jin zpsob prce s menu otevench oken a pouitm
	`self._windows' namsto `self._states' a zmny v API tdy
	`XStack'.
	(Application.get_status): Nov metoda.
	(Application.set_status): Pouij `self._modals.top()' namsto
	`self.top_window'.  prava dokumentanho etzce.
	(message): prava dokumentanho etzce.
	(set_status): prava dokumentanho etzce.
	(get_status): Nov funkce.

	* lib/pytis/form/screen.py: Pidn Copyright 2003
	(Window): Nech je potomkem `Restorable'.
	(Window.ACT_WINDOW, Window.ACTIVATIONS): Nov kontanty.
	(Window.focus): Nevolej `lib.form.application._application.activate()'.
	(MItem._wx_kind): Nov metoda.
	(MItem.create): Nov metoda. 
	(Menu.create): Vyuvej ji.
	(RadioItem): Nov tda.
	(ActivationGroup): Zrueno.
	(StatusBar): Nech nen potomkem `Restorable'.
	(StatusBar._current_message): Zrueno.
	(StatusBar.get_message): Nov metoda.
	(StatusBar.save): Zrueno.
	(StatusBar.restore): Zrueno.

	* lib/pytis/form/output.py: Pidn Copyright 2003
	(PrintForm.ACTIVATIONS): Nech je atribut veejn (`Form.ACTIVATIONS').

	* lib/pytis/form/list.py: Pidn Copyright 2003
	(ListForm._STATUS_FIELDS): Nov konstanta.

	* lib/pytis/form/form.py: Pidn Copyright 2003
	(Form._ACTIVATIONS): Nech je atribut veejn (`Form.ACTIVATIONS').
	(Form._STATUS_FIELDS): Nov atribut.
	(Form.status_fields): Metoda zruena.
	(Form.save): Nov metoda.
	(Form.restore): Nov metoda.

	* lib/pytis/util/_test.py: Pidn Copyright 2003
	(XStack.check_it): Test upraven podle novho API tdy `XStack'.

	* lib/pytis/util/util.py: Pidn Copyright 2003
	(XStack): Pepsn dokumentan etzec.
	(XStack.__contains__): Zrueno.
	(XStack.__init__): Nov metoda.
	(XStack.push): Nov metoda.
	(XStack.arise): Zrueno.
	(XStack.remove): Nov metoda.
	(XStack.activate): Nov metoda.
	(XStack.active): Nov metoda.

2002-12-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/flibdata.py (data_table): Nepedvej do
	LongTable.Column id a typ, kluj `alignemnt'.

	* lib/pytis/output/flibutil.py: Nov soubor.
	* lib/pytis/output/data.py: Pejmenovno na `flibdata.py'.
	* lib/pytis/output/__init__.py: Zohlednny pedchoz zmny.

	* lib/pytis/output/markup.py (PageNumber.__init__, PageNumber.total):
	Nov metody.
	(Table): Nov znaka.
	(LongTable.Column, LongTable.columns): Pesunuto do Table.
	(LongTable.__init__): Volej konstruktor pedka.
	(Table.Column.__init__): Nech argumenty `label', `width' a
	`alignment' jsou nepovinn a `label' a `width' sm bt None.
	Zrueny argumenty `id' a `type_'.
	(LongTable.Column): Nov tda.
	(LongTable): Bu potomkem Table.

	* lib/pytis/output/formatter.py (LoutFormatter._format_page_number):
	Zohledni parametr ablony `total'.
	(LoutFormatter._format_font_size): Doplnno chybjc `f' vlevm
	argumentu @Font.
	(_INTRO): Pidno include `tbl'.  Pomocn funkce pesunuty ped
	funkce struktury dokumentu.
	(LoutFormatter._MARK_PROCESSORS): Pidno Table.
	(LoutFormatter._format_table): Nov metoda.
	(LoutFormatter._process): Je-li _body sekvenc dokument, formtuj
	je separtn.

2002-12-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Type.__new__): Nov metoda.
	(Type._make): Bu staticmethod, ne classmethod.  Nenastavuj
	_making_type.
	(Type.make): Ztrivializovno.
	(Type._making_type): Zrueno.
	(Type._TypeTable.get_instance): Vytvej novou instanci typu pes
	object.__new__.
	(Type.__init__): Nepouvej _making_type.
	(Type.__getattr__): Nepouvej `make'.
	* lib/pytis/data/xtypes.py (_Codebook.make): Zrueno.
	(_Codebook.__new__): Nov metoda.
	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_validate_codebook)
	(PostgreSQLUserGroups._pgg_connection_key)
	(PostgreSQLUserGroups._pgg_retrieve_access_groups)
	(PostgreSQLUserGroups.class_access_groups): Bu staticmethod, ne
	classmethod.
	(DBData._db_bindings_to_column_spec) 
	(PostgreSQLStandardBindingHandler._pdbb_get_type) 
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec) 
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql) 
	(PostgreSQLStandardBindingHandler._pg_insert): Vytvej instance
	typ pmo, ne pes `make'.
	* lib/pytis/data/_test.py: Nepouvej nikde `make'.

	* lib/pytis/output/formatter.py (_INTRO): Odstranno include latin2.
	(LoutFormatter._format_long_table): Neprovdj dn down-scaling.

2002-12-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer.show_page): Poet krok
	zptn dopotvej zvelikosti kroku.

	* lib/pytis/output/markup.py (Document): Nov znaka.

	* lib/pytis/output/formatter.py (LoutFormatter._format_text): Chra
	vodn a koncov mezery.
	(LoutFormatter._MARK_PROCESSORS): Pidno Document.
	(LoutFormatter._format_document): Nov metoda.
	(LoutFormatter.__init__): Obal `body' znakou Document, je-li
	teba.
	(LoutFormatter.preview, LoutFormatter.printout): Spoutj Lout bez
	parametru `-s'.

	* lib/pytis/util/util.py (XStack): Opraveny vechny docstringy.
	(nreverse): Nov funkce.
	* lib/pytis/util/_test.py (ListUtils.check_nreverse): Nov test.

2002-12-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (_INTRO): Kompletn zmnno.
	(LoutFormatter._process): Zohlednna pedchoz zmna.
	(LoutFormatter._format_page_number): Npodobn.  Vypisuj t
	celkov poet stran.

2002-12-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.show, DualForm.hide)
	(DualForm.close): Nov metody.
	(DualForm.Show, DualForm.Close): Zrueno.
	* lib/pytis/form/list.py (List.__init__): Pidn hack zajiujc
	nenulov slo dku ve stavov dce.

	* lib/pytis/form/application.py (_State.__init__): Zruen argument
	`frame'.
	(Application._State.restore): Metodu `resize' formule volej bez
	argument.
	(Application._state): Nepedvej argument `frame' konstruktoru
	`self._State'.

	* lib/pytis/form/screen.py (Window.__init__): Pidn docstring.
	(Window.resize): Nech je argument size nepovinn a v ppad jeho
	neuveden je velikost urena automaticky z velikosti rodi. okna.
	Pidn docstring.
	(Window.show): Pidn docstring.
	(Window.hide): Pidn docstring.
	(Window.close): Pidn docstring.

2002-12-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Kosmetick pravy.
	(Application.run_form): Pokud je vrchn okno instanc
	`Refreshable', volej mu po uzaven formule `refresh()'.

	* lib/pytis/form/screen.py (Window.show): Zrueno zakomentovan
	podmnn voln `refresh()'.

2002-12-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/markup.py (Image): Nov znaka.

	* lib/pytis/output/formatter.py: Do docstringu pidn popis
	`background'.
	(LoutFormatter.__init__): Nov atribut `_page_background'.
	(LoutFormatter._process): Pidno zpracovn pozad.  Nov funkce
	`process_special'.
	(_INTRO): Pidno %(pbackground)s.
	(LoutFormatter._MARK_PROCESSORS): Pidno Image.
	(LoutFormatter._format_image): Nov metoda.

	* lib/pytis/form/screen.py (wx_focused_window): Nov funkce.
	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Pouvej ji.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Oprava formtovn.
	(ViewSpec.cleanup): Oprava docstringu.

	* lib/pytis/data/access.py (RestrictedData._check_access_condition):
	Funkce `columns' pedlna na metodu
	`_check_access_condition_columns'.

	* lib/pytis/util/util.py (mem_info.MemInfo.update): Spoutj sbra a
	vypisuj poet nesesbratelnch objekt.
	(mem_info.MemInfo.__init__): Hodnota `_report_length' snena
	na1.

2002-12-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (top_level_exception): Volej `exit'
	sargumentem `quietly'.
	(wx_callback.process_event): Natvrdo testuj na Ctrl-g.

	* lib/pytis/form/application.py (Application.exit): Nov argument
	`quietly'.
	(exit): Nov argument `kwargs'.
	(global_keymap): Nov funkce.
	(Application.OnInit): Inicializace klves pesunuta do `__init__'
	a pozmnna pro klvesov mapy.

	* lib/pytis/form/command.py: Popis zpisu klves zdocstringu modulu
	pesunut do screen.KeyHandler.
	(Command.__init__): Argument `key' je nyn potlaen.  Argument
	`log' pejmenovn na `log_'.
	(List.COMMAND_SELECT_CELL): Zohlednna pedchoz zmna.
	(Command.__setattr__): Nov doasn metoda.
	(Command.__str__): Nevypisuj `key'.

	* lib/pytis/form/screen.py (_Keymap): Pejmenovno na Keymap, doplnny
	docstringy.
	(Keymap.define_command): Zrueno.
	(Keymap.define_key): Nov metoda.
	(Keymap._define_key): Nov argument `args'.
	(KeyHandler._get_keymap, KeyHandler.on_key_down): _Keymap ->
	Keymap.
	(KeyHandler._init_commands): Msto `define_command' volej
	`define_key'.
	(KeyHandler): Atribut `_keymap' pejmenovn na `keymap'.
	(KeyHandler._maybe_invoke_command): Zohlednno pidn argument
	kpkazu.
	(Keymap.__init__): Nech argument `parent' je nepovinn.
	(MItem.__init__): Chra se proti neptomnosti atributu
	`command.key'.
	(KeyHandler._get_keymap): Jestlie rodiovsk mapa nebyla zadna,
	pouij `global_keymap'.
	(KeyHandler.on_key_down): Jestlie _maybe_invoke_command neuspje,
	pesko udlost.

2002-12-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._on_commit_form): Volej cleanup proceduru.

2002-12-13  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Pidn alias
	pro typ 'name'.

2002-12-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nov argument 'cleanup'.
	(ViewSpec.cleanup): Nov metoda.

	* lib/pytis/form/application.py (Application.on_ui_event): Oprava docstringu.
	(Application._call_current_window): Oprava docstringu.
	(Application.OnInit): Volej specifikan funkci `init'.

2002-12-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (mem_info): Nov funkce.
	(_mem_info): Nov promnn.

	* ebas (go): Pi poadavku na debug pamti zapni sledovn gc.
	(_usage): Pidno --debug-memory.
	* ebas-server (go, _usage): Npodobn.

	* lib/pytis/util/configuration.py (Configuration._Option_debug_memory):
	Nov konfiguran volba.
	* config/config.py: Pegenerovno.

2002-12-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Datum/as validuj
	sargumentem `local'.

	* lib/pytis/data/types_.py (DateTime._validate, DateTime._export): Nov
	argument `local'.
	(Date._validate, Date._export): Nov metody.

2002-12-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._WINDOW_MENU_TITLE): Nov
	konstanta.
	(Application._State): Nov tda.
	(Application._state): Nov metoda.
	(Application.OnInit): Do menu pidvej i poloku pro seznam
	otevench oken.  Ukldej `self._initial_state'.  Zrueno
	`self._window'.  Nepouvej `FrameStack()' -- zrueno
	`self._stack'.  Udruj seznam modlnch oken v `self._modals';
	instanci `Stack' a seznam stav a vnitnch oken v `self._states';
	instanci `XStack'.
	(Application._call_current_window): Namsto `self._stack.window()'
	vyuvej `self.top_window()'.
	(Application._update_stack_display): Zrueno.
	(Application._update_window_menu): Nov metoda.
	(Application._raise_form): Nov metoda.
	(Application.run_form): Update docsteringu.
	(Application.run_form): `parent' nech je vdy `self._frame'.
	Ped vytvoenm formule ulo vnitn stav.  Modln formule
	vkldej na stack `self._modals' a vnitn okna na xstack
	`self._states'.  Vyuvej metody tdy `Window' pi vkldn a
	uzavrn oken.  Namsto `self._update_stack_display()' volej
	`self._update_window_menu()'
	(Application.run_dialog): `parent' nech je vdy `self._frame'.
	Namsto framestack vyuvej `self._modals'.
	(Application.wx_frame): Zrueno.
	(Application._leave_form): Pejmenovno na `leave_form()'.
	(Application.leave_form): Pidn docstring.  Nestarej se o modln
	okna.  Zavi pouze vrchn vnitn okno, je-li jak.
	(Application.exit, Application.top_window): Zohledni zmny ve
	zpsobu ukldn otevench oken.
	(Application.push, Application.pop, Application.replace)
	(Application.set_status): Vyuvej `self.top_window()'.
	(Application._on_frame_size): Zohledni zmny ve zpsobu ukldn
	otevench oken.
	(Application.on_command): Zohledni zmny ve zpsobu ukldn
	otevench oken. `self._leave_form()' -> `self.leave_form()'.
	Zpracij pkaz `Application.COMMAND_RAISE_FORM'.
	(set_status): Netestuj existenci `_application'.
	(run_dialog): Netestuj existenci `_application'.
	(leave_form): Zruen argument.  Nic zde nedlej, jen volej
	`_application.leave_form()'.
	(current_form): Netestuj existenci `_application'.

	* lib/pytis/form/screen.py (Window.focus): Odkomantovno voln
	`activate()'.
	(FrameStack): Zrueno.
	(MenuBar.__init__.check_duplicate_keys): Kosmetick pravy.
	(MItem.__init__): Vylepen hack s pidvnm mezer k titulku --
	pidvej mezeru, jen kdy poloka skuten m horkou klvesu.

	* lib/pytis/form/list.py (List.select_row.find): Pejmenovno na `_find'.

	* lib/pytis/form/form.py (Form.descr): Nov metoda.
	(Form.title): prava docstringu.
	(Form._class_name): Nov metoda.
	(Form.__str__): Vyuvej ji.
	(Form._on_leave_form): Funkci `leave_form()' volej bez argumentu.

	* lib/pytis/util/_test.py (Pool): Pejmenovno na `XStack'.

	* lib/pytis/util/util.py (Pool): Pejmenovno na `XStack'.
	(XStack): prava docstringu.
	(XStack.items): prava docstringu.
	(XStack.arise): prava docstringu.

	* lib/pytis/form/command.py (Application.COMMAND_RAISE_FORM): Nov pkaz.

2002-12-10  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_gsql_format_type): Pouvej `timestamp(0)'
	msto `timestamp'.

2002-12-10  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_gsql_format_type): Pouvej `timestamp(0)'
	msto `timestamp'.

2002-12-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLUserGroups._pgg_retrieve_access_groups): Chovej se
	pstojn, je-li `uid_string' None.

2002-12-09  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.gensql): Reportuj neresolvnut
	objekty.
	(_GsqlFunction._format_body): Vyhazuj przdn dky vplpython
	funkcch.

2002-12-09  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.gensql): Reportuj neresolvnut
	objekty.
	(_GsqlFunction._format_body): Vyhazuj przdn dky vplpython
	funkcch.

2002-12-07  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.__init__): `_object_number'
	pejmenovno na `_serial_number'.  Nech `name' sm bt None.
	(_GsqlSpec.object_number): Pejmenovno na `serial_number'.
	(_GsqlRaw): Nov tda.
	(sql_raw, sql_raw_include): Pepracovno na vyuit _GsqlRaw.
	(include): Nezapisuj nic na sys.stdout.
	(_gsql_process): Msto zpisu na sys.stdout registruj vytvoenou
	specifikaci do `_gsql_defs'.
	(_GsqlDefs): Nov tda.
	(_gsql_defs): Nov globln promnn.
	(_gsql_gensql): Nov funkce.
	(_go): Volej `_gsql_defs.gensql'.  Pidna volba --help.
	(_GsqlSpec.__init__): Do docstringu pidn doplujc koment
	ozvislostech.
	(_GsqlView.__init__): Nov argument `join'.
	(ViewColumn.__init__): Rozen vznam argumentu `name'
	ospecifikaci sjednocen tabulek.
	(_GSQL_OPTIONS): Nov globln promnn.
	(_usage, _go): Pouvej ji.
	(_GsqlView._format_complex_columns): Nov metoda.
	(_GsqlView.output): Pidna podpora `_join' a "komplexnch
	sloupc".

2002-12-07  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.__init__): `_object_number'
	pejmenovno na `_serial_number'.  Nech `name' sm bt None.
	(_GsqlSpec.object_number): Pejmenovno na `serial_number'.
	(_GsqlRaw): Nov tda.
	(sql_raw, sql_raw_include): Pepracovno na vyuit _GsqlRaw.
	(include): Nezapisuj nic na sys.stdout.
	(_gsql_process): Msto zpisu na sys.stdout registruj vytvoenou
	specifikaci do `_gsql_defs'.
	(_GsqlDefs): Nov tda.
	(_gsql_defs): Nov globln promnn.
	(_gsql_gensql): Nov funkce.
	(_go): Volej `_gsql_defs.gensql'.  Pidna volba --help.
	(_GsqlSpec.__init__): Do docstringu pidn doplujc koment
	ozvislostech.
	(_GsqlView.__init__): Nov argument `join'.
	(ViewColumn.__init__): Rozen vznam argumentu `name'
	ospecifikaci sjednocen tabulek.
	(_GSQL_OPTIONS): Nov globln promnn.
	(_usage, _go): Pouvej ji.
	(_GsqlView._format_complex_columns): Nov metoda.
	(_GsqlView.output): Pidna podpora `_join' a "komplexnch
	sloupc".

2002-12-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/util.py (Stack): Nov tda.
	(Pool): Nov tda.

	* lib/pytis/util/_test.py (Stack): Nov test.
	(Pool): Nov test.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Namsto
	`focused_window()' pouvej pmo `wx.wxWindow_FindFocus()'.

	* lib/pytis/form/form.py (Form): Bu potomkem `Window', namsto
	`wxPanel'.
	(Form._focused_form): Zrueno.
	(Form.__init__): Namsto kostruktoru `wxPanel' volej konstruktor
	`Window'.  Neinicializuj `self._callbacks'.
	(Form.parent): Zrueno
	(Form.focus, Form.defocus): Zrueno.
	(focused_form): Zrueno.
	(EditForm._run_with_lock): Zrueno.
	(PopupEditForm.run): Namsto voln `_run_with_lock()' rovnou
	implementuj sputn se zmkem zde.
	(EditForm._edit_insert): Jako vkldan dek pouij vsledek
	`self._validate()' namsto datovho dku z `PresentedRow' `self._row'.

	* lib/pytis/form/screen.py (focused_window): Zrueno.
	(FrameList): Zrueno.
	(Window): Nov tda (zatm pouze zklad).
	(focused_window): Nov funkce.

	* lib/pytis/form/list.py (_on_activation): Nepedvej lokln promnn
	jako klov argumenty v definici lambda funkce.
	(ListForm.refresh): Nov metoda.
	(ListForm): Pod tak tdu `Refreshable'.
	(List.OnKillFocus): `focused_form()' -> `focused_window()'.
	(List.SetFocus): Zviditelni aktuln buku gridu.
	(List.SetFocus): `focused_form()' -> `focused_window()'.
	(List._recreate_grid): `focused_form()' -> `focused_window()'.
	(List._recreate_grid): Volej na grid jet `Enable()'
	(List._GROUPING_COLOR): Zrueno.
	(List._GROUPING_BACKGROUND_DOWNGRADE): Nov konstanta.
	(List._ListTable.GetAttr): Namsto nastavovn barvy pozad pi
	seskupovn pouze ztmavuj souasnou barvu pozad.
	(List._ListTable.GetColLabelValue): Label seskupovacho sloupce
	odli hvzdikami.
	(List._ListTable._group): Namsto nuly vracej `FALSE'.
	(List._ListTable._group): Posledn dek potan od za 

2002-12-06  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlView._DEFAULT): Zrueno.
	(_GsqlView.__init__): Nech implicitn hodnotou `insert', `update'
	a `delete' je (), msto pvodnho _DEFAULT.  Zmnn vznam tchto
	argument.
	(_GsqlView._format_rule): Zohlednna pedchoz zmna.
	(_GsqlTable.__init__): Nov argumenty `init_values' a
	`init_columns' a atributy `_init_values' a `_init_columns'.
	(_GsqlTable.output): Zohlednna pedchoz zmna.
	(sql_raw): Do docstringu doplnno upozornn onevhodnosti bnho
	pouvn.
	(_GsqlTable.__init__): Nech `view' sm bt isekvence.  Atribut
	`_view' pejmenovn na `_views'.
	(_GsqlTable.output): Zohlednna pedchoz zmna.
	(TableView.__init__): Nov argument a atribut `name'.
	(_GsqlTable._make_view): Zohlednna pedchoz zmna.
	(_GsqlSpec.__init__): Nov metoda.
	(_GsqlSpec.name): Nov metoda.
	(_GsqlTable.__init__, _GsqlView.__init__, _GsqlFunction.__init__)
	(_GsqlSequence.__init__): Zohlednna pedchoz zmna.  Nov
	argument `depends'.
	(_GsqlView._format_rule): Opraveny parametry formtovacho stringu
	pro CREATE RULE.
	(_GsqlView.output): Msto CREATE VIEW generuj CREATE OR REPLACE
	VIEW.
	(_GsqlTable._format_rule, _GsqlView._format_rule): Npodobn pro
	RULE.
	(_GsqlSpec.depends): Nov metoda.
	(_GsqlSpec.object_number): Nov metoda.

2002-12-06  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlView._DEFAULT): Zrueno.
	(_GsqlView.__init__): Nech implicitn hodnotou `insert', `update'
	a `delete' je (), msto pvodnho _DEFAULT.  Zmnn vznam tchto
	argument.
	(_GsqlView._format_rule): Zohlednna pedchoz zmna.
	(_GsqlTable.__init__): Nov argumenty `init_values' a
	`init_columns' a atributy `_init_values' a `_init_columns'.
	(_GsqlTable.output): Zohlednna pedchoz zmna.
	(sql_raw): Do docstringu doplnno upozornn onevhodnosti bnho
	pouvn.
	(_GsqlTable.__init__): Nech `view' sm bt isekvence.  Atribut
	`_view' pejmenovn na `_views'.
	(_GsqlTable.output): Zohlednna pedchoz zmna.
	(TableView.__init__): Nov argument a atribut `name'.
	(_GsqlTable._make_view): Zohlednna pedchoz zmna.
	(_GsqlSpec.__init__): Nov metoda.
	(_GsqlSpec.name): Nov metoda.
	(_GsqlTable.__init__, _GsqlView.__init__, _GsqlFunction.__init__)
	(_GsqlSequence.__init__): Zohlednna pedchoz zmna.  Nov
	argument `depends'.
	(_GsqlView._format_rule): Opraveny parametry formtovacho stringu
	pro CREATE RULE.
	(_GsqlView.output): Msto CREATE VIEW generuj CREATE OR REPLACE
	VIEW.
	(_GsqlTable._format_rule, _GsqlView._format_rule): Npodobn pro
	RULE.
	(_GsqlSpec.depends): Nov metoda.
	(_GsqlSpec.object_number): Nov metoda.

2002-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog.run): Po vytvoen dialogu na
	nj volej `SetFocus()'.

2002-12-05  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data):
	Odstrann zapomenutch ladcch informac.

2002-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (DateField._on_invoke_selection): Datum
	nastavovan v kalendi zskej validac etzce v polku a
	vsledek zpt nastavuj exportem (kvli konverzi formtu).

	* lib/pytis/form/dialog.py (Calendar.__init__): Argument `date' nech
	je instanc `mxDateTime'.
	(Calendar._create_content): Zohlednno.
	(Calendar._customize_result): Nvratov hodnota nech je instanc
	`mxDateTime'.

2002-12-05  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlTable._make_view): Vracej view msto
	nastavovn atributu.  view.columns peve na list.
	(TableView.__init__): Pidny asserts na typy argument.
	(_GsqlView._format_rule): Opraveno zskn jmen sloupc pi
	konstrukci `settings' pro update.
	(_GsqlView.output): Opravena konstrukce GRANTs.
	(TableView.__init__): Nech self.exclude je vdy sekvence.
	Doplnno, e do `columns' jsou pidny sloupce tabulky.
	(_GsqlView._format_rule): Vynechvej `oid' sloupce.  Za ON vkldej
	nzev operace, ne view.

2002-12-05  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlTable._make_view): Vracej view msto
	nastavovn atributu.  view.columns peve na list.
	(TableView.__init__): Pidny asserts na typy argument.
	(_GsqlView._format_rule): Opraveno zskn jmen sloupc pi
	konstrukci `settings' pro update.
	(_GsqlView.output): Opravena konstrukce GRANTs.
	(TableView.__init__): Nech self.exclude je vdy sekvence.
	Doplnno, e do `columns' jsou pidny sloupce tabulky.
	(_GsqlView._format_rule): Vynechvej `oid' sloupce.  Za ON vkldej
	nzev operace, ne view.

2002-12-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.row): Pokud jde o prv
	editovan dek, nepouvej cache.
	(List._ListTable.GetValue): Vyuvej metody `List._ListTable.row()'.

2002-12-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction._format_body): Odstrauj prvn
	dek zdrojovho kdu pythonov funkce a ppadn docstring.
	Escapuj pythonov kd.
	(_GsqlFunction.__init__): Rozeny monosti argument `name',
	`body' a `doc'.
	(sql_raw_input): Pejmenovno na `sql_raw_include'.
	(include): Nov funkce.

2002-12-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction._format_body): Odstrauj prvn
	dek zdrojovho kdu pythonov funkce a ppadn docstring.
	Escapuj pythonov kd.
	(_GsqlFunction.__init__): Rozeny monosti argument `name',
	`body' a `doc'.
	(sql_raw_input): Pejmenovno na `sql_raw_include'.
	(include): Nov funkce.

2002-12-02  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/xtypes.py (_Codebook.data_value): V ppad nenalezen
	hodnoty nevracej 'None', ale 'Value(self, None)'.
	(_Codebook.data_value): prava docstringu.

2002-12-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._get_row): slo dku za
	novm dkem sniuj jen pi pravdivm `autoadjust'.

2002-11-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/test.py (InteractiveTestCase._format_instructions):
	Opraveno chybn uveden jmno promnn.

2002-11-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/xtypes.py (_Codebook.data_value): Opraven popis
	argument `value' a zcela zrueny zakomentovan asserts.

2002-11-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Hack s default
	hodnotou provdj jen pro skuten selnky.

2002-11-28  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/xtypes.py (_Codebook._export): Funkci 'log' pedvej
	tuple (self, column).
	(_Codebook.data_value): Doasn zakomentovn nefunkn assert.

2002-11-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (_pypg_query): Opraveno voln `conmaker'.
	(DBDataPostgreSQL._pg_validate_codebook): Opraveno uren typu
	Codebook.

	* lib/pytis/data/_test.py (DateTime.check_export): Updatovn test
	exportu.
	(DateTime.check_validation): Updatovn test validace.
	(Codebook.check_validate): Opraven peklep vtestu.
	(Codebook): Test zakomentovn.
	(DBMultiData): Test zakomentovn.
	(DBDataDefaultClass.setUp): Zakomentovno ve tkajc se
	multidat.  Explicitn uve typ sloupce `datum'.  Kontroluj chyby
	validace.
	(Date._test_instance): Uve formt.

	* lib/pytis/data/types_.py (Enumeration.values): Nov metoda.
	(DateTime._validate): Odstrauj zhodnoty okrajov mezery.
	(DateTime): Vdocstringu definovno, e jsou podporovna pouze
	data od roku1000.
	(DateTime._VALIDATION_MESSAGES): Pidna konstanta VM_DATE_AGE.
	(DateTime._validate): Nevaliduj data star ne 1. 1. 1000.
	(VM_DT_AGE): Nov konstanta.

	* lib/pytis/data/xtypes.py (_Codebook._validate_retrieve): Nov metoda.
	(_Codebook._retrieve): Validace pesunuta do `_validate_retrieve'.
	(_Codebook): Vdocstringu upesnn obsah vnitnch a uivatelskch
	hodnot.
	(_Codebook._row_values): Nov argument `export'.
	(_Codebook.values, _Codebook._export): Volej `_row_values'
	sargumentem `export'.
	(_Codebook._validate, MultiCodebook.validate_partial): Msto
	`_retrieve' volej `_validate_retrieve'.
	(_Codebook.data_value): Do `_retrieve' pedvej vnitn, ne
	vnj, sloupce.  Do docstringu pidno upozornn ocharakteru
	vrcen hodnoty.
	(_Codebook._export): Loguj pouit argumentu `column'.
	(SingleCodebook): Vdocstringu upesnna podoba vnitn hodnoty.
	(_Codebook._value_retrieve): Nov metoda.
	(_Codebook._export, _Codebook.data_value): Volej ji msto
	`_retrieve'.

2002-11-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/xtypes.py (_Codebook.data_value): Metod `_retrieve'
	pedvej `_internal_columns' namsto `self._value_columns'.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Pokud m okno
	metodu `focus()', volej ji, jinak volej `SetFocus()'.

	* lib/pytis/form/list.py (ListForm._create_form_parts): Nov metoda.
	(ListForm._create_list): Nov metoda.
	(ListForm.__init__): Vytven formule penechno tmto metodm.

	* lib/pytis/form/form.py (Form.__init__): Volej metodu `_create_form()'.
	(Form._create_form, Form._finish_top_level_sizer)
	(Form._create_form_parts): Nov metody.
	(TitledForm._create_caption): Kosmetick pravy.
	(EditForm.__init__): Konstruktor pedka volej a po inicializaci
	atribut.
	(EditForm._create_form): Nov metoda.
	(EditForm._create_form): Zrueno.
	(EditForm._create_form_parts): Nov metoda.
	(PopupEditForm._create_form): Zrueno.
	(PopupEditForm._finish_top_level_sizer)
	(PopupEditForm._create_form_parts)
	(PopupEditForm._create_status_bar): Nov metody.
	(ShowForm._create_form): Zrueno.
	(ShowForm._finish_top_level_sizer, ShowForm._create_form_parts):
	Nov metody.

2002-11-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.__init__): Nov argument
	`grouping'.
	(List._ListTable.__init__): Jako argument `style' konstruktoru
	`_Column' pouvej pouze styl, nikoliv dvojici (styl, cid).
	(List._ListTable.__init__): Inicializuj `self._group_cache' a
	`self._group_value_cache'.
	(List._ListTable._group): Nov metoda.
	(List._ListTable.row): Vracej skuten instanci `PresentedRow',
	jak tvrd docstring, nikoliv pouze `Row'.  Pouvej cache.
	(List._ListTable.edit_row): Kosmetick pravy.
	(List._ListTable.GetAttr): Vyuvej `self.row()'.  Nastav barvu
	pozad na `List._GROUPING_COLOR', pokud jde o zvraznnou skupinu.
	(List.UI_GROUPING): Nov konstanta.
	(List._FOCUS_COLOR): Drobn zmna barvy.
	(List._GROUPING_COLOR): Nov konstanta.
	(List.__init__): Nov argument `default_grouping'.
	(List._create_grid): Konstruktoru `_ListTable' pedvej argument
	`grouping'.
	(List._on_label_right): Nov poloku menu pro pkaz
	`List.COMMAND_SET_GROUPING_COLUMN'.
	(List.on_ui_event): Pidna implementace `List.UI_GROUPING'.
	(List.on_command): Pidna implementace
	`List.COMMAND_SET_GROUPING_COLUMN'.
	(List.refresh): Nov `reset' parametr `grouping'.
	(ListForm.__init__): Konstruktoru `List' pedvej argument
	`grouping'.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nov argument `grouping'.
	(ViewSpec.grouping): Nov metoda.

	* lib/pytis/form/command.py (List.COMMAND_SET_GROUPING_COLUMN': Nov pkaz.

2002-11-25  Milan Zamazal  <pdm@brailcom.org>

	* ebas (run_application.ClientResolver): Bu potomkem
	FileResolver.

2002-11-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (__init__): Argument `type' pejmenovn na
	`mode'.  Argument `path' zruen.  Nov argumenty `dir' a `file'.
	(FileDialog.run): Respektuj zmny argument konstruktoru,
	resp. stejnojmennch privtnch atribut.

2002-11-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Opraveny
	a doplnny argumenty voln DBException.

2002-11-22  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (date_format): Nastaven formt '%d.%m.%Y'.

2002-11-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data)
	(DBDataPostgreSQL._pg_create_make_row_template): Pidno oeten
	DateTime.

	* lib/pytis/util/configuration.py (Configuration._Option_date_time_format) 
	(Configuration._Option_date_format) 
	(Configuration._Option_time_format): Nov konfiguran volby.
	* config/config.py: Pegenerovno.

	* lib/pytis/data/types_.py (DateTime.DEFAULT_FORMAT)
	(DateTime.CZECH_FORMAT): Nov konstanty.
	(DateTime._regexp_spec): Zrueno.
	(DateTime.__init__): Nov metoda.
	(Date.DEFAULT_FORMAT, Date.CZECH_FORMAT): Nov konstanty.
	(Date._regexp_spec): Zrueno.
	(Date._validate, Date._export, Time.DEFAULT_FORMAT): Nov
	konstanta.
	(Time._regexp_spec): Zrueno.
	(Time._validate, Time._export): Zrueno.
	(Date._validate, Date._export): Zrueno.
	(DateTime._export): Zruen argument `limit'.  Nov argument
	`format'.  Pepsno.
	(DateTime): Proveden pravy zohlednny vdocstringu.
	(DateTime._validate): Pepsno.
	(Date.__init__, Time.__init__): Nov metody.
	(DateTime.DATE, DateTime.TIME): Zrueno.
	(DateTime.SQL_FORMAT, Date.SQL_FORMAT, Time.SQL_FORMAT): Nov
	konstanty.
	(Type.validate): Cachuj iobjekty sklovanmi argumenty.
	(Type._validating_provider): Argumenty zmnny na nov kl.

2002-11-20  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template)
	(DBDataPostgreSQL._pg_validate_codebook): Pidna podpora pro
	SingleCodebook.

2002-11-20  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (BugReport._create_content): Nech
	tracbackov okno nen read-only.

2002-11-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/wxlib.py: Zrueno.

	* lib/pytis/form/list.py (List._ListTable.__init__): Volej konstruktor
	pedka.

	* lib/pytis/util/util.py (exception_info): Nov funkce.
	(deepstr): Ivppad sekvence vracej string.

	* lib/pytis/util/configuration.py (Configuration._Option_bug_report_address) 
	(Configuration._Option_bug_report_subject)
	(Configuration._Option_sendmail_command): Nov konfiguran volby.
	* config/config.py: Pegenerovno.

	* lib/pytis/form/application.py (exit): Nov funkce.
	(Application._exit): Pejmenovno na `exit'.
	(Application.on_command): Zohlednna pedchoz zmna.

	* ebas (_usage): Za chybovou hlkou getopt vlo jen jeden nov
	dek.
	(go): Pi importu lib.util odchytvej getopt.GetoptError.
	* ebas-server (_usage, go): Npodobn.

	* lib/pytis/form/event.py (top_level_exception): Pedvej konstruktoru
	BugReport informace ovjimce.  Pidny reakce na vsledek
	BugReport dialogu.

	* lib/pytis/form/dialog.py (BugReport): Napsno znovu, svlastn
	implementac.
	(GenericDialog.__init__): Kosmetick pravy docstringu.
	(InputDialog._create_content): Zaosti vstupn pole a nastav mu
	kenou ku.
	(InputDialog.__init__): Nov argument `input_width'.

2002-11-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (Dialog.__init__): Nov metoda.
	(GenericDialog.__init__): Vyuvej ji.
	(OperationDialog): Doplnn dokumentan etzec.
	(OperationDialog.__init__): Upraven dokumentan etzec.
	(FileDialog): Nov tda.
	(GenericDialog._create_icon): Nov metoda.
	(Message._create_content): Vyuvej ji.
	(BugReport.__init__): Parametru konstruktoru pedvej jako klovan.
	(BugReport._create_content): Nastav proporcionln font
	tracebacku.  Nastav vt nadpis.  Pidej ikonu.  Traceback nech
	je read-only
	(BugReport._on_set_focus): Nov metoda.
	(BugReport._customize_result): Kosmetick prava.
	(BugReport.on_command): Nov metoda.

2002-11-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (top_level_exception): Pro ohlen chyby
	pouvej tdu BugReport.

	* lib/pytis/form/application.py (resolver): Nov funkce.

	* lib/pytis/form/wxlib.py: Nov soubor.

	* lib/pytis/form/dialog.py (BugReport): Nov tda.

	* lib/pytis/output/formatter.py (LoutFormatter._format_paragraph): Msto
	makra @LP pouvej jeho expanzi.

2002-11-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (OperationDialog._on_show): Vsledek voln
	`apply' ukldej do `self._result'.
	(OperationDialog._customize_result): Nov metoda.

2002-11-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/resolver.py (OutputResolver.output_parameter):
	Nech `name' sm bt isekvence, spojovan do jednoho stringu
	lomtky.

	* lib/pytis/util/resolver.py (Resolver._call_spec): Nov metoda.
	(Resolver._get_spec): Pouvej ji.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm._on_idle):
	Vrt-li `_do_selection' None, vydej dal zpracovn.
	(DescriptiveDualForm._do_selection): Vracej TRUE.
	(SideBrowseDualForm._do_selection): Je-li ve OK, vra TRUE.

	* lib/pytis/output/data.py (data_item): Nech argument `key' je
	nepovinn.  Doplnn chybjc import config.  Opraveno vytven
	PresentedRow.

	* lib/pytis/form/list.py (SideBrowseForm._formatter_parameters): Nech
	parametr formtovae je string.  Opraven kl extra parametru.
	(BrowseForm._formatter_parameters): Oddluj komponenty parametru
	lomtky.
	(BrowseForm._on_print_): Jako 

	* lib/pytis/output/markup.py (_Mark): Nov tda.
	(_Container, Null, NewPage, PageNumber, LongTable): Bu jejm
	potomkem.
	(_Space, VSpace, HSpace): Nov tdy.

	* lib/pytis/output/formatter.py (LoutFormatter._format_long_table):
	Formtuj labels sloupc.
	(LoutFormatter._MARK_PROCESSORS): Pidno VSpace a HSpace.
	(LoutFormatter._format_space): Nov metoda.
	(LoutFormatter._format_paragraph): Obaluj cel @LP sloenmi
	zvorkami.

2002-11-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/markup.py (LongTable.Column.__init__): Doplnn
	chybjc atribut `alignment'.
	(LongTable.__init__): Nov argument `separator_height' a atribut
	`_separator_height'.
	(LongTable.separator_height): Nov metoda.

	* lib/pytis/output/data.py: Msto lib.util importuj lib.output.
	(data_table): Opravy vtho mnostv chyb.
	(data_table): Zruen argument `separator_height'.  Nov argument
	`long_table_args'.

	* lib/pytis/form/list.py (BrowseForm._formatter_parameters): Nech kle
	parametr jsou strings.

	* lib/pytis/output/formatter.py (LoutFormatter._resolve): Loguj
	nenalezen specifikace.
	(LoutFormatter._format_long_table): Opraveno vt mnostv chyb.

	* lib/pytis/form/event.py (top_level_exception): Spoutj debugger dle
	`config.debug_on_error', ne `config.debug' 

	* lib/pytis/util/configuration.py
	(Configuration._Option_debug_on_error): Nov konfiguran volba.
	* config/config.py: Pegenerovno.
	* ebas (_usage): Doplnno --debug-on-error.
	* ebas-server (_usage): Npodobn.

2002-11-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog.__init__): Dovol, aby
	`buttons' byla i przdn sekvence.  Inicializuj atributy
	`_default_button' a `_shown'.
	(GenericDialog._on_set_focus): Za jistch okolnost volej
	`self._on_show()'.
	(GenericDialog._on_show): Nov mentoda.
	(OperationDialog.__init__): Nov tda.

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Pidno TODO

2002-11-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Jedn-li se oneuivatelsk Codebook, zjiuj constraints jeho
	sloupce a nastav je pro Codebook.

	* lib/pytis/form/list.py (BrowseForm._on_print_): Opraveno voln
	konstruktoru lib.output.Formatter.

	* lib/pytis/output/data.py (data_table): Pepsno.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pidno LongTable.
	(LoutFormatter._format_long_table): Nov metoda.
	(LoutFormatter.__init__): Zruen argument `parameters' a atribut
	`_parameters'.

	* lib/pytis/output/markup.py (LongTable): Nov formtovac znaka.

	* lib/pytis/data/xtypes.py (Codebook._update): Pi zmn resetuj
	`_validation_cache'.
	(Codebook._update_enumeration): Zrueno.
	(Codebook.__init__): Zruen argument `mode' a atribut `_mode'.
	(Codebook.Mode): Zrueno.
	(Codebook): Pejmenovno na _Codebook.
	(_Codebook.data_value): Odstranny kvalifiktory modulu lib.data.
	(SingleCodebook, MultiCodebook): Nov tdy.
	(_Codebook._validate): Updatovn docstring.

	* lib/pytis/util/caching.py (LimitedCache.__init__): Nov atribut
	`_lock'.
	(LimitedCache.__setitem__): Zamykej.

	* lib/pytis/data/types_.py (Type._shared_value_cache_counter)
	(Type._shared_value_cache, Type._VALUE_CACHE_LIMIT): Zrueno.	
	(Type.__init__): Nov atribut `_validation_cache'.
	(Type._validating_provider): Nov metoda.
	(Type.validate): Pepracovno.
	(Type.constraints): Nov metoda.

2002-11-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Zruen neaktuln
	koment.
	(InputField._create_label, InputField._create_widget)
	(InputField._validation_error_handler, InputField._menu):
	Docstring zmnn na koment.
	(InputField._on_reset): Zrueno.
	(InputField._set_focus): Doplnn koment.

2002-11-14  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Zm default
	hodnotu Codebooku z '' na None.

2002-11-12  Milan Zamazal  <pdm@brailcom.org>

	* ebas (go): Vra se, nen-li dostupno X Window.

	* lib/pytis/data/types_.py (Type.validate): Zaveden odporn hack
	opravujc vyuvn cachovanch hodnot pro jin instance.

2002-11-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (EnumerationField._values) 
	(ChoiceField._create_controls): Kosmetick prava.

	* lib/pytis/data/xtypes.py (Codebook.values): Namsto instanc `Value'
	vracej pouze vnitn hodnoty.
	(Codebook._row_values): Vracenou sekvenci pevdj na tuple.

	* lib/pytis/form/dialog.py (Message.__init__): Nech je vchoz hodnotou
	argumentu `default' taltko `Ok'.
	(Message.BUTTON_OK, Message.BUTTON_CANCEL, Message.BUTTON_YES)
	(Message.BUTTON_NO): Nov konstanty.
	(Error.__init__, Question.__init__, InputDialog.__init__)
	(InputDialog._customize_result, Login._customize_result)
	(InputDialog._on_key_down, RunFormDialog._customize_result)
	(Calendar.__init__, Calendar._customize_result)
	(Calendar._on_calendar, Message.__init__): Pouvej konstanty
	`BUTTON_*'.

2002-11-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (KeyHandler.on_key_down): Odstranny ladc
	printy.

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table)
	(LoutFormatter._format_data_item): Zrueno.
	(LoutFormatter._MARK_PROCESSORS): Vyazeno DataTable a DataItem.
	(LoutFormatter.__init__): Odstrann zapomenut print.
	(LoutFormatter.DATA, LoutFormatter.DATA_KEY) 
	(LoutFormatter.DATA_ROW, LoutFormatter.DATA_CONDITION) 
	(LoutFormatter.DATA_SORTING): Zrueno.

	* lib/pytis/output/data.py (DataTable, DataItem): Zrueno.
	(data_table, data_item): Nov funkce.
	(P_KEY, P_ROW, P_CONDITION, P_SORTING): Nov konstanty.

	* lib/pytis/output/resolver.py (OutputResolver._get_module): Opraven
	peklep ve voln pedka.
	(OutputResolver.__init__): `parameters' ukldej do speciln tdy
	vracejc ne pmo parametr, ale funkci jej vracejc.

	* lib/pytis/form/list.py (BrowseForm._PrintResolver._get_module):
	Pednostn zskvej modul od pedka.
	(BrowseForm._PrintResolver._Spec.body): Msto lib.output.DataTable
	pouvej lib.output.data_table.
	(BrowseForm._formatter_data): Pejmenovno na
	`_formatter_parameters'.  Pepracovno.
	(SideBrowseForm._formatter_data): Npodobn.
	(BrowseForm._on_print_): Zohlednny pedchoz zmny.

2002-11-09  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing: Updatovno pro nov tiskov mechanismus
	a doplnno.

2002-11-09  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing: Updatovno pro nov tiskov mechanismus
	a doplnno.

2002-11-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter.__init__): Nevolej
	hodnoty vracen `_resolve'.  `_body_func' -> `_body'.
	(LoutFormatter._process): `_body_func' -> `_body'.
	(LoutFormatter._resolve): Zresolveru vytahuj pmo specifikaci.

	* lib/pytis/form/list.py (BrowseForm._PrintResolver): Bu potomkem
	lib.output.OutputResolver; kompletn pepracovno.
	(BrowseForm._on_print_): Zohlednna pedchoz zmna.

	* lib/pytis/util/resolver.py (ProxyResolver): Nov tda.
	(ResolverModuleError.__init__): Opraven peklep ve voln
	konstruktoru pedka.
	(ResolverSpecError.__init__): Npodobn.

	* lib/pytis/output/__init__.py: Importuj `resolver'.

	* lib/pytis/output/resolver.py: Nov modul.

	* lib/pytis/data/xtypes.py (Codebook._export): Opraveno chovn pro
	'column' nen None.
	(Codebook._row_values): Zruena minul zmna.

2002-11-08  Milan Zamazal  <pdm@brailcom.org>

	* templates/template.py: Odstrann import lib.util.

2002-11-08  Milan Zamazal  <pdm@brailcom.org>

	* templates/template.py: Odstrann import lib.util.

2002-11-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/caching.py (_Cache.__init__): Nov argument
	`validator' a atribut `_validator'.
	(_Cache.__getitem__): Pouvej `_validator'.

	* lib/pytis/form/output.py (PrintForm.__init__): Oprava odkazu
	vdocstringu.
	* lib/pytis/form/form.py (Form.__init__): Oprava odkazu
	vdocstringu.

	* lib/pytis/form/list.py (ListForm.__init__): Oprava odkazu
	vdocstringu.
	(BrowseForm._PrintResolver): Bu potomkem Resolver.

	* lib/pytis/form/application.py (run_application): Msto Resolver
	vytvej FileResolver.

	* lib/pytis/remote/server.py (_PyroResolver): Bu potomkem FileResolver.

	* lib/pytis/util/resolver.py (Resolver): Rozdleno na tdy Resolver a
	FileResolver.  Pepracovna dokumentace i implementace.
	(FileResolver): Nov tda.
	(ResolverModuleError): Nov tda.
	(ResolverFileError): Bu jejm potomkem.
	(ResolverFileError.__init__): Zohlednna pedchoz zmna, doplnn
	docstring.
	(ResolverSpecError.__init__): Prohozeno poad argument, doplnn
	docstring.
	(Resolver.get_object): Zohlednna pedchoz zmna.
	(Resolver.get_object, Resolver.get_instance, Resolver.get):
	`spec_name' mus bt neprzdn string.
	(Resolver): Vyuvej cachovac objekty zlib.util.
	(Resolver._get_object, Resolver._get_spec): Nov metody.

	* lib/pytis/output/formatter.py: Neimportuj lib.util.
	(LoutFormatter._ok_resolver, LoutFormatter._resolve): Msto
	resolver.get volej resolver.get_object.
	(LoutFormatter._font, LoutFormatter.__init__): Atribut `_body'
	zmnn na `_body_func'.
	(LoutFormatter._process): Volej `_body_func', nepodmnn,
	apedvej i`_output_resolver'.

	* lib/pytis/output/exception.py: Neimportuj lib.util.

	* lib/pytis/output/__init__.py: Importuj lib.util.
	Importuj data.

	* lib/pytis/output/markup.py:	Neimportuj lib.util.
	(DataTable, DataItem): Zrueno.

	* lib/pytis/output/data.py: Nov modul.

2002-11-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (ViewSpec.__init__): Update dokumentace.

	* lib/pytis/form/list.py (BrowseForm.__init__): Namsto nastavovn
	callback na metody `_on_descr_record()', `_on_show_record()' a
	`self._on_edit_record()' pouvej rovnou lambda funkci volajc
	`run_form()'.
	(BrowseForm._redirected_name): Nov metoda.
	(BrowseForm._on_new_record): Update komente.
	(BrowseForm._on_edit_record, BrowseForm._on_show_record)
	(BrowseForm._on_new_record): Zrueno.

2002-11-06  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/form/screen.py (WxKey.__init__): Pidno `Tab'.

	* lib/pytis/form/command.py: Definovn zpis pro klvesu Tab.

2002-11-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/xtypes.py (Codebook._row_values): Pokud `columns' nen
	sekvence, neprovdj mapovn, ale vra rovnou odpovdajc hodnotu.

	* lib/pytis/form/command.py: Nov pkaz
	`List.COMMAND_FULL_INCREMENTAL_SEARCH'.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Oprava chyby v indentaci.

2002-11-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form.__init__): Nastav `_guardian' ped
	volnm konstruktoru KeyHandler.

	* lib/pytis/form/command.py (List.COMMAND_INCREMENTAL_SEARCH): Nov
	pkaz.

	* lib/pytis/form/list.py (List._IncrementalSearch._search): Pidna
	podpora pro full hledn.
	(List._IncrementalSearch.__init__): Nov argument `full'.
	(List._on_incremental_search): Npodobn.
	(List.on_command): Pidna podpora pro full inkrementln
	hledn.  Zredukovno mnostv returns.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_validate_codebook):
	Nov metoda.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Codebooks validuj
	pes cache.
	(DBDataPostgreSQL._pg_codebook_cache): Nov atribut.

	* lib/pytis/util/caching.py (LimitedCache): Vyuvej lib.util.Counter.
	Opravena spousta pitomch chyb.
	(_Cache): Bu potomkem `object'.  Opravena spousta pitomch chyb.

	* lib/pytis/data/__init__.py: Importuj xtypes.

	* lib/pytis/data/xtypes.py: Nov modul.

	* lib/pytis/data/types_.py (Enumeration): Pejmenovno na
	FixedEnumeration.  Bu potomkem (novho) Enumeration.
	(Enumeration): Nov tda.
	(Boolean): Enumeration -> FixedEnumeration.
	(Codebook): Kompletn pepracovno, nen ji potomkem
	FixedEnumeration, nyn stahuje veker data pouze na vydn.
	(MutableType): Nov tda.
	(Codebook): Podd ji.
	(Type.default_value): Metoda sm vracet iNone.  Nelze-li
	zvalidovat None, vra None.
	(FixedEnumeration.VM_INVALID_VALUE)
	(FixedEnumeration._VALIDATION_MESSAGES): Pesunuto do Enumeration.
	(Codebook.get): Pejmenovno na `data_value'.
	(Codebook): Pesunuto do xtypes.py.
	(Type.__cmp__): Pednostn porovnvej tdy objekt.
	(Value.export, Float.__init__, DateTime._export): Porovnn na
	None provdj pes `is'.

2002-11-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (FrameList): Nov tda (prototyp).

	* lib/pytis/form/inputfield.py (ListField._set_value): Update
	docstringu.
	(ListField._set_value): Namsto `RefSpec.sort' pouvej
	`RefSpec.sorting'.

	* lib/pytis/presentation/field.py (RefSpec.__init__): Argument `sort'
	zmnn na `sorting'.
	(RefSpec.sort): Pejmenovno na `sorting'.

	* lib/pytis/form/list.py (List.__init__): prava docstringu.
	(ListForm.__init__): Vchoz tdn nezskvej pes resolver, ale
	ze specifikace (`self._view').

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nov argument `sorting'.
	(ViewSpec.sorting): Nov metoda.
	(ViewSpec.__init__): Nov argument `redirect'.
	(ViewSpec.field): Update docstringu.
	(ViewSpec.layout): Update docstringu.
	(ViewSpec.title): Update docstringu.
	(ViewSpec.redirect): Nov metoda.

2002-11-05  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._pg_query): Zru podporu
	PgInt8.

2002-11-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/test.py (TestSuite.add): Volej pouze pmo definovan
	testovac metody, ne poddn.

	* lib/pytis/util/_test.py (Classes.check_direct_public_members): Nov test.

	* lib/pytis/util/util.py (is_): Nov funkce.
	(direct_public_members): Nov funkce.

	* lib/pytis/data/_test.py
	(DBDataDefaultClass.check_select_fetch_direction): Volej
	`fetchone' sklovanm argumentem `direction'.
	(DBMultiData.check_select_fetch_direction)
	(DBDataFetchBuffer._check_skip_fetch): Npodobn.
	(DBMultiData.check_search): Npodobn pro `search'.
	(DBDataFetchBuffer._check_skip_fetch): Npodobn pro `skip'.
	(Codebook): Pidno do `tests'.
	(Codebook.setUp): Do Codebook pedvej DataFactory, ne MemData.
	(Codebook.check_validate, Codebook.check_export): Nov testy.
	(Codebook.check_cmp): Nov zruen testu.

	* lib/pytis/util/caching.py (_Cache.reset): Nov metoda.
	(LimitedCache.reset): Nov metoda.
	(LimitedCache._collect): Vyuvej ji.

2002-11-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.Show): Nenastavuj
	`self._active_form' na `self._main_form'.
	* lib/pytis/form/command.py: Pro `Application.COMMAND_EXIT' nenastavuj
	`access_groups'.

2002-11-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.Close): Vracej nvratovou hodnotu
	voln `splitter.Close()'.

	* lib/pytis/form/application.py (current_form): Vyuvej metodu
	`Application.top_window()'.

	* lib/pytis/form/form.py (Form.resolver): Zrueno.

2002-10-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._on_new_record)
	(BrowseForm._on_edit_record, BrowseForm._on_show_record)
	(BrowseForm._on_descr_record, BrowseForm._on_print_): Namsto
	metody `Application.run_form()' vyuvej funkci `run_form()'.

	* lib/pytis/form/inputfield.py (ListField.on_command)
	(ListField.on_command): Namsto metody `Application.run_form()'
	vyuvej funkci `run_form()'.

	* lib/pytis/form/dualform.py (BrowseDualForm._on_show_record): Namsto
	metody `Application.run_form()' vyuvej funkci `run_form()'.

	* lib/pytis/form/application.py (Application): Kompletn pepsn
	neaktulnho docstringu.
	(Application._title, Application._menu, Application._buttons)
	(Application._status_fields, Application._command_keys)
	(Application._default_font_coding): Metody zrueny.
	(Application.OnInit): Namsto zruench metod pouvej rovnou
	`self._spec()'.  Nzev souboru s obrzkem loga zskvej tak ze
	specifikace a nespch loguj.  Neinicializuj `_buttonbar'.

2002-10-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/__init__.py: Importuj `caching'.

	* lib/pytis/util/caching.py: Nov modul.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Po proveden akc zaosti pvodn zaosten okno.

	* lib/pytis/form/screen.py (focused_window): Nov funkce.

	* lib/pytis/form/list.py (List._IncrementalSearch._on_key_down): Nech
	hledn je mono zruit iklvesou Escape.

2002-10-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (Menu.__init__): Nov atribut
	`_access_groups'.
	(MenuBar.activate): Vppad nastaven access groups znovu vytvo
	iaktivn menu.
	(MenuBar.__init__): Menu pidvej do `_menus' nepodmnn.
	(MenuBar.activate): Zohleduj, e aktivan tda me bt None.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search): `forwards'
	neodvozuj z`direction', nbr ho zadvej natvrdo.

	* lib/pytis/form/list.py (List._IncrementalSearch._exit): Argument `row'
	nahrazen argumentem `rollback'.
	(List._IncrementalSearch._on_key_down): Zohlednna pedchoz
	zmna.

2002-10-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (List.COMMAND_EDIT): prava docstringu.

	* lib/pytis/form/inputfield.py (resolve): `ListBoxField' a
	`RadioBoxField' pouij pouze pokud nejde o `inline' reim.
	(ListBoxField._create_controls): Konstruktoru `wx.wxListBox'
	nepedvej nepovinn argumenty.

	* lib/pytis/form/list.py (List._create_edit_popup_menu): prava menu.
	(BrowseForm._popup_menu): prava menu.

	* lib/pytis/form/screen.py (Menu.create): Kosmetick pravy.

2002-10-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._do_search): Nov metoda.
	(List._on_search): Vyuvej ji.
	(List._IncrementalSearch._search): Doimplementovno.
	(List._IncrementalSearch._back): Nastav po zmn textu kurzor na
	konec.
	(List._IncrementalSearch._on_key_down): Kluj argument `_search'.
	(List._IncrementalSearch._search): Nov argument `newtext'.
	(List._IncrementalSearch._on_text): Nastavuj ho.
	(List._IncrementalSearch.__init__): Nastavuj `_rows' na przdn
	seznam.

	* lib/pytis/data/types_.py (Enumeration.default_value): Zruen ujet
	docstring.

2002-10-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.GetValue): Nevracej nevalidn
	hodnotu, i kdyby existovala.
	(List._ListTable.SetValue): Nenastavuj `edited.invalid_col' a
	`edited.invalid_string'.
	(List._ListTable.get_invalid_string): Nov metoda.
	(List._ListTable.set_invalid_string): Nov metoda.
	(List._ListTable._EditedRow.__init__): Atribut `invalid_string'
	inicializuj na 'None', nikoliv na przdn etzec.
	(_InputFieldCellEditor.BeginEdit): Pokud existuje nevalidn
	hodnota, nastav ji v polku.
	(_InputFieldCellEditor.EndEdit): Nepouvej
	`InputField.validate()', ale sm zvaliduj hodnotu a pi chyb
	zobraz zprvu ve stavovm dku.  O nevalidn hodnot dej vdt
	gridov tabulce (metoda `set_invalid_string()').

2002-10-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (WxKey.__init__): Pidno Backspace.

	* lib/pytis/presentation/field.py (FieldSpec.__str__): Pidno chybjc
	%s na label.

	* lib/pytis/form/list.py (List.on_command): Pidna podpora pro
	List.COMMAND_INCREMENTAL_SEARCH.
	(List._on_incremental_search): Nov metoda.
	(List._IncrementalSearch): Nov tda.

	* lib/pytis/form/command.py: Do docstringu pidna specifikace zpisu
	klvesy Backspace.
	(List.COMMAND_INCREMENTAL_SEARCH): Nov pkaz.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS): Zruen
	BulletList.
	(LoutFormatter._format_list): Pidna podpora pro argument `mark'.
	(LoutFormatter._format_bullet_list): Zrueno.
	(LoutFormatter._format_data_table): Do presentovanho dku
	pedvej msto sla sloupce jeho id.

	* lib/pytis/output/markup.py (BulletList): Zrueno.
	(List.NUMBER_MARK, List.BULLET_MARK, List.KWARGS): Nov konstanty.

2002-10-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (_is_user_event): Nech wx.wxCommandEventPtr
	je uivatelsk udlost, nikoliv vak grid.wxGridEventPtr.
	(wx_callback.process_event): Nuluj message pouze pro uivatelsk
	udlosti.

	* lib/pytis/form/screen.py (Menu.create): Opraveno zjiovn pznaku
	pstupu kpkazu.

2002-10-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog._create_dialog_elements):
	Namsto podmnnho nastaven `EVT_SET_FOCUS' callbacku na
	`self._focus_default_button' nastavuj vdy na `self._on_set_focus'.
	(GenericDialog._focus_default_button): Zrueno.
	(GenericDialog._on_set_focus): Nov metoda.
	(Calendar._create_content): Pokud je datum przdn etzec,
	nastavuj dnen datum. 
	(Calendar._on_set_focus): Nov metoda.

2002-10-25  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Software): Pidn odkaz na zdroj
	softwaru na devel.brailcom.org.

2002-10-25  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Software): Pidn odkaz na zdroj
	softwaru na devel.brailcom.org.

2002-10-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (Menu.create): Aktivuj pouze ty poloky menu,
	kjejich pkazu je povolen pstup.

	* lib/pytis/form/list.py (List.Close): Uzavrej datov select.

	* lib/pytis/data/dbdata.py (_DBConnectionPool.__del__): Nov metoda.
	(DBDataPyPgSQL._PgNotifier._register, _pypg_new_connection) 
	(_pypg_query): Dojde-li bhem DB dotazu kchyb, zru spojen.
	(PostgreSQLUserGroups.access_groups): Doplnn docstring.

2002-10-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._select_cell): `MakeCellVisible()' volej
	a po `select_row()'.
	(List.select_row.set): Po pechodu nezviditeluj prvn sloupec,
	ale aktuln sloupec.

2002-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_locking_process):
	Odchytvej DBException pi obnov zmku.

	* lib/pytis/form/form.py (Form._create_data_object): Nech `data_spec'
	sm bt ilib.remote.RemoteDataFactory.

	* ebas (run_application.ClientResolver.get): Zruen argument
	`assert_class'.

	* lib/pytis/remote/server.py (_PyroDataFactory.create): Zklientsk
	specifikace spojen pouij pouze login a heslo.

	* lib/pytis/data/types_.py (Type._VALIDATION_MESSAGES): Nov atribut.
	(Type.__init__): Zruen argument `validation_message', nov
	argument `validation_messages'.
	(Type._validation_error): Nov metoda.
	(Integer.VM_NONINTEGER, Float.VM_INVALID_NUMBER)
	(DateTime.VM_DT_FORMAT, DateTime.VM_DT_VALUE)
	(String.VM_STRING_TOO_LONG, Enumeration.VM_INVALID_VALUE)
	(Codebook.VM_PARTIAL_VALIDATION): Nov atributy.
	(Integer._validate, Float._validate, String._validate_maxlen)
	(DateTime._validate, Enumeration._validate)
	(Sequence.VM_NONTUPLE, Sequence.VM_ARG_NUMBER)
	(Codebook.validate_partial, Sequence._validate): Pouvej
	`_validation_message'.  Kosmetick pravy.
	(Integer._VALIDATION_MESSAGES, Float._VALIDATION_MESSAGES)
	(String._VALIDATION_MESSAGES, DateTime._VALIDATION_MESSAGES)
	(Enumeration._VALIDATION_MESSAGES, Codebook._VALIDATION_MESSAGES)
	(Sequence._VALIDATION_MESSAGES): Nov atributy.
	(Codebook._update_enumeration): Vracej, zda byl update proveden.
	(Codebook.validate_partial, Codebook._validate, Codebook._export):
	Volej `_update_enumeration' nadvakrt (podruh s`force'), je-li
	teba.
	(Codebook.get): Nevolej `_update_enumeration'.

2002-10-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py: Nov pkaz `List.COMMAND_FINISH_EDITING'.

	* lib/pytis/form/list.py (List._on_cell_commit.move_right): Nepedvej
	lokln promnn jako klov argumenty.
	(List.on_command): Oetuj pkaz `List.COMMAND_FINISH_EDITING'.
	(_create_edit_popup_menu): Pouvej `List.COMMAND_FINISH_EDITING'
	namsto `List.COMMAND_LINE_ROLLBACK'.
	(List._on_insert_line): Pokud je prvn buka needitovateln,
	pejdi automaticky na prvn editovatelnou.
	(List._is_editable_cell): Nov metoda.
	(List._find_next_editable_cell): Nov metoda.
	(List._on_cell_commit.move_right): Zrueno.
	(List._on_cell_commit): Namsti `move_right()' pouvej
	`self._find_next_editable_cell()'.

2002-10-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (_pypg_new_connection): Odstranny zapomenut
	prints.

	* lib/pytis/form/inputfield.py (CodeBookField._create_widget): Odstrann
	zapomenut print.

	* lib/pytis/form/search.py (SortingDialog._create_content): Pidn
	assert na pozici sloupce.
	(SortingDialog._create_content): Neodkazuj se na neexistujc
	atributy `_colsel' a `_dirsel', pouvej lokln promnn.

	* lib/pytis/form/spec.py (ViewSpec.field): Pokud dan polko
	neexistuje, vra None.

	* lib/pytis/form/list.py (List._ListTable.__init__): Nov atribut
	`_font_cache'.
	(List._ListTable._make_attr): Cachuj fonty.
	(ListForm.__init__): Do `default_sorting' zaazuj pouze ty sloupce
	kle, kter jsou mezi polky.  Kosmetick pravy.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm): Nov tda.
	(SideBrowseDualForm, DescriptiveDualForm): Bu jejm potomkem.
	(SideBrowseDualForm._SELECTION_TICK, SideBrowseDualForm._on_idle)
	(SideBrowseDualForm._on_selection): Pesunuto do
	PostponedSelectionDualForm.
	(SideBrowseDualForm._create_side_form): st inicializac
	pesunuta do PostponedSelectionDualForm.
	(BrowseDualForm._create_main_form)
	(ShowDualForm._create_main_form): _on_selection ->
	_on_main_selection.
	(DescriptiveDualForm._on_main_selection): Zrueno.
	(DescriptiveDualForm._do_selection): Nov metoda.
	(SideBrowseDualForm._do_selection): st kdu pesunuto do metody
	pedka; volej ji.

	* lib/pytis/form/application.py (Application.OnInit): Ped zobrazenm
	loga testuj, zda existuje.
	(Application._on_frame_size): Pracuj s`_logo' jen nen-li None.

2002-10-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Nevytvej `self._index'.  `self._columns' vytvej jako slovnk.
	(PresentedRow._init_row.genval): Namsto `self._index' pouvej
	rovnou `self._columns'.
	(PresentedRow._key2col): Zrueno.
	(PresentedRow.__getitem__): Nech argument `key' sm bt pouze
	etzcov identifiktor.
	(PresentedRow.__setitem__): Nech argument `key' sm bt pouze
	etzcov identifiktor.
	(PresentedRow.__str__): Namsto `self._columns' prochzej
	`self._fieldspec'.
	(PresentedRow.format): Nech argument `key' sm bt pouze
	etzcov identifiktor.
	(PresentedRow.has_key): Namsto `self._index' pouvej
	`self._columns'.
	(PresentedRow.editable): Nech argument `key' sm bt pouze
	etzcov identifiktor.
	(PresentedRow.check): Namsto `self._columns' prochzej
	`self._fieldspec'.

2002-10-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._formatter_data): Pidno
	lib.output.Formatter.DATA.

	* lib/pytis/output/formatter.py (LoutFormatter.__init__): Argument
	`data_specs', resp. atribut `_data_specs', pejmenovn na
	`parameters', resp. `_parameters'.  Definovna pravidla pro tento
	argument.
	(LoutFormatter.printout, LoutFormatter.preview)
	(LoutFormatter._process, LoutFormatter._lout): Zruen argument
	`parameters'.
	(LoutFormatter.DATA_KEY, LoutFormatter.DATA_ROW)
	(LoutFormatter.DATA_CONDITION, LoutFormatter.DATA_SORTING): Ped
	hodnotu pipojena dv podtrtka.
	(LoutFormatter.DATA): Nov atribut.
	(LoutFormatter._format_data_table): Zmnno konfliktn jmno
	promnn cyklu.

2002-10-18  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Oprava
	indentace.

	* lib/pytis/data/types_.py (Codebook.validate_partial): Pi validaci
	selnkov hodnoty vynucuj '_update_enumeration()' - doasn
	een.

	* lib/pytis/form/dualform.py
	(SideBrowseDualForm._on_selection._do_selection): Nastavuj sprvn
	bindcol a side_bindcol.

2002-10-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (CodeBookSpec): Nov tda.
	(FieldSpec.__init__): Zmna dokumentace argumentu `codebook'.
	Pidn assert na `codebook' jako instanci `CodeBookSpec'.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nech argument `columns'
	me bt pouze sekvence (nebo None). Zmna dukomentace.
	(ViewSpec.columns): Zruen argument `id'.
	(DualSpec.__init__): Nov argument `side_columns'.
	(DualSpec.side_columns): Nov metoda.

	* lib/pytis/form/list.py (ListForm.__init__): Nov klov argument
	`columns'.  Pokud je dn, vytvo seznam sloupc podle nj.
	(ListForm._columns): Zrueno.
	(CodeBook): prava dokumentace.
	(CodeBook.__init__): Zruen argument `id'.  Nov argument
	`columns'.  V dokumentaci nepopisuj argumenty rodiovsk tdy.
	(CodeBook._columns): Zrueno.
	(BrowseForm.__init__): Namsto vyjmenovvn argument pouze
	pedvej `*args' a `**kwargs'.
	(FilteredBrowseForm.__init__): Klov argumenty pedvej jako
	`**kwargs'.
	(SideBrowseForm.__init__): Nov klov argument `columns'.
	(SideBrowseForm._columns): Zrueno.

	* lib/pytis/form/inputfield.py (CodeBookField): prava dokumentanho
	etzce.
	(CodeBookField._create_widget, CodeBookField._on_invoke_selection)
	(CodeBookField._validation_error_handler): Vyuvej specifikace
	selnku jako instance `CodeBookSpec'.
	(ListField._create_controls): Kosmetick pravy.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Pedvej konstruktoru `SideBrowseForm' argument `columns'.

2002-10-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.get): Zruen argument
	`assert_class'.  Klov argumenty pedvej voln specifikan
	funkce.  Kl chache nech zahtnuje tak klov argumenty.

	* lib/pytis/form/dualform.py (DualForm._create_view_spec): Nepedvej
	metod `Reseolver.get()' argument `assert_class'.  Provdj assert
	na tdu vrcen instance.

	* lib/pytis/form/form.py
	(Form._create_view_spec, Form._create_data_object): Nepedvej
	metod `Reseolver.get()' argument `assert_class'.  Provdj assert
	na tdu vrcen instance.

2002-10-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter.preview) 
	(LoutFormatter.printout, LoutFormatter._lout) 
	(LoutFormatter._process): Nov argument `parameters'.
	(LoutFormatter._MARK_PROCESSORS): Pidno List.
	(LoutFormatter._format_list): Nov metoda.
	* lib/pytis/output/markup.py (List): Nov znaka.
	(BulletList): Nov znaka.

	* lib/pytis/util/util.py (Popen.__init__): w_from_child uzavrej jen
	pokud je instanc `int'.
	(flatten): Nov funkce.
	* lib/pytis/util/_test.py (ListUtils): Nov sada test.
	(RemoveDuplicates, Some): Pesunuto do ListUtils.
	(ListUtils.check_flatten): Nov test.

	* lib/pytis/presentation/field.py: Neimportuj lib.remote.
	(PresentedRow.__init__): Zakomentovno assert na argument `data'.

2002-10-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__str__): Nov metoda.

	* lib/pytis/form/list.py (List._ListTable.row): prava dokumentanho
	etzce.
	(List._edit_cell, List._on_cell_commit.move_right): Pi voln
	`PresentedRow.editable()' pedvej identifiktor, namsto sla
	sloupce.

	* lib/pytis/form/dialog.py (db_operation): Zpracuj sprvn nvratovou
	hodnotu pihlaovacho dialogu.

2002-10-15  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (): Zmna rih na localhost.

2002-10-15  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm): Pro _SELECTION_TICK
	pouij 0.2s.

2002-10-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_user_config_file.default): Nehavaruj,
	nen-li definovno `config_file'.

2002-10-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._selected_condition): `dialog()' ->
	`run_dialog'.

	* lib/pytis/form/output.py (PrintForm.__init__): Zruen argument
	`frame_stack'.
	(PrintForm.run): Zrueno.

	* lib/pytis/form/list.py (List._create_grid):
	`self._parent._on_leave_form()' volej bez argument.
	(List._current_key, List._switch_sorting, List._finish_editing)
	(List._on_search, List._on_search, List._on_filter)
	(List._on_edit, List._on_line_commit, List._on_cell_commit)
	(List.exit_check): `dialog()' -> `run_dialog'.
	(ListForm.__init__): Zruen argument `frame_stack'.
	(CodeBook): Update dokumentace.
	(CodeBook.__init__): Zruen argument `frame_stack'.  Zruen
	atribut `self._returned_values' (pouvej `self._result', jako v
	nadtd).
	(CodeBook._on_activation): Namsto `self._returned_values'
	pouvej `self._result'.
	(CodeBook.run): Zrueno.
	(BrowseForm.__init__): Zruen argument `frame_stack'.
	(FilteredBrowseForm.__init__): Zruen argument `frame_stack'.
	(SideBrowseForm.__init__): Zruen argument `frame_stack'.

	* lib/pytis/form/inputfield.py (InputField.validate): `dialog()' ->
	`run_dialog'.
	(DateField._on_invoke_selection): `dialog()' -> `run_dialog'.
	(CodeBookField._validation_error_handler): Namsto
	`Application.dialog()' pouvej funkci `run_dialog()'. (Nevyuvej
	`lib.form.application._application').

	* lib/pytis/form/form.py (Form.__init__): Zruen argument `frame_stack'.
	(Form._on_leave_form): Nevkldej okno na framestack, penech to na
	aplikaci.
	(Form.frame_stack): Zrueno.
	(Form.run): Zrueno.
	(PopupForm._on_leave_form): Neodchytvej vjimky.
	(PopupForm.run): Neloguj a nevkldej okno na framestack.
	(EditForm.__init__): Zruen argument `frame_stack'.
	(EditForm._lock): `dialog()' -> `run_dialog'.
	(EditForm._edit_update): `dialog()' -> `run_dialog'.
	(EditForm._signal_update): Nesahej na framestack, pouvej funkci
	`current_form()'.
	(EditForm._find_row): `dialog()' -> `run_dialog'.
	(EditForm.exit_check): `dialog()' -> `run_dialog'.  Nevolej
	`refresh()' na vrchn okno z fraestacku.
	(EditForm.run): Zrueno.
	(BrowsableShowForm._on_search): `dialog()' -> `run_dialog'.
	(BrowsableShowForm._on_search): `dialog()' -> `run_dialog'.
	(BrowsableShowForm._on_select_filter): `dialog()' -> `run_dialog'.
	(BrowsableShowForm._on_sort_column): `dialog()' -> `run_dialog'.

	* lib/pytis/form/event.py (top_level_exception): `dialog()' ->
	`run_dialog'.

	* lib/pytis/form/dualform.py (DualForm.__init__): Zruen argument
	`frame_stack'.
	(SideBrowseDualForm._create_side_form): Nepedvej `frame_stack'.
	(BrowseDualForm._create_main_form): Nepedvej `frame_stack'.
	(ShowDualForm._create_main_form): Nepedvej `frame_stack'.
	(DescriptiveDualForm._create_main_form): Nepedvej `frame_stack'.
	(DescriptiveDualForm._create_side_form): Nepedvej `frame_stack'.

	* lib/pytis/form/dialog.py: Zruen import z `application'.
	(Login): Nov tda.
	(db_operation): `dialog()' -> `run_dialog'.
	(delete_record): `dialog()' -> `run_dialog'.
	(db_operation): Namsto dialogu `Password' pouvej dialog
	`Login'.
	(db_operation): Importuj `config' ped zobrazenm `Login' dialogu.

	* lib/pytis/form/application.py (current_form): Nov funkce.
	(leave_form): Nov funkce.
	(run_form): Nov funkce.
	(dialog): Pejmenovno na `run_dialog'.
	(Application.dialog): Pejmenovno na `run_dialog'.
	(Application.run_form): Update dokumentace.  Nepedvaj
	konstruktoru formule argument `frame_stack'.  `dialog()' ->
	`run_dialog'.  Vytvoen formul sm pidvej na framestack a
	loguj.  Modln formule tak spus metodou `run()' a po skonen
	je zase odstra z framestacku.
	(Application._exit): `dialog()' -> `run_dialog'.

2002-10-15  Miroslav Macek  <macek@asellus.cz>

	* icons/isas/logo.bmp: Nov logo.

2002-10-15  Miroslav Macek  <macek@asellus.cz>

	* icons/isas/logo.bmp: Nov logo.

2002-10-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_user_config_file.default): Odvozuj
	implicitn hodnotu zvolby `config_file'.
	(Configuration.__getattr__): Neprovdj reload pro `name'
	`config_file' a `user_config_file'.

2002-10-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataDefaultClass.access_groups): Nov
	metoda.

2002-10-12  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/AccessRights (Doplujc poznmky): Pidna
	poznmka onutnosti restartu spojen po zmn skupin uivatele.

2002-10-12  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/AccessRights (Doplujc poznmky): Pidna
	poznmka onutnosti restartu spojen po zmn skupin uivatele.

2002-10-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py (RestrictedData._check_access_columns)
	(RestrictedData._access_filter_row)
	(RestrictedData._access_groups): Zohlednny zmny zjiovn
	skupin.

	* lib/pytis/data/dbdata.py (DBDataDefaultClass._access_groups): Zrueno.
	(DBDataDefaultClass.__init__): Zruen atribut
	`_access_current_groups'.
	(PostgreSQLAccessRights): Nov tda.
	(DBDataDefaultClass): Bu potomkem PostgreSQLAccessRights.
	(_pypg_new_connection): Nov argument `data'.
	(DBDataPyPgSQL._pypg_new_connection): Zohlednna pedchoz zmna.
	(_pypg_query): Nov argument `data'.
	(DBDataPyPgSQL._pg_query): Zohlednna pedchoz zmna; nov
	argument `group_update'.
	(_DBConnectionPool.get): Nov argument `data'.
	(DBDataPyPgSQL._pypg_get_connection): Zohlednna pedchoz zmna.

2002-10-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (set_status): Loguj na rovni DEBUG.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._SELECTION_TICK): Nov
	konstanta.
	(SideBrowseDualForm._create_side_form): Nov atribut
	`_selection_candidate'.  Registruj idle callback.
	(SideBrowseDualForm._on_selection): Neprovdj selekci, pouze ulo
	parametry.
	(SideBrowseDualForm._do_selection): Nov metoda.
	(SideBrowseDualForm._on_idle): Nov metoda.
	(DualForm._select_form): Nov argument `force'.

2002-10-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py: Importuj ve z `application'.

	* lib/pytis/form/list.py (List.__init__): Pidn assert na typ argumentu
	`select_row'.
	(List.__init__): Assert zuen... 
	(List.__init__, List._select_cell_command): Namsto `self._position'
	pouvej `self._current_row()' pi voln `set_status()'.

	* lib/pytis/form/inputfield.py (resolve): Datov typ `lib.data.Number'
	mapuj na tdu `NumericField'.
	(InputField): Nech je potomkem `object'.
	(TextField._text_control_style): Nov metoda.
	(TextField._create_text_control): Vyuvej ji.
	(TextField._create_text_control): Nava udlost
	`wx.EVT_TEXT_MAXLEN' na metodu `self._on_maxlen()'.
	(TextField._on_maxlen): Nov metoda.
	(NumericField): Nov tda.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form)
	(BrowseDualForm._create_main_form)
	(DescriptiveDualForm._create_main_form): Nepedvej konstruktoru
	`SideBrowseForm' klov argument `select_row'.

2002-10-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._selected_condition): Pro zobrazen
	dialogu vyuvej funkce `dialog()'.

	* lib/pytis/form/screen.py (KeyHandler.on_key_down): Pro zobrazen
	dialogu vyuvej funkce `dialog()'.
	(StatusBar.message): Nepedvej lokln promnn jako klov
	argumenty lambda funkci.

	* lib/pytis/form/list.py (_DBOP): Zrueno.
	(List._ListTable._get_row, List._ListTable.rewind)
	(List._create_grid, List._on_edit, List._on_delete_line)
	(List._on_line_commit, List.select_row)
	(BrowseForm._on_edit_record): Namsto `_DBOP' vyuvej pmo
	`db_operation' (a nepedvej zruen argument `parent').
	(List.__init__): Inicializuj atribut `_edit_popup_menu' volnm
	metody `_create_edit_popup_menu()'.
	(List._create_edit_popup_menu): Nov metoda.
	(List._current_key, List._switch_sorting, List._finish_editing)
	(List._on_search, List._on_search, List._on_filter)
	(List._on_edit, List._on_line_commit, List._on_cell_commit)
	(List.exit_check): Pro zobrazen dialogu vyuvej funkce
	`dialog()'.
	(List._on_label_right): Netestuj verzi wxWindows.
	(List._on_popup_menu): Pokud jsme v editaci, zobraz
	`self._edit_popup_menu'.  Netestuj verzi wxWindows.
	(List._select_cell_command): Volej `set_status()'.
	(List._on_delete_line): Funkci `delete_record()' nepedvej
	argument `parent'.
	(List._on_delete_line): Namsto `Application.message()' volej
	funkci `message()'.
	(List._on_line_commit): Volej `PresentedRow.check()' a v ppad
	chyby pejdi na polko, kde k chyb dolo.
	(List._on_line_commit): Namsto `Application.message()' volej
	funkci `message()'.
	(List.select_row.find): Nepedvej lokln promnn jako klov
	argumenty.
	(ListForm.status_fields): Nov metoda.
	(List.__init__): Zobraz pozici volnm `set_status()'.
	(ListForm.status_fields): Pidno TODO.

	* lib/pytis/form/inputfield.py (InputField.validate)
	(DateField._on_invoke_selection): Pro zobrazen dialogu vyuvej
	funkce `dialog()'.

	* lib/pytis/form/form.py (_DBOP): Zrueno.
	(Form.status_fields): Nov metoda.
	(Form._create_data_object, EditForm._lock, EditForm._unlock)
	(EditForm._edit_insert, EditForm._edit_update)
	(EditForm._edit_delete, EditForm._find_row)
	(BrowsableShowForm._on_next_record)
	(BrowsableShowForm._on_set_row): Namsto `_DBOP' vyuvej pmo
	`db_operation' (a nepedvej zruen argument `parent').
	(EditForm._lock, EditForm._edit_update, EditForm._find_row)
	(EditForm.exit_check, BrowsableShowForm._sf_dialog)
	(BrowsableShowForm._on_search, BrowsableShowForm._on_search)
	(BrowsableShowForm._on_select_filter)
	(BrowsableShowForm._on_sort_column): Pro zobrazen dialogu
	vyuvej funkce `dialog()'.
	(EditForm._edit_delete): Funkci `delete_record()' nepedvej
	argument `parent'.
	(BrowsableShowForm._on_set_row.get_it): Nepedvej lokln
	promnn jako klov argumenty.
	(BrowsableShowForm._sfs_columns): Seznam sloupc pro voln
	`sfs_columns' mapuj na seznam jejich specifikac.
	(BrowsableShowForm._on_search): Vyhledvacmu dialogu nepedvej
	argument `direction'.

	* lib/pytis/form/event.py (top_level_exception): Pro zobrazen dialogu
	vyuvej funkce	`dialog()'.
	
	* lib/pytis/form/dialog.py (GenericDialog.run): Neumsuj okno na
	framestack aplikace, to a dl aplikace sama.  Pouze vytvo a
	spus dialog.
	(db_operation): Zruen argument `parent'.  Vyuvej funkce
	`dialog()'.
	(delete_record): Zruen argument `parent'.  Vyuvej funkce
	`dialog()'.

	* lib/pytis/form/application.py (dialog): Nech prvn argument me bt
	i instance, ne jen tda dialogu.  Dialog pdvej na framestack,
	namsto pouhho sputn metody `run()'.
	(Application.message): Zrueno (nahrazeno `set_status()').
	(Application.set_status): Nov metoda.
	(message): Vyuvej `Application.set_status()'.
	(set_status): Nov funkce.
	(dialog): Nov funkce.

2002-10-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (Form._create_view_spec): Na `ViewSpec'
	se odkazuj pmo, ne pes `spec.ViewSpec'.
	(Form._create_data_object): Zskn datov specifikace neprovdj
	es `_DBOP'.

	* lib/pytis/form/dualform.py (DualForm._create_view_spec): Na `DualSpec'
	se odkazuj pmo, ne pes `spec.DualSpec'.

	* lib/pytis/presentation/_test.py (PresentedRow.check_callback): Nov test.

	* lib/pytis/presentation/field.py (PresentedRow._mark_dependent_dirty):
	Nov metoda (rekurzivn).
	(PresentedRow.__setitem__): Vyuvej ji.
	(PresentedRow._invoke_callbacks): Seznam kl sestav jet ped
	iterac pomoc `filter()'.
	(Computer.__init__): Aktualizace dokumentanho etzce.
	(FieldSpec.__init__): Aktualizace dokumentanho etzce.

	* lib/pytis/form/inputfield.py (InputField.__init__): Inicializuj
	atribut `_is_changed'.
	(InputField._on_change): Argument `notify' zruen, argument
	`event', nech je povinn.  Namsto validace a voln callbacku
	`CALL_FIELD_CHANGE' pouze nastav pznak `_is_changed'.
	`event.Skip()' volej nepodmnn.
	(InputField.init): Namsto `self._on_change()' volej pouze
	`self._on_change_hook()'.
	(InputField._on_idle): Pokud je nastaven pznak `_is_changed',
	prove validaci a ppadn volej callback `CALL_FIELD_CHANGE'.
	(CheckBoxField._create_controls): Kosmetick prava.
	(ChoiceField._create_controls): Kosmetick prava.
	(RadioBoxField._create_controls): Kosmetick prava.
	(ListBoxField._create_controls): Kosmetick prava.

2002-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/remote/data.py (_RemoteWrapper._cached_method): Nov metoda.
	(_RemoteWrapper._CACHEABLE_METHODS): Nov konstanta.
	(_RemoteWrapper.__getattr__): Zohleduj cachovn vybranch metod.
	(RemoteData._CACHEABLE_METHODS): Nov konstanta.

	* lib/pytis/data/types_.py (Type.__getattr__): Ped uloenm nov
	instance typu na ni zavolej metodu `_complete'.
	(Type._complete): Nov metoda.
	(Codebook.__init): Pejmenovno na `_complete' a doplnno
	podmnn proveden.
	(Codebook.__getattr__): Zohlednna pedchoz zmna.  _making_type
	zleitosti pesunuty do `_complete'.

	* lib/pytis/remote/server.py (_PyroDataFactory.create)
	(_PyroData._call_method, _PyroResolver.get): Loguj do Pyro logu.

	* lib/pytis/form/event.py (wx_callback.process_event): Nech
	wxGridEventPtr nemae status bar.

	* lib/pytis/data/dbdata.py (DBDataDefaultClass.__init__): Zohleduj
	config.dblistener.

	* lib/pytis/util/configuration.py (Configuration._Option_dblisten):
	Nov konfiguran volba.
	* config/config.py: Pegenerovno.

2002-10-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py: Pepracovno na importy modul `grid' a `wx'.
	* lib/pytis/form/search.py: Npodobn.
	* lib/pytis/form/screen.py: Npodobn.
	* lib/pytis/form/output.py: Npodobn.
	* lib/pytis/form/inputfield.py: Npodobn.
	* lib/pytis/form/form.py: Npodobn.
	* lib/pytis/form/event.py: Npodobn.
	* lib/pytis/form/dualform.py: Npodobn.
	* lib/pytis/form/dialog.py: Npodobn.
	* lib/pytis/form/application.py: Npodobn.
	* lib/pytis/form/_test.py: Npodobn.

	* lib/pytis/form/grid.py: Nov modul.
	* lib/pytis/form/wx.py: Nov modul.

	* lib/pytis/presentation/field.py (PresentedRow.format): Oetuj ppad,
	kdy nen dostupn hodnota sloupce.

2002-10-08  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Zmnno pravidlo pro import
	wxPython.

2002-10-08  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Zmnno pravidlo pro import
	wxPython.

2002-10-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/__init__.py: Oetuj ppad, kdy nen dostupno
	sys.argv.

2002-10-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Nech je
	argument `label' nepovinn.  Update a doplnn dokumentanho
	etzce.
	(FieldSpec.default): Update dokumentanho etzce.
	(PresentedRow.__init__): Update a doplnn dokumentanho etzce.
	Nakonec volej `self._invoke_callbacks()'.
	(PresentedRow._process_fieldspec): Inicializuj `self._index'.  Do
	`self._columns' piazuj tuple.
	(PresentedRow._init_row.genval): Nepedvej lokln promnn jako
	klov argumenty.  Polkm s prefill a default nuluj pznak
	`_dirty'.  Vyuvej `self._index'.  Nenastavuj `_dirty' pznaky
	zvislch polek pi vpotu default.
	(PresentedRow._init_row): Ped generovnm hodnot novho dku
	nastav vechny `_dirty' pznaky.  Pi inicializaci ze stvajcho
	dku nastavuj vechny `_dirty' pznaky, podle toho, zda jsou v
	danm dku, nebo ne.
	(PresentedRow._key2col): Vyuvej `self._index'.
	(PresentedRow.__setitem__): Pidn assert na `value'.  Pidn
	koment.  Vyuvej metodu `_invoke_callbacks()'.
	(PresentedRow._invoke_callbacks): Nov metoda.
	(PresentedRow.set_row): Volej `_invoke_callbacks()'.
	(PresentedRow.has_key): Vyuvej `self._index'.
	(PresentedRow.original_row): Doplnn dokumentanho etzce.

2002-10-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._init_row): Pznak
	`_dirty' nuluj pouze pokus argument `row' nebyl `None'.

2002-10-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Update
	dokumentace.  Argument `computer' ji neme bt funkc -- upraven
	assert.
	(FieldSpec.update_computer): Zrueno.
	(PresentedRow.__init__): Zruen argument `computer_data' a
	odpovdajc neveejn atribut.
	(PresentedRow._process_fieldspec): Zruena st zabvajc se
	vytvoenm computeru volnm funkce za pomoci `_computer_data'.
	(PresentedRow.__getitem__): Testuj jestli existuje
	`column.computer'.  Metod `self._needs_recomputation()' pedvej
	pouze id, ne instanci `_Column'.  Neuvauj monost, e by
	self._row bylo None.
	(PresentedRow.__setitem__): Oprava indentace
	(PresentedRow._needs_recomputation): Argumentem nech je id, ne
	instance `_Column'.  Netestuj `self._row' na None.
	(PresentedRow.format): Testuj jestli existuje `column.computer'.
	Metod `self._needs_recomputation()' pedvej pouze id, ne
	instanci `_Column'.  Neuvauj monost, e by self._row bylo None.
	(PresentedRow.has_key): Nov metoda.
	(PresentedRow._process_fieldspec): Zruen argument `row'. Nastav
	pznak `_dirty' vem polkm, bez ohledu na ptomnost v `row'.
	(PresentedRow._init_row): Vynuluj vem polkm ptomnm v `row'
	pznak `_dirty'.

	* lib/pytis/form/list.py: Importuj `PresentedRow'.
	(List._ListTable._CurrentRow.__init__): Namsto
	`lib.presentation.PresentedRow' pouvej pouze `PresentedRow'.
	(List._ListTable._EditedRow.__init__): Zruen argument
	`computer_data'.  Nov argument `prefill'.  Namsto
	`lib.presentation.PresentedRow' pouvej pouze `PresentedRow'.
	Konstruktoru `PresentedRow' pedvej `prefill' namsto
	`computer_data'.
	(List._ListTable.__init__): Zruen argument `computer_data'.  Nov
	argument `prefill'.  Stejn tak pslun neveejn atributy.
	Konstruktoru `_EditedRow' a `PresentedRow' pedvej `prefill'
	namsto `computer_data'.
	(List._ListTable.edit_row): Konstruktoru `_EditedRow' a
	`PresentedRow' pedvej `prefill' namsto `computer_data'.
	(List._ListTable.editing): Konstruktoru `_EditedRow' pedvej
	`prefill' namsto `computer_data'.
	(List._ListTable.editing): Namsto `lib.presentation.PresentedRow'
	pouvej pouze `PresentedRow'.
	(List.__init__): Zruen atribut `_computer_data'.  Nov atribut
	`_prefill'.
	(List._create_grid): Konstruktoru `_ListTable' pedvej `prefill'
	namsto `computer_data'.
	(List.select_row): Callbackov funkci pedvej pmo instanci
	`PresentedRow', namsto jejho datovho row.
	(List.refresh): Zruen paramater `computer_data'.
	(List.prefill): Nov metoda.
	(List.set_prefill): Nov metoda.
	(BrowseForm._on_new_record): Nastavuj vytvenmu formuli `prefill'.
	(FilteredBrowseForm.filter): Nenastavuj reset pro `computer_data'
	pi voln `self.refresh()'.

	* lib/pytis/form/form.py (EditForm._edit_update): Nepenastavuj zbyten
	hodnoty v PresentedRow.  Netestuj jestli `self._row.row()'
	skuten nco vrt (to by ml vdy).  Kosmetick pravy.
	(EditForm.set_row): Nov metoda.
	(EditForm._set_row): Vyuvej ji.
	(EditForm._edit_insert): Nepenastavuj zbyten
	hodnoty v PresentedRow. 

	* lib/pytis/form/dualform.py (SideBrowseDualForm._on_selection): Volej
	`self._side_form.set_prefill()'.
	(DescriptiveDualForm._on_main_selection) 
	(DescriptiveDualForm._on_side_selection): Kosmetick pravy.

2002-10-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer): Pod wx class jen
	jsme-li v X.

	* lib/pytis/form/list.py (_InputFieldCellEditor, List, List._ListTable):
	Pod wx class jen jsme-li v X.
	(List._ListTable._TYPE_MAPPING): Nastaveno na None.
	(List._ListTable.__init__): Inicializuj ve uvedenou konstantu.
	(ListForm._TITLE_BACKGROUND_COLOR): Pouvej nae barvy, ne pmo
	wxColour.

	* lib/pytis/form/inputfield.py (_TextValidator): Pod wx class jen
	jsme-li v X.
	
	* lib/pytis/form/form.py (Form): Pod wx class jen
	jsme-li v X.
	(EditForm._navigate): Nech `dir' je TRUE msto wx.TRUE.

	* lib/pytis/form/screen.py (WxKey._TRANS_TABLE, WxKey._RTRANS_TABLE):
	Nastaveno na None.
	(WxKey._make_dictionary): Pidn argument `self'.
	(WxKey.__init__): Inicializuje ve uveden konstanty.
	(WxColor, MenuBar, ButtonBar, StatusBar): Pod wx class jen
	jsme-li vX.

	* lib/pytis/form/search.py: Importuj wxPython podmnn, jen vX.
	* lib/pytis/form/screen.py: Npodobn.
	* lib/pytis/form/output.py: Npodobn.
	* lib/pytis/form/list.py: Npodobn.
	* lib/pytis/form/inputfield.py: Npodobn.
	* lib/pytis/form/form.py: Npodobn.
	* lib/pytis/form/event.py: Npodobn.
	* lib/pytis/form/dualform.py: Npodobn.
	* lib/pytis/form/dialog.py: Npodobn.
	* lib/pytis/form/application.py: Npodobn.
	* lib/pytis/form/_test.py: Npodobn.

	* lib/pytis/util/util.py (in_x): Nov funkce.

2002-10-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (RunFormDialog): Nov tda.

	* lib/pytis/form/application.py (Application.on_command): Pokud pkaz
	nen zpracovn dnm oknem a m definovn handler, zavolej
	handler.

2002-10-04  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/types_.py (Type._TypeTable.get_instance): Vymazny
	zapomenut zakomentovan printy.

2002-10-03  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/presentation/field.py (PresentedRow.__setitem__): Nastavuj
	polku hodnotu, jen dolo-li ke zmn.
	(PresentedRow._init_row.genval): U polek s default nastav pi
	vloen default hodnoty zvislm polkm pznak 'dirty'.

2002-10-03  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Pidno pravidlo pro import
	wxPython.

2002-10-03  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Pidno pravidlo pro import
	wxPython.

2002-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (wx_callback.process_event): Pidna logovac
	hlka.

	* lib/pytis/form/search.py (SFDialog._selected_condition): Opraveno
	chovn, kdy je `value' None.

	* ebas-server (_usage): Pidno --profile.
	(go): Pidna podpora pro profilovn.
	(_PROFILE, _PROFILE_RESULTS): Nov konstanty.
	(_run_server): Nov funkce.

	* lib/pytis/remote/server.py (run_server): Nen-li config.host
	nastaveno, reportuj to.
	(run_server): Ignoruj KeyboardInterrupt v`request_loop'.

	* lib/pytis/form/command.py (Command.__init__): Nov argument
	`access_groups' a atribut `_access_groups'.
	(Command.access_groups): Nov metoda.

	* lib/pytis/form/screen.py (MItem.__init__): Nech argument `command' je
	povinn.

2002-10-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Zohledni nov API tdy `ViewSpec'.
	(LoutFormatter._format_data_table): `KeyError' pi pokusu o
	zskn tdn ze `self._data_specs' oetuj piazenm przdnho
	tuplu do promnn `sorting', namsto pouhho `pass'.  Stejn tak
	pro `condition' piazuj `None'.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Konstruktoru tdy `SideBrowseForm' pedvej
	`sibling_binding_column' a `binding_column'.
	(BrowseDualForm): Update dokumentace.
	(ShowDualForm): Update dokumentace.

	* lib/pytis/form/application.py (Application.run_form): Pidny asserty
	na argumenty.

	* lib/pytis/form/form.py (Form.name): Metoda zruena.
	(Form._on_leave_form): Namsto metody `name()' pouij rovnou
	atribut `self._name'.
	(Form.run): V logogvac hlce vypisuj `str(self)', namsto
	`self._view'.

	* lib/pytis/form/list.py (SideBrowseForm.__init__): Nov argumenty
	`sibling_binding_column' a `binding_column'.  Filtrovac podmnku
	nehledej ve specifikaci, ale vytvej sm jako ekvivalenci
	vazebnch sloupc.  Dokumentace.
	(BrowseForm.on_command): Vyvolvej callback `CALL_EDIT_RECORD'
	pouze pokud je vybrn dek (`self._list.current_key()' nen `None').

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Namsto neustlho voln `f.id()' vytvo promnnou `id'.
	(PresentedRow.__init__): Pedvej `row' metod
	`self._process_fieldspec()'.  
	(PresentedRow._process_fieldspec): Nov argument `row'.  Pokud row
	obsahuje hodnotu potanho polka, inicializuj pznak `_dirty'
	na `FALSE'.

2002-10-02  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List._on_select_cell): Pokus o oeten chyby
	pi stisku PageUp na dku v rozmez 2 a <posledn viditeln>.

2002-10-01  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/search.py (SFDialog._on_suck): Metod SetValue pedvej
	exportovanou hodnotu.

2002-10-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook.__getattr__): Volej metodu pedka.
	(Codebook.__init__): Nastavuj `_fetched'.

	* lib/pytis/form/search.py (SFDialog._OPERATORS): Nov atribut.
	(SFDialog._create_content): Pidna podpora pro OR.
	(SFDialog._on_add): Npodobn.
	(SFDialog._selected_condition): Npodobn.
	(SFDialog._save_values): Nov argument `logical_selection'.
	(SFDialog.__init__): Nov atribut `_logical_selectors'.

2002-10-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._create_controls): Oprava:
	respektuj nov API tdy `ViewSpec'.

	* lib/pytis/presentation/field.py (PresentedRow._compute): Pokud polko
	existuje v datovm dku, ulo vypotenou hodnotu.

2002-10-01  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py (insert_klient): Doplnny poloky
	'zivnost' a 'sidlo'.

2002-10-01  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py (insert_klient): Doplnny poloky
	'zivnost' a 'sidlo'.

2002-09-30  Petr Malivanek  <malivanek@akont.cz>

	* scripts/import_diana_kucty.py (insert_klient): Upravy konstant.

2002-09-30  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py: Kompletn pepracovan verze.
	(insert_klient): Oetuj 'os_cislo'.
	(main): Pidny konfiguran konstanty 'MENA', 'SLUZBA',
	'ACC_MANAGER', 'ZISKANY', 'UROK_POPL_MAPPING'
	(parse_fields): prava pro nov konstanty.
	(insert_klient): prava pro nov poloky.
	(insert_ucet): 	prava pro nov poloky.
	(get_urok_popl): Nov funkce.

2002-09-30  Petr Malivanek  <malivanek@akont.cz>

	* scripts/import_diana_kucty.py (insert_klient): Upravy konstant.

2002-09-30  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py: Kompletn pepracovan verze.
	(insert_klient): Oetuj 'os_cislo'.
	(main): Pidny konfiguran konstanty 'MENA', 'SLUZBA',
	'ACC_MANAGER', 'ZISKANY', 'UROK_POPL_MAPPING'
	(parse_fields): prava pro nov konstanty.
	(insert_klient): prava pro nov poloky.
	(insert_ucet): 	prava pro nov poloky.
	(get_urok_popl): Nov funkce.

2002-09-29  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py: Prvn verze  skriptu
	pro import klient a t z programu Diana.
	(insert_ucet): Oprava '.' -> ','
	(parse_klient): Odchytvej vjimku pi pedn nesprvn struktury dat.
	Formtovac pravy a oprava chybnch print.
	Zpehlednn zadvn struktury cvs a formtu datumu. 

2002-09-29  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py: Prvn verze  skriptu
	pro import klient a t z programu Diana.
	(insert_ucet): Oprava '.' -> ','
	(parse_klient): Odchytvej vjimku pi pedn nesprvn struktury dat.
	Formtovac pravy a oprava chybnch print.
	Zpehlednn zadvn struktury cvs a formtu datumu. 

2002-09-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.__init__): Argumenty `main_name'
	a `side_name' nahrazeny jedinm `name' (jmno pro `DualSpec').
	(DualForm.__init__): Metodm `self._create_main_form()' a
	`self._create_side_form()' nepedvej argument `name', a si ho
	zjist samy...  Neukldej `self._side_name'.
	(DualForm._create_view_spec): Nov metoda.
	(DualForm._create_data_object): Nov metoda.
	(DualForm._create_main_form): Zruen argument `name'.
	(DualForm._create_side_form): Zruen argument `name'.
	(DualForm.name): Zrueno.
	(DualForm.title): Nov metoda.
	(SideBrowseDualForm._create_side_form): Namsto zruenho
	argumentu `name' pouvej `self._view.side_name()'.
	(BrowseDualForm._create_main_form): Namsto zruenho argumentu
	`name' pouvej `self._view.main_name()'.
	(BrowseDualForm._on_show_record): Zohlednna zmna pi voln
	`Application.run_form()'.
	(ShowDualForm.__init__): Argumenty poer do `*args' a `**kwargs' a
	dokumentuj pouze argumenty odlin pro tuto tdu (argumenty
	`main_name' a `side_name' nahrazeny jendinm `name').  
	(ShowDualForm._create_main_form): Namsto zruenho
	argumentu `name' pouvej `self._view.main_name()'.
	(DescriptiveDualForm.__init__): Argumenty poer do `*args' a
	`**kwargs' a dokumentuj pouze argumenty odlin pro tuto tdu.
	Nepedvej argument `side_name'.
	(DescriptiveDualForm._create_view_spec): Nov metoda.
	(DescriptiveDualForm._create_main_form): Namsto zruenho
	argumentu `name' pouvej `self._name'.
	(DescriptiveDualForm._create_side_form): Namsto zruenho
	argumentu `name' pouvej `self._name'. 

	* lib/pytis/form/form.py (Form._create_view_spec): Nov metoda.
	(Form._create_data_object): Nov metoda.
	(Form.__init__): Zskvn specifikac a vytven datovho
	objektu pesunuto do novch metod.

	* lib/pytis/form/spec.py (DualSpec): Nov specifikan tda.

	* lib/pytis/form/list.py (List._on_line_commit): Jako `the_row' pouvej
	`PresentedRow'.  Pi insertu vytahuj z dku instanci `Value', ne
	formtovan etzec.
	(BrowseForm._on_edit_record): Zohlednna zmna pi voln
	`Application.run_form()'.
	(BrowseForm._on_edit_record): Zohlednna zmna pi voln
	`Application.run_form()'.
	(BrowseForm._on_show_record): Zohlednna zmna pi voln
	`Application.run_form()'.
	(BrowseForm._on_descr_record): Zohlednna zmna pi voln
	`Application.run_form()'.
	(BrowseForm._on_print_): Zohlednna zmna pi voln
	`Application.run_form()'.

2002-09-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (Computer.__init__): Vyaduj povinn
	specifikaci zvislost.  Podpora pro zpis zvislost v
	dokumentanm etzci potac funkce.
	(PresentedRow): prava docstringu.
	(PresentedRow._process_fieldspec): Inicializuj atributy
	`_dependent' a '_dirty'.  Pro potan polka inicializuj seznam
	zvislch polek a pznak '_dirty' na TRUE.
	(_recompute): Zrueno.
	(PresentedRow.__getitem__): Pokud je teba, vypoti hodnotu polka.
	(PresentedRow.__setitem__): Vem zvislm polkm nastav pznak
	`_dirty' a volej pro n `_change_callback'.
	(PresentedRow._needs_recomputation): Nov metoda.
	(PresentedRow._compute): Nov metoda.
	(PresentedRow.format): Pokud je teba, vypoti hodnotu polka.
	(Computer.__init__): Pro jistotu opt zrueno (s ohledem na zdrav
	Milana Zamazala :-)

2002-09-25  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (): prava konfigurace pro naten novho loga.
	* icons/logo.bmp (): Vlastn logo.

2002-09-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._on_row_change): Pokud nen polko
	danho id ve formuli nalezeno, nedlej nic.

	* lib/pytis/form/list.py (List._ListTable.GetAttr): Pouvej cache pi
	vytahovn dku.

2002-09-25  Pavel Hank  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List._ListTable.GetValue): Metod
	`PresentedRow.format' pedvej msto poad `id' sloupce.

2002-09-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MItem._used_titles): Nov tdn atribut.
	(MItem.__init__): Pidn hack pro uniktn `title' pomoc pidn
	mezer.

	* lib/pytis/form/list.py (List._ListTable.__init__): Nov argument
	`fields' a atribut `_fields'.  Pi voln konstruktoru
	`_EditedRow' pedvej 'fields', namsto `columns'.  Pi voln
	konstruktoru `PresentedRow' takt.
	(List._ListTable.edit_row): Pi voln konstruktoru `_EditedRow'
	pedvej 'fields', namsto `columns'.
	(List.__init__): Nov argument `fields' a atribut `_fields'.
	(List._create_grid): Konstruktoru `_ListTable' pedvej
	`self._fields'.
	(ListForm.__init__): Konstruktoru `List' pedvej
	`self._view.fields()'.

2002-09-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (GroupSpec): Update dokumentace.
	(GroupSpec.__init__): Update dokumentace.

	* lib/pytis/form/form.py (char2px): Pesunuto do `screen'.
	(dlg2px): Pesunuto do `screen'.
	(_orientation2wx): Pesunuto do `screen'.
	(_border_style2wx): Pesunuto do `screen'.

	* lib/pytis/form/screen.py (char2px): Nov funkce.
	(dlg2px): Nov funkce.
	(orientation2wx): Nov funkce.
	(border_style2wx): Nov funkce.

2002-09-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook.__init__): Zredukovno.
	(Codebook.__init): Nov metoda.
	(Codebook.__getattr__): Nov metoda.

	* lib/pytis/data/data.py (DataFactory.__cmp__, DataFactory.__hash__):
	Zrueno.

2002-09-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (GroupSpec.__init__): Do aserce doplnn report
	`item'.
	(ViewSpec._recourse_group): Npodobn.
	(ViewSpec.__init__): Npodobn.

	* lib/pytis/data/dbdata.py (DBColumnBinding.__str__): Nov metoda.
	(DBConnection.__cmp__): Vyuvej funkci `compare_attr'.
	(DBConnection.__hash__): Vyuvej funkci `hash_attr'.
	(DBColumnBinding.__cmp__, DBColumnBinding.__hash__): Nov metody.

	* lib/pytis/util/util.py (deepstr): Nov funkce.
	(compare_attr): Nov funkce.

	* lib/pytis/data/data.py (DataFactory.__str__): Nov metoda.
	(DataFactory.__cmp__, DataFactory.__hash__): Nov metody.
	(DataFactory.__init__): Nov atribut `_kwargs_hashable'.

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table) 
	(LoutFormatter._format_data_item): Zohlednny zmny
	vlib.presentation.PresentedRow.

	* lib/pytis/presentation/field.py (FieldStyle): Odstranno ve ohledn
	blikn.

2002-09-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_group): Ze `self._view'
	vythni specifikaci polka podle identifiktoru.

	* lib/pytis/form/list.py (List._ListTable._make_attr): Vytvej font o
	velikosti 12 bod.
	(ListForm.__init__): Seznam specifikac sloupc vytvej mapovnm
	ze seznamu identifiktor.
	(ListForm._columns): Nyn vrac sekvenci identifiktor sloupc
	namsto instanc `FieldSpec' (zdokumentovno).
	(CodeBook._columns): Nyn vrac sekvenci identifiktor sloupc
	namsto instanc `FieldSpec' (zdokumentovno).

	* lib/pytis/form/spec.py (GroupSpec.__init__): Assert na etzec namsto
	FieldSpec.
	(ViewSpec): prava docstringu.
	(ViewSpec.__init__): Nov argument 'fields'.  Vytvej slovnk
	specifikac polek klovan podle id.  Pi prochzen layoutu a
	sloupc kontroluj ptomnost id polek ve slovnku namsto
	assertu na instanci `FieldSpec'.  Pokud je `layout' nebo `columns'
	None, vytvej implicitn.
	(ViewSpec.fields): Nepevdj `self._fields' na tuple (provedeno v
	konstruktoru).  Nyn vrac sekvenci identifiktor sloupc namsto
	instanc `FieldSpec'.
	(ViewSpec.field): Nov metoda.

	* lib/pytis/form/screen.py (_WX_COLORS): Doplnny pevody pro nov
	barevn konstanty.

	* lib/pytis/presentation/field.py (Color): Nov barevn konstanty.

2002-09-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type)
	(PostgreSQLStandardBindingHandler._pdbb_get_type)
	(DBPyPgFunction._db_bindings_to_column_spec.type_instance):
	Pidna podpora pro typ lib.data.Serial.

	* lib/pytis/form/list.py (List._ListTable._Column.__init__): Nov
	argument a atribut `style'.
	(List._ListTable.__init__): Pedvej do `_Column' styl.
	(List._ListTable.GetAttr): Pepsno.
	(List._ListTable.__init__): Nov atribut `_column_styles'.
	(List._ListTable._make_attr): Nov metoda.

2002-09-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nakonec voej
	vdy `self._recompute()'.
	(PresentedRow._init_row): nevolej `self._recompute()'.
	(PresentedRow._recompute): Zruen argument 'row'.  Namsto
	sekvence `changed' pouit jako argument jedin identifiktor
	sloupce `changed_id'.  Pi voln pepotvac funkce pedvej
	jako argument `self' namsto `row'.
	(PresentedRow.__getitem__): Vracej instanci value, namsto
	zformtovan exportovan hodnoty.
	(PresentedRow.__setitem__): Respektuj novou podobu argument
	metody `_recompute()'.
	(PresentedRow.val): Zrueno.
	(PresentedRow.format): Nov metoda.

	* lib/pytis/form/list.py (List._ListTable.GetValue): Pouvej
	`PresentedRow.format()'.
	(List._on_line_commit): Pouvej `PresentedRow.format()'.

	* lib/pytis/form/form.py (EditForm._set_row): Pouvej
	`PresentedRow.format()'.
	(EditForm._on_row_change): Pouvej `PresentedRow.format()'.

2002-09-18  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/form/screen.py (color2wx): Nov funkce.
	(_WX_COLORS): Nov konstanta.

	* lib/pytis/util/util.py (catch): Oetuj jen pechody s`tag'.
	* lib/pytis/util/_test.py (NonLocalTransfers.check_it): Pejmenovno na
	`check_basic'.
	(NonLocalTransfers.check_tags): Nov test.

	* lib/pytis/presentation/field.py (Color): Nov tda.
	(FieldStyle): Nov tda.
	(FIELD_STYLE_DEFAULT, FIELD_STYLE_EMPHASIS, FIELD_STYLE_WARNING):
	Nov konstanty.
	(FieldSpec.__init__): Nov argument `style' a atribut `_style'.
	(FieldSpec.style): Nov funkce.

	* lib/pytis/data/access.py: Sepsn docstring.

	* lib/pytis/data/types_.py (Codebook._export): Pi odkazu na
	neexistujc sloupec nenahazuj vjimku a vra ''.
	(Type.__init__): Nov argument a atribut `_validation_message'.
	(Enumeration.ERRMSG_INVALID_ENUM_VALUE): Zrueno.
	(Codebook.ERRMSG_PARTIAL_VALIDATION): Zrueno.
	(Integer._validate, Float._validate, String._validate_maxlen)
	(DateTime._validate, Enumeration._validate)
	(Codebook.validate_partial, Sequence._validate): Vyuvej
	`_validation_message'.
	(Float.__init__, String.__init__, Enumeration.__init__) 
	(Boolean.__init__, Codebook.__init__, Sequence.__init__): Pidn
	argument `**kwargs'.
	(Serial): Nov typ.

2002-09-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal pravidla tkajc se Pythonu):
	Pidna poznmka ocatch/throw.

2002-09-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal pravidla tkajc se Pythonu):
	Pidna poznmka ocatch/throw.

2002-09-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._create_grid): Msto vyvoln vjimky
	`toplevel' provdj `throw'.
	* lib/pytis/form/form.py (Form.__init__): Pi nespchu vytvoen
	datovho objektu prove nelokln pechod.
	* lib/pytis/form/application.py (Application.run_form): Odchytvej
	pechod `form-init-error'.

	* lib/pytis/util/util.py (_Throw): Nov tda.
	(catch, throw): Nov funkce.
	* lib/pytis/util/_test.py (NonLocalTransfers): Nov sada test.

	* lib/pytis/data/access.py (RestrictedData.accessible): Nov metoda.

2002-09-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_search): Kluk argument `direction'.

	* lib/pytis/form/event.py (wx_callback.process_event): Uivatelsk
	udlosti zmodlnho okna volej bez obalu.

	* lib/pytis/form/application.py (Application.top_window): Nov metoda.

2002-09-05  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/tips: Pidn tip na `classmethod' a na
	vcensobnou ddinost potomk `object'.

2002-09-05  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/tips: Pidn tip na `classmethod' a na
	vcensobnou ddinost potomk `object'.

2002-09-04  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/presentation/field.py (PresentedRow.val): Nov metoda
	(doasn -- viz TODO).

2002-09-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.update): Jestlie m nov
	dek nekompletn kl, dopl jej ze starho dku.

	* lib/pytis/form/application.py (Application.run_form): Zdokumentovn
	argument `action'.
	(Application.run_form): Odchytvej a ignoruj vjimku `toplevel'.

	* lib/pytis/form/form.py (EditForm._edit_insert, EditForm._edit_update) 
	(EditForm._edit_delete, EditForm._find_row) 
	(BrowsableShowForm._on_next_record): Upraveny argumenty _DBOP.
	(Form.__init__): Upraveny argumenty _DBOP.

	* lib/pytis/form/list.py (List._on_delete_line): Msto `db_operation'
	pouij _DBOP.
	(List._on_line_commit, List._ListTable._get_row) 
	(List._ListTable.rewind, List._create_grid) 
	(BrowseForm._on_edit_record): Upraveny argumenty _DBOP.
	(List._create_grid): Pi databzov chyb se vra.

	* lib/pytis/form/dialog.py (db_operation): Zmnn vznam argumentu
	`operation'.
	(db_operation): Oetuj DataAccessException.

	* lib/pytis/data/access.py (RestrictedData.__init__): Doplnn docstring.
	(RestrictedData._check_access_condition.columns): Testuj opertor
	IN.
	(RestrictedData.delete, RestrictedData.update): Testuj ikl.
	(RestrictedData.row, RestrictedData.fetchone): Nov metody.
	(RestrictedData._check_access_key)
	(RestrictedData._access_filter_row): Nov metody.
	(RestrictedData.insert, RestrictedData.update): Filtruj vracen
	dek.
	(AccessRights.__init__): Nov atribut `_query_cache'.
	(AccessRights._permitted): Nov metoda.
	(AccessRights.permitted): Pouvej ji a pouvej `_query_cache'.
	(DataAccessException.__init__): Opraveno voln pedka.  Loguj.
	(RestrictedData._check_access_columns): Pedvej do
	DataAccessException jmno tabulky a sloupce.
	(RestrictedData._check_access_row): Zrueno.
	(RestrictedData.insert, RestrictedData.update) 
	(RestrictedData.update_many): Msto `_check_access_row' volej
	`_access_filter_row'.
	(AccessRights.__init__): Nech None sekvence je tuple.

2002-09-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Pidna
	podpora pro opertor IN.
	(DBDataPostgreSQL.select): Zjednodueno odchycen chyby.

	* lib/pytis/data/data.py (IN): Nov opertor.

2002-09-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py
	(RestrictedData._check_access_condition.columns): Oetuj przdn
	condition args.

2002-09-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Nov
	atribut `orig_row'.
	(List._ListTable.editing): Originln dek vytahuj
	zedited.orig_row.

2002-09-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Vargumentu assert na oids mapuj sloupce pes `str'.
	(PostgreSQLStandardBindingHandler): Bu potomkem `object'.

	* lib/pytis/data/access.py (RestrictedData._check_*): Pejmenovno na
	`_check_access_*'.
	(RestrictedData.select, RestrictedData.update)
	(RestrictedData.update_many, RestrictedData.delete)
	(RestrictedData.delete_many): Opraveno voln metody pedka.
	(RestrictedData.search): Opraveno jmno argumentu.

2002-09-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataDefaultClass): Bu potomkem
	RestrictedData.
	(DBDataDefaultClass.__init__): Nov argument `access_rights'.
	Nov atribut `_access_current_groups'.
	(DBDataDefaultClass._access_groups): Nov metoda.

	* lib/pytis/data/__init__.py: Zmnno poad importu `access' a `data'.

	* lib/pytis/data/data.py (Operator.logical): Nov metoda.

	* lib/pytis/data/access.py (AccessRights.__init__): Opraveny chyby
	vkonstrukci tabulky.  Prva se nyn staj.
	(AccessRights.permitted): Vra pravdu, je-li mezi povolenmi
	skupinami None.
	(RestrictedData._check_delete, RestrictedData._check_row) 
	(RestrictedData._check_sorting, RestrictedData._check_condition):
	Implementovno.
	(RestrictedData._check_columns): Nov metoda.
	(DBAccessException): Pejmenovno na DataAccessException a je
	potomkem Exception.
	(RestrictedData): Bu potomkem `object'.
	(RestrictedData._groups): Pejmenovno na `_access_groups'.

2002-09-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/__init__.py: Importuj `access'.
	* lib/pytis/data/access.py: Nov soubor.

2002-08-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py (db_operation): Opraveno jmno konfiguran
	promnn `dbconnection'.

	* lib/pytis/remote/server.py (_PyroData._check_type_key): Je-li `arg'
	None, nedlej znj tuple.

	* lib/pytis/util/configuration.py (Configuration.__setattr__): Atribut
	nastavuj, ne vracej.  Pednostn nastavuj volby, ne atributy.
	Volbu nastavuj, ne piazuj.

	* lib/pytis/form/form.py (EditForm._edit_insert): Nastavovan data
	proe pes self._row.

2002-08-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm._edit_update): Nov hodnoty nastavuj
	do prezentanho dku, ze kterho a nsledn vyzvedej dek
	datov.

	* lib/pytis/presentation/field.py (PresentedRow.row): Nastav dku typy
	zdatovho objektu, kde je to mon.

	* lib/pytis/data/types_.py (Type.__getattr__): Po updatu znov typov
	instance nastav pvodn `_id'.  Opraveny chyby vreportu testu na
	tdu.

	* lib/pytis/form/event.py (wx_callback.process_event): Po vypsn
	top-level vjimky se vra.

2002-08-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (_pg_escape): Nov funkce.
	(DBDataPostgreSQL._pg_value.null_or_string, _pypg_new_connection):
	Pouvej ji.
	(DBDataPyPgSQL._pg_query): Loguj SQL pkazy.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nov
	atribut `_pdbb_logging_command'.
	(DBDataPyPgSQL._pg_query): Nov argument `backup'.
	(PostgreSQLStandardBindingHandler._pg_update) 
	(PostgreSQLStandardBindingHandler._pg_insert) 
	(PostgreSQLStandardBindingHandler._pg_delete): Volej `_pg_query'
	sargumentem `backup'.

	* lib/pytis/util/configuration.py (Configuration._Option_dblogtable):
	Nov konfiguran volba.
	* config/config.py: Pegenerovno.

	* lib/pytis/form/application.py (Application._call_current_window):
	Msto self._top_level_exception pouvej `top_level_exception'.

2002-08-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (top_level_exception): Pesunut
	Application._top_level_exception.
	(wx_callback.process_event): Odchytvej a reportuj vechny
	vjimky.

	* lib/pytis/form/application.py (Application._top_level_exception):
	Pesunuto do event.py.
	(Application.run_form, Application.on_command): Zohlednna
	pedchoz zmna.
	(Application._exit): Ignoruj vemon vjimky.

	* lib/pytis/remote/data.py (_DataChangesWatcher._watcher): Ignoruj
	vjimky od Pyro.

	* lib/pytis/remote/server.py (_PyroDataFactory.create)
	(wrap_data_factory): Pipojuj objekt anonymn.
	(_PyroDataFactory._name_counter): Zrueno.
	(_data_factory_counter): Zrueno.
	(run_server): Zrueno pouvn name serveru.  Daemonu explicitn
	specifikuj jmno stroje.
	(_USE_NAME_SERVER, _GNAME_DATA, _GNAME_DATA_FACTORY): Zrueno.
	(_PyroData._check_type_sort): Nech `arg' sm bt jakkoliv
	sekvence.

2002-08-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Instanci typu vytvej pes `make'.

	* lib/pytis/remote/server.py (run_server): Zohlednn zmn vtype
	tables.

	* lib/pytis/data/types_.py (Type._TypeTable.get_instance): Piazuj
	typov instanci jej `_id'.
	(Type.__cmp__): Pednostn porovnvej `_id' instanc.
	(Type.__getstate__, Type.__setstate__, Type.__getattr__): Nov
	metody.
	(Type.__init__): Nov atributy `_id' a `_fetched'.
	(Type.type_table): Nov statick metoda.
	(Type._remote_type_table): Nov atribut.
	(Codebook.make): `data_factory_kwargs' transformuj na tuple jen
	pokud ji nen transformovno.
	(Type._remote_type_table_cache): Nov atribut.
	(Type._TypeTable.get): Kontroluj typ argumentu `id'.

2002-08-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook.__init__): Nov atribut `_columns'.
	(Codebook.columns): Pouvej ho, msto vytven datovho objektu.
	(TransferrableType): Zrueno.
	(BasicType): Zrueno.
	(Type._TypeTable): Nov tda.
	(Type._making_type): Nov atribut.
	(Type.make, Type._make): Nov metody.
	(Type.__init__): Pidn assert na _making_type.
	(Codebook.make): Nov metoda.
	(Type.__setitem__): Zrueno.
	(Value.__setstate__): Testuj na Type, ne TransferrableType.

	* lib/pytis/data/data.py: Upraveno pro sdlen typy.
	* lib/pytis/data/dbdata.py: Upraveno pro sdlen typy.
	(DBConnection.__hash__): Nov metoda.
	* lib/pytis/data/_test.py: Upraveno pro sdlen typy.

	* lib/pytis/remote/server.py (run_server): Zave tabulku typ.
	(_bastionize): Nov argument `allowed_methods'.

	* lib/pytis/data/types_.py (Number, String, DateTime, Enumeration) 
	(Sequence): Bu potomkem BasicType.
	(Type.__setitem__): Nov metoda.
	(Value.__setstate__): Typ testuj na TransferrableType.
	(TransferrableType.__getattr__): Importuj pouit moduly a jin
	opravy chyb.
	(TransferrableType._register): Opraveno chybn roztuplovn
	poloky tabulky.
	(TransferrableType._TypeTable): Nov tda.
	(TransferrableType.enable_type_table): Nech `_type_table' je
	instanc _TypeTable.
	(TransferrableType._type_table_counter): Zrueno.

2002-08-22  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/types_.py (BasicType): Nov tda.

	* lib/pytis/remote/server.py (_PyroData._check_type_row): Doplnna
	chybjc kvalifikace modulu.

2002-08-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.select_map): Nov metoda.
	* lib/pytis/data/_test.py (DBDataDefaultClass.check_select_map): Nov
	test.

2002-08-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Pidno
	mapovn pro `timestamptz'.

2002-08-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.row) 
	(DBDataPostgreSQL.select, DBDataPostgreSQL.fetchone) 
	(DBDataPostgreSQL.search, DBDataPostgreSQL.insert) 
	(DBDataPostgreSQL.update, DBDataPostgreSQL.delete) 
	(DBDataPostgreSQL.delete_many): Opraveno zpracovn vjimek pi
	rollbacku.

	* lib/pytis/__init__.py: Importuj nkter podmoduly.

2002-08-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/remote/server.py (NAME_TYPE_TABLE): Nov konstanta.

	* lib/pytis/data/types_.py (TransferrableType): Nov tda.
	
2002-08-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Row.__getstate__, Row.__setstate__): Nov
	metody.

	* lib/pytis/remote/server.py (_PyroData._check_type_value): Nov metoda.
	(_PyroData._check_type_value, _PyroData._check_type_row) 
	(_PyroData._check_type_condition): Implementovno.

	* lib/pytis/util/util.py (InvalidAccessError): Pesunuto zlib.remote.

	* lib/pytis/data/types_.py (Value.__getstate__, Value.__setstate__):
	Nov metody.
	(Value._init): Nov metoda.
	(Value.__init__): Volej ji.

	* lib/pytis/remote/data.py (_RemoteWrapper.__getstate__): Msto
	resetovn `_proxy' je pouze patchuj vkopii __dict__.

	* lib/pytis/remote/util.py (InvalidAccessError.__init__): Nov metoda.
	(InvalidAccessError): Pesunuto do lib.util.

2002-08-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/remote/server.py (_PyroDataFactory.create): Pijmej jako
	klovan argument pouze `dbconnection_spec' a kontroluj typ jeho
	hodnoty.
	(_safe_function): Nov funkce.
	(_PyroData): Zavedeny metody _check_type_*, ve veejnch metodch
	zrueny obecn klovan argumenty a pidny typov kontroly.

2002-08-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/remote/server.py (_PyroData.timestamp): Nov metoda.
	(_PyroData.__init__): Nov atribut `_timestamp'.
	(_PyroData._call_method): Updatuj `_timestamp'.
	(_PyroData._TIMEOUT): Nov atribut.
	(_PyroData._collection_lock, _PyroData._active_data_objects): Nov
	atribut.
	(_PyroData._collect, _PyroData.register_remote_object): Nov
	metoda.
	(_PyroDataFactory.create): Registruj pipojen objekt.

2002-08-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration._Option_name_server):
	Pejmenovno na `_Option_server'.
	* config/config.py: Pegenerovno.

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__):
	Zohlednn pesun remote kdu.
	(List._ListTable._retrieve_row, List._on_search): Doplnn kl
	argumentu `data.skip'.
	* lib/pytis/presentation/field.py (PresentedRow.__init__): Zohlednn
	pesun remote kdu.
	* lib/pytis/form/form.py (BrowsableShowForm._on_search): Doplnn kl
	argumentu `data.skip'. 

	* ebas (run_application): Pro jmno resolveru vyuvej konstantu
	zlib.remote.
	(_profile): name-server -> server.

	* lib/pytis/data/remote.py: Zrueno.
	* lib/pytis/data/__init__.py: Neimportuj `remote'.

	* lib/pytis/remote/__init__.py: Nov soubor.
	* lib/pytis/remote/util.py: Nov soubor.
	* lib/pytis/remote/data.py: Nov soubor.
	* lib/pytis/remote/server.py: Nov soubor.
	
	* ebas-server: Naprost vtina kdu pesunuta do
	lib.remote.server.
	(_EXIT_OK, _EXIT_USAGE): Nov konstanty.
	(_usage): Nov funkce.
	(_install_gettext): Nov funkce.
	(go): Kontroluj korektnost voleb pkazov dky, instaluj
	gettext.

2002-08-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application._top_level_exception):
	Je-li kdispozici Pyro, vypisuj Pyro traceback.

	* ebas-server (_wrap_data_factory, _PyroDataFactory.create):
	`resolver_uri' pebrej rovnou od `connect'.

	* lib/pytis/data/remote.py (_RemoteWrapper.clone_proxy): Nov metoda.
	(_DataChangesWatcher.__init__): Nov atribut `_clones'.
	(_DataChangesWatcher._watcher): Pouvej klonovan datov objekty.
	(_DataChangesWatcher.register_callback): Ukldej klony datovch
	objekt.
	(_RemoteWrapper): `resolver_uri' -> `uri'.

	* lib/pytis/data/data.py (DataFactory.create_shared): Zrueno.
	* lib/pytis/data/types_.py (Codebook._data): Zohlednna pedchoz zmna.

2002-08-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._on_line_commit): Pro vkldn novho
	zznamu nepouvej pmo datov `Row', ale sestav nov puze z
	polek obsaench v 'PresentedRow'.
	(List._on_cell_commit): Doasn zakomentovno vyvoln vloen
	dalho dku a pidno velk TODO.

	* lib/pytis/form/form.py (EditForm.init): Ped nastavenm fukusu se
	ujisti, zda `f' nen None a ppadn dopl prvn polko.

	* lib/pytis/presentation/field.py (PresentedRow.fields): Nov metoda.

	* lib/pytis/form/dualform.py (DescriptiveDualForm.__init__): Argumenty
	vyjmenuj explicitn.  Do klovho argumentu `side_name' pro
	konstruktor pedka vdy dopluj hodnotu svho argumentu `name'.
	(DescriptiveDualForm._create_side_form): `main_name' -> `name',
	`frame_stack' -> `self._frame_stack'.

2002-08-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._init_select): Kluj argument
	`condition' metody `select'.
	(List._ListTable._retrieve_row): Npodobn pro `skip'.
	(List._ListTable._fetch): Npodobn pro `fetchone'.

	* ebas-server: sys.argv[0] penastavuj vas.
	(_PyroResolver.get): Kontroluj typy argument.
	(_PyroResolver.ALLOWED_METHODS, _PyroDataFactory.ALLOWED_METHODS):
	Nov atribut.
	(_bastionize): Nov funkce.
	(go, _wrap_data_factory): Vyuvej ji.
	(_PyroData): Nov tda.
	(_PyroDataFactory.create): Kompletn pepracovno.
	(_PyroDataFactory._name_counter): Nov atribut.

	* lib/pytis/data/remote.py (InvalidAccessError): Nov tda.
	(_data_changes_watcher): Pesunuto do tdy RemoteData.
	(RemoteData.add_callback_on_change): Inicializuj
	`_data_changes_watcher'.
	(RemoteData.__init__): Nov metoda.
	(_RemoteWrapper): Bu potomkem `object'.
	(RemoteData.__getattr__): Nov metoda.

2002-07-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.__init__): Nen-li
	prvn volba pkazov dky 'ebas', neprocesuj volby.
	* ebas-server: Nastavuj sys.argv[0] na `ebas'.
	* ebas: Npodobn.

	* lib/pytis/data/remote.py (_data_changes_watcher): Nov promnn.
	(_DataChangesWatcher): Nov tda.
	(RemoteData.add_callback_on_change) 
	(RemoteData.remove_callback_on_change): Implementovno.

	* lib/pytis/util/util.py (Counter.current): Nov metoda.
	* lib/pytis/util/_test.py (Counter.check_it): Testuj i`current'.

	* lib/pytis/data/data.py (Data.change_number): Nov metoda.
	(Data.__init__): Nov atribut `_change_number'.
	(Data._call_on_change_callbacks): Zvyuj hodnotu `_change_number'.
	* lib/pytis/data/_test.py (DBDataNotification): Pidn test
	`change_number'.

2002-07-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._validate): Vyuvej
	`PresentedRow.check()'.
	(EditForm.changed): Implementovno pomoc zjiovn modifikace
	jednotlivch vstupnch polek.
	(EditForm._on_commit_form): Opt vyuvej `self.changed()'.
	(EditForm.init): Pokud nen ureno `self._focus_field', Zvrazni
	namsto prvnho polka prvn *editovateln* polko.

	* lib/pytis/presentation/field.py (_Column.__init__): Nov argument a
	atribut `check'.
	(PresentedRow._process_fieldspec): Vytvenmu `_Column' pedvej
	i `f.check()'.
	(PresentedRow.__str__): Namsto stringov reprezentace datovho
	row zobraz exportovan hodnoty *vech* sloupc.
	(PresentedRow.check): Nov metoda.

	* lib/pytis/form/list.py (List.select_row.set): Pozici kurzoru v gridu
	penastavuj pouze pokud ji kurzor v gridu je.

2002-07-31  Milan Zamazal  <pdm@brailcom.org>

	* tools/pychecker (PYTHONVER): Pouvej Python 2.2.

2002-07-31  Milan Zamazal  <pdm@brailcom.org>

	* tools/pychecker (PYTHONVER): Pouvej Python 2.2.

2002-07-30  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Pro hodnotu
	NULL neprovdj petypovn (PostgreSQL to v podmnkch nem rd).

	* lib/pytis/form/search.py (SFDialog._selected_condition): Testuj na
	None i hodnotu instance value.

	* lib/pytis/form/list.py (List._ListTable.GetAttr): Ped zsknm
	hodnoty testuj poet dk.

2002-07-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.insert): Vracej dvojici.
	(MemData.insert): Zohlednna pedchoz zmna.
	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.update): spch testuj dle
	druhho prvku `result', ne celho `result'.
	(DBDataPostgreSQL.insert): Zohlednna zmna lib.data.Data.insert.
	* lib/pytis/data/_test.py: Npodobn.
	* lib/pytis/form/form.py (EditForm._edit_insert): Npodobn.
	* lib/pytis/form/list.py (List._on_line_commit): Npodobn.

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Nech
	`data' sm bt ilib.data.RemoteData.

	* ebas-server (_PyroResolver.get): Cachuj podle `file_name', ne
	`spec_name'.
	
2002-07-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Inicializuj atribut
	`self._initialized' na hodnotu FALSE.
	(InputField.init): Nastav `self._initialized' na TRUE.
	(InputField.initialized): Nov metoda.

	* lib/pytis/form/form.py (EditForm._on_row_change): Penastavuj hodnoty
	v polkch pouze pokud jsou ji inicializovna.

2002-07-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.Option.init_value):
	Nov argument `force'.
	(Configuration.Option._compute_init_value): Jestlie volba m
	hodnotu, dej j pednost ped implicitn hodnotou.
	(Configuration.__init__): Volej `init_value' snastavenm `force'.

	* ebas (run_application): Nech i`name_server' jako przdn
	string zna lokln sputn.

	* lib/pytis/data/data.py (Data.update): Zmnna nvratov hodnota na
	dvojici.
	(MemData.update): Zohlednna pedchoz zmna.
	* lib/pytis/data/_test.py: Npodobn.
	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.update): Npodobn.
	* lib/pytis/form/form.py (EditForm._edit_update): Npodobn.

	* lib/pytis/form/list.py (List.select_row.find): Nenastavuj
	self._table._current_row.
	(List._ListTable.__init__): Msto nastaven `_current_row' volej
	`rewind'.
	(List._ListTable._get_row): Nov argument `autoadjust'.
	(List._ListTable.row, List._ListTable.GetValue): Vyuvej tento
	argument.
	(List._on_line_commit): Zohlednna zmna nvratov hodnoty
	lib.data.Data.update.

2002-07-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/__init__.py (list): Provdj update globlnho
	namespace i pro modul `dualform'.

2002-07-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.GetAttr): Odchytvej vjimku
	pi zskvn dku v przdn tabulce.
	(FilteredBrowseForm.filter): Nov tda.
	(BrowseForm.CALL_NEW_RECORD): Nov callback.
	(BrowseForm.__init__): Nastavuj callback `CALL_NEW_RECORD' na
	metodu `self._on_new_record()'.
	(BrowseForm._on_new_record): Vracej vsledek voln
	`appl.run_form()'.
	(BrowseForm.on_command): Pkazy `COMMAND_NEW_RECORD' a
	`COMMAND_NEW_RECORD_COPY' neoetuj pmo volnm metody, ale
	volej callback.
	(SideBrowseForm.__init__): Zmna poad argument.  Filtrovac
	podmnku zskej ze specifikace zde.  Na konec volej
	`self.filter()' a `self.select_row(0)'.
	(List.select_row.set): Pokud nen po nastaven vbru kurzor na
	aktulnm dku, posu jej tam.
	(GetColLabelValue): Zobrazuj rzn poet ipeek podle priority
	tdn tohoto sloupce.
	(List._ListTable.GetAttr): Pouvej `self.GetValue()' k zskn
	hodnoty.
	(List._switch_sorting): Nov argument `primary'.  Pokud je primary
	pravda, nov tdn je pouze podle tohoto sloupce.  Pokud nen
	uren sloupec a `direction' je `SORTING_NONE', zru veker tdn.
	(List._on_label_right): Pidny poloku menu pro primrn tdn
	a pro =upln zruen tdn.
	(List._ListTable.GetAttr): Vracej None pokud je poadovan `row' 
	(ListForm.OnSetFocus): Ped volnm `self._list.SetFocus()' se
	ujisti, e je `self._list' ji vytvoen.

	* lib/pytis/form/dualform.py
	(SideBrowseDualForm._create_side_form._FilteredBrowseForm._formatter):
	Zrueno.
	(SideBrowseDualForm._create_side_form): Namsto
	`_FilteredBrowseForm' pouvej `SideBrowseDualForm'.
	(BrowseDualForm): Update dokumentace.
	(DualForm.__init__): Volej metody `_create_main_form()' a
	`_create_side_form()' pouze s argumenty `parent' a `name'.
	(DualForm._create_main_form): Nech m metoda pouze argumenty
	`parent' a `name'.
	(DualForm._create_side_form): Nech m metoda pouze argumenty
	`parent' a `name'.
	(SideBrowseDualForm._create_side_form): Nech m metoda pouze
	argumenty `parent' a `name'.  st akc pesunuta do
	`SideBrowseForm.__init__()'
	(BrowseDualForm._create_main_form): Nech m metoda pouze
	argumenty `parent' a `name'.  Nastavuj hlavnmu formuli callback
	`CALL_NEW_RECORD' na metodu `self._on_new_record()'.
	(BrowseDualForm._on_new_record): Nov metoda.
	(ShowDualForm._create_main_form): Nech m metoda pouze argumenty
	`parent' a `name'.
	(DescriptiveDualForm._create_main_form): Nech m metoda pouze
	argumenty `parent' a `name'.
	(DescriptiveDualForm._create_side_form): Nech m metoda pouze
	argumenty `parent' a `name'.

	* lib/pytis/data/types_.py (String._validate_maxlen): Test neprovdj,
	pokud je `self._maxlen' None.  Do chybov zprvy vkldej `value',
	ne `string'.

2002-07-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data._Operator): Pesunuto na top level.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nech `data'
	sm bt iinstanc lib.data.RemoteData.

	* lib/pytis/data/remote.py (RemoteData.add_callback_on_change)
	(RemoteData.remove_callback_on_change): Nov metody, zatm
	neimplementovan.
	(_RemoteWrapper.__getstate__): Nov metoda.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type.validate_not_null):
	Pesunuto na top-level jako `_validate_not_null'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pedvej codebooku specifikaci spojen, ne funkci ji vracejc.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql):
	Data._Operator -> _Operator.

	* ebas (gg.g): Msto `print' pouvej sys.stdout.write.

	* lib/pytis/data/types_.py: Kompletn zrueno `not_null'.
	(Type._shared_value_cache_counter): Nech je instanc
	lib.util.Counter.
	(Type.validate): Pi ukldn do cache zvedej ta.
	(Type._check_constraints): Nov metoda.
	(Type.validate): Pouvej ji.
	(String._check_constraints): Nov metoda.
	(String._validate_maxlen): Pi chyb Msto vracen nesmyslu
	vyvolej vjimku.
	(String.__init__): Nepidvej do `constraints' `_validate_maxlen'.

	* ebas-server (_wrap_data_factory): Krom obalovn vsledn data
	factories ivystavuj.
	(_PyroResolver): Neobaluj data_specs, msto toho je pouze cachuj.
	(_GNAME_DATA_SPEC): Zrueno.
	(_GNAME_DATA_FACTORY): Nov promnn.
	(_PyroDataFactory.__init__): Volej konstruktor originln
	DataFactory, ne t obalen.

	* lib/pytis/util/_test.py (Counter): Nov sada test.
	
	* lib/pytis/util/configuration.py (Configuration.Option.__init__): Msto
	`Object' pouvej `object'.
	
	* lib/pytis/util/util.py (Object): Zrueno.
	(Counter): Nov tda.
	(_mktempdir_counter): Nech je None.
	(mktempdir): Nech `_mktempdir_counter' je instanc Counter.

2002-07-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (LayoutSpec): prava docstringu.
	(ViewSpec.__init__): Argument `title' nech je povinn a na prvnm
	mst.  Argument `codebooks' zruen.  Zpsob zpracovn argumentu
	`columns' zmnn a zdokumentovn.
	(ViewSpec.columns): Namsto klovho argumentu `codebook'
	pijmej obecn identifiktor `id'.  Pokud nen nalezen seznam
	sloupc danho id, vracej hlavn seznam s identifiktorem `main'.

	* lib/pytis/form/application.py (Application._update_stack_display):
	Vyuvej stringifikace na instanci formule.

	* lib/pytis/form/dualform.py
	(SideBrowseDualForm._create_side_form._FilteredBrowseForm._columns):
	Nov metoda.
	(DualForm.name): Nov metoda.

	* lib/pytis/form/form.py (Form.__str__): Nov metoda.
	(Form.name): Nov metoda.

	* lib/pytis/form/inputfield.py (InputField.__init__): Inicializuj
	atribut `self._want_focus'.
	(InputField._on_idle): Pokud je nastaven `self._want_focus', volej
	`self._set_focus()'.
	(InputField._on_set_focus): Nastavuj pznak `self._want_focus' na
	FALSE.
	(InputField.set_focus): Implementuj metodu pouze nastavenm
	pznaku `self._want_focus'.
	(InputField._set_focus): Nov metoda
	(GenericField.set_focus): Pejmenovno na `_set_focus'.
	(HiddenField.set_focus): Pejmenovno na `_set_focus'.

	* lib/pytis/form/list.py (List.select_row.set): Po vybrn dku jet
	volej `grid.MakeCellVisible()'.
	(CodeBook.run): Ped zobrazen volej `self.focus()'.
	(CodeBook.__init__): Nech je implicitn hodnotou argumentu `id'
	etzec `codebook'.

2002-07-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/command.py (List.COMMAND_LINE_SOFT_ROLLBACK): Nov
	pkaz.
	* lib/pytis/form/list.py (List.on_command): Oetuj pkaz
	COMMAND_LINE_SOFT_ROLLBACK.
	(List._on_line_rollback): Nov argument `soft'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Pro obzvl
	podezel hodnoty `precision' ho nastav na None.

2002-07-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._init_controls): Nastavuj
	`self._key_guardian' na None pouze pokud je polko editovateln

	* lib/pytis/form/list.py (_InputFieldCellEditor.BeginEdit): Volej
	`Enable(wx.TRUE)' na widget vstupnho polka.
	(_InputFieldCellEditor.EndEdit): Volej
	`Enable(wx.FALSE)' na widget vstupnho polka a nastav focus
	rodiovskmu oknu.
	(List._ListTable.GetAttr): Nov metoda.
	(List._ListTable.GetAttr): Doplnn koment.

2002-07-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/remote.py (RemoteDataFactory.create): Zrueno.
	(_RemoteWrapper): Nov tda.
	(RemoteDataFactory, RemoteData): Bu jejm potomkem.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Codebooku pedvej pouze data factory, ne data.

	* lib/pytis/data/types_.py (Codebook.__init__): Argument `data' zmnn
	na `data_factory', nov argument `data_factory_kwargs'.
	(Codebook._update_enumeration, Codebook._export): Zohlednna
	pedchoz zmna.
	(Codebook._data): Nov metoda.

2002-07-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (ShowForm._create_form): obsah formule
	pidvej do sizeru se zapnutm rozpnnm v hlavnm smru. Volej
	`sizer.SetSizeHints(self._parent)'
	(ShowForm.OnSize): Nov metoda.

2002-07-24  Milan Zamazal  <pdm@brailcom.org>

	* tools/find-prints.sh: Pidny skripty `ebas*'.

2002-07-24  Milan Zamazal  <pdm@brailcom.org>

	* tools/find-prints.sh: Pidny skripty `ebas*'.

2002-07-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._init_controls): Nech
	_key_guardian je None.

	* ebas-server: Obaluj originln DataFactory vlib.data.
	(_orig_data_factory): Nov promnn.
	(_wrap_data_factory): Nov funkce.

	* lib/pytis/data/data.py (DataFactory.create_shared): Nov metoda.
	(DataFactory.__init__): Nov atribut `_shared_instance'.

2002-07-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._update_stack_display):
	Zobrazuj v tooltipu i nzvy specifikac.

	* lib/pytis/form/list.py (ListForm.__init__): Zruena nepouit promnn
	`size' a atribut `self._text'.
	(CodeBook.run): prava docstringu.

2002-07-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._validate): Nespnou validaci loguj.
	(EditForm._validate): Po validaci jet prove test vzjemn
	integrity dat.
	(_on_commit_form): Doasn zakomentovn test `self.changed()'.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Nov argument
	`check'.
	(FieldSpec.check): Nov metoda.
	(PresentedRow.__setitem__): Pokouej se nastavovat hodnotu v
	datovm roe pouze pokud tam dan sloupeek je.

	* lib/pytis/form/inputfield.py (InputField.validate): prava formtovn
	hlky v dialogu.

2002-07-22  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Msto
	`not_null' vkonstruktoru typu pouvej `constraints'.

	* lib/pytis/data/types_.py (Type.__init__): Zruen (deprecated) argument
	`not_null', nov argument `constraints'; analogicky atributy.
	(Type.__cmp__): Zohlednna pedchoz zmna.
	(Type.ERRMSG_NULL_VALUE): Zrueno.
	(Type.not_null): Zrueno.
	(Type.validate): Pidno testovn constraint.
	(Float.__init__, String.__init__, String._validate) 
	(Enumeration.__init__, Boolean.__init__, Codebook.__init__) 
	(Sequence.__init__): Zohlednny pedchoz zmny.
	(String._validate_maxlen): Nov metoda.

	* lib/pytis/data/types_.py (String.__cmp__): Vracej `result'.

	* ebas (run_application): Msto ist vzdlenho resolveru
	pouvej lokln resolver svyuitm vzdlenho resolveru.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_update): Opraveny parametry
	metanch vjimek.
	(PostgreSQLStandardBindingHandler._pg_update): Doplnno chybjc
	_pg_query ve voln broken UPDATE.

	* lib/pytis/data/_test.py (_DBTest.setUp, _DBTest.tearDown)
	(DBDataDefaultClass.setUp): Pidna podpora pro testovn UPDATE
	na rules.
	(DBDataDefaultClass.check_view_update): Nov test.
	(DBDataDefaultClass.setUp, TutorialTest.check_it): Zohlednna
	zmna specifikace enumeratoru na DataFactory.
	(Float.check_precision, String.check_validation_limited)
	(String.check_cmp): Pidna kvalifikace argumentu vkonstruktoru.

2002-07-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Pokud byl
	definovn `codebook', nastav implicitn `default' funkci vracejc
	przdnou hodnotu.

	* lib/pytis/form/inputfield.py (InputField.__init__): Zruen atribut
	`_run_invalid_value_handler'.  Inicializuj
	`_last_validation_error'
	(InputField._validation_error_handler): Nov metoda.
	(InputField._on_idle): Pokud je nastaven atribut
	`_last_validation_error', volej `self._validation_error_handler()'
	a ppadn zobraz chybovou zprvu.
	(InputField._on_kill_focus): Po validaci pouze nastav atribut
	`_last_validation_error' a o vc se nestarej.
	(InputField.init): `self._initial_value' nastavuj podle
	`self.get_value()' namsto rovnou podle value kvli monm
	transformacm uvnit metody `_set_value()'.
	(MultiTextField._on_kill_focus): Hodnotu vrcenou metodou
	`Type.validate_partial()' ber jako instanci `ValidationError'.
	(CodeBookField._validation_error_handler): Nov metoda.
	(EnumerationField._set_value): Pi chyb vypisuj i id polka.

	* lib/pytis/form/form.py (EditForm.init): pouvej `find()' pro nalezen
	polka podle nzvu.

	* lib/pytis/data/types_.py (Type.invalid_value_handler): Zrueno.
	(Codebook.validate_partial): Namsto etzce chybov zprvy vracej
	instanci `ValidationError'.
	(Type.ERRMSG_NULL_VALUE): Nov konstanta.
	(Type.validate): Pouvej ji.
	(Codebook.default_value): Zrueno.

2002-07-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_update): Oetuj problm
	snvratovou hodnotou view.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nov
	atributy `_pdbb_command_broken_update_preselect' a
	`_pdbb_command_test_broken_update.

2002-07-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Zjiuj
	NOT NULL.
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Nov argument
	`not_null'.
	(DBPyPgFunction._db_bindings_to_column_spec): Zohlednna pedchoz
	zmna.

	* lib/pytis/data/types_.py (Type.__init__): Nov metoda.
	(Float.__init__, String.__init__, Enumeration.__init__): Volej ji.
	(Type): Bu potomkem `object'.
	(NonNull, CodebookNull): Zrueno.
	(Type.not_null): Nov metoda.
	(Float.__init__, Type.validate): Testuj na 'None'.
	(Type.__cmp__): Zohledni `_not_null'.
	(String.__cmp__, Enumeration.__cmp__, Sequence.__cmp__): Volej
	__cmp__ pedka.

2002-07-19  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/pripisuj.py: Nult verze.

2002-07-19  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/pripisuj.py: Nult verze.

2002-07-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Nov atribut
	`self._run_invalid_value_handler'.
	(InputField._init_controls): Oetuj `EVT_IDLE' volnm metody
	`_on_idle()'.
	(InputField._on_idle): Nov metoda.
	(InputField._on_kill_focus): Nastavuj pznak
	`self._run_invalid_value_handler'.
	(MultiTextField._on_kill_focus): Pouvej metodu
	`Type.validate_partial()', namsto `Type.is_valid()'.

	* lib/pytis/form/form.py (EditForm.__init__): Nov argument `focus_field'.
	(EditForm.init): Pokud je nastaveno `self.focus_field', najdi jej
	a volej `set_focus()'.

	* lib/pytis/data/types_.py (Type.invalid_value_handler): Nov metoda.
	(Codebook.ERRMSG_PARTIAL_VALIDATION): Nov konstanta.
	(Codebook.is_valid): Zrueno (nahrazeno metodou `validate_partial()').
	(Codebook.validate_partial): Nov metoda.
	(Codebook._validate): Update dokumentace.

2002-07-17  Milan Zamazal  <pdm@brailcom.org>

	* ebas (run_application): Importuj lib.data.

	* lib/pytis/data/__init__.py: Pidno `remote'.
	* lib/pytis/data/remote.py: Nov soubor.

	* ebas-server (go): Zaregistruj nov naming groups.
	(RemoteData, RemoteDataFactory): Pesunuto do lib.data.remote.
	(PyroDataFactory): Pejmenovno na _PyroDataFactory.
	(PyroResolver): Pejmenovno na _PyroResolver.
	(_GNAME_DATA, _GNAME_DATA_SPEC, _NAME_RESOLVER): Nov konstanty.

2002-07-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (DataFactory): Bu potomkem `object'.

	* ebas-server: Neimportuj `imp'.
	(_pyro_ns, _pyro_daemon): Nov promnn.
	(go): Pouvej ji.
	(PyroResolver.get_object): Nov metoda.
	(PyroDataFactory): Nov tda.
	(RemoteDataFactory): Nov tda.
	(RemoteData): Nov tda.

2002-07-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (Form.__init__): Pi vjimce pedvej jmno
	poadovan specifikace.

2002-07-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (DataFactory): Nov tda.
	* lib/pytis/data/dbdata.py (DBColumnBinding.__init__): Nech
	`enumerator' je `DataFactory'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Vytvej instanci datovho objektu z`enumerator'.
	(DBColumnBinding.__init__): `type_' sm bt ispecifikace
	Codebook.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Zohlednna pedchoz zmna.
	* lib/pytis/data/_test.py (DataFactory): Nov sada test.
	* lib/pytis/form/spec.py: DataSpec -> DataFactory.
	(DataSpec): Zrueno.
	* lib/pytis/form/inputfield.py (ListField._create_controls): DataSpec ->
	DataFactory.
	(ListField._create_controls): Npodobn.
	* lib/pytis/form/form.py (Form.__init__): DataSpec -> DataFactory.
	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table) 
	(LoutFormatter._format_data_item): DataSpec -> DataFactory.

2002-07-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/log.py (Logger.__init__): Msto config.application_name
	pouvej natvrdo 'ebas'.

	* lib/pytis/form/form.py (Form.__init__): Zakomentovn assert na typ
	`resolver'.

	* lib/pytis/form/screen.py (Menu.items): Nov metoda.
	(MenuBar.__init__): Pidn test na duplicitn hork klvesy.
	(MItem._used_hotkeys): Zrueno.
	(MItem.__init__): Zruen test na duplicitn hork klvesy.

	* lib/pytis/form/command.py (Command.__cmp__): Nov metoda.

	* ebas-server: Dotaeno do prvn prototypov verze.
	* ebas (run_application): Pidna podpora pro prci pes Pyro
	server.
	(_usage): Pidna volba `name-server'.
	(_install_gettext): Msto config.application_name pouvej natvrdo
	'ebas'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_name_server_host): Pejmenovno na
	`_Option_name_server'.
	(Configuration._Option_name_server.default): Vracej None.
	(Configuration._Option_name_server.long_option): Nov metoda.
	(Configuration._Option_application_name): Zrueno.
	* config/config.py: Pegenerovno.
	* config/config_ebas.py (application_name): Zrueno.
	* config/config_isas.py (application_name): Zrueno.
2002-07-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application._init): Zrueno.
	(Application._spec): Nov metoda.
	(Application._title, Application._menu, Application._buttons) 
	(Application._status_fields): Vyuvej ji.
	(Application._command_keys, Application._default_font_coding):
	Nov specifikan metody.
	(Application.OnInit): Nevolej `_init', vyuvej nov specifikan
	metody.
	(run_application): Nepebrej aplikan tdu zresolveru.
	* lib/pytis/data/types_.py (Value.__cmp__): Ped volnm
	`compare_object' porovnej pmo typy.

	* lib/pytis/presentation/field.py (PresentedRow.__str__): Nov metoda.

	* lib/pytis/util/util.py (sameclass): Nov argument `strict'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.update): Pi existujcm
	dku loguj `key', ne None.

	* lib/pytis/form/inputfield.py (CheckBoxField._create_controls):
	Opraveno formtovn.
	(CheckBoxField._create_controls, ChoiceField._create_controls) 
	(RadioBoxField._create_controls, ListBoxField._create_controls):
	Nastav callback zmny polka.

	* lib/pytis/util/resolver.py (Resolver): Bu potomkem `object'.

	* lib/pytis/form/application.py (Application.OnInit): Vyhozeno piazen
	`_resolver'.
	(run_application): Msto `resolver.get' pouvej
	`resolver.get_object'.

2002-07-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.get): Opravy docstringu.
	(Resolver.load_module): Pejmenovno na `_get_module'.
	(Resolver.get): Zohlednna pedchoz zmna.
	(Resolver.get_object): Nov metoda.
	(Resolver.get): Vyuvej ji.
	(Resolver): Atribut `_spec', resp. `_module' pejmenovn na
	`_spec_cache', resp. `_module_cache'; nov atribut
	`_object_cache'.
	(Resolver.get_instance): Nov metoda.

	* lib/pytis/util/configuration.py
	(Configuration._Option_name_server_host): Nov volba.

	* ebas-server: Nov skript.

	* lib/pytis/form/application.py (run_application): Nov argument
	`resolver'.  Neprovdj "run" zpracovn config.def_dir.
	(run_application): Msto resolver.load_module pouvej
	resolver.get.

	* lib/pytis/data/data.py (Data): Bu potomkem `object'.

2002-07-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SortingDialog.__init__): Nov argument
	`sorting' a atribut `_sorting'.
	(SortingDialog._ASCENDING): Pejmenovno na _ASCENDENT.
	(SortingDialog._DESCENDING): Pejmenovno na _DESCENDANT.
	(SortingDialog._CANCEL_BUTTON): Zmna textu.
	(SortingDialog): Upraveno pro vcesloupcov tdn.

	* lib/pytis/util/resolver.py (Resolver.load_module, Resolver.get):
	Doplnny chybjc informace vdocstringu.
	(ResolverError): Bu potomkem Exception msto ProgramError.
	(ResolverFileError.__init__, ResolverSpecError.__init__): Volej
	konstruktor pedka, ne ProgramError.

	* lib/pytis/util/util.py (position, find): Oprava docstringu.

	* lib/pytis/form/list.py (List._ListTable.__init__): Argument `sort',
	resp. atribut `_sort', pejmenovn na `sorting', resp. `_sorting'.
	(List._create_grid): Zohlednna pedchoz zmna.
	(List._ListTable.GetColLabelValue): Zohlednna pedchoz zmna a
	zobecnno pro vcesloupcov tdn.
	(List.__init__): Nov argument `default_sorting'.  Formln opravy
	docstringu.
	(ListForm.__init__): Pedvej do List `default_sorting' zjitn
	ze specifikace.
	(List._switch_sorting): Pidna podpora pro vcesloupcov tdn,
	opraveny rzn nesmysly.

2002-06-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver._load_module): Pejmenovno na
	`load_module'.
	(Resolver.get): Zohlednna pedchoz zmna.

	* lib/pytis/form/application.py (run_application): Nov funkce.
	(Application.__init__): Nov argument `resolver'.
	(Application.OnInit): Zruen atribut `_resolver_'.
	(Application._resolver): Zrueno, msto metody je nov atribut.
	(Application._resolver_directory): Zrueno.
	(Application.resolver): Zohlednny pedchoz zmny.

	* ebas (run_application): Msto lib.form.application importuj
	lib.form.  Msto vytven a spoutn aplikace z`defs' volej
	lib.form.run_application.

2002-06-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter.preview) 
	(LoutFormatter.printout): Metoda uzavr `stream' (pouze update
	docstringu).

	* lib/pytis/form/output.py (PrintForm._run_formatter): Nikdy neuzavrej
	`stream'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_update): Odstrann
	zapomenut dek.

2002-06-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): TODO poznmka
	zmnna na obyejnou poznmku.
	(DBDataPostgreSQL._pg_value): Odstranna TODO poznmka.
	(DBDataPyPgSQL._PgNotifier._listen): Pi chybch si oddychuj,
	sprodluujcmi se intervaly.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec) 
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql) 
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands) 
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql) 
	(PostgreSQLStandardBindingHandler._pg_search): Odstranny TODO
	poznmky, kosmetick pravy.

	* lib/pytis/form/event.py (UserBreakException.__init__): Vyuvej
	argumentu `beep_' funkce `message'.
	(_system_callback_*): Nov globln promnn.
	(wx_callback.process_event): Pedlno ve snaze uinit to
	dostaten thread-safe.
	
2002-06-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowsableShowForm._on_next_record): Vyuvej
	argumentu `beep_' funkce `message'.

	* lib/pytis/form/application.py (Application.on_command): Vyuvej
	argumentu `beep_' funkce `message'.

	* lib/pytis/form/list.py (List._on_select_cell): Volej pmo
	`_select_cell_command', neprovdj zpracovn pes vyvoln
	pkazu.
	
	* lib/pytis/form/event.py (interrupt_watcher.watcher): Nenuluj `lock'.

2002-06-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (UserBreakException.__init__): Msto `super_'
	pouvej `super'.
	(interrupt_watcher.watcher): Vyuvej `microsleep'.
	(interrupt_watcher): Synchronizaci na inicializaci zpracovn
	peruen provdj prostednictvm zmku.

	* lib/pytis/form/application.py (message): Loguj pouze pokud je
	`message' nebo `data' neprzdn.

	* lib/pytis/form/list.py (List): Bu potomkem Refreshable.

	* lib/pytis/form/form.py (Refreshable): Nov tda.
	(EditForm._signal_update): Msto na existenci `refresh' testuj zda
	je okno instanc Refreshable.
	(PopupEditForm.message): Oprava formtovn.

	* lib/pytis/form/_test.py: Odstranny skoro vechny (nefunkn) testy.

	* lib/pytis/form/screen.py (ButtonBar): Odstranna TODO poznmka.
	(StatusBar.message): Timeru pedvej zadan `timeout', ne3.

	* lib/pytis/data/_test.py (DBDataDefaultClass.setUp): Nepouvej ji
	vce DBMultiColumnBinding.

	* lib/pytis/data/dbdata.py (DBMultiColumnBinding): Zrueno.
	(PostgreSQLStandardBindingHandler._pdbb_btabcol) 
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Zohlednna pedchoz zmna.

2002-06-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.run): *_BROKEN nastaveno na
	FALSE.
	(Application.run.log_wrapper): Pi THREADING_BROKEN volej wxYield
	jen pro hlavn thread.

	* lib/pytis/util/util.py (Popen.__init__): Obaluj cel synovsk process
	do try...finally.

	* lib/pytis/form/output.py (PrintForm._on_print_): Vyuvej Popen.

2002-06-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._lout): Obnoveno
	cachovn lout zdrojku.

	* lib/pytis/form/output.py (PrintForm._zoom): Do
	`_start_postscript_viewer' pedvej `zoom' podlen100.
	(PrintForm._zoom, PrintForm.Close): Ignoruj IOError pi uzavrn
	streamu.

2002-06-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._lout): Nastaven
	`release_lock' pi chyb lout pesunuto kuvolnn zmku.

2002-06-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._lout): Pepracovno
	svyuitm lib.util.Popen.

	* lib/pytis/form/screen.py (microsleep): Nov funkce.

	* lib/pytis/form/output.py (_Ghostscript._start_gs): Nov metoda.
	(_Ghostscript.__init__): Volej ji msto `_render'.
	(_Ghostscript.__del__): Uzavrej `_stream' a ekej na dokonen
	jeho procesu.
	(_Ghostscript._render): Zrueno.
	(_Ghostscript.input_stream): Nov metoda.
	(_Ghostscript.page_image): Jedn-li se oprvn strnku, ekej na
	jej vygenerovn.  Uostatnch strnek vracej None, pokud strnka
	jet nen dokonena.  Doplnno logovn.
	(PostscriptViewer.ps_input_stream): Nov metoda.
	(PrintForm._create_controls, PrintForm._zoom): Do `_run_formatter'
	pedvej msto vlastnorun vytven roury stream vytvoen
	postscriptovou prohlekou.
	(PrintForm._show_page): Pokud
	(PostscriptViewer.show_page): Jestlie vstup nem dnou strnku,
	vra0.  ekej na vyrenderovn alespo prvn strnky.
	(PrintForm._on_idle): Vyuvej funkci `micro_sleep'.
	(PostscriptViewer.__init__): Nezobrazuj prvn strnku.
	(_Ghostscript.finished): Testuj ukonen gs procesu.
	(_Ghostscript.number_of_pages): Zda je proces ukonen zjiuj ped
	zjiovnm potu strnek.  Opraveno zjiovn potu strnek.
	(_Ghostscript.__init__): Nech `_number_of_pages' je dvojice.
	(PostscriptViewer.show_page): Nastavuj scrollbars.
	(PostscriptViewer.__init__): Nenastavuj scrollbars.
	(PrintForm._start_postscript_viewer): Nov metoda.
	(PrintForm._create_controls, PrintForm._zoom): Vyuvej ji.
	(PrintForm._run_formatter): Uzaven streamu obaleno odchytnutm
	IOError.

	* lib/pytis/util/_test.py (Popen): Nov sada test.
	(DevNullStream): Nov sada test.

	* lib/pytis/util/util.py (Popen): Nov tda.
	(dev_null_stream): Nov funkce.

2002-06-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_update_many) 
	(DBDataDefaultClass.check_delete_many): Nov testy.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.delete_many): Nov metoda.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Z`_pdbb_command_update' a `_pdbb_command_delete' odstranno
	vloen ablony klov podmnky.
	(DBDataPostgreSQL._pg_key_condition): Nov metoda.
	(DBDataPostgreSQL._pg_delete): Msto kle m za argument
	podmnku.
	(DBDataPostgreSQL.delete)
	(PostgreSQLStandardBindingHandler._pg_delete): Zohlednna
	pedchoz zmna.
	(PostgreSQLStandardBindingHandler._pg_delete): Vracej skuten
	poet smazanch dk.
	(DBDataPostgreSQL.update_many): Nov metoda.
	(DBDataPostgreSQL._pg_update): Msto kle je argumentem
	podmnka.  Vracej poet updatovanch dk.
	(PostgreSQLStandardBindingHandler._pg_update) 
	(DBDataPostgreSQL.update): Zohlednna pedchoz zmna.
	(DBDataPostgreSQL.update): Odstranny zmatky a chyby souvisejc
	sordering.

	* lib/pytis/data/data.py (Data.delete_many): Nov metoda.
	(Data.update_many): Nov metoda.

2002-06-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm.__init__): Nedokumentuj zddn
	argumenty, odkazuj se na dokumentaci konstruktoru nadtdy.
	(PopupEditForm.__init__): Argumenty pedvej pomoc '*args' a
	'**kwargs'.

2002-06-05  Petr Malivanek  <malivanek@akont.cz>

	* lib/pytis/form/list.py (List._on_handled_command): Pedvej handleru
	tak 'self._data' jako argument. Loguj.
	(List._on_handled_command): Po handleru volej 'refresh()'.

	* lib/pytis/form/application.py (Application.run_form): Formul
	vytvej pomoc 'apply()', aby bylo mono sprvn pedat nzev.

2002-06-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py: Oprava peklepu vdocstringu.

	* lib/pytis/form/output.py: Vude doplnno logovn.
	(PrintForm._on_widget_key): ^M -> Enter.

	* lib/pytis/output/formatter.py (LoutFormatter._lout): `in_'
	pejmenovno na `lout'.
	(LoutFormatter._lout): Uzavrej streams vytvoen pes popen2.

	* lib/pytis/util/util.py (Pipe.close): Ignoruj vjimky pi uzavrn CC
	stream.
	(copy_stream): Neloguj veker naten data.

2002-06-04  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (_CellEditor.__init__): Nov argument
	'guardian'. Ukldej jej do 'self._guardian'.
	(_InputFieldCellEditor.Create): Funkci 'resolve()' pedvej
	'self._guardian' jako argument 'guardian'. Nepedvej ji
	neexistujc argument 'form'.
	(List._create_grid): Konstruktru '_InputFieldCellEditor' pedvej
	self, jako argument 'guardian'.
	(List.on_key_down): Nov nepovinn argument 'dont_skip'. Pedvej
	jej voln nadazenho 'KeyHandler'u.
	(CodeBook.__init__): Nov nepovinn argument
	'select_row'. Pedvej jej voln konstruktoru rodi. tdy.

	* lib/pytis/form/form.py (EditForm._pack_fields): Funkci 'resolve()'
	pedvej 'self' jako argumenty 'parent' i 'guardian'.

	* lib/pytis/form/inputfield.py (resolve): Zruen argument 'form'. Nov
	nepovinn argument guardian.
	(InputField.__init__): Zruen argument 'form'. Nov nepovinn
	argument guardian.
	(_TextValidator.__init__): Zruen argument 'maxlen'. Argument
	'filter' nech je povinn.
	(_TextValidator.Clone): Nepedvej argument 'maxlen'.
	(_TextValidator._on_char): Nee pekroen maximln dlky.
	(InputField.__init__): Nenastavuj atributy 'self._ctrl_parent' a
	'self._form'. Nastavuj 'self._guardian'.
	(InputField._create_label): 'self._ctrl_parent' -> 'self._parent'.
	(InputField.guardian): Namsto 'self._form' vracej
	'self._guardian'.
	(InputField.validate): Namsto pmho vyvoln dialogu vyuvej
	'Application.dialog()'.
	(Unlabeled._create_label): 'self._ctrl_parent' -> 'self._parent'.
	(TextField._create_text_control): 'self._ctrl_parent' ->
	'self._parent'. Vyuvej 'control.SetMaxLength()'. Namsto voln
	'self._set_validator()' vytvej '_TextValidator' pmo. Jeho
	konstruktoru nepedvej argument 'maxlen'.
	(TextField._set_validator): Zrueno.
	(CheckBoxField._create_controls): 'self._ctrl_parent' ->
	'self._parent'.
	(ChoiceField._create_controls): 'self._ctrl_parent' ->
	'self._parent'.
	(RadioBoxField._create_controls): 'self._ctrl_parent' ->
	'self._parent'.
	(ListBoxField._create_controls): 'self._ctrl_parent' ->
	'self._parent'.
	(Invocable._create_button): 'self._ctrl_parent' -> 'self._parent'.
	(DateField._on_invoke_selection): Namsto pmho vytven
	kalende vyuvej 'Application.dialog()'.
	(InlineMultiTextField._create_controls): Oeti ppad, kdy jeden
	z prvk sekvence vrcen 'self._maxlen()' je 'None'.
	(InlineMultiTextField._number_of_values): Pejmenovno na
	'_number_of_fields'.
	(InlineMultiTextField.get_value): Kosmetick pravy.
	(InlineMultiTextField._set_value): Pokud argumentem nen sekvence,
	nastav hodnotu pmo.
	(CodeBookField._create_widget): 'self._ctrl_parent' ->
	'self._parent'.
	(CodeBookField._on_invoke_selection): Namsto pmho vytven
	selnku volej 'Application.run_form()'.
	(ListField._create_controls): Resolver zskej pomoc
	'lib.form.application._application.resolver()'.
	(ListField._create_controls): 'self._ctrl_parent' ->
	'self._parent'.

	* lib/pytis/form/application.py (Application.run_form): Pidno mapovn
	pro akci 'codebook'.
	(Application.dialog): Pokus se zskat rodie aktulnho okna jako
	rodie dialogu a teprve potom pouij 'self._frame'.
	(Application.run_form): Jako wx rodie nejprve zkus dosadit rodie
	aktulnho okna z framestacku a teprve potom pouij 'self._frame'.

	* lib/pytis/form/dialog.py (GenericDialog.on_command): Nov metoda
	oetujc pkaz 'Application.COMMAND_LEAVE_FORM'.

2002-06-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (copy_stream): Stream uzavrej, je-li to
	poadovno, za vech okolnost.
	(copy_stream): Pi sputn vthreadu odchytvej vechny vjimky.

	* lib/pytis/form/output.py (_Ghostscript._render.feedgs): Nastavuj
	`_finished' na pravdu za vech okolnost.
	(_Ghostscript._render.feedgs): Odstranno koprovn argument.
	(PrintForm._run_formatter): Stream uzavrej za vech okolnost.

	* lib/pytis/form/event.py (wx_callback.process_event): Pro uivatelskou
	udlost volej `message'.
	(_is_user_event): Mezi uivatelsk udlosti pidno
	wxCommandEventPtr.

	* lib/pytis/form/application.py (Application.on_command): Nevolej
	`message'.

2002-06-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.popup_form): Zrueno.

	* lib/pytis/form/inputfield.py (ListField._invoke_edit_form): Zrueno.
	(ListField._invoke_browse_form): Zrueno.
	(ListField.on_command): Namsto metod '_invoke_edit_form()' a
	'_invoke_browse_form()' volej pmo Appication.run_form()'.

	* lib/pytis/form/dualform.py (DualForm.__init__): Inicializuj atribut
	'self._sash_position'.
	(DualForm.OnSize): Vyuvej atribut 'self._sash_position'.
	(ShowDualForm.__init__): Kosmetick prava.
	(ShowDualForm._create_main_form): Inicializuj atribut
	'self._sash_position'.
	(ShowDualForm.on_command): Zrueno.
	(ShowDualForm.OnSize): Zrueno.
	(DescriptiveDualForm._create_side_form): Inicializuj atribut
	'self._sash_position'.
	(DescriptiveDualForm.OnSize): Zrueno.

2002-05-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.on_command): Zpracovvej
	COMMAND_BREAK.

	* lib/pytis/form/output.py (PrintForm._show_page): Pi zjitn
	definitivnho potu strnek oznam konec formtovn pes
	`message'.

	* lib/pytis/output/formatter.py (LoutFormatter._lout.p): Zrueno
	pedvn argument.  Pi peruen uzavrej `out'.

2002-05-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Zruen argument
	'other_name'.  Pidn argument '*args'.
	(Application.run_form): Mapovn upraveno podle novho vznamu
	td, pidmo mapovn pro tiskov formule.
	(Application.run_form): Loguj tak argumenty formule.
	(Application.popup_form): Zakomentovno nastaven callbacku pro
	'BrowseForm'.

	* lib/pytis/form/command.py: Nov pkaz
	'BrowseForm.COMMAND_RECORD_EDIT'.  Pkazy 'EditForm' souvisejc
	s pohybem po zznamech nech pat td 'BrowsableShowForm'.

	* lib/pytis/form/dualform.py (DualForm.__init__): Zapamatuj si jmno
	vedlejho formule v atributu 'self._side_name'.
	(BrowseDualForm._create_main_form): Nastavuj 'CALL_ACTIVATION' na
	'self._on_show_record'.
	(BrowseDualForm._on_show_record): Nov metoda.
	(EditDualForm): Pejmenovno na 'ShowDualForm'.
	(ShowDualForm.__init__): Oprava peklepu v nzvu argumentu.
	'EditDualForm' -> 'ShowDualForm'.  Nevolej
	'self._main_form.init()'.
	(ShowDualForm._create_main_form): Namsto 'EditForm' pouvej
	'BrowsableShowForm'.

	* lib/pytis/form/screen.py (Menu.create.callback): Nepedvej lokln
	promnn do lambda funkce.

	* lib/pytis/form/list.py (List.is_edited): Nov metoda.
	(ListForm._popup_menu): Vra przdn tuple namsto None.
	(ListForm.set_callback): Pokud nejde o callback listu, edvej jej
	rodiovsk td.
	(CodeBook.__init__): Namsto callbacku 'CALL_ALTERNATE_ACTIVATION'
	vyuvej 'CALL_ACTIVATION' a volej 'self._on_activation'
	(CodeBook._popup_menu): Nov metoda.
	(CodeBook._on_selection): Pejmenovno na '_on_activation'
	(BrowseForm): Doplnna dokumentace.
	(BrowseForm.CALL_EDIT_RECORD): Nov callback.
	(BrowseForm.__init__): Zmna vyuit callback, vyuvej tak nov
	callback 'CALL_EDIT_RECORD'.
	(BrowseForm._popup_menu): Na zatek menu tak pidvej poloky
	definovan rodiovskou tdou.
	(BrowseForm._on_new_record): Doplnno TODO.
	(BrowseForm._on_edit_form): Pejmenovno na
	'_on_edit_record'. Nevytvej instanci pmo, ale vyuvej
	'Application.run_form()'.
	(BrowseForm._on_show_record): Nov metoda.
	(BrowseForm._on_descr_record): Nov metoda.
	(BrowseForm.on_show_details): Zrueno.
	(BrowseForm._on_print_): Nevytvej instanci pmo, ale vyuvej
	'Application.run_form()'.
	(BrowseForm.on_command): Oetuj 'BrowseForm.COMMAND_RECORD_EDIT'
	volnm callbacku 'CALL_EDIT_RECORD'.

	* lib/pytis/form/inputfield.py (InputField.__init__): Volej
	'CallbackHandler.__init__()' zde.
	(InputField._init_controls): Nevolej 'CallbackHandler.__init__()'
	zde.
	(InputField._on_kill_focus): Validaci neprovdj, pokud polko
	nen editovateln.
	(MultiTextField._on_kill_focus): stenou validaci neprovdj,
	pokud polko nen editovateln.

	* lib/pytis/form/form.py (EditForm): Ve, co se tk pohybu po
	zznamech, vyhledvn, tdn a filtrace pesunuto do nov tdy
	'BrowsableShowForm'.
	(EditForm.__init__): Neinicializuj atributy 'self._search_dialog'
	a 'self._filter_dialog'.  Doplnn koment.  Pokud wx rodiem nen
	'wx.wxDialog', volej 'self.init()' explicitn, namsto nastavovn
	callbacku.
	(EditForm.init): Upesnn koment.
	(EditForm._signal_update, EditForm._on_search)
	(EditForm._on_select_filter, EditForm._on_sort_column)
	(EditForm._on_next_record, EditForm._on_set_row): Pesunuto do
	'BrowsableShowForm'.
	(EditForm._find_row.find_row): Nepedvej lokln promnn.
	(EditForm.on_ui_event): Oeten 'List.UI_EXISTS_CONDITION'
	pesunuto do 'BrowsableShowForm'.
	(EditForm.on_command): Neoetuj pkazy tkajc se navigace.
	(BrowsableShowForm): Nov tda.

2002-05-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.on_command): Zruena
	logovac hlka "wow".

	* lib/pytis/form/screen.py (KeyHandler._maybe_invoke_command): Doplnna
	dal logovac hlen.

	* lib/pytis/data/_test.py (DBFunction): Odladno.
	(DBMultiData.check_select_fetch_direction): Pedefinovn
	poddnho testu.

	* lib/pytis/data/dbdata.py (DBPyPgFunction): Dokoneno.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec.gettype):
	Zmnno na metodu `_pdbb_get_type' a zmnny argumenty.
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Nov
	metoda.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Zohlednny pedchoz zmny.
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	Zrueno explicitn pedvn promnnch.

2002-05-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/__init__.py: Importuj modul 'dualform'.

	* lib/pytis/form/form.py: prava dokumentace v souvislosti s oddlenm
	kdu dulnch formul do samostatnho modulu.
	(EditForm.on_ui_event): Na list odkazuj pmo (ne 'lib.form.List').
	(DualForm, SideBrowseDualForm, BrowseDualForm, EditDualForm) 
	(DescriptiveDualForm): Pesunuto do novho modulu 'dualform'.

	* lib/pytis/form/list.py (_InputFieldCellEditor.__init__): Inicializuj
	'self._callbacks'
	(_InputFieldCellEditor.Create): Nastav vytvoen instanci
	'InputField' callbacky uloen v 'self._callbacks'.
	(_InputFieldCellEditor.set_callback): Nov metoda.
	(List._create_grid): Nastav editoru callbacky.

	* lib/pytis/form/inputfield.py (InputField.CALL_COMMIT_FIELD): prava
	docstringu.

2002-05-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBFunction): Nov sada test.
	(DBCounter): Pidno do `tests'.

	* lib/pytis/data/data.py: Do docstringu doplnn odkaz na tdy Counter a
	Function.
	(Function): Nov tda.
	(Row.__init__): Odstranny specifiktory modulu `types_'
	vdocstringu.
	(Data.__init__): Do chybovho hlen assertu sloupc pidno
	`columns'.

	* lib/pytis/data/dbdata.py (DBCounterDefaultClass): Zrueno.
	(DBCounterDefault): Hodnota zmnna na DBPyPgCounter.
	(DBFunctionDefault): Nov globln promnn.
	(DBPyPgFunction): Nov tda.

	* lib/pytis/form/screen.py (KeyHandler._init_commands): Nov metoda.
	(KeyHandler._maybe_invoke_command, KeyHandler.on_key_down):
	Pouvej ji.

	* lib/pytis/form/application.py (Application.run): Msto vPythonu2.2
	zcela nefunknho obalovn funkce `log' nastavuj logovac hook.

	* lib/pytis/util/log.py (LoggingInterface): Nov tda.
	(log): Pesunuto do LoggingInterface jako __call__.
	(log): Nov globln promnn.

2002-05-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField): Doplnna dokumentace
	tkajc se 'CallbackHandler'.
	(InputField.CALL_LEAVE_FIELD, InputField.CALL_COMMIT_FIELD)
	(InputField.CALL_FIELD_CHANGE, InputField.CALL_SKIP_NAVIGATION):
	Nov callbackov konstanty.
	(InputField.__init__): Update komente.
	(InputField.on_command): Oeti pkazy 'COMMAND_COMMIT_FIELD' a
	'COMMAND_LEAVE_FIELD' volnm patinch callback.
	(InputField._on_change): Namsto pmho voln metody
	'field_change()' formule volej pouze callback
	'CALL_FIELD_CHANGE'.
	(InputField._skip_navigation): Zrueno.
	(Invocable._create_widget): Namsto metody '_skip_navigation()'
	volej callback 'CALL_SKIP_NAVIGATION'.
	(CodeBookField._create_widget): Namsto metody '_skip_navigation()'
	volej callback 'CALL_SKIP_NAVIGATION'.

	* lib/pytis/form/form.py (Form._on_leave_form): Nech je argument
	'event' nepovinn.
	(PopupForm._on_leave_form): Nech je argument 'event' nepovinn.
	(EditForm._pack_fields): Nastav vytvoenmu polku callbacky.
	(EditForm.field_change): Pejmenovno na '_field_change()'.
	(EditForm.navigate): Pejmenovno na '_navigate'.
	(EditForm.on_command): Volej 'self._on_leave_form()' bez
	argumentu. 'navigate' -> '_navigate'.
	(PopupEditForm.message): Nepidvej mezeru ped text zprvy.

	* lib/pytis/form/screen.py (CallbackHandler._run_callback): Pokud nebyla
	funkce pro dan callback nastavena, vracej FALSE, jinak TRUE.
	(KeyHandler._maybe_invoke_command): Testuj, jestli je nastaveno
	'self._commands'.

2002-05-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm.__init__): Nov argument `new' a
	atribut `_new'.
	(EditForm._on_commit_form): Update x insert rozhoduj dle `_new',
	ne `_key'.
	(PopupEditForm.__init__): Nov argument `new'.

	* lib/pytis/util/_test.py (Classes.check_public_attributes): Porovnvej
	vsledek bez ohledu na poad prvk.

	* lib/pytis/util/util.py (public_attributes): Odstrauj duplikty.

	* lib/pytis/form/list.py (List): `_filterflag' pejmenovno na
	`_filter_flag'.
	(List.refresh): Reset argument `filterflag' pejmenovn na
	`filter_flag'.
	(List._on_filter): `filterflag' -> `filter_flag'.
	(List.current_key): Nov metoda.
	(BrowseForm._on_new_record): Pidna podpora pro kopii dku.
	(BrowseForm.on_command): Vracej TRUE ipro nov pkazy.

2002-05-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (Sameclass.check_function): Testovn upraveno
	pro Python 2.2.
	(Classes.check_public_attributes): Kassert pidna chybov
	hlka.

	* lib/pytis/form/screen.py (CallbackHandler._run_callback): Ponechno
	pouze vjedinm exempli.
	(CallbackHandler): Opravy formtovn.
	(_Keymap): Zruen nemstn docstring.
	(KeyHandler.on_key_down): Doplnn docstringu.
	(KeyHandler): Doplnn docstringu.

2002-05-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.__init__): Nastavuj `_parent' jet ped
	volnm konstruktoru KeyHandler.

2002-05-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog.__init__): 'super' -> 'super_'.
	(SFDialog.run): 'super' -> 'super_'.
	(SearchDialog.run): 'super' -> 'super_'.
	(FilterDialog.run): 'super' -> 'super_'.
	(SortingDialog.__init__): 'super' -> 'super_'.

	* lib/pytis/form/screen.py (_Keymap.__init__): Doplnn docstring.
	(CallbackHandler): Nov tda.

	* lib/pytis/form/output.py (PrintForm.on_command): 'super' -> 'super_'.
	(PrintForm.run): 'super' -> 'super_'.

	* lib/pytis/form/inputfield.py (InputField): Nech tda dd tak
	'CallbackHandler'.
	(InputField._init_controls): Volej 'CallbackHandler.__init__()'.
	(MultiTextField._on_kill_focus): 'super' -> 'super_'.

	* lib/pytis/form/form.py (Form): Nech tda dd tak
	'CallbackHandler'.
	(Form.__init__): Volej 'CallbackHandler.__init__()'.
	(Form._run_callback): Zrueno.
	(Form.set_callback): Zrueno.
	(EditForm.__init__): 'super' -> 'super_'.
	(DualForm.__init__): 'super' -> 'super_'.
	(SideBrowseDualForm.Close): 'super' -> 'super_'.
	(BrowseDualForm.__init__): 'super' -> 'super_'.
	(EditDualForm.__init__): 'super' -> 'super_'.
	(DescriptiveDualForm.__init__): 'super' -> 'super_'.

	* lib/pytis/form/event.py (UserBreakException.__init__): 'super' -> 'super_'.

	* lib/pytis/form/dialog.py (GenericDialog.__init__): 'super' -> 'super_'.
	(Message.__init__): 'super' -> 'super_'.
	(Warning.__init__): 'super' -> 'super_'.
	(Error.__init__): 'super' -> 'super_'.
	(MultiQuestion.__init__): 'super' -> 'super_'.
	(Question.__init__): 'super' -> 'super_'.
	(InputDialog.__init__): 'super' -> 'super_'.
	(Password.__init__): 'super' -> 'super_'.
	(Calendar.__init__): 'super' -> 'super_'.

	* lib/pytis/util/util.py (super): Zruen alias 'super = super_'

	* lib/pytis/output/markup.py (FontSize.__init__): 'super' -> 'super_'.
	(FontFamily.__init__): 'super' -> 'super_'.

	* lib/pytis/data/types_.py (Date._export): 'super' -> 'super_'.
	(Date._validate): 'super' -> 'super_'.
	(Time._export): 'super' -> 'super_'.
	(Enumeration.default_value): 'super' -> 'super_'.
	(Codebook.values): 'super' -> 'super_'.
	(Codebook._validate): 'super' -> 'super_'.
	(CodebookNull._validate): 'super' -> 'super_'.

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL.__init__): 'super' -> 'super_'.
	(DBException.__init__): 'super' -> 'super_'.
	(DBLoginException.__init__): 'super' -> 'super_'.

	* lib/pytis/data/_test.py (Sequence.setUp): 'super' -> 'super_'.
	(DBDataOrdering.setUp): 'super' -> 'super_'.
	(DBDataOrdering.check_insert): 'super' -> 'super_'.

	* lib/pytis/form/list.py (List): Nech tda dd tak
	'CallbackHandler'.
	(List.__init__): Volej 'CallbackHandler.__init__()'.  Nenastavuj
	'self._callbacks' pmo.
	(List._run_callback): Metoda zruena.
	(List.set_callback): Metoda zruena.
	(ListForm.__init__): 'super' -> 'super_'.
	(ListForm.set_callback): Nov obalovac metoda.
	(ListForm.SetSize): 'super' -> 'super_'.
	(ListForm.Show): 'super' -> 'super_'.
	(ListForm.focus): 'super' -> 'super_'.
	(ListForm.defocus): 'super' -> 'super_'.
	(CodeBook.__init__): 'super' -> 'super_'.
	(CodeBook.on_command): 'super' -> 'super_'.
	(BrowseForm.__init__): 'super' -> 'super_'.
	(BrowseForm.set_callback): Metoda zruena.
	(FilteredBrowseForm.__init__): 'super' -> 'super_'.

2002-05-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm.on_command): Pidna podpora pro
	COMMAND_NEW_RECORD a COMMAND_NEW_RECORD_COPY.
	(BrowseForm._on_new_record): Nov metoda.

	* lib/pytis/form/command.py (BrowseForm.COMMAND_NEW_RECORD): prava
	docstringu.
	(BrowseForm.COMMAND_NEW_RECORD_COPY): Nov pkaz.
	* lib/pytis/form/command.py: Zdokumentovna zmn reprezentace klves
	Enter a Escape.
2002-05-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (DualForm.__init__): Namsto jedinho argumentu
	'name' jsou nyn dva: 'main_name' a 'side_name'.
	(DualForm._create_side_form): Pebrej oba argumenty 'main_name' a
	'side_name'.
	(SideBrowseDualForm._create_side_form): Pebrej oba argumenty
	'main_name' a 'side_name'.
	(SideBrowseDualForm._create_side_form): Namsto zjiovn
	'side_form_name' ze specifikace pouij argument 'side_name'.
	(BrowseDualForm._create_main_form): Nenastavuj
	'CALL_ALTERNATE_ACTIVATION'. (Pidno TODO).
	(BrowseDualForm._on_activation): Zakomentovno.
	(EditDualForm.__init__): Pebrej oba argumenty 'main_name' a
	'side_name'.
	(DescriptiveDualForm._create_side_form): Pebrej oba argumenty
	'main_name' a 'side_name'.

	* lib/pytis/form/list.py (BrowseForm.__init__): Nastav oeten
	'CALL_ALTERNATE_ACTIVATION' volnm 'self.on_show_details()'

	* lib/pytis/form/inputfield.py (_menu): 'InputField.COMMAND_RESET' ->
	'InputField.COMMAND_RESET_FIELD'.
	(InputField.on_command): 'InputField.COMMAND_RESET' ->
	'InputField.COMMAND_RESET_FIELD'.  Oetuj pkazy
	'InputField.COMMAND_COMMIT_FIELD' a
	'InputField.COMMAND_LEAVE_FIELD'.
	(TextField._create_text_control): Nepedvej lambda funkci lokln
	promnn.
	(Invocable._create_widget): Nepedvej lambda funkci lokln
	promnn.
	(InlineMultiTextField.width): Nepedvej lambda funkci lokln
	promnn.
	(InlineMultiTextField._filter): Nepedvej lambda funkci lokln
	promnn.
	(InlineMultiTextField.get_value): Nepedvej lambda funkci lokln
	promnn.
	(CodeBookField._create_widget): Nepedvej lambda funkci lokln
	promnn.

	* lib/pytis/form/command.py: 'Application.COMMAND_POPUP_FORM'
	pejmenovn na 'Application.COMMAND_RUN_FORM'.'
	'InputField.COMMAND_RESET' pejmenovn na
	'InputField.COMMAND_RESET_FIELD'.
	Nov pkaz 'InputField.COMMAND_COMMIT_FIELD'.
	Nov pkaz 'InputField.COMMAND_LEAVE_FIELD'.

	* lib/pytis/form/application.py (Application.on_command):
	'COMMAND_POPUP_FORM' -> 'COMMAND_RUN_FORM'.
	(Application.run_form): Nov metoda.

2002-05-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.run.log_wrapper):
	Odstranno pedvn haldy argument.

	* lib/pytis/form/screen.py (MItem.__init__): Pro vceklvesov pkazy
	pidvej jejich klvesy do menu do zvorky.

	* lib/pytis/form/command.py: Zrueny vechny pkazov aliasy pro
	Application.

	* lib/pytis/form/list.py (List._on_line_rollback): Nastav barvy zpt na
	_FOCUS_COLORS.

2002-05-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py: Update dokumentace.

	* lib/pytis/form/list.py (BrowseForm): 'EditForm' -> 'PopupEditForm'.
	(BrowseForm._on_edit_form): 'EditForm' -> 'PopupEditForm'.

	* lib/pytis/form/inputfield.py (ListField._invoke_edit_form): 'EditForm'
	-> 'PopupEditForm'.

	* lib/pytis/form/form.py: Doplnna dokumentace. Formtovac pravy.
	(EmbeddedEditForm): Pejmenovno na 'EditForm'.
	(EditForm.__init__): 'EmbeddedEditForm' -> 'EditForm'.
	(ShowForm): 'EmbeddedEditForm' -> 'EditForm'.
	(EditForm): Pejmenovno na 'PopupEditForm'.
	(PopupEditForm.__init__): 'EmbeddedEditForm' -> 'EditForm'.
	(_create_main_form): 'EmbeddedEditForm' -> 'EditForm'.

2002-05-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (WxKey.event_key): Oetuj RETURN.
	(MItem.__init__): Pro vceklvesov pkazy uvdj provizorn
	popis klvesy do titulku.  Namsto 'EditForm' pouvej
	'PopupEditForm'.

2002-05-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._on_frame_size): Nastavuj
	pozici loga, i kdy zrovna nen vidt.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Pi zobrazovn
	novho okna volej `Show()' a po `Enable()'. Tm se z neznmch
	dvod odstran problm s polovinm prvnm dkem BrowseFormu...

	* lib/pytis/form/list.py (List._on_label_right): Pro verzi wxWindows 2.3
	a vy odetej vku zhlav.
	(List._on_popup_menu): Update komente.

2002-05-20  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List._create_grid): Oprava alignment.

2002-05-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_popup_menu): Oprava formtovn kdu.

2002-05-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.row): Pro sla dk mimo
	rozsah tabulky vracej None.

	* lib/pytis/form/event.py (wx_callback.process_event): `last_user_event'
	updatuj a po zavoln callbacku.
	(last_user_event): Pejmenovno na `_last_user_event'.
	(last_user_event): Nov funkce.

	* lib/pytis/form/command.py: Pidn List alias pro Form.COMMAND_PRINT.
	(Command.__init__): `key' sm bt isekvence.

	* lib/pytis/form/dialog.py (GenericDialog.__init__): Volej konstruktor
	pedka.

	* lib/pytis/form/screen.py (_Keymap): Nov tda.
	(KeyHandler.__init__): Nov atributy `_keymap' a
	`_current_keymap'.
	(KeyHandler.on_key_down): Pepracovno pro vceklvesov pkazy.
	(WxKey.event_key): Nov metoda.
	(WxKey._RTRANS_TABLE): Nov atribut.
	(KeyHandler._maybe_invoke_command): Nov metoda.
	(KeyHandler.__init__): Nov atribut `_key_guardian'.
	(KeyHandler._get_keymap): Nov metoda.
	(MItem.__init__): Do menu dopluj klvesu jen pro jednoklvesov
	pkazy; doplnna podpora pro vceklvesov pkazy.

2002-05-16  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/search.py (SFDialog._save_values): Pi mazn podmnky
	odstrauj tak prvky ze self._selectors, nejen ze self._defaults.

2002-05-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (last_user_event): Nov promnn.
	(wx_callback.process_event): Nastavuj ji.

	* lib/pytis/data/types_.py (Time._regexp_spec, DateTime._regexp_spec):
	Opraveny chyby v regulrnm vrazu.
	(Time._validate): Opraven peklep vdocstringu (je to as, ne
	datum).

2002-05-13  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/types_.py (Time): Nov typ.
	(DateTime._regexp_spec): Kontroluj tak formt vkldanho asu.
	(Time._regexp_spec): Kontroluj tak formt vkldanho asu.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_value): Pidna podpora
	typu 'time'.

2002-05-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (PopupForm.run): Volej `unlock_callbacks'.

2002-05-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (copy_stream): Pidno logovn.

	* lib/pytis/output/formatter.py (LoutFormatter._format): Pidno
	logovn.

	* lib/pytis/form/dialog.py (GenericDialog.run): Ped nahozenm dialogu
	volej `unlock_callbacks'.

	* lib/pytis/form/application.py (Application.run): Pidna podpora pro
	nethreadov sledovn peruen a vypnut sledovn peruen.
	(Application.popup_form, Application._call_current_window):
	Ignoruj UserBreakException..

	* lib/pytis/form/event.py (interrupt_watcher): Zruen zapomenut
	argument `stop_flag'.
	(interrupt_init): Nov funkce.
	(interrupt_watcher): Vyuvej ji.
	(wx_callback.process_event): Msto nahazovn vjimky nastav
	`_interrupted' a vra wx.TRUE.
	(wx_callback.process_event): Ped zahjenm zpracovn uivatelsk
	udlosti resetuj `_interrupted'.
	(_is_user_event): Nech wxCommandEvent nen uivatelsk udlost.
	(free_callback): Nov funkce.
	(UserBreakException.__init__): Nov metoda.
	(yield_): Nuluj `_interrupted'.
	(_main_pid): Nov promnn.
	(interrupt_init): Zmnny argumenty.
	(interrupt_watcher.watcher): Zohlednna pedchoz zmna.
	(yield_): Peruen provdj jen vhlavnm threadu.

2002-05-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/__init__.py: `event' importuj jako prvn, ne posledn.

	* lib/pytis/form/event.py (wx_callback.process_event): Doplnn chybjc
	argument voln `is_event_of_key'.
	(interrupt_watcher): `last_event' pesunuto do `watcher',
	`_watcher_pid' piazuj tak a tam.
	(_is_user_event): Nov funkce.
	(wx_callback.process_event): `_current_event' nastavuj pouze pro
	pkazov udlosti.
	(interrupt_watcher): Nov argument `stop_flag'.
	(interrupt_watcher.watcher): Je-li
	lib.form.application._application None, skoni.

	* lib/pytis/form/application.py (Application.run): Nainstaluj sledovn
	udlost, vetn hku do `log'.
	(Application.on_command): Ignore UserBreakException.

2002-05-10  Petr Malivanek  <malivanek@akont.cz>

	* lib/pytis/data/types_.py (CodebookNull): Nov selnkov typ
	umoujc ponechat przdnou hodnotu.

2002-05-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (HiddenField): Odstrann neaktuln koment.

	* lib/pytis/form/list.py (List.refresh): Oprava docstringu.

2002-05-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Nov
	argument `computer_data'.
	(List._ListTable.__init__, List._ListTable.edit_row): Volej
	_EditedRow s`computer_data'.
	(List._ListTable.__init__): Nov atribut `_computer_data'.
	
	* lib/pytis/form/list.py (List._ListTable.__init__): Nov argument
	`computer_data'.
	(List._ListTable._fetch, List._ListTable.rewind): Vyuvej
	`_presented_row'.
	(List._create_grid): Pdedvej konstruktoru _ListTable
	_computer_data.

	* lib/pytis/form/event.py (wx_callback): Pidn assert na typ argument
	`evt_function' a `callback'.

	* lib/pytis/form/search.py (SFDialog._create_content.condition) 
	(SFDialog._create_content): Piazen callbacku provdj
	prostednictvm `wx_callback'.
	* lib/pytis/form/screen.py (KeyHandler.__init__, Menu.create)
	(ButtonBar._add_button): Piazen callbacku provdj
	prostednictvm `wx_callback'.
	* lib/pytis/form/output.py (PostscriptViewer.__init__)
	(PrintForm.__init__, PrintForm._create_controls): Piazen
	callbacku provdj prostednictvm `wx_callback'.
	* lib/pytis/form/list.py (List._create_grid, ListForm.__init__):
	Piazen callbacku provdj prostednictvm `wx_callback'.

	* lib/pytis/form/inputfield.py (_TextValidator.__init__)
	(InputField._init_controls, TextField._create_text_control)
	(Invocable._create_widget, CodeBookField._create_widget):
	Piazen callbacku provdj prostednictvm `wx_callback'.
	* lib/pytis/form/form.py (Form.__init__, EmbeddedEditForm.__init__)
	(EditForm._create_buttons, DualForm.__init__): Piazen callbacku
	provdj prostednictvm `wx_callback'.
	* lib/pytis/form/dialog.py (GenericDialog._create_dialog_elements)
	(InputDialog._create_content, Calendar._create_content): Piazen
	callbacku provdj prostednictvm `wx_callback'.
	* lib/pytis/form/application.py (Application.OnInit): Piazen
	callbacku provdj prostednictvm `wx_callback'.

2002-05-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.on_command): Neimportuj
	`config'.

	* lib/pytis/form/command.py (Application.COMMAND_BREAK): Nov pkaz.

	* lib/pytis/form/__init__.py: Importuj `event'.

	* lib/pytis/form/event.py: Nov modul.

2002-05-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._skip_navigation): Nov
	argument 'object'. Pedvej jej voln 'self._form.navigate()'.
	(TextField._create_text_control): Voln
	'self._on_key_down_multiline()' pedvej vytven 'control'.
	(TextField._on_key_down_multiline): Nov argument
	(Invocable._create_widget): Voln 'self._skip_navigation()'
	pedvej tak 'button' jako argument 'object'.
	(CodeBookField._create_widget): Voln 'self._skip_navigation()'
	pedvej tak 'display' jako argument 'object'.

	* lib/pytis/form/form.py (EmbeddedEditForm.navigate): 
	Ve verzi wxWindows ni ne 2.3 zahazuj argument 'object'.
	Pokud je dn 'object', volej 'nav.SetCurrentFocus(object)'.


2002-05-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (Form.__init__): Inicializuj atribut
	'self._result' na None.
	(Form.run): Vracej hodnotu 'self._result'.
	(PopupForm.run): N8vratovou hodnotu metody 'ShowModal()' zahazuj -
	je k niemu. Namsto n vracej hodnotu 'self._result'
	(EmbeddedEditForm._edit_insert): Nastav 'self._result' na vloen
	dek.
	(EmbeddedEditForm._edit_update): Nastav 'self._result' na updatovan
	dek.
	(EmbeddedEditForm._run_with_lock): Pokud se nepoda zamknout
	dek, vracej None.

	* lib/pytis/form/application.py (Application.dialog): Nov metoda.

2002-05-06  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/EventInterruption: Nov tutoril.

2002-05-06  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/EventInterruption: Nov tutoril.

2002-05-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog._create_dialog_elements): Nov
	metoda.
	(GenericDialog._create_dialog): Vyuvej ji.
	(GenericDialog.rebuild): Nov metoda.

	* lib/pytis/form/search.py (SFDialog.__init__): Nech `_defaults' je
	inicializovno na przdn dictionary; nov atribut
	`_default_item'.
	(SFDialog._create_content): Nov argument `number_of_conditions',
	vytv nyn zadan poet podmnek, nov tlatko "Pidat" a
	tlatka "Odebrat".
	(SFDialog.__init__): Nov atribut `_number_of_conditions'.
	(SFDialog._on_add): Nov metoda.
	(SFDialog._on_remove): Nov metoda.
	(SFDialog._create_content.condition): Nepidvej do vbru sloupce
	_NO_COLUMN.
	(SFDialog._save_values): Nov argument `exclude'.
	(SFDialog._save_values): Na zatku vyma `_defaults'.
	(SFDialog._selected_condition): Na Strings provdj validaci pouze
	pokud hodnota neobsahuje wildcard.
	(SFDialog._selected_condition) 
	(SFDialog._create_content.condition, SFDialog._on_suck):
	Zohlednno zruen vkldn _NO_COLUMN.

2002-05-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook): Pepracovno, aby selnk mohl
	obsahovat isloupce jinho typu ne String.
	(Codebook.columns): Nov metoda.

	* lib/pytis/data/_test.py (_DBTest.setUp): Do `xcosi' pidna poloka
	obsahujc NULL.
	(DBDataDefaultClass.setUp): Nov atribut `dcosi'.
	(DBDataDefaultClass.check_select_condition): Pidn NULL test.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Neprovdj
	COALESCE na implicitn hodnotu, pouze petypuj.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Oetena nutnost pouvat pro hodnoty NULL opertor IS.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): selnky
	zpracovvej stejn jako sekvence.
	(DBDataPostgreSQL._pg_value): Uselnk exportuj jejich
	jednotliv hodnoty.
	(DBDataPostgreSQL._pg_create_make_row_template): Pidvej ktypu
	selnku itypy jeho sloupc.

2002-05-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.popup_form): Vracej
	vsledek metody 'run()' zobrazovanho formule.

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): Nov argument
	'prefill'.
	(EmbeddedEditForm._set_row): Pedvej 'prefill' konstruktoru
	'PresentedRow'.
	(EditForm.__init__): Nov argument 'prefill'.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nov argument
	'prefill'.
	(PresentedRow._init_row): Nov klov argument 'prefill'.
	(PresentedRow._init_row.genval): Pokud byl specifikovn argument
	'prefill', pokus se zskat vchoz hodnotu ze slovnku 'prefill'.

2002-05-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py: Pidna dokumentace k "uivatelskm pkazm".
	(Command.__init__): Nov argument 'handler'.
	(Command.handler): Nov metoda.

	* lib/pytis/form/list.py (List.on_command): Pidej podporu pro
	"uivatelsk pkazy" -- volej '_on_handled_command()'.
	(List._on_handled_command): Nov metoda.
	(BrowseForm._popup_menu): Pokud je specifikac definovno
	uivatelsk menu, pidej jej na konec.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nov argument 'popup_menu'.
	(ViewSpec.title): prava docstringu.
	(ViewSpec.popup_menu): Nov metoda.

2002-05-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nov atribut
	`_cache'.
	(PresentedRow.__getitem__): Pouvej cache.
	(PresentedRow._init_row, PresentedRow.__setitem__): Nuluj cache.

	* lib/pytis/form/list.py (List._ListTable._DisplayCache): Nov tda.
	(List._ListTable.__init__): Nov atribut `_cache'.
	(List._ListTable.GetValue): Pouvej cache.

2002-04-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/markup.py: Hvzdikov importuj lib.output.
	(Group): Zruen parametr `fit'.

	* lib/pytis/output/formatter.py (LoutFormatter): Stanovena a zohlednna
	pravidla formtovn generovanho kdu pro Lout.
	(_INTRO): Nov funkce @margined, @gmargined, @ghline, @gvline.
	(LoutFormatter._format_data_table): Separuj tabulku pes @LLP.

2002-04-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._on_next_record): Pokud jsme
	narazili na prvn nebo posledn zznam, zobrazme pslunou
	stavovou hlku.

	* lib/pytis/form/application.py (Application.OnInit): 'self._init()'
	volej jet ped vytvenm menu apod. (kvli piazen horkch
	klves).

2002-04-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pidny znaky Italic, Roman, FontSize, FontFamily.
	(LoutFormatter._f_wrap): Nov metoda.
	(LoutFormatter._format_center, LoutFormatter._format_bold)
	(LoutFormatter._format_box): Vyuvej ji.
	(LoutFormatter._format_italic, LoutFormatter._format_roman)
	(LoutFormatter._format_font_size)
	(LoutFormatter._format_font_family): Nov metody.
	(LoutFormatter._font): Nov metoda.
	(LoutFormatter._process): Vyuvej ji.
	(LoutFormatter._SPECIAL_LOUT_CHARS): Ped @LLP vkldej mezeru.
	(LoutFormatter._format_vcenter): Implementovno.
	(LoutFormatter._format_group): Pidna podpora pro vertikln a
	horizontln spojovn, boxy a pro balancovn.
	(_INTRO): Nov funkce @vgroup, @hgroup, @box, @vline, @hline; nov
	makro @smallmargin.
	(LoutFormatter._format_data_table): kluj jen smrem dol, je-li
	teba.
	(LoutFormatter._format_box): Zrueno.
	(LoutFormatter._MARK_PROCESSORS): Zruena znaka Box.
	(LoutFormatter._format_data_table): sten implementovn
	separtor.
	(LoutFormatter): Nov argument `indent' pro vechny formtovac
	funkce.

	* lib/pytis/output/markup.py (Italic, Roman, FontSize, FontFamily): Nov
	znaky.
	(Box): Zrueno.
	(Group.KWARGS): Nov argument `boxed', zruen argument
	`expand_elements'.

2002-04-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List.UI_SORTING): Nov UI konstanta.
	(List.SORTING_CYCLE_DIRECTION): Nov konstanta.
	(List.SORTING_NONE): Nov konstanta.
	(List.__init__): Nov argument 'popup_menu'.
	(List._switch_sorting): Doplnna dokumentace. Pidna podpora pro
	cyklick pepnn zpsobu tdn a explicitn vypnut tdn.
	(List._on_label_left): Volej pkaz 'COMMAND_SORT_COLUMN' s
	argumentem 'ditrection=List.SORTING_CYCLE_DIRECTION'.
	(List._on_label_right): Zobraz kontextov popup menu sloupce,
	namsto zmny tdn (to lze nyn cyklicky pepnat pouze levm
	tlatkem).
	(List._create_grid): Nastav oeten udlosti
	'EVT_GRID_CELL_RIGHT_CLICK' volnm metody '_on_popup_menu()'
	(List._on_popup_menu): Nov metoda.
	(List.on_ui_event): Pidna podpora pro 'UI_SORTING'.
	(ListForm.__init__): Vytven instanci 'List' pedvej tak
	argument 'popup_menu'.
	(ListForm._popup_menu): Nov metoda.
	(BrowseForm._popup_menu): Nov metoda.

2002-04-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MItem.__init__): Pebrej horkou klvesu z
	pkazu pouze pokud nejsou specifikovny argumenty pkazu.

2002-04-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Pouvej pro buky nov definovan funkce @lcell a @rcell,
	nepouvej pro tvorbu hlaviek tabulky, nech zvren pebyten
	symbol dku je @Null msto {}.
	(_INTRO): Definovny nov pomocn funkce, neimportuj `tbl'.
	(LoutFormatter._format_data_table): Nastavuj dky pesn na ku
	strany.

2002-04-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (resolve): Pokud m polko nulovou
	ku, nech je instanc 'HiddenField'.
	(InputField._init_controls): Nov metoda
	(InputField.__init__): st kdu pracujc se
	'self._controls' pesunuta do '_init_controls()'.
	(InputField.hidden): Zrueno.
	(HiddenField.hidden): Zrueno.
	(HiddenField._init_controls): Nov metoda.
	(HiddenField._enable_event_handlers): Nov metoda.
	(HiddenField._disable_event_handlers): Nov metoda.
	(HiddenField._create_label): Nov metoda.
	(HiddenField.get_value): Pokud doposud nebylo nastaveno
	'self._value', vracej None.

	* lib/pytis/form/form.py (EmbeddedEditForm._pack_fields): Pidvej
	polko do gridu pouze pokud nejde o 'HiddenField'.

	* lib/pytis/data/types_.py (Enumeration.ERRMSG_INVALID_ENUM_VALUE): Nov
	konstanta.
	(Enumeration._validate): Vyuvej
	'Enumeration.ERRMSG_INVALID_ENUM_VALUE'.

2002-04-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (MultiTextField._set_value): Jako
	speciln ppad hodnoty argumentu values pijmej przdn
	etzec, kterto peve na sekvenci przdnch etzc, mto
	vyma vechna polka.

	* lib/pytis/form/form.py (PopupForm._on_parent_close): Neloguj uzaven
	formule.

2002-04-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (Pipe): Pepracovno, msto potomka Queue.Queue
	se nyn jedn ospecializovanou, efektivnj implementaci.

2002-04-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._recreate_grid): Volej
	'oldg.GetParent().RemoveChild()' pouze pokud 'oldg.GetParent()'
	nen None.

	* lib/pytis/form/screen.py (MItem): Nov promnn tdy.
	(MItem.__init__): Pokud je hork klvesa ji pouita, ignoruj ji a
	zaloguj vhrnou zprvu.

2002-04-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer.show_page): Opraveno
	zjitn celkovho potu strnek.

	* lib/pytis/util/_test.py (Pipe.check_multi_cc): Nov test.

	* lib/pytis/util/util.py (Pipe.__init__): Argument `cc' nyn me bt
	isekvenc stream.
	(Pipe.close, Pipe.write): Zohlednna pedchoz zmna.

	* lib/pytis/output/exception.py: Nov modul.

	* lib/pytis/output/__init__.py: Importuj `exception'.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pidny znaky VCenter, Box a Group.
	(LoutFormatter._format_vcenter, LoutFormatter._format_box)
	(LoutFormatter._format_group): Nov metody.
	(FormattingException, TemplateException): Pesunuto do
	`exception.py'.
	(_INTRO): Odstranno @PageWidth.
	(LoutFormatter._lout): Zformtovan dokument pi ladn ukldej
	pes cc ppy, ne samostatnm pedzpracovnm.
	(LoutFormatter._format_data_table): Odstranna podpora pro textov
	vstup.
	(LoutFormatter._SPECIAL_LOUT_CHARS): Pidno \n.

	* lib/pytis/output/markup.py (DataTable.__init__): Nov argument a
	atribut `separator_height'.
	(DataTable.separator_height): Nov metoda.
	(Center): Jedn se ohorizontln centrovn, pouze zmna
	docstringu.
	(VCenter): Nov znaka.
	(Box): Nov znaka.
	(Group): Nov znaka.
	(_Container.__init__): Pijmej libovoln klovan argumenty.
	(_Container.KWARGS): Nov atribut.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Msto `issubclass' pouvej `isinstance'.
	(DBDataPostgreSQL.update): Pi vpisu novch dat na `row' aplikuj
	`str'.

2002-04-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Oprava: 'btype' je ji instanc, take pro assert na tdu
	pouvej 'btype.__class__' a ppadnou instanci vchoz tdy
	'Codebook' piazuj pmo do promnn 'btype', kterouto potom tak
	pouvej vude namsto 'type_instance'.

	* lib/pytis/presentation/field.py (PresentedRow.__setitem__): Nastavuj
	hodnotu a pepotvej bez ohledu na pedchoz hodnotu.

	* lib/pytis/form/inputfield.py (InputField._on_change): Nov metoda.
	(InputField._post_process): Nov metoda.
	(InputField._on_change_hook): Nov metoda.
	(InputField.init, InputField._enable_event_handlers): Nov metoda.
	(InputField._disable_event_handlers): Nov metoda.
	(InputField.init): Zaka po dobu nastavovn hodnoty oetovn
	udlost a volej 'self._on_change()' explicitn s 'notify=FALSE'.
	(InputField.set_value): Pokud je hodnota None, neprovdj nic,
	pouze vra FALSE.
	(TextField._create_text_control): Namsto 'self._on_text()'
	vyuvej 'self._on_change()' k oeten EVT_TEXT.
	(TextField._on_text): Zrueno.
	(TextField._post_process): Zrueno.
	(TextField._on_text_hook): Zrueno.
	(MultiTextField._set_value): V assertov hlce vypisuj id polka.
	(CodeBookField._on_text_hook): Pejmenovno na '_on_change_hook'. 

2002-04-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.close)
	(DBDataPostgreSQL.select): Zahjen a ukonen SELECTu loguj pouze
	jako DEBUG.

2002-04-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer.number_of_pages)
	(_Ghostscript.number_of_pages): Vrac druh argument, kterm je
	indiktor konenho stavu potu strnek.
	(PrintForm.__init__): Nov atribut `_total_pages'.
	(PrintForm._create_controls): Jestlie je poet strnek konen,
	nastav `_total_pages'.
	(PrintForm._show_page): Poet strnek nastavuj jen tehdy, nen-li
	ji definitivn.
	(PrintForm.OnIdle): Nov metoda.
	(PrintForm.__init__): Registruj ji jako idle callback.
	(PrintForm._on_last_page): Zohlednna zmna nvratov hodnoty
	`number_of_pages'.

2002-04-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm.Close): Nov metoda.
	(PrintForm.__init__): Nov atribut `_current_stream'.
	(PrintForm._create_controls): Ukldej rouru do `_current_stream'.
	(_Ghostscript._render): Informaci oukonen ukldej do novho
	atributu `_finished'.
	(_Ghostscript.finished): Nov metoda.
	(PrintForm._create_controls): Vytvej prvky pro pohyb po
	strnkch a zoomovn.
	(PrintForm._on_previous_page, PrintForm._on_next_page)
	(PrintForm._on_first_page, PrintForm._on_last_page): Nov metody.
	(PrintForm.on_command): Vyuvej je.
	(_Ghostscript.__init__, _Ghostscript._render): Nov argument
	`zoom'.
	(PostscriptViewer.__init__): Npodobn.
	(PostscriptViewer.show_page): Pi poadavku na vzdlenou strnku
	ekej na jej vygenerovn.
	(PostscriptViewer._wait_for_gs): Nov metoda.
	(PostscriptViewer.number_of_pages): Nov metoda.
	(PostscriptViewer.show_page): Vracej slo zobrazen strnky.
	(PrintForm._on_goto_page): Nov metoda.
	(PrintForm._on_zoom): Nov metoda.
	(PrintForm._show_page): Nastavuj sla strnek vprvcch
	uivatelskho rozhran.
	(PostscriptViewer.current_zoom): Nov metoda.
	(PrintForm._on_zoom_in_, PrintForm._on_zoom_out): Nov metody.
	(PrintForm._zoom): Nov metoda.
	(PrintForm._on_widget_key): Nov metoda.

	* lib/pytis/util/util.py (Pipe.__init__): Nov atribut `_closed'.
	(Pipe.write): Je-li roura uzavena, vyvolej ValueError.
	Zdokumentovno toton chovn pro cc stream.
	(Pipe.close): Nastavuj `_closed'.

	* lib/pytis/output/formatter.py (LoutFormatter._lout.p): Ignoruj
	ppadn ValueError z`_process'.
	(LoutFormatter._lout): Dojde-li kuzaven vstupnho streamu,
	uzavi vstup Lout.
	(LoutFormatter._lout): Doplnny logovac hlky.

2002-04-19  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (RefSpec): Nov tda.
	(FieldSpec.__init__): Zmna dokumentace a assert souvisejc se
	zavedenm 'RefSpec'.

	* lib/pytis/form/inputfield.py (InputField.guardian): Nov metoda.
	(_create_controls): Vyuvej 'RefSpec'.
	(ListField._set_value): Vyuvej 'RefSpec'. Vytvej 'self._list_rows'.
	(ListField._selected_item_key): Nov metoda.
	(ListField._invoke_edit_form): Implementovno.
	(ListField._invoke_browse_form): Implementovno.

	* lib/pytis/form/list.py (ListForm.OnSetFocus): Doplnn argument
	nepovinn 'event'. Pokud je pedn, volej 'event.Skip()'
	(BrowseForm.set_callback): Argumenty '*args' a '**kwargs'
	nahrazeny 'kind' a 'function'. Volej 'self._list.setcallback()'
	pouze pokud je callback definovn v 'self._list', jinak volej
	metodu pedka.

	* lib/pytis/form/form.py (Form.set_callback): neprovdj assert pes
	vet, ale o nco inteligentnji (snad).
	(Form.focus): Volej tak `self.SetFocus()'.
	(EmbeddedEditForm.__init__): Nov klov argument
	'guardian'. Pedvej jej konstruktoru pedka.
	(DualForm._select_form): Nevolej 'defucus()' na druh formul -
	to je provedeno automaticky ve 'focus()' prvnho.
	(DualForm.OnSetFocus): Vracej wx.TRUE
	(BrowseDualForm.__init__): Nevolej zbyten 'focus()' hlavnho
	formule.
	(DescriptiveDualForm.__init__): Nevolej zbyten 'focus()' hlavnho
	formule.
	(EditDualForm.__init__.main_selection): Zrueno.
	(EditDualForm.__init__): Nenastavuj EVT_FOCUS hlavnho formule.
	(EditDualForm._create_main_form): Pedvaj konstruktoru formule
	tak argument 'guardian=self'.
	(EditDualForm.on_command): Zrueno.

2002-04-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm._on_print_): Nezapnej busy
	cursor, stejn to nefunguje.  Spoutj tisk jako thread,
	tj. neblokujc uivatelsk rozhran.

	* lib/pytis/output/formatter.py (LoutFormatter.__init__): Nov atribut
	`_formatted_document_lock'.
	(LoutFormatter._lout): Cachuj vygenerovan loutov zdrojk.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pidna podpora pro uivatelsk selnkov typy.

	* lib/pytis/util/_test.py (Pipe.check_cc): Nov test.

	* lib/pytis/util/util.py (Pipe.__init__): Nov argument a atribut `cc'.
	(Pipe.write): Kopruj data do `cc'.
	(Pipe.close): Uzavi i`cc'.
	(mktempdir): Poet pokus ovytvoen adrese zven na 1000.
	(Pipe.close): Pidny doplujc informace do docstringu.

2002-04-17  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List.on_ui_event): Zkus volat 'on_ui_event()'
	aktulnho editoru (vstupnho polka).

	* lib/pytis/form/screen.py (MenuBar): Rozshl pepis. Zruena star
	nepouvan funkcionalita a zjednoduena implementace. Oprava
	dokumentace.
	(MenuBar.MENU_ID_SEPARATOR): Zrueno.
	(MenuBar.__init__): Argument 'menuitems' pejmenovn na
	'menus'. Ulo 'parent' do 'self._parent'. Zrueny achry s
	titulkem (to nyn oetuje sama metoda 'MItem.title()'). Vyuvej
	'Menu.create()'. Do 'self._menus' neukldej sekvenci vech monch
	vlastnost, ale rovnou instanci 'Menu'.
	(MenuBar._assemble_menu): Zrueno (nahrazeno 'Menu.create()').
	(MenuBar.__getitem__): Zrueno (ji nen poteba).
	(MenuBar.keys): Zrueno (ji nen poteba).
	(MenuBar.activate): 'self._menus' neobsahuje sekvence vemonch
	vlastnost, ale rovnou instance 'Menu'. Vyuvej 'Menu.create()'.
	(Menu): Update dokumentace
	(Menu.__init__): Zrueny zbyten hlky u assert.
	(Menu.items): Zrueno.
	(Menu.create): Nov metoda nahrazujc 'MenuBar._assemble_menu()'
	kvli znovupouitelnosti pro kontextov menu.  Implementace
	podstatn zjednoduena.
	(MItem.__init__): Pokud nen specifikovna 'hotkey', zjisti ji z
	'command', pokud ano, zm klvesu pkazu na danou 'hotkey'.
	Pokud existuje 'Hotkey', pidej ji do 'title'.

	* lib/pytis/form/inputfield.py (InputField.UI_IS_MODIFIED): Nov
	konstanta.
	(InputField.UI_IS_ENABLED): Nov konstanta.
	(InputField.__init__): Pia udlost vyvoln kontextovho menu
	na kliknut pravho tlatka myi.
	(InputField._menu): Nov metoda.
	(InputField.on_ui_event): Nov metoda.
	(InputField.on_command): Nov metoda.
	(InputField._on_popup_menu): Nov metoda.
	(InputField._on_reset): Nov metoda.
	(Invocable.on_command): Nakonec volej 'InputField.on_command()'.
	(DateField._menu): Nov metoda.
	(CodeBookField._menu): Nov metoda.
	(ListField.UI_LIST_ITEM_SELECTED): Nov konstanta.
	(ListField._create_controls): Vytvoen 'ListCtrl' ulo do
	atributu 'self._list'.
	(ListField._selected_item): Nov metoda.
	(ListField._set_value): Vyuvej 'self._list'.
	(ListField.on_ui_event): Nov metoda.
	(ListField.on_command): Oetuj 'self.COMMAND_INVOKE_EDIT_FORM' a
	'self.COMMAND_INVOKE_BROWSE_FORM'.  Nakonec volej
	'InputField.on_command()'
	(ListField._menu): Nov metoda.
	(ListField._invoke_edit_form): Nov metoda (prototyp).
	(ListField._invoke_browse_form): Nov metoda (prototyp).
	(InputField.on_ui_event): Zrueno TODO.

	* lib/pytis/form/form.py (EmbeddedEditForm.on_ui_event): Nejprve zkus
	volat 'on_ui_event()' aktulnho vstupnho polka.
	(EmbeddedEditForm.on_command): Pkazy aktulnho vstupnho
	polka volej i kdy je formul needitovateln.

	* lib/pytis/form/command.py (InputField.COMMAND_RESET): Nov pkaz.
	(ListField.COMMAND_INVOKE_EDIT_FORM): Nov pkaz.
	(ListField.COMMAND_INVOKE_BROWSE_FORM): Nov pkaz.

	* lib/pytis/form/application.py (Application._menu_id): Metoda zruena
	jako nepouvan.
	(Application.OnInit): Kosmetick pravy + pesunut nastaven
	pozice loga do metody '_on_frame_size()'.
	(Application._on_frame_size): Nastav pozici loga do stedu okna.

2002-04-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (mktempdir): Pidvej do generovanho jmna
	adrese sv PID.

	* lib/pytis/form/output.py (PostscriptViewer.show_page): Nepokouej se
	zobrazit strnku, pokud dokument dnou nem.
	(_Ghostscript.page_image): Kontroluj, zda odpovdajc soubor
	existuje, oeten vjimky nesta, kvli wxWindows.
	(_Ghostscript._render.feedgs): Ghostscript spoutj pes popen2,
	nikoliv popen.

	* lib/pytis/output/formatter.py (LoutFormatter): Vechny metody
	`_format*' nyn maj nov argument `stream' a zapisuj do streamu
	msto vracen etzc.
	(LoutFormatter._process): Zohlednna pedchoz zmna.
	(LoutFormatter._lout): Formtovn textu je nyn tak asynchronn.

2002-04-16  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/data/data.py (Row.update): Ignoruj poloky vstupnch dat s
	klem, kter nepat do Row.

	* lib/pytis/presentation/field.py (PresentedRow.__setitem__): Oetuj
	KeyError pi zjitn ster hodnoty.
	(PresentedRow.__setitem__): Neoetuj KeyError pi zjitn ster
	hodnoty...

2002-04-16  Tom Cerha  <cerha@brailcom.org>

	* icons/logo.fig: Pidn pytel.
	* icons/logo.bmp: Pegenerovno.

2002-04-16  Tom Cerha  <cerha@brailcom.org>

	* icons/logo.fig: Pidn pytel.
	* icons/logo.bmp: Pegenerovno.

2002-04-15  Milan Zamazal  <pdm@brailcom.org>

	* ebas (_install_gettext, go): Neimportuj lib.util hvzdikov.

	* lib/pytis/form/application.py (Application._resolver_directory):
	config.defdir -> config.def_dir.

	* config/config.py: Pegenerovno.

	* lib/pytis/util/configuration.py (Configuration._Option_defdir):
	Pejmenovno na _Option_def_dir'.
	(Configuration.__init__): Doplnn docstring.  Implicitn hodnota
	argumentu `command_line' je nyn None.
	(Configuration._parse_command_line_options): Pi nezpracovanch
	volbch nevyvolvej vjimku, nbr je pia do sys.argv.

	* lib/pytis/form/output.py (PrintForm._create_controls): Msto
	postscriptovch dat prohlei pedvej asynchronn plnn stream.
	(PrintForm._run_formatter): Nov metoda.
	(PrintForm._on_print_): Msto postrscriptovch dat pouvej
	`_run_formatter'.
	(PostscriptViewer.__init__): Msto hotovch postscriptovch dat
	pijmej datov stream.
	(_Ghostscript.__init__, _Ghostscript._render): Npodobn.
	(_Ghostscript._render): Pepracovno do asynchronn podoby.

	* lib/pytis/util/_test.py (Pipe): Nov sada test.

	* lib/pytis/util/util.py (Pipe): Nov tda.
	(copy_stream): Nov argument `in_thread'.

	* lib/pytis/output/formatter.py (_INTRO): Zruena definice @EBASOutput.
	(LoutFormatter._process): Zohlednna pedchoz zmna.
	(LoutFormatter._lout): Pro zjitn adrese doasnch soubor
	pouvej config.tmp_dir.
	(LoutFormatter._lout): Sputn Lout pes popen2 posunuto a tsn
	ped ten rour, dky tomu asynchronn zpracovn nevytuhne.

2002-04-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Vka frame
	zvtena na 600.  Zobrazuj logo.

	* lib/pytis/util/_test.py (ProgramError): Zrueno.
	(Mktempdir): Nov sada test.

	* lib/pytis/util/util.py (mktempdir): Nov funkce.
	(FileError): Nov vjimka.

	* config/config.py: Pegenerovno.

	* lib/pytis/util/configuration.py (Configuration._Option_tmp_dir): Nov
	volba.

	* lib/pytis/form/output.py (PostscriptException): Nov tda.
	(_Ghostscript): Nov tda.
	(PostscriptViewer): Nov tda.
	(PrintForm._Preview): Zrueno.
	(PrintForm._create_controls): Msto _Preview pouvej
	PostscriptViewer.
	(PrintForm.SetSize, PrintForm.OnSetFocus, PrintForm.on_command)
	(PrintForm._set_page): `_text' -> `_preview'.
	(PrintForm._fill_preview): Zrueno.
	(PrintForm.run): Zohlednna pedchoz zmna.
	(PrintForm._on_print_): Nevolej formtova, pouij uloen
	PostScript.
	(PrintForm.SetSize, PrintForm.OnSetFocus): Zrueno.

2002-04-14  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing (Vyvoln tisku): Aktualizovno vzhledem
	ke zmn nhledu ztextovho na grafick.

	* icons/logo.fig: Nov soubor.
	* icons/logo.bmp: Nov generovan soubor.

2002-04-14  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing (Vyvoln tisku): Aktualizovno vzhledem
	ke zmn nhledu ztextovho na grafick.

	* icons/logo.fig: Nov soubor.
	* icons/logo.bmp: Nov generovan soubor.

2002-04-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (_INTRO): Pidno @InitialBreak.

2002-04-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm._fill_preview.format): Zruen
	argument `self', pouvej pmo `formatter'.

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Pouvej jedinou instanci PresentedRow msto vytven mnoha
	uvnit cyklu.
	(LoutFormatter._format_text): Pepsno -- vyoptimalizovno.
	(LoutFormatter._SPECIAL_LOUT_CHARS): Nov konstanta.
	(LoutFormatter.__init__): Nov atribut
	`_special_lout_chars_regexp'.
	(LoutFormatter._format_data_table): Pepracovno, nyn se msto
	tabulek pouv obyejn dkov formtovn bunk, co vede
	kvraznmu zefektivnn bhu Lout.

2002-04-12  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField.on_command): Nov metoda.

	* lib/pytis/form/form.py (_set_row): Zmna v souvislosti s
	`field_change_callback' => `change_callback'.
	(EmbeddedEditForm._on_field_change): Pejmenovno na
	`_on_row_change()' -- Jde o zmny v row, ne v polkch...
	(EmbeddedEditForm._set_row): Update komente.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Argument
	`field_change_callback' pejmenovn na `change_callback' -- Jde o
	zmny ve vlastnm row, ne v polkch...
	(PresentedRow.__setitem__): Nastaven hodnoty a sputn
	pepotvn prove pouze v ppad, e je nov hodnota rzn od
	pvodn.
	(PresentedRow._recompute): Zmna v souvislosti s
	`field_change_callback' => `change_callback'.

2002-04-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._on_suck): Nevolej na hodnotu
	zskanou zdku `export', pedej ji pmo.

2002-04-11  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.editable): Oprava
	peklepu v docstringu.
	(FieldSpec.__init__): Oprava nkterch nepesnost v docstringu.

	* lib/pytis/form/inputfield.py (InputField.init): Zrueno ve co
	souviselo s potnm vchoz hodnoty (to je te v
	`PresentedRow'). Argument `value' je tm pdem povinn a nesm bt
	None.

	* lib/pytis/form/form.py (EmbeddedEditForm.field_change): Oprava
	peklepu v docstringu.
	(EmbeddedEditForm._set_row): Zruen argument `initial' a ve, co s
	nm souviselo.  U potanch sloupc (KeyError) vbec nevolej
	`f.init()'.  Njak kosmetick pravy.
	(EmbeddedEditForm.__init__): Nevolej `self._set_row()', ale rovnou
	vytvo przdn dek volnm konstruktoru `PresentedRow'.

	* lib/pytis/data/types_.py (Codebook.default_value): Nov metoda.

2002-04-11  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing: Nov dokument.

2002-04-11  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing: Nov dokument.

2002-04-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Msto display paragraph pouvej left paragraph a cel odstavec
	centruj.  Velk tabulky rozdl na nkolik mench.

2002-04-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.get, Resolver._load_module):
	Doplnn import `config'.

	* lib/pytis/form/__init__.py: Pesunut modul `resolver' vyazen ze
	seznamu soubor updatu __dict__.

	* lib/pytis/form/form.py (SideBrowseDualForm._create_side_form): Msto
	standardnho FilteredBrowseForm vytvej vlastnho potomka tto
	tdy, spodporou pedn kle hlavnho formule formtovai
	vstupnch sestav.

	* lib/pytis/form/list.py (BrowseForm._PrintResolver.get): Nedefinuj
	`page_header' a `page_footer'.
	(BrowseForm._formatter_data): Nov metoda.
	(BrowseForm._on_print_): Vyuvej ji.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pidno Null a Center.
	(LoutFormatter._format_null): Nov metoda.
	(LoutFormatter._format_center): Nov metoda.
	(LoutFormatter._process): Pidna podpora pro hlaviky a patiky
	strnek vINTRO.
	(_INTRO): Pidny vkldac znaky pro hlaviky a patiky strnek.
	(LoutFormatter.__init__): Doplnny implicitn hodnoty pi
	resolvovn hlaviek a patiek strnek.
	(LoutFormatter.DATA_ROW): Nov konstanta.
	(LoutFormatter._format_data_item): Implementovno.
	(LoutFormatter._get_generic_resolver): Nov metoda.
	(LoutFormatter._format_data_table): Vyuvej ji.

	* lib/pytis/output/markup.py (Center): Nov tda.
	(Null): Nov znaka.
	(DataItem): Mrn zmnno pouit znaky, pouze dokumentan
	zmna.

2002-04-09  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._set_row): namsto
	`self._view.columns()' pouvej `self._view.fields()' pro
	vytvoen `PresentedRow'.

	* lib/pytis/form/spec.py (ViewSpec._recourse_group): Nov metoda.
	(ViewSpec.fields): Nov metoda.
	(ViewSpec.__init__): Pokud je zadn layout, prove assert a volej
	`self._recourse_group()'.

2002-04-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm._on_print_): Nech je bhem tisku
	zapnut busy cursor.

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table): Do
	prezentovanho dku vkldej pouze viditeln sloupce.

	* lib/pytis/form/list.py (List._create_grid): Zrueny vci tkajc se
	pota.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nov argument
	a atribut `computer_data'.
	(PresentedRow._process_fieldspec): Doplnna podpora pro potan
	potae.

2002-04-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._sfs_columns): Volej `sfs_columns'
	sargumentem `widthfunc'.

	* lib/pytis/form/search.py (sfs_columns): Nov argument `widhtfunc',
	zdokumentovn argument `labelfunc', vynechvej skryt sloupce.

	* lib/pytis/presentation/field.py (PresentedRow.__getitem__):
	Multipolka spojuj jen je-li `_singleline' pravda.

	* lib/pytis/form/inputfield.py (TextField._filter_func): Zjednodueny
	vracen funkce, TRUE a FALSE nemaj patent na pravdu.
	(TextField._on_text): Msto `recompute' volej `field_change'.

	* lib/pytis/form/form.py (EmbeddedEditForm._set_row): Nech atribute
	`_row' nyn obsahuje PresentedRow.
	(EmbeddedEditForm._on_field_change): Nov metoda.
	(EmbeddedEditForm.__init__): Zruen atribut
	`_disable_recomputation'.
	(EmbeddedEditForm._set_row): Atribut `_row' je nyn instanc
	lib.presentation.PresentedRow; zjednodueno.
	(EmbeddedEditForm.recompute): Zrueno.
	(EmbeddedEditForm.changed): Zjednodueno, vyuvej `_row'.
	(EmbeddedEditForm.field_change): Nov metoda.
	(EmbeddedEditForm._on_commit_form): Msto jedniky vracej wx.TRUE.
	(EmbeddedEditForm._pack_fields): Msto vlastnho urovn
	editovatelnosti vyuvej metodu `editable' prezentanho dku.
	(EmbeddedEditForm.init): Vyuito vlastnost prezentanho dku,
	znan zjednodueno.
	(EmbeddedEditForm.__init__): Msto nastaven `_row' na None volej
	`_set_row'.
	(EmbeddedEditForm._edit_update): Zohlednna zmna typu `_row'.

2002-04-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Volej
	konstruktor lib.presentation.PresentedRow sargumentem `new',
	zruen atribut `new'.
	(List._ListTable._EditedRow.changed): Zrueno.
	(List._ListTable.editing, List._ListTable.GetValue): Upraveno
	sohledem na zmny veditanch informacch.
	(List._edit_cell): Vyuvej novou metodu `editable' prezentanho
	dku.
	(List._on_cell_commit): Pi vstupu do editace dalho polka
	pesko needitovateln polka.

	* lib/pytis/presentation/field.py (PresentedRow._key2col): Nov metoda.
	(FieldSpec.editable): Opraven docstring.
	(PresentedRow.__init__): Nov argument a atribut `new'.
	(PresentedRow._Column.__init__): Nov argument a atribut
	`editable'.
	(PresentedRow._process_fieldspec): Zohlednna pedchoz zmna.
	(PresentedRow.editable): Nov metoda.
	(PresentedRow.new): Nov metoda.

	* lib/pytis/form/application.py (Application.on_command): Loguj
	`command' sprioritou vrcenou jeho metodou `log'.

	* lib/pytis/form/command.py (Command.__init__): Nov argument a atribut
	`log'.
	(List.COMMAND_SELECT_CELL): Pidn argument `log'.
	(Command.log_kind): Nov metoda.

2002-04-06  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._pg_query): Pidej typ PgInt8
	(kvli Postgresql7.2).
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pidej typ int8.

2002-04-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (EnumerationField._set_value): Nech
	`value' sm bt ipmo string.

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Opraveny
	asserts na argumenty.
	(List._ListTable._CurrentRow.__init__): Nech `the_row' je
	instance lib.presentation.PresentedRow.
	(List._ListTable._fetch, List._ListTable.rewind)
	(List._current_key, List._on_line_commit, List._on_edit)
	(List.select_row): Zohlednna pedchoz zmna.
	(List._ListTable._EditedRow.__init__): Opraveno chybn uren
	novosti sloupce.
	(List._ListTable.__init__): Volej konstruktor _EditedRow
	sargumentem `new'.

	* lib/pytis/form/screen.py (WxKey.__init__): Nov metoda.
	(WxKey._key2wx): Ukldej a znovu vyuvej ji jednou spotan
	hodnoty.
	(KeyHandler.__init__): Nov atribut `_wx_key'.
	(KeyHandler.on_key_down): Pouvej stle jednu a tut instanci
	WxKey.
	(KeyHandler.__init__): Nov atribut `_commands'.
	(KeyHandler.on_key_down): Prochzej `_commands' msto vech
	atribut.
	(StatusBar.message): Text nastavuj pouze pokud se li od
	stvajcho.

	* lib/pytis/util/util.py (_public_attributes): Nov promnn.
	(public_attributes): Ukldej a znovu vyuvej ji jednou spotan
	hodnoty.

	* lib/pytis/presentation/field.py (PresentedRow._Column.__init__): Nov
	argument a atribut `default'.
	(PresentedRow._process_fieldspec): Zohlednna pedchoz zmna.

2002-04-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow): Pepracovno pro
	vyuit lib.data.PresentedRow.
	(List._ListTable.__init__): Zohlednna pedchoz zmna.
	(List._ListTable._Column.__init__): Vyazena vtina atribut.
	(List._ListTable.__init__): Atribut `_columns' pejmenovn na
	`_column_info' a jeho obsah omezen.  Do novho atributu `_columns'
	se nyn piazuje originln specifikace sloupc.
	(List._ListTable.edit_row): Nekopruj dek vrcen `_get_row',
	nen to teba.
	(List._ListTable.GetValue): Pepracovno, zjednodueno.
	(List._ListTable.GetTypeName, List._ListTable.GetColLabelValue)
	(List._ListTable.SetValue): _columns -> _column_info.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nov atribut
	`_original_row'.
	(PresentedRow.original_row): Nov metoda.
	(PresentedRow.changed): Nov metoda.
	(PresentedRow.__init__): Pidny asserts na typ `fieldspec' a
	`data'.
	(PresentedRow.__setitem__): Implementovno.
	(PresentedRow._recompute): Nov metoda.
	(PresentedRow.update): Zrueno.
	(PresentedRow._init_row): Vcero oprav.
	(PresentedRow.set_row): Nov metoda.

2002-04-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/__init__.py: Importuj hvzdikov lib.presentation.

	* lib/pytis/form/spec.py (Computer): Pesunuto do lib.presentation.

	* lib/pytis/util/util.py (position): Nov argument `key'.

2002-04-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Vyuvej lib.output.PresentedRow.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Msto
	`dir_const' pouvej `public_attributes'.

	* lib/pytis/form/spec.py (dir_const): Zrueno.
	(GroupSpec.__init__): Msto `dir_const' pouvej
	`public_attributes'.

	* lib/pytis/form/application.py (Application._top_level_exception):
	Debugger spoutj a po ostatnch akcch.

2002-04-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (Editable): Pesunuto do lib.presentation.
	(SelectionType, Orientation, PostProcess, TextFilter) 
	(FieldSpec): Pesunuto do lib.presentation.

	* lib/pytis/presentation/field.py: Nov soubor.
	(FieldSpec): pravy dokumentace.

	* lib/pytis/presentation/__init__.py: Nov soubor.

2002-03-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.row): `key' sm bt jakkoliv sekvence,
	nejen seznam (pouze dokumentan zmna).

	* lib/pytis/output/markup.py (_Width): Zrueno.
	(Records): Zrueno.
	(_Container): Nov tda.
	(Paragraph): Bu jejm potomkem.
	(Bold): Nov tda.
	(RecordItem): Zrueno.
	(DataItem): Nov tda.
	(DataTable.id): Doplnn docstring.
	(DataTable.__init__): Pidn assert na typ `id_'.

	* lib/pytis/output/formatter.py: Zdokumentovny funkce vablonch.
	(LoutFormatter._format_conc): Do reduce pidn poten etzec.
	(LoutFormatter._MARK_PROCESSORS): Pidno Bold, odstranno Records
	a RecordItem.
	(LoutFormatter._format_bold): Nov metoda.
	(LoutFormatter._format_records): Zrueno.
	(LoutFormatter._format_record_item): Zrueno.
	(LoutFormatter.INTRO): Hodnota pesunuta do globln promnn.
	(LoutFormatter._MARK_PROCESSORS): Pidno DataItem.
	(LoutFormatter._format_data_item): Nov metoda.

2002-03-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.print_options): Msto
	`print' pouvej sys.stdout.

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Je-li exportovan hodnota None, pouij przdn etzec.
	(LoutFormatter.preview, LoutFormatter.printout): Pidna Lout
	volba `-s'.
	(LoutFormatter._format_data_table): Doplnn chybjc specifiktor
	modulu.
	(LoutFormatter._format_data_table): Opraveno zskvn potanch
	hodnot.
	(LoutFormatter._format_data_table): Pidno zarovnvn sloupc
	napravo pro seln hodnoty.
	(LoutFormatter._lout): Uzavi zdrojov soubor pro Lout generovan
	pi ladn ihned po zpisu dat.
	(LoutFormatter.INTRO): ka strnky pro textov formt zvtena
	na 200s.
	(LoutFormatter._format_data_table): Do textovho vstupu pidna
	mezisloupcov mezera.
	(LoutFormatter._format_data_table): Hlaviky tabulky maj nyn
	samostatn Lout formt a jejich poloky jsou centrovny.

	* lib/pytis/form/list.py (BrowseForm._PrintResolver.get): Pidna
	podpora pro `coding'.

	* lib/pytis/form/screen.py (MenuBar.activate): Pidna logovac hlka.

	* lib/pytis/form/output.py (PrintForm.ACT_PRINT_FORM) 
	(PrintForm._ACTIVATIONS): Nov konstanty.
	(PrintForm.__init__): Nevolej `focus'.
	(PrintForm.run): Volej `focus'.
	(PrintForm._Preview._PAGE_COLS): Zvteno na 2002-03-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/command.py (PrintForm.COMMAND_NEXT_PAGE)
	(PrintForm.COMMAND_PREVIOUS_PAGE): Nov pkazy.

	* lib/pytis/form/output.py (PrintForm._Preview): Nov tda.
	(PrintForm): Pouvej ji, msto konkrtnho pouit wx tdy.
	(PrintForm): Pouvej pro vstup canvas msto wxTextCtrl.
	(PrintForm.on_command): Pidno zpracovn pkaz listovn
	strnkami.
	(PrintForm._create_controls): Navazuj `on_key_down' ina sebe
	sama.
	(PrintForm._set_page): Nov metoda.

2002-03-30  Milan Zamazal  <pdm@brailcom.org>

	* tools/pdmchecker.sh (BADFILES): Vynechej vechny soubory,
	jejich nzvy zanaj podtrtkem.

2002-03-30  Milan Zamazal  <pdm@brailcom.org>

	* tools/pdmchecker.sh (BADFILES): Vynechej vechny soubory,
	jejich nzvy zanaj podtrtkem.

2002-03-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm._fill_preview.format):
	Petransformovno na asynchronn procesovn sprbnm plnnm
	textu.
	(PrintForm.__init__): Nevolej `_fill_preview'.
	(PrintForm.run): Nov metoda.

	* lib/pytis/output/formatter.py (LoutFormatter._ok_resolver): Nov
	metoda.
	(LoutFormatter.__init__): Vyuvej ji.
	(LoutFormatter._format_data_table): Vytvej `_generic_resolver',
	je-li teba.

	* lib/pytis/form/list.py (BrowseForm._PrintResolver.__init__): Nov
	metoda.
	(BrowseForm._PrintResolver.get): Nech jmno tabulky vtle je
	`_id', ne `file-name'.

2002-03-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/resolver.py (ResolverError): Nov tda.
	(ResolverFileError, ResolverSpecError): Bu potomkem
	ResolverError.

	* lib/pytis/form/output.py (PrintForm._fill_preview): Nov metoda.
	(PrintForm.__init__): Pouvej ji.

	* lib/pytis/output/markup.py: Rozen docstring.

	* lib/pytis/form/list.py (BrowseForm._on_print_): Pedvej tisku
	iinstanci _PrintResolver.
	(BrowseForm._PrintResolver): Nov tda.

	* lib/pytis/util/util.py (copy_stream): Neuzavrej vstup uvnit cyklu!

	* lib/pytis/output/formatter.py: Mrn doplnn docstring.
	(LoutFormatter._format_data_table): Vt mnostv rznch prav.
	(LoutFormatter._format_text): Nech ve vsledku zstane zachovno
	oddkovn.
	(LoutFormatter._format_paragraph): Pouvej neodsazen odstavce.
	(LoutFormatter._lout): Ignoruj chyby pi zpisu debugovacho
	souboru.
	(LoutFormatter.__init__): Argument `resolver' sm nyn bt
	isekvenc resolver.
	(LoutFormatter.preview): Nov argument `stream', zapisuj vstup do
	nj a nevracej nic.

2002-03-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm.on_command): Nov metoda.
	(PrintForm._create_controls): Nenastavuj textovmu prvku velikost
	a registruj pro nj klvesov callback na `on_key_down'.
	(PrintForm._on_print_): Implementovno.

	* lib/pytis/form/command.py (BrowseForm.COMMAND_PRINT): Zmnno na
	Form.COMMAND_PRINT.

	* lib/pytis/util/util.py (copy_stream): Dvej pozor na monost uzaven
	vstupu.

	* lib/pytis/util/configuration.py
	(Configuration._Option_auto_reload_defs.default_string): Nov
	metoda.
	(Configuration._Option_printing_command): Nov konfiguran volba.

	* lib/pytis/output/markup.py (DataTable): Nov tda.

	* lib/pytis/output/formatter.py: Pidno DataTable.
	(LoutFormatter._format_data_table): Nov metoda.
	(LoutFormatter.INTRO): Pidn import `tbl'.
	(LoutFormatter.__init__): Zrueny atributy `_ncols' a `_nrows'.
	(LoutFormatter.page_size): Zrueno.
	(LoutFormatter.__init__): Nov atribut `_resolver'.
	(LoutFormatter._format_new_page): Opraven peklep vloutov
	funkci.

	* lib/pytis/form/list.py (List.condition): Nov metoda.
	(List.sorting): Nov metoda.
	(BrowseForm._on_print_): Pedvej formtovai parametru vbru sv
	tabulky.
	(BrowseForm.on_command): BrowseForm.COMMAND_PRINT ->
	Form.COMMAND_PRINT.

2002-03-26  Milan Zamazal  <pdm@brailcom.org>

	* tools/genconfig.py (go): Upraveno aby fungovalo se souasnm
	zpsobem vytven konfigurace.

2002-03-26  Milan Zamazal  <pdm@brailcom.org>

	* tools/genconfig.py (go): Upraveno aby fungovalo se souasnm
	zpsobem vytven konfigurace.

2002-03-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (CopyStream): Nov sada test.

	* lib/pytis/util/util.py (copy_stream): Nov funkce.

	* lib/pytis/output/formatter.py (LoutFormatter._process): Funkcionalita
	pesunuta do nov metody `_generate_document'; nyn zaizuje
	zkladn generovn obsluhu.
	(LoutFormatter.__init__): Zruen atribut `_pages', nov atribut
	`_formatted_document'.
	(LoutFormatter._lout): Tvorba zdrojovho textu dokumentu se nyn
	vol synchronn a vsledek se ukld do `_formatted_document'.
	(LoutFormatter._process): Neuzavrej stream.

	* lib/pytis/form/output.py (PrintForm): Petransformovno na obyejn
	formul na frame stacku.

2002-03-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm._create_controls): Nov atribut
	`_text'.
	(PrintForm.__init__): Volej formtovn textu a zobraz vsledek.

	* lib/pytis/output/formatter.py (Formatter): Pejmenovno na
	LoutFormatter a kompletn pepracovno.
	(Formatter): Nov promnn.
	(Coding): Nov tda.

	* lib/pytis/output/markup.py (Text): Zrueno.
	(Conc): Zrueno.
	(PageNumber): Pidno omezen na umstn znaky (jen dokumentan
	zmna).
	(Paragraph): Nov tda.

2002-03-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (_Canvas, _Printout): Zrueno.
	(PrintForm): Kompletn pepracovno.

	* lib/pytis/form/list.py (List._ListTable.editing): Pznak zmny dku
	zjiuj pes _EditedRow.changed.
	(List._ListTable._EditedRow.changed): Nov metoda.

2002-03-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow): Kompletn
	pepracovno.
	(List._ListTable._CurrentRow.__init__): Doplnny asserts na
	parametry.
	(List._ListTable.__init__, List._ListTable.edit_row): Updatovno
	sohledem na zmny _EditedRow.
	(List._on_insert_line): Nevytvej nov dek, nen-li kopi,
	pedvej do `_recreate_grid' None.
	(List._ListTable.__init__): Zohlednna pedchoz zmna.
	(List._ListTable._Column.__init__): Nov argument `default'.
	(List._ListTable.SetValue): Msto prostho piazen do
	editovanho dku volej metodu `update'.

2002-03-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Opraven
	chybn odkaz na pedka.
	(List._edit_cell): Opravena podmnka editovatelnosti.

2002-03-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	V `_pdbb_command_get_last' dopluj DESC za vechna oids.

2002-03-19  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (dir_const): Kosmetick pravy.
	(Editable): Nov tda.
	(FieldSpec.__init__): Zruen argument `alterable'. Zmna domny
	hodnot argumentu `editable'. Update dokumentace. Doplnna
	dokumentace pro objasnn vznamu `computer' a `default'. Assert
	na `editable'
	(FieldSpec.editable): Metoda zruena.

	* lib/pytis/form/list.py (List._create_grid): Vyuvej konstanty
	`FieldSpec.editable()'.
	(List._edit_cell): Vyuvej konstanty `FieldSpec.editable()'.
	Pozor, podmnka pro test editovatelnosti polka neobsahuje test
	na nov dek, take se neuplatn `Editable.ONCE'. Nutno dodlat!!!

	* lib/pytis/form/inputfield.py (resolve): Nech implicitn hodnotou
	argumentu `editable' je `TRUE'. Doplnna dokumentace.
	(InputField.__init__): Nech implicitn hodnotou
	argumentu `editable' je `TRUE'. Update dokumentace.
	(InputField.enabled): Nov metoda.
	(MultiTextField._set_value): Assert na 'is_sequence(values)'.

	* lib/pytis/form/form.py (EmbeddedEditForm._validate): Namsto
	`field.spec().editable()' pouvej `field.enabled()'.
	(EmbeddedEditForm._pack_fields): Namsto `FieldSpec.alterable()'
	vyuvej konstanty `FieldSpec.editable()'.
	(EmbeddedEditForm.__init__): Inicializuj atribut
	`self._disable_recomputation'.
	(EmbeddedEditForm._set_row): V prbhu inicializace hodnot polek
	zaka popotvn (pomoc `self._disable_recomputation').
	(EmbeddedEditForm.recompute): Nic nedlej, pokud je nastaveno
	`self._disable_recomputation'. Pokud jde o voln pi inicializaci
	formule, nepepotvej polka, kter jsou obsaena v `self._row'.
	(EmbeddedEditForm.recompute): Peskakuj polko, kter je v Row,
	pouze pokud jde o editaci stvajcho zznamu. Pi inicializaci
	novho zznamu je teba vypotat vechna polka.

2002-03-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_table_row_lists):
	Peskakuj sloupce, je jsou instancemi Oid.

2002-03-15  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (Computer.__init__): V assertu na `depends' povol
	tak None.
	(FieldSpec.__init__): Nov argument `references' + dokumentace.
	(FieldSpec.type): prava chybov hlky u assertu.
	(FieldSpec.references): Nov metoda.

	* lib/pytis/form/form.py (EmbeddedEditForm._pack_fields): Namsto
	`fspec.height()' pouvej `field.height()'.
	(EmbeddedEditForm.recompute): `self._row.update()' obal do `try'.
	(DualForm.OnSetFocus): Namsto `OnSetFocus()' volej na aktivn
	formul `SetFocus()'.

	* lib/pytis/form/inputfield.py (resolve): Dodna podpora pro rozeznn
	`ListField'u.
	(InputField._on_set_focus): Vracej wx.TRUE.
	(InputField._width): Pejmenovno na `width'.
	(InputField._height): Pejmenovno na `height'.
	(InputField.hidden): Nov metoda.
	(TextField._create_controls): `_height' -> `height'
	(TextField._on_key_down_multiline): Klvesu Enter zpracovvej
	odlin jen pokud je `self._enabled'.
	(RadioBoxField._create_controls): `_width' -> `width', `_height'
	-> `height'
	(InlineMultiTextField._create_controls): `_width' -> `width'
	(InlineMultiTextField._width): `_width' -> `width'
	(MultiTextField._create_controls): `_width' -> `width'
	(HiddenField): Nov tda.
	(ListField): Nov tda.

2002-03-14  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.recompute): Pidna podpora
	pro zvislosti -- nepepotvej polka, kter nezvis na
	zmnnm polku.

2002-03-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack._replace_window): Volej na
	`window' Show nepodmnn.

	* lib/pytis/form/list.py (List._switch_sorting): Tdn blokuj pro
	sloupce neptomn v datovm objektu, ne datov sloupce.

	* lib/pytis/util/__init__.py: Pedvej konstruktoru Configuration
	argumenty pkazov dky.

	* ebas (_install_configuration): Zrueno.
	(go): Nevolej `_install_configuration'.

	* lib/pytis/data/dbdata.py (Oid): Nov datov typ.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Nech DB typ `oid' se mapuje na Oid.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Sloupec `oid' pidvej pouze tehdy, pokud ve specifikacch sloupc
	nen dn typu Oid.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pidna podpora pro Oid sloupce.
	(DBDataPostgreSQL.lock_row, DBDataPostgreSQL.unlock_row)
	(DBDataPostgreSQL._pg_locking_process): Updatovno pro nsobn
	oids.

2002-03-13  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (Computer.__init__): Nov argument
	`depends'. Doplnna dokumentace.
	(Computer.depends): Nov metoda.

2002-03-12  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.recompute): Pepotvej
	pouze polka, kter nejsou ve `values'.
	(EditForm.message): Pidvej mezeru ped zprvy.

	* lib/pytis/form/inputfield.py (_TextValidator._on_char): Pro filtrovan
	znaky a pi pekroen dlky etzce vypi chybovou zprvu.
	(resolve): Nech je implicitn hodnotou argumentu
	`enabled' hodnota None.
	(InputField.__init__): Nech je implicitn hodnotou argumentu
	`enabled' hodnota None.  Pokud je `enabled' None, nastav `enabled'
	podle `FieldSpec.editable()'.  prava docstringu.
	(TextField._on_text): Vracej `wx.TRUE'.

	* lib/pytis/form/list.py (List.registration): Editovatelnost urij pouze
	podle specifiktoru 'FieldSpec.editable()' - neber ohled na
	computer, protoe ten je zohlednn ji ve `FieldSpec'.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Nech implicitn hodnota
	argumentu `editable' je None. prava docstringu. Pokud je `editable'
	None, nastavuj hodnotu atributu `_editable' podle toho, zda byl
	definovn `computer'.

2002-03-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application._resolver_directory): Nech
	implicitn adres sdefininmi soubory je './defs'.

	* lib/pytis/util/configuration.py (Configuration._Option_defdir): Volba
	nyn uruje pmo adres sdefininmi soubory.
	(Configuration._Option_defdir.default): Nech implicitn hodnotou
	je './defs'.

2002-03-12  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.init): Pidny komente.
	(EmbeddedEditForm.init): `self.recompute()' volej jen pro nov
	zznam. Pi editaci je `recompute()' volno ji v `_set_row()'.
	(EmbeddedEditForm.init): Doplnn docstring.
	(EmbeddedEditForm._set_row): Nakonec zavolej `self.recompute()'
	(EmbeddedEditForm.recompute): Pokud nen nastaveno `self._row',
	nedlej vbec nic. Nastavuj hodnotu polka pouze pokud
	je rzn od stvajc hodnoty (kvli rekurzi).
	(ShowForm._create_form): Doplnn docstring.
	(EditForm._create_form): Doplnn docstring.

	* lib/pytis/form/inputfield.py (TextField._on_text): Pokud je hodnota
	validn, pepotej ppadn potan polka.
	(TextField._on_key_down_multiline): Nov implementace (pvodn
	pestala fungovat po zaveden centrlnho zpracovn udlost).
	(TextField._create_text_control): Pidn koment.
	(InputField._on_kill_focus): Nevyvolvej pepotvn ostatnch
	polek formule.

2002-03-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._edit_update): Pi chyb
	zobraz chybov dialog.

	* lib/pytis/form/search.py (sfs_columns): Sloupce vyluuj ne podle toho
	zda jsou potan, nbr podle jejich neptomnosti vdatech.

	* lib/pytis/form/list.py (List._ListTable.GetValue): Hodnotu sloupce
	potej pouze tehdy, nen-li vdku ptomna nebo je None.

	* lib/pytis/data/data.py (Row.has_key): Nov metoda.

2002-03-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (Configuration): Zrueno.

	* lib/pytis/util/test.py (TestSuite.add): Updatovno pro novou
	konfiguraci; opravena chybn podmnka filtrovn interaktivnch
	test.

	* lib/pytis/util/configuration.py (config): Zrueno.
	(Configuration._Option_icon_dir.icon_dir): Nzev metody opraven na
	`default'.
	(Configuration._Option_log_class_filter.default): Vracej None.
	(Configuration._Option_log_class_filter.default_string): Nov
	metoda.
	(Configuration._Option_log_logger.default)
	(Configuration._Option_log_logger.default_string): Prohozeny
	logovac tdy vtchto dvou metodch.
	(Configuration._Option_user_config_file): Nov volba.
	(Configuration._Option_config.default)
	(Configuration._Option_config.default): Standardn `config.py'
	hledej v`config' msto `defs'.
	(Configuration.serial_number): Nov metoda.
	(Configuration._Option_config): Pejmenovno na
	`_Option_config_file'.
	(Configuration.__getattr__): Pidna podpora pro uivatelsk
	konfiguran soubor.
	(Configuration._read_configuration_file): Nov metoda.
	(Configuration._read_configuration): Vyuvej ji a podpora pro
	uivatelskou konfiguraci.
	(Configuration._parse_command_line_options): Opraveno zskn
	seznamu voleb.
	(Configuration._Option_log_exclude.default): Nech implicitn
	hodnota zvis na volb `debug'.
	(Configuration.print_options): Nov metoda.
	(Configuration.Option.value): Nepiazuj vsledek `init_value' do
	`_value'.
	(Configuration._Option_dbname.default): Nov metoda.

	* config/__init__.py: Zrueno.

	* ebas (_USAGE): Doplnno --config.
	(_process_options): Zrueno.
	(go): Upraveno pro nov konfiguran mechanismus.
	(_install_configuration, _install_gettext): Nov funkce.
	(go): Volej je.
	(_USAGE): Pesunuto do `_usage'.
	(_usage): Argument `option' pejmenovn na `optexception' a
	skuten pouit.

	* lib/pytis/util/log.py (Logger.__init__, Logger._is_accepted)
	(Logger._formatted_data, log): Zohlednna zmna logovacch
	konfiguranch voleb.

	* lib/pytis/util/util.py (Configuration): Zrueno.

	* lib/pytis/util/__init__.py: Importuj `configuration'.
	Vytvej "falen" modul `config'.

2002-03-09  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/util/configuration.py: Nov modul.

2002-03-09  Milan Zamazal  <pdm@brailcom.org>

	* tools/genconfig.py: Nov pomcka.

2002-03-09  Milan Zamazal  <pdm@brailcom.org>

	* tools/genconfig.py: Nov pomcka.

2002-03-07  Pavel Hanak  <hanak@brailcom.cz>

	* doc/standards/bugs: Popis nov chyby wxgtk.

2002-03-07  Pavel Hanak  <hanak@brailcom.cz>

	* doc/standards/bugs: Popis nov chyby wxgtk.

2002-03-06  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/inputfield.py (CodeBookField._create_widget): Oprava
	formtovn. 
	(InputField.__init__): Oprava formtovn.

2002-03-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.get, Resolver._load_module):
	Pidna nejzkladnj podpora pro config.auto_reload_defs.

	* lib/pytis/data/types_.py (NonNull): Nov tda.

	* config/config.py (defdir): Nov volba.
	(auto_reload_defs): Nov volba.

	* lib/pytis/form/screen.py (WxKey.is_event_of_key, MItem.__init__):
	Update vdocstringu.

	* lib/pytis/form/application.py (Application._resolver_directory): Nov
	metoda.
	(Application._resolver): Vyuvej ji.

	* ebas (_USAGE, _process_options): Nov volba --defdir.
	(_process_options): Pi --debug nastavuj config.auto_reload_defs
	na TRUE.

2002-03-05  Milan Zamazal  <pdm@brailcom.org>

	* tools/pdmchecker.sh: Nov pomocn skript.

2002-03-05  Milan Zamazal  <pdm@brailcom.org>

	* tools/pdmchecker.sh: Nov pomocn skript.

2002-03-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefault): Zrueno, test byl nesmysln.
	(DBCounter): Nov sada test.

	* lib/pytis/data/dbdata.py (_pypg_query): Nov funkce.
	(DBDataPyPgSQL._pg_query): Vyuvej ji.
	(DBPyPgCounter): Nov tda.
	(DBCounterDefaultClass): Nov tda.
	(_pypg_connection_pool_): Nov promnn.
	(_pypg_connection_pool): Nov funkce.
	(DBDataPyPgSQL.CONNECTION_POOL): Zrueno.
	(DBDataPyPgSQL.__init__)
	(DBDataPyPgSQL._pypg_add_notifications)
	(DBDataPyPgSQL._pypg_get_connection)
	(DBDataPyPgSQL._pypg_return_connection): Zohlednny pedchoz
	zmny.

	* lib/pytis/data/data.py (Counter): Nov tda.

2002-03-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._current_key): Oetuj ppad, kdy je
	`row' men ne0.
	(FilteredBrowseForm.filter): Update docstringu.
	(List.select_row): Jestlie pozice dan klem nen nalezena,
	nech je pozice vseznamu0.
	(List.refresh): Je-li pozice seln, pokus se ji penastavit na
	kl anebo0.

	* lib/pytis/form/application.py (Application._top_level_exception):
	Je-li nastaveno config.debug, spus debugger.

	* ebas (_process_options): Pi --debug nastavuj config.debug.

	* config/config.py (debug): Nov promnn.

2002-02-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack._replace_window): Neprovdj
	nkter operace snovm oknem, pokud star okno je odstraovan a
	modln.

	* lib/pytis/form/form.py (DualForm.Close): Nuluj `_active_form'.
	(DualForm.OnSetFocus): Volej OnSetFocus na aktivn podformul, ne
	SetFocus na hlavn formul.
	(DualForm.Show): Nastavuj jako aktivn formul hlavn formul.

	* lib/pytis/form/search.py (SFDialog._create_content.condition):
	Kosmetick prava.
	(sfs_columns): Nov argument `labelfunc'.

	* lib/pytis/form/spec.py (FieldSpec.__init__): `width' sm bt0 a zna
	skryt pole (pouze doplnn docstringu).

	* lib/pytis/form/list.py (List._current_key): Oetuj chybn kl --
	zaloguj a zobraz chybov dialog.
	(List._sfs_columns): Pedvej do `sfs_columns' argument
	`labelfunc'.
	(List._on_insert_line): Oeteno uren sla dku pi vloen do
	przdnho seznamu.

2002-02-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (Formatter._MARK_PROCESSORS): Nov
	konstanta.
	(Formatter.__init__): Nov atribut `_mark_processors'.
	(Formatter._format_text, Formatter._format_conc)
	(Formatter._format_new_page, Formatter._format_page_number)
	(Formatter._format_records, Formatter._format_record_item): Nov
	metody.
	(Formatter._format): Pepracovno, zjednodueno.
	(Formatter._format_conc.concat): Spojuj elementy bez vkldn
	novch dk.
	(Formatter._Continuation): Zrueno.
	(Formatter._Page): Nov pomocn tda.
	(Formatter._format_new_page): Implementovno.
	(Formatter._format*): Metody nyn pracuj sinstancemi _Page a
	maj nov parametr `pages'.
	(Formatter.formatted_page): Pepracovno.

2002-02-26  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/__init__.py (_list): Neimportuj resolver.

2002-02-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/__init__.py: Prohozeno poad import.

	* lib/pytis/form/output.py (_Canvas._FONT_SIZE): Pejmenovno na
	FONT_SIZE.
	(_Canvas._LINE_SPACE): Pejmenovno na LINE_HEIGHT a potno
	zFONT_SIZE.
	(_Canvas.draw): Zohlednna pedchoz zmna.
	(_Printout.OnPrintPage): `scalex' a `scaley' je nyn potno
	dn.

	* lib/pytis/util/__init__.py: Pidn import `resolver'.

	* lib/pytis/form/resolver.py: Pesunuto do lib/util/.
	
	* lib/pytis/output/formatter.py: Doplnn docstring.
	(Formatter.__init__): Implementovno.
	(Formatter._resolve): Nov metoda.
	(Formatter._format): Nov metoda.
	(FormattingException, TemplateException): Nov tdy.
	(Formatter.page_size): Ber hodnoty zatribut.
	(Formatter._Continuation): Nov tda.
	(Formatter.has_page): Implementovno.
	(Formatter.formatted_page): Do docstringu doplnno slovn
	strnek.
	(Formatter.formatted_page): Provizorn implementace.
	(Formatter._break_fill): Opravena chyba vpidvn do `result'.
	(Formatter._break_fill): Sprvn oetuj dky snulovou dlkou.

	* lib/pytis/form/resolver.py (ResolverFileError): Doplnn chybjc
	docstring.
	(ResolverSpecError): Npodobn.
	(Resolver._load_module): Pidna kvalifikace metod modulu `imp'.

	* lib/pytis/form/list.py (BrowseForm._on_print_): Pedvej konstruktoru
	Formatter vechny argumenty.
	(BrowseForm.on_show_details): Doplnn chybjc docstring.

2002-02-23  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/output: Nov modul.

	* lib/pytis/form/output.py: Nov soubor.

2002-02-23  Milan Zamazal  <pdm@brailcom.org>

	* tools/find-prints.sh: Hledej pouze obyejn soubory.  Vynechvej
	`_config.py'.

2002-02-23  Milan Zamazal  <pdm@brailcom.org>

	* tools/find-prints.sh: Hledej pouze obyejn soubory.  Vynechvej
	`_config.py'.

2002-02-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm.on_command): Nov metoda.

2002-02-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/__init__.py: Pidn soubor `output'.

	* lib/pytis/form/list.py (BrowseForm._on_print_): Nov metoda.

	* lib/pytis/form/command.py: Nov pkaz List.COMMAND_PRINT.

2002-02-22  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._popup_form): Metoda
	pejmenovna na veejnou `popup_form()'.
	(Application._update_stack_display): V tooltipu statusbaru
	zobrazuj tak nzev tdy formule.
	(Application.on_command): `_popup_form()' -> `popup_form()'

2002-02-21  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (MultiQuestion.__init__): Nov argument `icon'.
	(Question.__init__): Nov argument `icon'.
	(db_operation): Nastavuj chybovmu dialogu titulek a ikonu chyby.

	* lib/pytis/form/list.py (ListForm): Nech tda dd tak z `TitledForm'. 
	(ListForm.__init__): Zrueno ve, co se tk vytven panelu s
	titulkem. Vyuito `TitledForm._create_title_bar()'. `self._header'
	pejmenovno na `self._title_bar'.
	(ListForm.SetSize): `self._header' -> `self._title_bar'.
	(ListForm.on_show_details): Namsto pmho vytven a spoutn
	formule pouij 'Application.popup_form()'
	(FilteredBrowseForm): Nech tato tda nedd `SettableForm'.
	(ListForm._TITLE_BORDER_WIDTH): Atribut zruen (dd se z
	`TitledForm').

	* lib/pytis/form/form.py (ShowForm): Doplnna dokumentace.
	(SettableForm): Tda nevyuvna, tedy zruena.
	(TitledForm): Nov tda.
	(EmbeddedEditForm): Nech je potomkem TitledForm.
	(EmbeddedEditForm._create_form): Kosmetick pravy. Metod
	`_create_caption()' pedvej tak taxt titulku.
	(EmbeddedEditForm._create_caption): Metoda zruena (pesunuta do
	nov tdy `TitledForm'.
	(ShowForm._TITLE_BORDER_WIDTH): Atribut zruen (dd se z
	`TitledForm').
	(ShowForm._create_form): Zruen veker k=od souvisejc s
	vytvenm panelu titulku.
	(EditForm._create_form): Kosmetick pravy. Metod
	`_create_caption()' pedvej tak taxt titulku.
	(DescriptiveDualForm.__init__): Klov argument `position' hledej
	v `kwargs'.

2002-02-20  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._create_caption): Nov
	argument `parent'. Nech je argument `size' nepovinn. Novou
	instanci `wxFont' vytvej, jen pokud byla zadna velikost, jinak
	pouij stvajc.
	(ShowForm): Nov tda.
	(EditForm._create_form): Pedvej argument `parent' metod
	`_create_caption()'. 
	(DescriptiveDualForm._create_side_form): Namsto
	`EmbeddedEditForm' pouij `ShowForm'.

	* lib/pytis/form/list.py (ListForm.__init__): Radji ne
	`wx.wxALIGN_CENTRE' pouvej `wx.wxALIGN_CENTER'.

2002-02-19  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.init): Kosmetick prava.

	* lib/pytis/form/form.py (EmbeddedEditForm._edit_insert): Volej
	`_validate()' bez `omit_read_only=TRUE'.
	(EmbeddedEditForm.init): Pokud nen znm kl (nov zznam),
	vytvo `self._row' jako instanci Row z implicitnch hodnot
	polek.
	(EmbeddedEditForm._set_row): Update komente. Zakomentovno
	odchytvn vjimky oeten pouze zalogovnm.
	(DescriptiveDualForm._on_side_selection): Nov metoda.

2002-02-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.select_row): Nech `position' sm bt
	iinstance lib.data.Row.

	* lib/pytis/form/form.py (EmbeddedEditForm.select_row): Nech `key' sm
	bt iinstance lib.data.Row.

	* ebas (gg): Nov funkce.

2002-02-19  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._create_caption): Nenastavuj
	encoding pmo, ale pomoc `wx.wxFONTENCODING_DEFAULT'
	(EmbeddedEditForm.init): Namsto `self.select_row()' volej
	`self._set_row()' a to i v ppad, e nen znm kl (nov
	zznam) kvli inicializaci default hodnot.
	(EmbeddedEditForm._set_row): Kosmetick pravy.

2002-02-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (_pypg_new_connection): Lpe zformulovno
	hlen vjimky pi nespchu vytvoen spojen.

	* config/config.py (custom_debug): Nov funkce.

	* config/__init__.py: Pidno natahovn ladcho modulu `_config'.

	* lib/pytis/util/util.py (ipython): Hlku onedostupnosti IPython
	vypisuj na stderr.

	* lib/pytis/form/command.py: Nov pkaz
	Application.COMMAND_CUSTOM_DEBUG.

	* lib/pytis/form/list.py (BrowseForm.on_show_details): Nov metoda.

	* lib/pytis/form/form.py (DescriptiveDualForm.__init__): Nov argument
	`position'.
	(DescriptiveDualForm.__init__): Opraveno jmno tdy v`super'.

	* lib/pytis/form/application.py (Application._popup_form): Pro
	BrowseForm nastavuj alternate activation callback na
	`on_show_details'.
	(Application.on_command): Pidna podpora pro pkaz
	COMMAND_CUSTOM_DEBUG.

2002-02-18  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): Nevolej na polka
	`disable()'.
	(EmbeddedEditForm._pack_fields): Pouij argument `enabled' pi
	vytven polka.

	* lib/pytis/form/inputfield.py (resolve): Nov argument `enabled'.
	(InputField.__init__): Nov argument `enabled'. Nenastavuj
	`self._enabled' podle `fspec.enabled()' ale podle argumentu.
	(InputField.disable): prava docstringu.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Nov argument `alterable'.
	(FieldSpec.alterable): Nov metoda.
	(FieldSpec.separator): prava docstringu.

	* lib/pytis/form/dialog.py (GenericDialog.run): Kosmetick pravy.

2002-02-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (DescriptiveDualForm): Nov tda.
	(EmbeddedEditForm.select_row): Nov metoda.
	(EmbeddedEditForm.init): Vyuvej ji.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Vypnej star
	okno nejen pi `close'.

	* lib/pytis/data/types_.py (Type.default_value): Nov metoda.
	(Boolean.__init__): Prohozeno poad hodnot venumeration.
	(Enumeration.default_value): Nov metoda.

	* lib/pytis/form/list.py (List._create_grid): `computer' ve specifikaci
	pole updatuj pomoc FieldSpec.update_computer.
	(List._on_insert_line): Hodnoty novho dku zjiuj zdefaults
	msto jejich vytven na mst.
	(List._ListTable.GetValue): Dodaten pravy stringov hodnoty
	provdj jenom pokud nebylo zadno inputfield.
	(List._ListTable.GetValue): UBoolean testuj hodnotu instance
	value, ne instanci samu.
	(List._EDIT_COLORS): Nov konstanta.
	(List._on_edit, List._on_insert_line): Pi vstupu do editace
	nastav editan barvy.
	(_InputFieldCellEditor.BeginEdit): Kurzor nastavuj na konec
	polka msto na jeho zatek.
	(List._on_select_cell): Volej SetFocus a po `_select_cell'.

	* lib/pytis/form/spec.py (FieldSpec.update_computer): Nov metoda.

	* lib/pytis/form/inputfield.py (EnumerationField._set_value): Doplnn
	assert na `value'.

2002-02-16  Milan Zamazal  <pdm@brailcom.org>

	* ebas (_USAGE): banka -> ebas.

	* lib/pytis/form/list.py (List._ListTable._Column.__init__)
	(List._ListTable.__init__, List._ListTable.GetValue): Zohleduj
	oddlovae dk.
	(_InputFieldCellEditor.BeginEdit): Volej GetValue sargumentem
	`inputfield'.
	(List._ListTable.GetValue): Nov argument `inputfield'.
	(_InputFieldCellEditor.EndEdit): Pedvej hodnotu do SetValue
	pmo, bez pedchozch prav.
	(List._ListTable.SetValue): Jako `value' nyn pijmej instanci
	lib.data.Value.
	(List._create_grid): Pedvej editoru vstupnho polka gridovou
	tabulku.
	(_CellEditor.__init__): Nov argument `table' a atribut `_table'.
	(_InputFieldCellEditor.BeginEdit, _InputFieldCellEditor.EndEdit):
	Tabulku vytahuj ze svho atributu, ne zpedanho pseudogridu.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Nov argument
	`line_separator' a atribut `_line_separator'.
	(FieldSpec.line_separator): Nov metoda.

2002-02-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.__init__, BrowseForm.__init__) 
	(FilteredBrowseForm.__init__): Nov argument `guardian'.
	(List.on_key_down): Vracej FALSE.
	(List.guardian): Nov metoda.

	* lib/pytis/form/screen.py (KeyHandler.on_key_down): Pokud je definovno
	guardian, volej je msto peskoen udlosti.

	* lib/pytis/form/form.py (DualForm._select_form): Oetuj ppad, kdy je
	`form' None.
	(Form.__init__): Nov parametr `guardian' a atribut `_guardian'.
	(Form.guardian): Nov metoda.
	(SideBrowseDualForm._create_side_form) 
	(BrowseDualForm._create_main_form): Pedvej konstruktoru seznamu
	argument `guardian'.
	(DualForm._select_form): Pokud je poadovan formul ji aktivn,
	nedlej nic.

	* lib/pytis/util/util.py (ipython): Nov funkce.

	* ebas (go): Nevolej sys.exit.

2002-02-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/command.py: Nov pkaz DualForm.COMMAND_OTHER_FORM.

	* lib/pytis/form/form.py (SideBrowseDualForm._create_side_form):
	`_on_side_selection' navuj na callback uivatelsk informace
	msto selekce.
	(BrowseDualForm._create_main_form): Nastavuj callback uivatelsk
	interakce.
	(BrowseDualForm.__init__): Pouvej `focus' msto `OnSetFocus'.
	(DualForm._select_form): Nov metoda.
	(SideBrowseDualForm._on_side_selection): Zrueno.
	(SideBrowseDualForm._create_side_form): Pouvej `_select_form'
	msto `_on_side_selection'.
	(SideBrowseDualForm._on_selection): Neprovdj vci okolo focus.
	(DualForm._other_form): Nov metoda.
	(DualForm.on_command): Pidna podpora pro pkaz
	COMMAND_OTHER_FORM.

	* lib/pytis/form/screen.py (WxColor): Nov tda.

	* lib/pytis/form/list.py (List._change_selection_colors): Barvy
	penastavuj pouze dochz-li kjejich skuten zmn.
	(List.select_row.clear): Zrueno.
	(List.select_row.set): Vracej zda dolo ke zmn.
	(List.select_row.set): Pidna podpora pro ruen selection.
	(List.select_row): Volej callbacks, je-li teba; pi rznch
	nespch prove deselect dku; proitn.
	(List._current_key): Oetuj ppad kdy je poet dk men ne
	poadovan slo dku.
	(List._FILTER_COLOR, List._FOCUS_COLORS, List._NOFOCUS_COLORS):
	Pouvej WxColor msto wx.wxColour.
	(List.CALL_USER_INTERACTION): Nov konstanta.
	(List._on_label_left, List._on_label_right, List.on_key_down):
	Volej callback uivatelsk interakce.
	(List.set_callback): Assert na `kind' "zautomatizovn" msto
	dosavadnho vtu konstant.
	(List._recreate_grid): Jestlie pozice vseznamu je urena
	seln, resetuj ji na0.

2002-02-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.select_row.set): Vracej slo
	vyselektovanho dku.
	(List.select_row): Vracej slo vysvcenho dku, ne `position'.
	(List._select_cell): Volej `select_row'.
	(List._select_cell): Nevolej callbacks.

	* lib/pytis/form/form.py (BrowseDualForm._create_main_form): Browse form
	vytvej bez selekce dku.
	(BrowseDualForm.__init__): Selektuj prvn dek vedlejho
	formule.

2002-02-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm.__init__): Volej `super' na
	sebe, ne pedka.

2002-02-14  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MenuBar.__init__): Pokud nen definovna
	klvesa, uvauj klvesu pkazu.
	(MenuBar._assemble_menu): Pokud nen definovna klvesa, uvauj
	klvesu pkazu.

2002-02-12  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._on_kill_focus): Pokud projde
	validace, volej `self._form.recompute()'.
	(TextField._disable): Nov metoda.

	* lib/pytis/form/form.py (EmbeddedEditForm._init_dialog): Pejmenovno
	na `init()'.
	(EmbeddedEditForm.__init__): Namsto `self._init_dialog()'
	pouvej `self.init()'.
	(EmbeddedEditForm._edit_insert): Namsto `self.set_row()' pouvej
	`self._set_row()'.
	(EmbeddedEditForm._edit_update): Namsto `self.set_row()' pouvej
	`self._set_row()'.
	(EmbeddedEditForm._on_commit_form): Kosmetick pravy.
	(EmbeddedEditForm._on_commit_form): Pidno TODO.
	(EmbeddedEditForm._on_select_filter): Namsto `self.set_row()'
	pouvej `self._set_row()' + `self._find_row()'.
	(EmbeddedEditForm._on_sort_column): Namsto `self.set_row()' pouvej
	`self._set_row()'.
	(EmbeddedEditForm.set_row): Zrueno (transformovno na `_find_row()').
	(EmbeddedEditForm._find_row): Nov metoda.
	(EmbeddedEditForm.recompute): Nov metoda.
	(EditForm.__init__): Titulek okna rodie hledej do hloubky.
	(EditDualForm.__init__): Namsto `self._main_form.set_row()' pouvej
	`self._main_form.init()'.

2002-02-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._selected_condition): Pokouej se
	validovat istringovou hodnotu.

	* lib/pytis/form/list.py (List._on_search): Nenastavuj blokovn
	refreshe nen-li sputn dialog.
	(List._on_delete_line): Po dobu sputn dialogu blokuj refresh.

	* lib/pytis/form/dialog.py (delete_record): Opraveno vodn logovn.

	* lib/pytis/data/_test.py (Boolean.check_validation): Neprovdj
	`_test_null_validation'.

	* lib/pytis/data/data.py (Data.find_column): Vyuvej novou funkci
	`find'.

	* lib/pytis/util/_test.py (Find): `find' -> `position'; pejmenovno na
	FindUtils.
	(FindUtils.check_find): Nov test.
	(FindUtils.check_assoc): Nov test.
	(FindUtils.check_rassoc): Nov test.

	* lib/pytis/util/util.py (find): Pejmenovno na `position'.
	(next_subclass): `find' -> `position'.
	(find): Nov funkce.
	(assoc): Nov funkce.
	(rassoc): Nov funkce.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Doplnny uivatelsk typy.
	(DBColumnBinding.__init__): Nov argument `type_' a atribut
	`_type'.
	(DBColumnBinding.type): Nov metoda.

	* lib/pytis/data/types_.py (Type._SPECIAL_VALUES): Nov konstanta.
	(Type._NULL_SUBSTITUTION, Type._AUTONULLIFY, Type._EMPTY_VALUE):
	Zrueno.
	(Type.validate, Type.export): Zohleduj pedchoz zmny.
	(Codebook.__init__): Pi chybnm typu informuj ioonom typu.
	(Number._SPECIAL_VALUES, String._SPECIAL_VALUES) 
	(DateTime._SPECIAL_VALUES): Nhrada za pedchoz konstanty pro
	zvltn hodnoty.

2002-02-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands.sortspec):
	Nepouvej `_pdbb_coalesce'.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql):
	Npodobn.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Neaplikuj `_pdbb_coalesce' na nzvy sloupc.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Odstrann hack
	sokamitm vrcenm `value'.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Vcero drobnch prav zajiujcch pidn COALESCE, kde je
	teba.

2002-02-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._on_search): Pouvej metodu
	SFDialog.condition namsto pstupu kcizmu privtnmu atributu.

	* lib/pytis/form/search.py (SFDialog.condition): Nov metoda.

	* lib/pytis/form/list.py (List.UI_EXISTS_CONDITION): Opraven
	copied&pasted docstring.
	(List._on_search): Pouvej metodu SFDialog.condition namsto
	pstupu kcizmu privtnmu atributu.
	(List._select_cell): Callback CALL_SELECTION vyvolvej pouze pokud
	dolo ke zmn dku.

2002-02-08  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List.CALL_ACTIVATION): Nov
	`UI_EXISTS_CONDITION'.
	(List.on_ui_event): Enable hledn bez dialogu v menu, pokud
	existuje dialog a podmnka.
	(List.on_command): Nov pkazy `Form.COMMAND_SEARCH_NEXT' a
	`Form.COMMAND_SEARCH_PREVIOUS'.
	(List._on_search): prava metody, aby pracovala i bez vyvoln
	dialogu (nepovinn argumenty dlg a direction).

	* lib/pytis/form/form.py (EmbeddedEditForm._on_search): prava metody,
	aby pracovala i bez vyvoln dialogu (nepovinn argumenty dlg a
	direction).
	(EmbeddedEditForm.on_ui_event): Enable hledn bez dialogu v menu,
	pokud existuje dialog a podmnka.
	(EmbeddedEditForm.on_command): Nov pkazy
	`Form.COMMAND_SEARCH_NEXT' a `Form.COMMAND_SEARCH_PREVIOUS'.

	* lib/pytis/form/command.py (): Zaregistrovn pkazu pro hledn vped
	a vzad bez dialogu.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Po proveden
	uzavracch akc (Close) okno zlikviduj.

	* lib/pytis/form/list.py (ListForm.Close): `self._list' nastav kvli
	defocus na None.
	(ListForm.defocus): Jestlie u byl self._list zaven, nevolej
	OnKillFocus.

2002-02-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.correction):
	Loguj i`direction'.

	* lib/pytis/util/log.py (Logger._formatted_data): Data neloguj pouze
	jsou-li None.

	* lib/pytis/form/list.py (FilteredBrowseForm.filter): Pidna podpora
	pro totln filtrovn dat (przdn dictionary).
	(List._ListTable.current_row): Nov metoda.
	(List._on_search): Eliminovny zbyten databzov operace.
	(List._ListTable.rewind): Pidn nepovinn argument `position'.
	(List._ListTable._retrieve_row.fetch): Pesunuto orove ve,
	nyn jako metoda `_fetch'.
	(List.refresh): Je-li refresh blokovn, nedlej nic.
	(List.__init__): Nov atribut `_block_refresh'.
	(List._on_search): Po dobu nahozen search dialogu blokuj refresh.

	* lib/pytis/form/form.py (EditForm.run): Nov metoda.
	(EmbeddedEditForm._run_with_lock): Nov metoda.
	(EmbeddedEditForm.run): Vyuvej ji.
	(SideBrowseDualForm._create_side_form): Kompletn filtruj
	vytvoen formul.
	(DualForm.OnSetFocus): Nastavuj focus hlavnmu formuli jen
	tehdy, pokud tento existuje.
	(EmbeddedEditForm.on_command): Needitan pkazy provdj pouze,
	pokud m formul nastaven njak existujc zznam.
	(EmbeddedEditForm._on_next_record): Vyuvej funkci
	`opposite_direction'.

2002-02-07  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MSeparator): Nov tda.
	(Menu.__init__): Oprava: v assertu povol MSeparator.

	* lib/pytis/form/application.py (Application.message): Nejprve zkus,
	jestli m vrchn okno metodu message, teprve potom pi do statusbaru.

	* lib/pytis/form/form.py (EmbeddedEditForm.navigate): Kosmetick pravy.
	(EditForm._create_form): Pidn panel emulujc statusbar.
	(EditForm.message): Nov metoda.
	(Form.on_command): Doplnn argument '**kwargs'.
	(EmbeddedEditForm.navigate): Nepokouej se zjistit `object' - nen
	to poteba... Volej `SetEventObject()' jen pokud byl pedn `object'.
	(EmbeddedEditForm.on_command): Doplnn argument '**kwargs'.

	* lib/pytis/form/inputfield.py (InputField._on_kill_focus): Validaci
	provdj pouze, pokud dolo ke zmn. Namsto 'self._message()'
	pouvej funkci `message()'.
	(InputField._message): Zrueno.
	(MultiTextField._on_kill_focus): Validaci provdj pouze, pokud
	dolo ke zmn. Namsto 'self._message()' pouvej funkci
	`message()'.
	(Invocable.on_command): Doplnn argument '**kwargs'.

	* lib/pytis/form/list.py (List._on_delete_line): Oprava chyby: namsto
	`self._position' volej `self._set_position'.

2002-02-06  Milan Zamazal  <pdm@brailcom.org>

	* config/config.py (logging): Zakomentovna volba 'class_filter'.

	* lib/pytis/form/list.py (List._set_position): Nov metoda.	
	(List._select_cell, List._on_delete_line): Pouvej ji.

	* lib/pytis/data/data.py (opposite_direction): Nov funkce.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.correction):
	Loguj ukazovtka.
	(DBDataPostgreSQL._PgBuffer.correction): Neupravuj znamnko
	vsledku dle `direction', zestrunno.
	(DBDataPostgreSQL.fetchone): Zohlednna pedchoz zmna.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Vracej
	nepodmnn `value' (doasn hack).

2002-02-06  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): Nastavuj
	`self._size' zde namsto v `_create_form()'.
	(EmbeddedEditForm._create_form): Nenastavuj `self._size'.

2002-02-05  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.__init__): Namsto
	`FieldSpec.label()' pouvej `FieldSpec.column_label()'.
	(List._ListTable._panic): Namsto `_on_leave_window' pouvej
	`_on_leave_form'.
	(List._create_grid): Namsto `_on_leave_window' pouvej
	`_on_leave_form'.
	(List._create_grid): Namsto `FieldSpec.label()' pouvej
	`FieldSpec.column_label()'.
	(List._create_grid): Namsto `FieldSpec.label()' pouvej
	`FieldSpec.column_label()'.
	(List.SetSize): Namsto `FieldSpec.label()' pouvej
	`FieldSpec.column_label()'.

	* lib/pytis/form/inputfield.py (InputField._create_label): Pokud je
	label przdn, nepidvej dvojteku.
	(RadioBoxField._create_controls): Pokud je
	label przdn, nepidvej dvojteku.

	* lib/pytis/form/form.py (_on_leave_window): Pejmenovno na
	`_on_leave_form'.
	(PopupForm._on_leave_window): Pejmenovno na `_on_leave_form'.
	(EmbeddedEditForm.__init__): Vytven sizeru pesunuto do metody
	`_create_form'.
	(EmbeddedEditForm._create_form): Nov metoda.
	(EmbeddedEditForm.size): Nov metoda.
	(EmbeddedEditForm._create_buttons): Metoda pesunuta do tdy
	`EditForm'.
	(EmbeddedEditForm._pack_fields): Pro vcedkov polka
	zarovnvej nadpis nahoru.
	(EmbeddedEditForm.on_command): Namsto `_on_ok' pouvej
	`_on_commit_form'. Namsto `_on_leave_window' pouvej
	`_on_leave_form'.
	(EmbeddedEditForm._on_ok): Pejmenovno na `_on_commit_form'.
	(EditForm.__init__): Nov argument `editable'.
	(EditForm.__init__): Nastavuj titulek popup okna.
	(EditForm._create_form): Nov metoda.
	(EditForm._create_buttons): Nov metoda.
	(DualForm.__init__): Neoetij EVT_SIZE, nen to poteba.
	(EditDualForm.OnSize): Nov metoda.

2002-02-05  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (Form.__init__): Smazn neaktuln
	zakomentovan kd.
	(Form._on_leave_window): prava docstringu.

2002-02-05  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List.SetSize): prava potn ky sloupc,
	vetn zohlednn zobrazovn i nezobrazovn scrollbaru.
	(List._create_grid): Nastav `margins' na 0. Zkaz zmnu velikost
	dk a sloupc uvnit gridu.

	* lib/pytis/form/form.py (DualForm.OnSetFocus): Nov metoda.
	(DualForm.__init__): Zaregistruj metodu pro EVT_SET_FOCUS.

2002-02-04  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (Module): Kosmetick pravy (mazn mezer na
	przdnch dcch).
	(CheckBoxField._create_controls): Nevytvej label pro inline polka.

	* lib/pytis/form/form.py (Module): Kosmetick pravy (mazn mezer na
	przdnch dcch).

2002-02-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.current):
	Faktick oprava vdocstringu.
	(DBDataPostgreSQL.skip): Prove pouze zmnu ukazovtka a vracej
	msto korekce poet peskoench dk.
	(DBDataPostgreSQL._PgBuffer.correction): Nov metoda.
	(DBDataPostgreSQL.skip): Neprovdj databzov skip.
	(DBDataPostgreSQL.fetchone): Pi minut bufferu provdj
	databzov skip a pouvej novou metodu `correction' bufferu.
	(DBDataPostgreSQL._PgBuffer.fetch): Pi plnm minut dat nastav
	ukazovtko mimo data, ne mimo buffer.

	* lib/pytis/form/list.py (List.__init__): Nov atribut
	`_cached_position'.
	(List._recreate_grid): Resetuj `_cached_position'.
	(List.select_row): Pracuj s`_cached_position'.

2002-02-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/log.py (Logger._retrieve_info): Zjiovn jmna modulu
	natvrdo zamezeno.
	(Logger.__init__): Odstranno zapomenut `foo'.
	
2002-02-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (FilterDialog.run, SearchDialog.run): Nech
	argument `col' je nepovinn.

	* lib/pytis/form/form.py (EmbeddedEditForm._sfs_columns): Nov metoda.
	(EmbeddedEditForm._on_sort_column): Vyuvej ji.
	(EmbeddedEditForm._on_select_filter): Implementovno.
	(EmbeddedEditForm._on_search): Implementovno.
	(EmbeddedEditForm.set_row.find_row): Zaa do podmnky filtr,
	ikdy podmnka nen zadna.
	(EmbeddedEditForm.set_row): Nov argument `any_row'.
	(EmbeddedEditForm._on_next_record): Pi pekroen hranic dat
	prove zptn chod.
	(EmbeddedEditForm._sf_dialog): Nov metoda.
	(EmbeddedEditForm.__init__): Nov atributy `_search_dialog' a
	`_filter_dialog'.

2002-02-01  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (_InputFieldCellEditor.BeginEdit): Pro data
	typu 'Codebook' sprvn rozdl hodnotu na sekvenci.
	(_InputFieldCellEditor.EndEdit): Namsto 'field.get_value()'
	pouvej 'field.validate()'. Pro hodnoty typu sekvence prove
	spojen pes separtor.
	(List._ListTable.SetValue): Pidna podpora pro vcehodnotov data
	typu 'Codebook'.
	(List._ListTable.SetValue): Po chybn validaci nezobrazuj dialog,
	pouze zaloguj - nemlo by k tomu dochzet, protoe validace je
	provdna po ji ukonen editace.
	(List._finish_editing): Nastav default tlatko dialogu na 'Uloit'.

	* lib/pytis/form/inputfield.py (InputField.type): Nov metoda.
	(InlineMultiTextField._set_value): Kosmetick prava.

2002-01-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._on_sort_column):
	Implementovno.

	* lib/pytis/form/list.py (List._sfs_columns): Vyuvej `sfs_columns'.

	* lib/pytis/form/search.py (sfs_columns): Nov funkce.

2002-01-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SortingDialog._customize_result): Nen-li
	stisknuto akn tlatko, vra None.
	(SFDialog): Pepracovno na potomka GenericDialog.
	(SearchDialog, FilterDialog): Zohlednno pepracovn SFDialog.
	(SortingDialog._ESCAPE_BUTTON): Nov konstanta.
	(SortingDialog.__init__): Pidno tlatko oputn dialogu.

	* lib/pytis/form/form.py (EmbeddedEditForm.navigate): Vracej flag
	proveden operace.
	(EmbeddedEditForm.on_command): Pro COMMAND_NAVIGATE vracej pravdu,
	pouze pokud byl pkaz opravdu proveden.

	* lib/pytis/form/command.py: Zruen pkaz CodeBook.COMMAND_SELECTION.

	* lib/pytis/data/types_.py (Integer._NULL_SUBSTITUTION) 
	(Float._NULL_SUBSTITUTION): Hodnota zmnna na ''.

	* lib/pytis/form/list.py (List.on_key_down.evil_key): Do komente
	doplnno, pro nen provdn test na Meta.
	(CodeBook.on_command): Zruen hack s CodeBook.COMMAND_SELECTION.
	(CodeBook.__init__): Vbr poloky navazuj na alternate
	activation.
	(CodeBook._WINDOW_HEIGHT): Nov konstanta.
	(CodeBook.__init__): Pouvej ji msto natvrdo zadan hodnoty.
	(List._switch_sorting): Pokud tdc dialog vrt None, nedlej
	nic.
	(List.Close): Nevolej `close' na dialogy.

2002-01-30  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List.__init__): Zruen nepouvan atribut
	`self.activation_key'.
	(List._switch_sorting): Zruen kd chovajc se jinak k
	selnkovm polkm.
	(List.set_callback): V assertu povol i None hodnotu pro `function'.
	(ListForm.__init__): Nech je 'frame_stack' povinnm argumentem.
	(CodeBook.__init__): Nech je 'frame_stack' povinnm
	argumentem. Pedvej frame stack rodi. konstuktoru. Nenastavuj
	nepouvan atribut `list.activation_key'. Aktivan callback
	nastav na `self._on_selection'.
	(CodeBook._on_activation): Pejmenovno na `_on_selection'.
	(CodeBook.on_command): Nov metoda.
	(CodeBook.run): Po skonen dialogu volej `frame_stack.pop()'.
	(BrowseForm.__init__): Nech je 'frame_stack' povinnm argumentem.
	(FilteredBrowseForm.__init__): Nech je 'frame_stack' povinnm
	argumentem a je zachovno jeho obvykl poad (argument condition
	odsunut na konec).
	(FilteredBrowseForm.__init__): Kosmetick prava.
	(List.on_key_down.evil_key): Netestuj `event.MetaDown()'.

	* lib/pytis/form/form.py (Form.__init__): Pidn assert na resolver a
	frame stack.
	(Form.frame_stack): Nov metoda.
	(EmbeddedEditForm.__init__): 'frame_stack' pedvej konstruktoru
	rodie jako neklovan argument.
	(EditForm.__init__): 'frame_stack' pedvej konstruktoru rodie
	jako neklovan argument.
	(DualForm.__init__): Nech je 'frame_stack' povinnm argumentem.
	(SideBrowseDualForm._create_side_form): 'frame_stack' pedvej
	konstruktoru rodie jako neklovan argument a pedvej mu
	skutenou hodnotu, nikoliv None.
	(_create_main_form): 'frame_stack' pedvej konstruktoru
	rodie jako neklovan argument.
	(_create_main_form): 'frame_stack' pedvej konstruktoru
	rodie jako neklovan argument.

	* lib/pytis/form/inputfield.py (Invocable._on_invoke_selection): Nech
	je argument 'event' nepovinn.
	(DateField._on_invoke_selection): Nov nepovinn argument 'event'.
	(CodeBookField._on_invoke_selection): Nov nepovinn argument 'event'.
	(CodeBookField._on_invoke_selection): Pi vytven 'CodeBook'u
	pedvej mu frame_stack.

2002-01-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SortingDialog): Nov tda.
	(SFDialog.Column): Odsunuto ztdy a pejmenovno na SFSColumn.

	* lib/pytis/form/command.py: Nov pkaz
	List.COMMAND_ACTIVATE_ALTERNATE.
	Pkazy List.COMMAND_FILTER, List.COMMAND_SEARCH a
	List.COMMAND_SORT_COLUMN pesunuty do tdy Form.

	* lib/pytis/form/list.py (List.CALL_ALTERNATE_ACTIVATION): Nov
	konstanta.
	(List.set_callback): Do testu `kind' pidno
	CALL_ALTERNATE_ACTIVATION.
	(List._on_activation): Nevracej nic.
	(List._on_alternate_activation): Nov metoda.
	(List.on_command): Pidno zpracovn pkazy
	COMMAND_ACTIVATE_ALTERNATE.
	(List.on_command): Po zpracovn pkaz vracej TRUE, ne jimi
	vrcen hodnoty.
	(List._switch_sorting): Nech argumenty `col' a `direction' jsou
	nepovinn; je-li nkter znich zadn, je vyvoln tdc dialog.
	(List._sf_dialog): Zohlednna zmna tdy specifikace sloupce.
	(List.on_command, List._on_label_left, List._on_label_right):
	Zohlednn pesun nkterch pkaz zList do Form.
	(List._sfs_columns): Nov metoda.
	(List._sf_dialog): Pouvej ji.

	* lib/pytis/form/form.py (EditDualForm.on_command): Nov metoda.
	(BrowseDualForm._create_main_form): Nech je voln
	`_on_activation' navzno na alternativn aktivaci.
	(EmbeddedEditForm.set_row.find_row): Parametrizuj datov select.
	(EmbeddedEditForm.__init__): Nov atributy `_select_condition',
	`_select_filter' a `_select_sorting'.
	(EmbeddedEditForm.on_command): Doplnna podpora pro pkazy
	COMMAND_SEARCH, COMMAND_FILTER a COMMAND_SORT_COLUMN.
	(EmbeddedEditForm._on_search): Nov metoda (zatm przdn).
	(EmbeddedEditForm._on_select_filter): Nov metoda (zatm przdn).
	(EmbeddedEditForm._on_sort_column): Nov metoda (zatm przdn).

2002-01-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/command.py: Pidny Application aliasy pro EditForm.

	* banka.py: Pejmenovno na `ebas'.

	* lib/pytis/form/list.py (List._ListTable._TYPE_MAPPING): Vyazeno
	lib.data.Integer.

	* lib/pytis/form/screen.py (MenuBar._assemble_menu):
	VUPDATE_UI_CALLBACKU oetuj nedefinovanou aplikaci.

	* lib/pytis/data/types_.py (Type._EMPTY_MAPS_TO_NONE): Pejmenovno na
	_NULL_SUBSTITUTION a hodnota zmnna na None.
	(Type.validate, Type.export): Zohlednna pedchoz zmna.
	(Codebook._EMPTY_MAPS_TO_NONE): Zrueno.
	(String._NULL_SUBSTITUTION, Float._NULL_SUBSTITUTION)
	(Integer._NULL_SUBSTITUTION, Date._NULL_SUBSTITUTION): Nov
	pedefinovn atributu.
	(Type._AUTONULLIFY): Nov atribut.
	(Type.validate): Zohleduj ho.
	(String._AUTONULLIFY, DateTime._AUTONULLIFY): Nov atribut.

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): Nen-li formul
	editovateln, deaktivuj jeho polka.
	(DualForm.on_ui_event): Nov metoda.
	(EditDualForm.__init__): Registruj callback na focus hlavnho
	formule, nastavujc aktivn formul.
	(EmbeddedEditForm._on_next_record): Opraven peklep
	videntifiktoru _DBOP.
	(EmbeddedEditForm.on_command): Opravena chyba videntifiktoru
	`_on_set_row'.
	(EmbeddedEditForm.on_command): Opravena chyba videntifiktoru
	EditForm.COMMAND_LAST_RECORD.
	(EmbeddedEditForm._set_row): Pi vjimce loguj ivjimku samotnou.
	(EmbeddedEditForm._set_row): Nem-li `row' odpovdajc kl,
	nastav `value' na None.
	(SideBrowseDualForm._on_selection): OnSetFocus volej pouze, pokud
	tuto metodu formul m.

2002-01-28  Milan Zamazal  <pdm@brailcom.org>

	* tools/make-tags.sh: Zohlednna zmna banka.py -> ebas.

	* tools/find-prints.sh: Zohlednna zmna banka.py -> ebas.

2002-01-28  Milan Zamazal  <pdm@brailcom.org>

	* tools/make-tags.sh: Zohlednna zmna banka.py -> ebas.

	* tools/find-prints.sh: Zohlednna zmna banka.py -> ebas.

2002-01-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBMultiData.check_search_key): Nov test.

	* lib/pytis/data/data.py (Data.search_key): Nov metoda.

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): Nov argument
	`editable' a atribut `_editable'.
	(EditForm.__init__): Volej konstruktor EmbeddedEditForm
	sargumentem `editable'.
	(EmbeddedEditForm.on_command): Pkazy rozdleny dle
	reimu (ne)editace, pidny listovac pkazy.
	(EmbeddedEditForm.set_row): Sloupec nevytahuj pes Data.row, nbr
	jej vyhledvej.
	(EmbeddedEditForm.__init__): Nov atribut `_select_count'.
	(EmbeddedEditForm._set_row): Nov metoda.
	(EmbeddedEditForm.set_row.find_row): Vyuvej ji.
	(EmbeddedEditForm._on_next_record): Nov metoda.
	(EmbeddedEditForm._on_set_row): Nov metoda.

	* lib/pytis/form/screen.py (WxKey._TRANS_TABLE): Pidny klvesy Home,
	End, Prior a Next.

	* lib/pytis/form/dialog.py (GenericDialog.run): Ukldej se na frame
	stack.

	* lib/pytis/form/list.py (List._on_cell_commit): Nov dek vkldej za
	aktuln dek, ne ped nj.
	(_CellEditor.__init__): Nov argument `registration'.
	(List._create_grid): Pedvej cell editoru argument
	`registration'.
	(List.__init__): Nov atribut `_current_editor'.
	(_InputFieldCellEditor.EndEdit): Oeteny booleans a sekvenn
	hodnoty.
	(_InputFieldCellEditor.BeginEdit): Volej `_registration'.
	(List._on_cell_rollback): Resetuj aktuln editor.
	(_CellEditor.__init__): Inicializuj atribut `_field'.
	(_CellEditor.field): Nov metoda.
	(List.on_command): Zajisti forwarding pkaz aktulnmu editoru.

	* lib/pytis/form/command.py: Pidny aliasy pro pkazy ukonen editace
	buky vdkovm formuli.
	Nov pkazy pro pohyb po zznamech veditanm formuli.
	Pidn zpis klves Prior, Next, Home a End.

2002-01-26  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	Pedvej relanm opertorm argument `ignore_case'.

	* lib/pytis/data/data.py (LT, LE, GT, GE): Nech implicitn hodnota
	`ignore_case' je FALSE.

	* lib/pytis/form/list.py (List._on_label_left, List._on_label_right):
	Pevdj udlost na pkaz.
	(List._on_select_cell): Npodobn.
	(List._select_cell_command): Nov metoda.
	(List.on_command): Pidna podpora pro nov pkazy.
	(List.on_key_down): Volej pedchoz `on_key_down' sargumentem
	`dont_skip'.

	* lib/pytis/form/command.py: Nov pkazy List.COMMAND_SORT_COLUMN a
	List.COMMAND_SELECT_CELL.
	(invoke_command): Nov funkce.

	* lib/pytis/form/form.py (SideBrowseDualForm._create_side_form): Nech
	je rodiem formule `parent'.
	(DualForm.Close): Zru atributy formul.
	(SideBrowseDualForm.Close): Nov metoda.

	* lib/pytis/form/application.py (Application.on_command): Zohlednna
	zmna `modal'.
	(Application.on_command): Ma hlen ve status baru.

	* lib/pytis/form/screen.py (FrameStack.modal): Zrueno.
	(modal): Nov funkce.
	(FrameStack._replace_window): Zohlednna pedchoz zmna.
	(FrameStack._replace_window): Kosmetick prava.
	(KeyHandler.on_key_down): Vyuij `invoke_command'.

2002-01-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._edit_cell): Nekvalifikuj `message'
	jmnem modulu a volej je sargumentem `beep_'.
	(List._edit_cell): Hlen obaleno gettext.
	(List._switch_sorting): Neprovdj tdn potanch sloupc.

	* lib/pytis/form/application.py (message): Nov argument `beep_'.

2002-01-25  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._update_stack_display):
	Nov metoda.
	(Application.OnInit): Volej `self._update_stack_display()'.
	(Application._exit): Pokud framestack nen przdn, zeptej se.
	(Application._popup_form): Volej `self._update_stack_display()'.
	(Application._leave_form): Volej `self._update_stack_display()'.
	(Application.on_command): Pokud je okno na framestacku modln,
	volej jen jeho `on_command' a nic jinho nee.
	(Application.on_command): Oprava zapomenut negace ped testem na
	modln okno.

	* lib/pytis/form/dialog.py (Dialog): Importuj ve z `lib.form'.
	(MultiQuestion.__init__): Ve voln konstruktoru pedna nastavuj
	ikonu na `ICON_QUESTION'.

	* lib/pytis/form/__init__.py (_list): Modul `screen' importuj jako prvn.

	* lib/pytis/form/list.py (List.on_command): Po zpracovn COMMAND_EDIT
	vracej vdy TRUE. Pokud nen nalezen odpovdajc pkaz, vracej
	vdy FALSE.
	(ListForm.__init__): Pouvej `self.title()'. Kosmetick pravy
	(CodeBook.run): Pidej se na frame_stack.

	* lib/pytis/form/screen.py (StatusBar.__init__): Namsto -1 pouvej
	None pro udn pole s poromnnou kou. ku ber jako poet
	znak, ne jako dlg units. 
	(FrameStack.windows): Nov metoda.
	(FrameStack._replace_window): pravy jak kosmetick, tak
	smantick. Zejmna co se te chovn k modlnm oknm.
	(FrameStack._replace_window.modal): Funkce zruena (nahrazena
	stejnojmennou veejnou metodou).
	(FrameStack.modal): Nov metoda.

	* lib/pytis/form/inputfield.py (InputField.__init__): Inicializuj
	atribut `_has_focus'.  Oetuj `EVT_SET_FOCUS' volnm
	`_on_set_focus()'.
	(InputField._on_set_focus): Nov metoda.
	(InputField._on_kill_focus): Nastavuj atribut `_has_focus' na FALSE.
	(InputField.has_focus): Nov metoda
	(Invocable.on_command): Nepedvej metod `_on_invoke_selection()'
	argument `event'.
	(DateField._on_invoke_selection): Zruen argument
	`event'. Vracej `TRUE' namsto `wx.TRUE'.
	(CodeBookField._on_invoke_selection): Zruen argument
	`event'. Vracej `TRUE' namsto `wx.TRUE'.

	* lib/pytis/form/form.py (EmbeddedEditForm._current_field): Nov metoda.
	(EmbeddedEditForm.on_command): Nejprve volej `on_command()'
	aktulnho polka.
	(Form.title): Nov metoda.
	(PopupForm._on_leave_window): Odstrann neaktuln koment.
	(PopupForm.run): Upravena logovac hlka. Kosmetick pravy.
	(EmbeddedEditForm.__init__): Namsto `self._caption' pouvej
	`self.title()'.
	(EmbeddedEditForm._init_dialog): Nastav focus na prvn polko.
	(EmbeddedEditForm._create_caption): Namsto `self._caption'
	pouvej `self.title()'.
	(EmbeddedEditForm._create_buttons): Namsto `self._on_cancel'
	pouij jako handler pro tlatko "Cancel" `self._on_leave_window'.
	(EmbeddedEditForm.title): Nov metoda.
	(EmbeddedEditForm.on_command): Oetuj tak udlost
	`Application.COMMAND_LEAVE_FORM'.
	(EmbeddedEditForm._on_ok): Odstranno zbyten logovn.
	(EmbeddedEditForm._on_ok): Namsto `self._close_form()' volej
	`self._parent.Close()'.
	(EmbeddedEditForm._on_cancel): Metoda zruena.
	(EmbeddedEditForm._close_form): Metoda zruena.
	(EmbeddedEditForm._on_parent_close): Metoda zruena.
	(EmbeddedEditForm.OnSetFocus): Metoda zruena.
	(EmbeddedEditForm.run): Namsto `PopupForm.run()' volej `Form.run()'.

	* lib/pytis/form/command.py: prava docstringu.

2002-01-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack._replace_window.modal):
	Kosmetick prava.

	* lib/pytis/form/list.py (List._finish_editing): Vyuvej MultiQuestion.
	(List._create_grid): Odstrann datumov hack.
	(_TextCellEditor): Vyuvej spolen vstupn polko.
	(_Date_Cell_Editor, _BooleanCellEditor, _TextCellEditor)
	(_NumberCellEditor, _FloatCellEditor): Zrueno.
	(List._create_grid): Pro vechna polka vyuvej jako editor
	_InputFieldCellEditor.
	(_InputFieldCellEditor.Create): Msto FIELD_CLASS vyuvej
	inputfield.resolve.
	(List._ListTable._TYPE_EDITOR_MAPPING): Zrueno.
	(_InputFieldCellEditor.Create): Nehavaruj, pokud widget nem
	metodu SetInsertionPoint.
	(_InputFieldCellEditor.BeginEdit): Npodobn.
	(List.__init__): Volej SetFocus na sebe, nejenom na grid.
	(List.SetFocus): Nov argument `_local'.
	(List.__init__): Nastavuj atr
	(List.select_row): Jsme-li veditaci, ignoruj `position' a vysvi
	editovan dek.
	(List._ListTable.GetTypeName): Vytahuj atribut `wxtype', ne
	`type'.
	(_InputFieldCellEditor.BeginEdit): Pevdj hodnoty
	wxGRID_VALUE_BOOL na T/F.
	(_InputFieldCellEditor.BeginEdit): Pro EnumerationField pevdj
	`value' na tuple.

2002-01-24  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (get_value): Kosmetick pravy.
	(MultiTextField._on_kill_focus): Nov metoda.
	(InputField.validate): Kosmetick pravy.
	(_add_validation_callback): Metoda zruena.
	(InputField._on_kill_focus): Nov metoda
	(_TextValidator._on_char): Pouvej `beep()' namsto `wxBell()'.
	(InputField.__init__): Oetuj `EVT_KILL_FOCUS' volnm
	`_on_kill_focus()'.
	(InputField._message): Nov metoda (s prozatimn implementac...).
	(InputField._on_validation): Metoda zruena.

	* lib/pytis/form/form.py (PopupForm._popup_frame): Kosmetick pravy.
	(PopupForm._on_leave_window): Zrueny neaktuln komente.
	(DualForm.__init__): Kosmetick pravy.

	* lib/pytis/form/screen.py (FrameStack._replace_window.modal): Oprava chyby.
	(FrameStack._replace_window): Kosmetick pravy.

2002-01-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack.push): Zmnno zachzen
	smodlnmi okny, nyn takt ukldaj informace na frame stack.
	(FrameStack.pop): Vdocstringu zohlednna modln okna.
	(FrameStack._replace_window): Zohlednna modln okna.

	* lib/pytis/form/form.py (Form.on_user_action): Pejmenovno na
	`on_command'.
	(PopupForm.run): Pouvej frame stack.
	(Form.__init__): Nech argument `frame_stack' je povinn.
	(EmbeddedEditForm.__init__, EditForm.__init__): Npodobn.

	* lib/pytis/form/dialog.py (MultiQuestion): Nov tda.
	(Question): Nech je potomkem MultiQuestion.

2002-01-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.message): Argument
	`message' sm bt iNone.

	* lib/pytis/form/screen.py (WxKey.is_true_key): Nov metoda.
	(StatusBar.message): Argument `message' sm bt iNone.
	(KeyHandler.on_key_down): Nen-li klvesa pouhm modifiktorem,
	sma hlen vstatus bar.

	* lib/pytis/form/list.py (List._change_selection_colors): Nov metoda.
	(List.SetFocus, List.OnKillFocus): Vyuvej ji.
	(List._on_insert_line): `computer' je metoda, ne atribut.
	(List._finish_editing): Zaveden ttlatkov dialog smonost
	uloen zmn.
	(List._edit_cell): Nepedvej application.message argument
	`timeout'.
	(List.exit_check): Dotaz na uloen editovanho dku pokldej
	pouze, pokud je dek zmnn.

	* lib/pytis/form/form.py (SideBrowseDualForm._create_side_form): Msto
	`form_.set_row' (co to mlo bt?) volej `form_.select_row'.
	(SideBrowseDualForm._create_side_form): Nov atribut
	`_selection_data'.
	(SideBrowseDualForm._on_selection): Vedlej formul filtruj
	pouze, pokud dolo ke zmn filtrovacch dat.
	(EmbeddedEditForm._on_parent_close): Volej `unlock'.
	(BrowseDualForm.__init__): Volej OnSetFocus na hlavn
	formul (pestoe, zd se, to nic nedl).

2002-01-22  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (KeyHandler.__init__): Nech argumentem me
	bt i sekvence.

	* lib/pytis/form/application.py (Application._popup_form): Zmna
	argument (pouvej pmo tdu a nzev namsto textovho
	identifiktoru obsahujcho oboj). Nsledn vyputn kdu pro
	zbyten zpracovn identifiktoru. Vdy volej `form.run()',
	protoe nyn maj tuto metodu vechny typy formul.

	* lib/pytis/form/command.py: `CodeBook' nen `Codebook'.

	* lib/pytis/form/list.py (_InputFieldCellEditor.Reset): Namsto
	`self._field.reset_value()' volej `self._field.reset()'.
	(BeginEdit): Namsto `field.set_value()' volej `field.init()'.
	(CodeBook): Tda `Codebook' pejmenovna zpt na `CodeBook'.
	(CodeBook.__init__): `CodeBook' nen `Codebook'.

	* lib/pytis/form/form.py (EmbeddedEditForm._edit_update): Namsto
	`field.set_unmodified()' volej `field.init()'.
	(EmbeddedEditForm.set_row): Namsto `f.set_default()' volej
	`f.init()'.
	(Form.run): Nov metoda.
	(PopupForm._on_parent_close): V logovac hlce pouvej `self._name'.
	(PopupForm.run): V logovac hlce pouvej `self._name'.
	(EmbeddedEditForm.exit_check): Logovac hlka zruena.

	* lib/pytis/form/inputfield.py (InputField.set_unmodified): Metoda
	zruena.
	(InputField.set_default): Metoda zruena (resp. transformovna na
	metodu 'init').
	(InputField.init): Nov metoda.
	(InputField.set_value): Nenastavuj `self._initial_value' - to te
	dl pouze metoda `init()'. Update docstringu.
	(InputField.reset_value): Pejmenovno na `reset()'. Update
	docstringu.
	(CodeBookField._create_widget): Neoetuj `EVT_KEY_DOWN' pro
	`display'.
	(Invocable._create_widget): Neoetuj `EVT_KEY_DOWN' pro `button'.
	(TextField._on_key_down_multiline): Namsto
	'self._form._on_key_down()' volej `self.on_key_down()'.
	(_on_key_down): Metoda zruena.
	(InputField.__init__): Namsto otovn `EVT_KEY_DOWN' samostatn
	volej `KeyHandler.__init__()'.
	(InputField): Nech je tato tda potomkem tdy `KeyHandler'.

2002-01-22  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Nov sekce.

2002-01-22  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Nov sekce.

2002-01-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (DualForm.__init__): Nov atribut
	`_active_form'.
	(DualForm.on_command): Nov metoda.
	(SideBrowseDualForm._on_selection, DualForm._on_change_window):
	Zrueno.
	(SideBrowseDualForm._create_side_form): Nastav formuli selection
	callback.
	(SideBrowseDualForm._on_side_selection): Nov metoda.

	* lib/pytis/form/list.py (ListForm.__init__): Opravy formtovn.
	(List._on_edit): Vracej TRUE/FALSE dle spchu/nespchu editace.

2002-01-21  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (ListForm.__init__): Vra nastaven
	`self._text' podle `title'.
	(ListForm.SetSize): Nenastavuj `SetDimension', ale volej
	self._box.Fit(self).
	(ListForm.OnSize): Po `SetSize' volej jet self.Layout().
	(ListForm.SetSize): Nevolej zbyten self._box.Fit(self).
	(ListForm.__init__): Nevolej zbyten
	`box.SetDimension'. Nenastavuj `self.SetAutoLayout' (v OnSize je
	volno self.Layout()).

2002-01-21  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.set_default): Pokud
	specifikace polka neurujue 'default', nastav hodnotu na
	exportovanou NULL hodnotu danho typu.

2002-01-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (KeyHandler.on_command): Nov metoda.

	* lib/pytis/form/list.py (List): Zmnno poad ddinosti.
	(List._on_cell_commit): Volej MoveCursorRight nepodmnn
	swx.FALSE.

	* lib/pytis/form/form.py (Form): Zmnno poad ddinosti.

	* lib/pytis/form/application.py (Application): Zmnno poad
	ddinosti.
	(Application.on_command): Zestrunn docstring.
	(Application._call_current_window): Doplnno vracen hodnot.
	(Application.on_key_down): Nov metoda.

2002-01-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (NextSubclass): Pejmenovno na Classes.
	(Classes.check_it): Pejmenovno na `check_next_subclass'.
	(Classes.check_public_attributes): Nov test.

	* lib/pytis/util/util.py (public_attributes): Nov funkce.

	* lib/pytis/form/inputfield.py: Neimportuj defs.key.
	(Invocable._on_key_down): Zrueno.
	(Invocable.on_command): Nov metoda.

	* lib/pytis/form/form.py: Neimportuj defs.key.
	(EmbeddedEditForm.on_key_down): Zrueno.
	(EmbeddedEditForm.on_command): Nov metoda.
	(EmbeddedEditForm._on_ok): Nech je argument `event' nepovinn.
	(EmbeddedEditForm.navigate): Nech je argument `object' nepovinn.

	* lib/pytis/form/list.py: Neimportuj defs.key.
	(List.__init__, Codebook.__init__): Aktivan klvesu pebrej
	zodpovdajcho pkazu.
	(List._on_line_commit, List._on_line_rollback): Nen-li seznam
	veditaci, vra FALSE.

	* lib/pytis/form/command.py: Vloena dokumentace zpisu zkey.py.
	(Command.__str__): Nov metoda.
	
	* config/config.py (logging): Doplnny zakomentovan vzory
	logovacch filtranch voleb.

	* lib/pytis/util/log.py (Logger.__init__): Nov atributy
	`_module_filter' a `_class_filter'.
	(Logger._prefix): Zjiovn frame atd. pesunuto do
	`_retrieve_info'.
	(Logger._prefix): Importuj `inspect' nepodmnn.
	(SyslogLogger._prefix._): Stejn zmny jako vLogger._prefix.
	(Logger._retrieve_info): Nov metoda.
	(Logger.log): Volej ji.
	(Logger._is_accepted): Dodna podpora pro ladc filtry.

	* lib/pytis/form/application.py (Application.on_command): Po dobu
	zpracovn pkazu nastav busy cursor.
	(Application.on_command): Pidna logovac hlka.
	(Application._init): Nov metoda.
	(Application.OnInit): Volej ji.
	(Application._leave_form): Opraven chybn odkaz na frame stack.

	* lib/pytis/form/screen.py: Neimportuj defs.key.
	(busy_cursor): Nov funkce.
	(is_busy_cursor): Nov metoda.
	(KeyHandler.on_key_down): Dvej se do dictionary tdy, ne instance.
	(KeyHandler.on_key_down): Opraveny rzn peklepy.
	(KeyHandler.on_key_down): Je-li nalezen pkaz, avak ten nen
	zpracovn, pokrauj ve zpracovn klvesy.
	(WxKey.is_event_of_key): Jestlie `key' je None, vra FALSE.

	* lib/pytis/data/types_.py (Codebook._EMPTY_MAPS_TO_NONE): Nastaveno na
	FALSE.
	(Codebook._export): Oetuj ppad, kdy je `value' None; obecn
	vtakovm ppad vracej tuple przdnch etzc.
	(Codebook.__init__): Nov atribut `_empty_export'.

2002-01-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form): Bu potomkem KeyHandler.
	(Form.__init__): Nepiazuj explicitn handler klves.
	(Form.on_key_down): Zrueno.

	* lib/pytis/form/list.py (CodeBook): Pejmenovno na Codebook.
	(ListForm._on_key_down): Zrueno.
	(BrowseForm._on_key_down): Zrueno.
	(BrowseForm.on_key_down): Zrueno.
	(List.UA_LINE_COMMIT, List.UA_LINE_ROLLBACK): Zrueno.
	(ListForm.on_user_action): Pejmenovno na `on_command'.
	(List.on_user_action): Npodobn.
	(List.on_command): Kompletn pedlno.
	(List): Bu potomkem KeyHandler.
	(List.on_key_down): Zjednodueno, vt st funkcionality
	pesunuta do standardnho zpracovn klves a `on_command'.
	(List._on_edit, List._on_line_commit, List._on_line_rollback)
	(List._on_cell_commit, List._on_cell_rollback): Zruen argument
	`event'.
	(List._on_activation, List._on_search, List._on_filter)
	(List._on_insert_line, List._on_delete_line): Npodobn.
	(List.__init__): Zruen argument `key_handler' a atribut
	`_key_handler'.
	(ListForm.__init__): Zohlednna pedchoz zmna.
	
	* lib/pytis/form/__init__.py (_list): Zalenn soubor `command'.

	* lib/pytis/util/test.py (transform_args, TestSuite.add.prefix_test):
	Vyuvej `starts_with'.

	* lib/pytis/util/_test.py (StringFunctions): Nov sada test.

	* lib/pytis/util/util.py (starts_with): Nov funkce.

	* lib/pytis/form/application.py (UserAction): Zrueno.
	(Application.on_exit): Pejmenovno na `_exit', zruen argument
	`event'.
	(Application._exit): Vylepena logovac hlka.
	(Application.on_load_form): Pejmenovno na `_popup_form'.
	(Application.on_frame_size): Pejmenovno na `_on_frame_size'.
	(Application.OnInit): Zohlednna pedchoz zmna.
	(Application.OnInit): Pro zpracovn klves registruj msto
	dosavadnho handleru metodu `_on_key_down'.
	(Application._on_key_down): Nov metoda.
	(Application): Bu potomkem `KeyHandler'.
	(Application.on_user_action): Pejmenovno na `on_command'.
	(Application.on_command): Pidno zpracovn globlnch pkaz.
	(Application._leave_form): Nov metoda.
	(Application.__init__): Nov metoda.
	(Application._popup_form): Argument `event' nahrazen argumentem
	`formid'.
	(Application._popup_form): Odstranny blbiny soddlovai menu.
	(Application.on_menu_action): Zrueno.
	(Application.OnInit): Zruena tvorba escape handleru a piazen
	klvesovho callbacku.

	* lib/pytis/form/screen.py (Command): Pesunuto do command.py.
	(KeyHandler): Nov tda.
	(WxEscapeHandler.handler): Zrueno.
	(Menu.__init__): Zruen argument `id' a atribut `_id'.
	(Menu.id): Zrueno.
	(MItem.__init__): Zrueny argumenty `id' a `callback', nov
	argumenty `command' a `args'.
	(MItem.id, MItem.callback): Zrueno.
	(MItem.command, MItem.args): Nov metody.
	(MItem.__init__): Je-li uvedeno 'hotkey', nastav je 'command'.
	(MenuBar.__init__): id generuj, nepebrej je zpoloek.
	(MenuBar._assemble_menu): Npodobn.

	* lib/pytis/form/command.py: Nov soubor.
	(Command.id): Nov metoda.
	(Command.key): Zrueno, nahrazeno atributem `key'.

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._pg_query): Opraveno chybn
	formtovn.

2002-01-18  Tom Cerha  <cerha@brailcom.org>

	* config/config.py (icon_dir): Nov konfiguran promnn.

	* lib/pytis/form/list.py: Namsto dialogu 'Message' pouij dialog
	'Error'.
	(List._finish_editing): prava pouit dialogu 'Question'.
	(List._on_search): Namsto dialogu 'Message' pouij dialog
	'Warning'.
	(List._on_edit): prava pouit dialogu 'Message'.  Namsto
	dialogu 'Message' pouij dialog 'Warning'.
	(List._on_cell_commit): prava pouit dialogu 'Question'.
	Nastavuj 'TRUE' jako implicitn odpov.

	* lib/pytis/form/inputfield.py (InputField.validate): Namsto dialogu
	'Message' pouij dialog 'Error'.

	* lib/pytis/form/form.py (EmbeddedEditForm._lock): prava pouit
	dialogu 'Message'.
	(EmbeddedEditForm.exit_check): prava pouit dialogu 'Question'.
	(EmbeddedEditForm.exit_check): V konstruktoru `Question' pouij
	`yes_default=TRUE'.
	(EmbeddedEditForm.exit_check): prava pouit argumentu `default'
	dialogu 'Question'.

	* lib/pytis/form/application.py (Application._top_level_exception): Namsto
	dialogu 'Message' pouij dialog 'Error'.

	* lib/pytis/form/dialog.py: Modul kompletn pepsn. Nsledujc zznamy
	jsou vtinou jen velmi obecn...
	(GenericDialog): Nov zkladn tda.
	(Message): Doplnna monost specifikovat ikonu. Vtina obecnho
	kdu pesunuta do tdy `GenericDialog'.
	(Choice): Tda zruena (jej funknost je ji obsaena v td
	'Message').
	(Warning): Nov tda.
	(Error): Nov tda.
	(Question): Tda je nyn pouze specializac tdy `Message'.
	(InputDialog): Nov tda s obecn, textovm vstupem.
	(Password): Tda je nyn pouze specializac tdy `InputDialog'.
	(Calendar): Tda nyn vyuv obecn tdy 'GenericDialog'.
	(GenericDialog._create_dialog): Pokud je nastaveno
	`self._default_button', oetuj `EVT_SET_FOCUS' metodou
	`._focus_default_button()'.
	(GenericDialog._focus_default_button): Nov metoda.
	(GenericDialog._create_buttons): Pro `default' tlatko volej
	`SetDefault()' a ulo ho do `self._default_button'.
	(Question.__init__): Argument `default' m pro tuto tdu
	speciln vznam (jeho hodnota je boolean) - zdokumentovno. 

	* lib/pytis/form/search.py (SFDialog._selected_condition): Namsto
	dialogu 'Message' pouij dialog 'Error'.

2002-01-18  Tom Cerha  <cerha@brailcom.org>

	* icons: Nov adres pro ikony s nkolika zkladnmi ikonami pro
	pouit v dialogovch oknech.

2002-01-18  Tom Cerha  <cerha@brailcom.org>

	* icons: Nov adres pro ikony s nkolika zkladnmi ikonami pro
	pouit v dialogovch oknech.

2002-01-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form.focus): Volej na aplikaci `activate'.
	(Form._ACTIVATIONS): Nov konstanta.
	(Form.ACT_FORM): Nov konstanta.

	* lib/pytis/form/application.py (Application.activate): Nov metoda.

	* lib/pytis/form/screen.py (MItem.__init__): Zruen argument
	`activation'.
	(MItem.activation): Zrueno.
	(Menu.activation): Nov metoda.
	(MenuBar.activate): Nov metoda.
	(MenuBar.__init__): Nevkldej podmnn aktivn poloky do menu,
	vytvo jejich seznam.
	(MenuBar.save, MenuBar.restore): Nov metody.

	* lib/pytis/form/application.py (Application.OnInit): Nevolej
	`_activate'.
	(Application.push, Application.replace): Zruen argument
	`activation'.

	* lib/pytis/form/screen.py (ButtonBar): Nebu potomkem Active.
	(ButtonBar.activate): Zrueno.
	(beep): Nov funkce.

2002-01-17  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): V inline reimu
	nastavuj controlm jinho rodie ne ve formuli (nov promnn
	`self._ctrl_parent'. Pidn tak koment vysvtlujc tento
	hack. Na `self._controls' pouvej xtuple().
	(InputField._create_label): Pouvej `self._ctrl_parent'.
	(Unlabeled._create_label): Pouvej `self._ctrl_parent'.
	(TextField._create_text_control): Pouvej `self._ctrl_parent'.
	(CheckBoxField._create_controls): Pouvej `self._ctrl_parent'.
	(ChoiceField._create_controls): Pouvej `self._ctrl_parent'.
	(RadioBoxField._create_controls): Pouvej `self._ctrl_parent'.
	(ListBoxField._create_controls): Pouvej `self._ctrl_parent'.
	(Invocable._create_button): Pouvej `self._ctrl_parent'.
	(CodeBookField._create_widget): Pouvej `self._ctrl_parent'.

2002-01-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py: Vdocstringu zruen odstavec oaktivacch.
	(_Activation): Zrueno.
	(Active): Zrueno.
	(MenuBar): Ji nen potomkem `Active'.
	(MenuBar.activate): Zrueno.
	(MItem.__init__): `callback' nyn me bt iinstance Command.
	(FrameStack.replace): Nevolej `activate'.
	(FrameStack._activate): Zrueno.
	(FrameStack._State.__init__): Zruen argument `activation'
	(FrameStack._State.activation): Zrueno.
	(ACT_DEFAULT): Zrueno.
	(FrameStack.push, FrameStack.pop): Nevolej `_activate'.
	(FrameStack.push, FrameStack.replace): Zruen argument
	`activation.
	(Command): Nov tda.

2002-01-16  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): na udlost
	`wx.EVT_INIT_DIALOG' reaguj volnm `self._init_dialog()'. Nevolej
	`self.set_row()', jen si zapamatuj kl - `set_row()' bude volno
	v `_init_dialog()'.
	(EmbeddedEditForm._init_dialog): Nov metoda.

	* lib/pytis/form/inputfield.py (InputField._create_label): Jako parent
	pouij `self._form', jinak label nen vidt...

	* lib/pytis/form/list.py (List._edit_cell): Pi pokusu o editaci
	needitovatelnho sloupce volej `wx.wxBell()'.  Namsto log()
	pouvej application.message() (a vyuij `timeout'!).

	* lib/pytis/form/spec.py (FieldSpec.column_label): prava docstringu.
	Namsto `... and ... or ...' pouvej `if ... else ...'.
	(FieldSpec.column_width): prava docstringu. Oprava chyb.
	(FieldSpec.height): Namsto `... and ... or ...' pouvej `if
	... else ...'.

	* lib/pytis/form/screen.py (StatusBar._Timer): Nov tda.
	(StatusBar.__init__): Pro kad polko vytvo timer.
	(StatusBar.message): Nov argument `timeout' - pokud je definovn,
	spus timer.

	* lib/pytis/form/application.py (Application.message): Nov argument
	`timeout'.
	(message): Nov argument `timeout'.

2002-01-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (FieldSpec.__init__): Implicitn hodnotu
	`column_width' ber z `width'.
	(FieldSpec.type): Do assertu na existenci sloupce pidno id
	sloupce.
	(FieldSpec.width, FieldSpec.column_width): Je-li ka 0, vra ji
	a ne default.

	* lib/pytis/form/list.py (List.OnKillFocus): Msto Refresh volej Show
	vyp/zap.
	(List._ListTable._Column.__init__): Nov argument a atribut
	`wxtype'.
	(List._ListTable.__init__): Zohlednna pedchoz zmna.
	(List._ListTable.__init__): Typ vytahuj ze specifikace sloupce.
	(List._ListTable.GetValue, List._ListTable.SetValue): Npodobn.
	(List._create_grid): Nepedvej do Computer typ.
	(List._create_grid): Do voln FieldSpec pidn argument `type_'.
	(List._on_insert_line): Typ vytahuj ze specifikace sloupce.

2002-01-15  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Neukldej
	`self._data'. Neukldej `self._data_column'. Ukldej `self._type'.
	(data_column): Metoda zruena.
	(StringField._maxlen): Pouvej `self._type' namsto
	`self.data_column().type()'.
	(InputField.validate): Update identifiktor v
	docstringu. Pouvej `self._type' namsto
	`self.data_column().type()'.
	(InputField.set_default): Pouvej `self._type' namsto
	`self.data_column().type()'.
	(StringField): Update identifiktor v docstringu.
	(StringField._maxlen): Pouvej `self._type' namsto
	`self.spec().type()'.
	(EnumerationField): Update identifiktor v docstringu.
	(EnumerationField._values): Pouvej `self._type' namsto
	`self.data_column().type()'.
	(DateField): Update identifiktor v docstringu.
	(CodeBookField): Update identifiktor v docstringu.
	(CodeBookField._number_of_fields): Pouvej `self._type' namsto
	`self.data_column().type()'.
	(CodeBookField._maxlen): Pouvej `self._type' namsto
	`self.data_column().type()'.
	(CodeBookField._on_text_hook): Pouvej `self._type' namsto
	`self.data_column().type()'.

	* lib/pytis/form/list.py (_InputFieldCellEditor.Create): Volej
	`control.SetInsertionPoint(0)'. Konstruktoru `InputField'u
	pedvej nov parametr `form'.
	(_InputFieldCellEditor.BeginEdit): Konstruktoru `InputField'u
	pedvej nov parametr `form'.
	
	* lib/pytis/form/inputfield.py (resolve): Nov povinn argument `form'.
	(InputField.__init__): Nov povinn argument `form'.
	(InputField._on_key_down): `Form' nen `self._parent', ale
	`self._form'...
	(_skip_navigation): `Form' nen `self._parent', ale
	`self._form'...
	(TextField._create_text_control): Velikost nastavuj pouze pokud
	nen "inline".
	(TextField._on_key_down_multiline): `Form' nen `self._parent', ale
	`self._form'...
	(DateField._on_invoke_selection): Namsto `self._parent.parent()'
	pouvej `self._parent' (Parent ji nen `Form').
	(CodeBookField._on_invoke_selection): Tak tak...

	* lib/pytis/form/form.py (EmbeddedEditForm._pack_fields): Funkci
	`inputfield.resolve()' pedvej nov argument `form'.

2002-01-15  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (FieldSpec.__init__): Zrueno zapomenut
	piazen `hint'.
	(hint): Metoda zruena.

2002-01-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (MenuBar.MENU_ID_SEPARATOR): Nov konstanta.
	(MenuBar._assemble_menu): Pouvej ji msto natvrdo zadanho
	znaku.

	* lib/pytis/form/list.py (ListForm.on_user_action): Nov metoda.
	(List.on_user_action): Nov metoda.
	(List.UA_LINE_COMMIT, List.UA_LINE_ROLLBACK): Nov konstanty.

	* lib/pytis/form/form.py (Form.on_user_action): Nov metoda.

	* lib/pytis/form/application.py (Application._menu_id): Nov metoda.
	(Application.on_load_form): Vyuvej ji.
	(Application._top_level_exception): Nov metoda.
	(Application.on_load_form): Vyuvej ji.
	(Application.on_menu_action): Nov metoda.
	(Application.on_ui_event): Doplnn docstring.
	(Application._call_current_window): Nov metoda.
	(Application.on_ui_event): Vyuvej ji.
	(Application.on_user_action): Nov metoda.
	(UserAction): Nov tda.
	(Application.on_load_form): Pouvej MENU_ID_SEPARATOR msto
	natvrdo zadanho znaku.

2002-01-14 Tom Cerha <cerha@brailcom.cz>

        * fefs/UcDenik.py: pravy souvisejc se zruenm tdy.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Zruen argument
	`hint'. Nov argument `column_label'.
	(FieldSpec.width): Stylistick prava kdu.
	(FieldSpec.column_label): Nov metoda.
	(FieldSpec.column_width): Stylistick prava kdu.
	(FieldSpec.height): Stylistick prava kdu.

	`spec.ColumnSpec'.

	* lib/pytis/form/inputfield.py (resolve): Ke zjitn typu pouvej
	`spec.FieldSpec.type()' namsto `lib.data.ColumnSpec.type()'.
	(InputField.__init__): Zruen assert na existenci datovho
	sloupeku. Ukldej si odkaz na datov objekt.
	(InputField.data_column): Update docstringu.
	(InputField.spec): Update docstringu.
	(InputField.set_default): Pouvej `self.spec().type()' namsto
	`Computer.type()'.

	* lib/pytis/form/list.py (List._ListTable.__init__): Pouvej
	`FieldSpec.column_width()' namsto `width()'.
	(List.__init__): Update docstringu.
	(List._create_grid): Nov vytven FieldSpec pedvej i argument
	`column_width'.
	(List._create_grid): Pouvej `FieldSpec.column_width()' namsto
	`width()'.
	(List.SetSize): Pouvej `FieldSpec.column_width()' namsto
	`width()'.
	(ListForm._columns): Update docstringu.
	(CodeBook._columns): Update docstringu.

	* lib/pytis/form/resolver.py (ResolverFileError.__init__): Nov atribut
	`exception'.
	(Resolver._load_module): Pedvej zachycenou vjimku vytven
	instanci `ResolverFileError'.

	* lib/pytis/form/spec.py: Update docstringu.
	(Computer.__init__): Zruen argument `type'. Update docstringu.
	(type): Metoda zruena.
	(ColumnSpec): Tda Zruena.
	(ColumnSpecFromField): Tda zruena.
	(FieldSpec): Update docstringu.
	(FieldSpec.__init__): Argument `label' nech je povinn. Nov
	argument `column_width'. Nov argument `type_'. Dopleny asserty.
	(FieldSpec.type): Nov metoda.
	(FieldSpec.width): Stylistick pravy.
	(FieldSpec.column_width.ault):  Nov metoda.
	(ViewSpec.__init__): pravy souvisejc se zruenm tdy `ColumnSpec'.
	Nevytvej slovnky sloupc ani polek.
	(ViewSpec._remember_columns): Metoda zruena.
	(ViewSpec._remember_fields): Metoda zruena.
	(ViewSpec.field): Metoda zruena.
	(ViewSpec.column): Metoda zruena.

2002-01-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.on_ui_event): Nov metoda.
	(ListForm.on_ui_event): Nov metoda.
	(List.UI_EDIT_CHANGE): Nov konstanta.
	(List._select_cell): Volej SetGridCursor kadopdn.
	(List._sf_dialog): SFDialog, ne Dialog.

	* lib/pytis/form/form.py (Form.on_ui_event): Nov metoda.

	* lib/pytis/form/screen.py (Menu.__init__): Nov argument `uievent_id' a
	atribut `_uievent_id'.
	(Menu.uievent_id): Nov metoda.
	(MenuBar._assemble_menu): Registruj callbacky pro poloky menu
	s uievent_id.

	* lib/pytis/form/application.py (Application.on_ui_event): Nov metoda.
	(Application.OnInit): `_application' nastav co nejdv.

2002-01-14  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (ColumnSpec.__init__): Atribut `computer'
	nech je privtn (`_computer'). 
	(ColumnSpec.computer): Nov metoda.
	(ColumnSpecFromField.__init__): Nastavuj tak `computer'.
	(FieldSpec.__init__.ault): Nov argument `computer'.
	(FieldSpec.computer): Nov metoda.

2002-01-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (ColumnSpec.__init__): `computer' pejmenovno
	na `_computer'.
	(ColumnSpec.computer): Nov metoda.

	* lib/pytis/form/list.py (List._create_grid): Zjiuj potanost
	potae sloupce testem na typ jeho hodnoty.
	(List._create_grid): Msto penastavovn atribut v kopii
	ColumnSpec vytvo zbrusu novou instanci.
	(List._ListTable.__init__, List._create_grid)
	(List._sf_dialog): Zohlednna zmna ColumnSpec.

	* lib/pytis/data/data.py (Row.__str__): Vracej i kle sloupc.

2002-01-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (Data.check_row_key): Nov test.
	(Data.setUp): Nov metoda.

	* lib/pytis/data/data.py (Data.row_key): Nov metoda.
	(Row.__init__): pravy docstringu.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_tabcol)
	(PostgreSQLStandardBindingHandler._pdbb_btabcol)
	(PostgreSQLStandardBindingHandler._pdbb_coalesce)
	(PostgreSQLStandardBindingHandler._pg_send_notifications): Doplnn
	strun docstring.
	(PostgreSQLStandardBindingHandler._pg_update): Vyuito `xtuple'.
	(PostgreSQLStandardBindingHandler._pdbb_row_main_value): Zrueno.
	(PostgreSQLStandardBindingHandler._pg_update) 
	(DBDataPostgreSQL.update): Msto `_pdbb_row_main_value' pouvej
	`row_key'.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql): Drobn
	zjednoduen kdu.

	* lib/pytis/form/list.py (List.on_key_down.evil_key): Akceptuj pouze
	nkter klvesy a klvesy snktermi modifiktory.

2002-01-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (Find): Nov sada test.
	(NextSubclass): Nov sada test.

	* lib/pytis/util/util.py (find): Nov funkce.
	(next_subclass): Nov funkce.
	(_mro): Nov funkce.

	* lib/pytis/form/form.py (Form._on_key_down): Pejmenovno na
	`on_key_down'.
	(EmbeddedEditForm._on_key_down): Npodobn.
	(Form.__init__): Zohlednna pedchoz zmna.

	* lib/pytis/form/inputfield.py (InputField.reset_value): Nov metoda.
	(Invocable._on_key_down): Dal metodu `_on_key_down' volej pouze,
	pokud nebyla zpracovna klvesa.
	(Invocable._on_key_down): Pi nezpracovan klvese volej metodu
	pedka msto metody rodie.
	(InputField._on_key_down): Vinline reimu oetuj klvesy
	potvrzen a zruen editace polka.

	* lib/pytis/form/list.py (_InputFieldCellEditor.Create): Nastav widget
	pes SetControl.
	(_InputFieldCellEditor.BeginEdit, _InputFieldCellEditor.EndEdit) 
	(_InputFieldCellEditor.Reset): Pro obnoven pvodn hodnoty
	vyuvej metody tdy InputField.
	(BrowseForm.on_key_down): Nov metoda.
	(ListForm._on_key_down): Nov metoda.
	(List._on_key_down): Pejmenovno na `on_key_down'.
	(List._create_grid): Zohlednna pedchoz zmna.

2002-01-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py: lib.data.types_ -> lib.data.
	(List._select_cell): Logovac hlky pechodu loguj sdruhem
	DEBUG.
	(List._on_key_down): Loguj klvesovou udlost sdruhem DEBUG.
	(List._on_select_cell): Loguj buku sdruhem DEBUG.
	(List._select_cell): SelectRow volej pouze, pokud dan dek ji
	nen vselekci.
	(List.select_row.set): Npodobn.
	(_InputFieldCellEditor): Nov tda.
	(_Date_Cell_Editor): Nov tda.
	(_CellEditor.__init__): Nov metoda.
	(_BooleanCellEditor.__init__, _NumberCellEditor.__init__)
	(_FloatCellEditor.__init__, _TextCellEditor.__init__): Nov
	metoda.
	(List._create_grid): Volej konstruktor editoru snov zavedenmi
	argumenty.
	(List._ListTable._TYPE_EDITOR_MAPPING): Pidn _DateCellEditor.

	* lib/pytis/util/log.py (Logger._prefix): Modul zjiuj pouze, je-li
	definovno __debug__.

2002-01-11  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (Computer.__call__): Nov metoda.
	(FieldSpec.__init__): Nov argument 'default'.
	(FieldSpec.default): Nov metoda.

	* lib/pytis/form/inputfield.py (InputField.set_default): Nov metoda.

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): `self.set_row()'
	volej i kdy `key' je None.
	(EmbeddedEditForm.set_row): Kdy je `key' None, volej pro vechna
	polka metodu `set_default()'.

2002-01-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py: Definuj `super' natvrdo.

2002-01-09  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List._create_grid): Nastavuj font pro label
	pi vytven gridu
	(wxPython-2.3.2 toti nastavuje okliv font pro zhlav listu).

2002-01-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (super): Pejmenovno na `super_'.
	(super): Nov podmnn piazen funkce.

	* lib/pytis/form/search.py: Updatovny importy.
	(Dialog): Pejmenovno na SFDialog.
	(SearchDialog, FilterDialog): Zohlednna pedchoz zmna.

	* lib/pytis/form/list.py (BrowseForm.__init__, CodeBook.__init__):
	Opravena kvalifikace konstanty SELECTION_CALLBACK.
	(BrowseForm.set_callback): Nov metoda.

	* lib/pytis/form/form.py (EditForm.__init__): Nov argument `popup'.
	(EditDualForm._create_main_form): Volej konstruktor EditForm
	sargumentem `popup'.
	(SideBrowseDualForm): Nov tda.
	(BrowseDualForm._create_side_form): Pesunuto do
	SideBrowseDualForm.
	(EditDualForm._create_side_form): Npodobn.
	(BrowseDualForm, EditDualForm): Bu potomkem SideBrowseDualForm.
	(Form.set_callback): Nov metoda.
	(EditForm.CALL_SELECTION): Nov konstanta.
	(Form._run_callback): Nov metoda.
	(Form.__init__): Nov atribut `_callbacks'.
	(EditForm.set_row): Volej selection callback.
	(EditDualForm._create_main_form): Nastav vytvoenmu formuli
	selection callback.
	(BrowseDualForm._create_main_form): Jako selection callback
	nastavuj `_on_selection' msto vlastn funkce.
	(BrowseDualForm): Odstranny kvalifikace souboru `list'.
	(BrowseDualForm._on_activation): Nov metoda.
	(EditDualForm.__init__): Zruen argument `row'.
	(PopupForm._on_leave_window): Nov metoda.
	(Form._on_leave_window): Odstranny vci tkajc se PopupForm.
	(EditForm): Pejmenovno na EmbeddedEditForm, nedd PopupForm.
	(EditForm): Nov tda.
	(PopupForm._on_parent_close): Nov metoda.
	(EmbeddedEditForm.exit_check): Nov metoda.
	(EmbeddedEditForm._on_parent_close): Ztrivializovno,
	funkcionalita penesena do `exit_check'.
	(EmbeddedEditForm.OnSetFocus): Testuj na przdn `_fields'.

	* lib/pytis/data/_test.py: Msto jednotlivch soubor importuj pouze
	lib.data.

	* lib/pytis/util/_test.py (InstanceResolver): Zrueno.

2002-01-09  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (BrowseDualForm._create_side_form,
	BrowseDualForm.__init__, BrowseDualForm._create_main_form):
	Pouvej `List' msto `list.List'.
	

2002-01-09  Tom Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (ColumnSpecFromField.__init__): ze specifikace
	polka pebrej i `separator'.
	(FieldSpec.__init__): Nov argument `separator'.
	(FieldSpec.separator): Nov metoda.

	* lib/pytis/form/inputfield.py (resolve): Nov argument `inline'.
	(InputField.__init__): Nov argument `inline'. Nejprve volej
	`self._create_controls()', potom teprve
	`self._create_widget()'. Pokud je `inline' pravda, nevytvej
	label a prove assert na poet prvk vrcen metodou
	`self._create_controls()' rovn prv jedn.
	(InputField._create_controls): Nov metoda.
	(InputField._create_widget): Sestav widget jako sizer sloen z
	prvk `self._controls'. Update dokumwentace - rozdlen funknosti
	na dv metody - `_create_controls()' `_create_widget()'.
	(InputField._skip_navigation): Kd uzavi do try ... except.
	(GenericField): Update dokumentace.
	(TextField._create_widget): Metoda nahrazena pouze metodou
	`_create_controls()'.
	(CheckBoxField._create_widget): Metoda nahrazena pouze metodou
	`_create_controls()'.
	(ChoiceField._create_widget): Metoda nahrazena pouze metodou
	`_create_controls()'.
	(RadioBoxField._create_widget): Metoda nahrazena pouze metodou
	`_create_controls()'.
	(ListBoxField._create_widget): Metoda nahrazena pouze metodou
	`_create_controls()'.
	(Invocable._create_widget): Zmny souvisejc s novm vznamem
	metody `_create_widget()'
	(InlineMultiTextField): Nov tda.
	(MultiTextField): Nech je tda potomkem `InlineMultiTextField' a
	pedefinovv pouze nezbytn metody.
	(MultiTextField._create_controls): V 'inline' reimu volej metodu
	pedka.
	(MultiTextField.get_value): V 'inline' reimu volej metodu pedka.
	(MultiTextField._set_value): V 'inline' reimu volej metodu
	pedka.
	(CodeBookField._create_widget): V 'inline' reimu nevytvej display.

	* lib/pytis/form/list.py (List._ListTable.GetValue): U stringovch hodnot
	jet ped vrcenm spoj dky.

2002-01-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (Resolver): Zrueno.
	(InstanceResolver): Zrueno.
	(xlist): Nov funkce.

	* lib/pytis/form/resolver.py (Resolver.__init__): `path' pevdj na
	list pomoc `xlist'.

	* lib/pytis/form/screen.py (StatusBar.__init__.field_width): Neimportuj
	`form'.
	(MenuBar._assemble_menu): Neimportuj lib.form.screen.

	* lib/pytis/form/spec.py (Computer.__init__): Msto lib.data.types_
	importuj lib.data.

	* lib/pytis/form/inputfield.py: Neimportuj lib.util.
	Importuj hvzdikov lib.form msto import jednotlivch soubor.
	(CodeBookField._on_invoke_selection): Neimportuj `list'.

	* config/config.py (application_name): Importuj zlib.data, ne
	lib.data.dbdata.

	* lib/pytis/data/__init__.py: Hvzdikov importuj lib.util.

	* lib/pytis/data/types_.py: Neimportuj lib.util.

	* lib/pytis/data/data.py: Neimportuj lib.util.

	* lib/pytis/data/dbdata.py: Neimportuj lib.util.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce.ault): Argument
	id sloupce nahrazen argumentem typ sloupce.
	(DBColumnBinding.__init__): Vdocstringu uargumentu `column'
	doplnno, e me bt sekvenc.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql) 
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Oeteny multisloupce.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Sjednocena tvorba `ordering' a `rordering'.

	* lib/pytis/form/list.py: Importuj cel lib.form hvzdikov.
	Neimportuj lib.util.
	(List.__init__): Ostrann hack simportem `application'.

	* lib/pytis/form/form.py: Neimportuj lib.data.dbdata.
	Importuj cel lib.form hvzdikov.
	Neimportuj lib.util.	
	(EditForm._on_parent_close, BrowseDualForm.__init__)
	(BrowseDualForm._create_main_form, BrowseDualForm._create_side_form)
	(EditDualForm._create_side_form, EditDualForm._create_main_form):
	Neimportuj `list'.

	* lib/pytis/form/dialog.py: Msto lib.data.dbdata importuj lib.data.

	* lib/pytis/form/application.py: Neimportuj `config'.
	lib.form importuj vcelku a hvzdikov.
	Neimportuj lib.util.
	(Application.on_load_form): Neimportuj `dialog'.

	* lib/pytis/form/__init__.py: Importuj hvzdikov vechny soubory.
	Aktualizovn docstring.

2002-01-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.__init__): Importuj `application.'
	(List._on_delete_line, List._on_line_commit): Zobraz zprvu
	ospchu do stavovho dku.

	* config/config.py (logging): Nov konfiguran volba `logger'.

	* lib/pytis/util/test.py: `config' importuj a na mst pouit.

	* lib/pytis/data/dbdata.py: Msto jednotlivch submodul lib.data
	hvzdikov importuj lib.data.
	mx.DateTime importuj pln kvalifikovan.
	(DBDataPyPgSQL._pg_query): Dojde-li koperan chyb uvnit
	transakce, nepokouej se provst dotaz nad novm spojenm.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce.ault): Doplnna
	podpora pro Boolean a Float.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Doplnny
	kvalifikace typ hodnot.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Nov argument
	`value', vracej cel coalesce vraz.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql) 
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop) 
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Zohlednna pedchoz zmna.

	* lib/pytis/data/data.py: Hvzdikov importuj lib.data.
	Msto lib.util.util importuj lib.util.

	* lib/pytis/data/__init__.py: Hvzdikov importuj `types_' a `dbdata'.

	* lib/pytis/util/__init__.py: Hvzdikov importuj `test'.

	* lib/pytis/util/log.py (log): Vdocstringu povoleno neklovn
	argumentu `data'.
	(SyslogLogger._MAX_MESSAGE_LENGTH): Nov konstantn atribut.
	(SyslogLogger._send): Jaks taks oeten maximln mon dlky
	zprvy syslogu.
	(log): Nevytvej `logger' natvrdo, nbr ber parametry jeho
	konstrukce zkonfigurace.
	(SyslogLogger._prefix): Nech prefix nen przdn a obsahuje
	vechny informace neposkytovan syslogem.

	* lib/pytis/form/application.py: Zruen import `locale'.
	(Application.message): Nov metoda.
	(_application): Nov promnn.
	(Application.OnInit): Ulo se do `_application'.
	(Application.on_exit): Odstra se z`_application'.
	(message): Nov funkce.

	* lib/pytis/form/screen.py (StatusBar.message): Pejmenovno na
	`_current_message'.
	(StatusBar.show_message): Pejmenovno na `message', zmna
	definice chovn pi neexistujcm id.
	(StatusBar): pravy docstringu.
	(StatusBar.__init__): pravy docstringu.
	(StatusBar.__init__): ky pol jsou nyn vdialogovch
	jednotkch, pravy kdu.
	(StatusBar.message): pravy docstringu.
	(StatusBar._field_number, StatusBar.message): Neexistuje-li pole
	spoadovanm id, je vyvolna vjimka KeyError (pouze dokumentan
	zmna).
	(StatusBar.save, StatusBar.restore): Zohlednno pejmenovn
	nkterch metod.

2002-01-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Opraveno chybn poad parametr vtvorb
	`_pdbb_command_insert_newpos'.
	(PostgreSQLStandardBindingHandler._pg_insert): Oeten ppad, kdy
	SQL pkaz vracejc nejvy poadov slo vrt NULL.

	* lib/pytis/form/list.py (List._on_line_commit): Rozena hlka
	onespchu insertu.
	(List._ListTable._EditedRow.__init__): Konstruktoru pedka
	pedvej ji zkoprovan sloupec, je-li nov.

2002-01-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	`lower' aplikuj pouze na stringov sloupce.

	* lib/pytis/form/list.py (List._FOCUS_COLORS): Nov atribut.
	(List._NOFOCUS_COLORS): Nov atribut.
	(List.SetFocus): Nastav barvu vbru a volej `focus' na rodie.
	(List.OnKillFocus): Nov metoda.
	(List._on_select_cell): Volej SetFocus.
	(List._select_cell): Nevolej SetFocus na grid.
	(List._recreate_grid): Msto nastaven focusu bu nastav focus,
	nebo zru focus.
	(List.__init__): Do docstringu doplnna poznmka osprvnm
	rodie.
	(ListForm.focus): Nov metoda.
	(ListForm.defocus): Nov metoda.
	(ListForm._TITLE_BACKGROUND_COLOR): Nov atribut.
	(ListForm.__init__): Nastav barvu zhlav.

	* lib/pytis/form/form.py (Form._focused_form): Nov atribut.
	(Form.focus): Nov metoda.
	(Form.defocus): Nov metoda.
	(focused_form): Nov funkce.

2002-01-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm._create_main_form): Vyselektuj
	prvn dek.
	(BrowseDualForm.__init__): Nov metoda.

2002-01-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_insert): Je-li tabulka
	uspodan, dopl do dku poadov slo ikdy `after'
	i`before' je None.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nov
	atribut `_pdbb_command_insert_newpos'.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pevdj ids ordering sloupc na databzov nzvy.
	(DBDataPostgreSQL.insert): Loguj takt `after' a `before'.
	(DBDataPostgreSQL.insert): Opraven test na nalezen souseda.

	* lib/pytis/form/list.py (List._on_line_commit): Doplnna podpora pro
	uspodan seznamy.
	(List._ListTable.row): Sprvn uri slo dku, nachz-li se za
	editovanm dkem.
	(List._on_delete_line): Opraven test na posledn dek tabulky pi
	volb nov buky.

2002-01-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.select_row): Ulo pozici do `_position'.
	(List.refresh): Nov parametr `filterflag'.
	(List.__init__): Nov atribut `_filterflag'.
	(List._create_grid): Indikaci filtru zapnej dle `_filterflag', ne
	dle podmnky.
	(List._on_filter): Pedvej `refresh' parametr `filterflag'.
	(List._recreate_grid): Ped volnm `_select_cell' testuj `row' na
	None, ne pouze nepravdu.
	(List._recreate_grid): `_select_cell' volej s`invoke_callback'
	TRUE.
	(List._sf_dialog): Vynechej potan sloupce.

	* lib/pytis/util/util.py (compare_objects): Souvis s__cmp__, ne
	__call__ (oprava docstringu).

	* lib/pytis/data/data.py (Data._Operator.__cmp__): Nov metoda.

	* lib/pytis/form/form.py (BrowseDualForm._create_side_form): `splitter'
	-> `self._splitter'.
	(DualForm.__init__): Nejprve vytvej main form, teprve pak side
	form.
	(DualForm.__init__): Odstrann nadbyten argument zvoln
	`_create_main_form'.

	* lib/pytis/data/types_.py (Value.__init__): Je-li typem `String', pmo
	nastav `_exported' na `value'.

	* lib/pytis/util/log.py (log): Vyhazuj debugovac hlky.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template): Nov metoda.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Optimalizovno.
	(DBDataPostgreSQL.__init__): Nov atribut `_pg_make_row_template'.
	(DBDataPostgreSQL.__init__): Do seznamu argument vdocstringu
	doplnno `ordering'.

2001-12-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (FilterDialog._create_buttons): "Filtruj" ->
	"Filtrovat", "Nefiltrovat" -> "Zruit filtr".
	(Dialog._create_buttons): "Zruit" -> "Zavt".

	* lib/pytis/form/list.py (_scrollbar_width): Nov pomocn funkce.
	(CodeBook.__init__): Vyuvej ji.
	(List.SetSize): Penastav ky sloupc.
	(List._recreate_grid): Volej SetSize.
	(List._on_filter): Nenastavuj barvu zhlav.
	(List._create_grid): Pi zapnutm filtru nastav barvu zhlav.

	* lib/pytis/util/log.py (Logger.log): Do docstringu doplnno, e
	argument `data' nen nutno klovat.
	(Logger._formatted_data): Strings pouij pmo, nepevdj je pes
	`repr'.

	* lib/pytis/form/application.py (Application.on_load_form): Loguj
	odchycenou neoekvanou vjimku.

2001-12-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_filter): Pi zapnut filtru zmn
	barvu zhlav.
	(List._FILTER_COLOR): Nov konstanta.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Pidna podpora pro `ignore_case'.

	* lib/pytis/data/data.py (EQ, NE, WM, NW, LT, LE, GT, GE): Nov argument
	`ignore_case'.
	(Data._Operator.__init__): Nov argument `kwargs' a atribut
	`_kwargs'.
	(Data._Operator.kwargs): Nov metoda.

	* lib/pytis/form/search.py (Dialog._create_widget.condition): Nov
	atribut `_primary_column_selector'.
	(Dialog.run): Nastavuj vprimrnm selectoru implicitn sloupec.
	(Dialog.run): Nov atribut `_colnum'.
	(Dialog._on_suck): Nen-li vybrn dn sloupec, pouij `_colnum'.
	(FilterDialog._create_buttons): Nov tlatko pro zruen filtru.
	(FilterDialog._on_reset_filter): Nov metoda.

2001-12-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.search): Upesnn pojem "aktuln dek".
	(Data.rewind): Nov metoda.
	(MemData.rewind): Nov metoda.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.current):
	Opravena faktick chyba vdocstringu.
	(DBDataPostgreSQL.search): Oeten ppad, kdy je aktuln dek
	mimo buffer, avak ne mimo data.
	(DBDataPostgreSQL.lock_row): Vlogovacm voln nepedpokldej, e
	`key' je tuple.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nov
	atribut `_pdbb_command_search_last'.
	(PostgreSQLStandardBindingHandler._pg_search): Pi zptnm hledn
	pouvej `_pdbb_command_search_last'.
	(DBDataPostgreSQL._pg_value): dn zpracovvej datum a as.
	(DBDataPostgreSQL.rewind): Nov metoda.

	* lib/pytis/form/search.py (Dialog.close): Nov metoda.
	(Dialog.__init__): Zruen argument `row'.
	(Dialog.run, SearchDialog.run, FilterDialog.run): Nov argument
	`current_row'.
	(Dialog.run, SearchDialog.run, FilterDialog.run): Zruen argument
	`kwargs'.
	(Dialog.run, SearchDialog.run, FilterDialog.run): Nov argument
	`col'.

	* lib/pytis/form/list.py (List.select_row): Pi nespchu hledn nastav
	na 0 `position', ne `result'.
	(List.Close): Nov metoda.
	(ListForm.Close): Volej Close na `_list'.
	(List._on_search): Pi nenalezen zznamu zobraz, nejen vytvo,
	dialog.
	(List._ListTable.rewind): Nov metoda.
	(List._on_search): Po vyhledn prove rewind na tabulku.
	(List._on_search): Msto `_select_row' volej `_select_cell'.
	(List._on_search): Pi zptnm hledn se posouvej zpt.
	(List._sf_dialog): Nepedvej dialogu aktuln dek.
	(List._on_search, List._on_filter): Pedvej dialogu aktuln
	dek a slo sloupce.
	(List._create_grid, List._on_search, List.select_row.find):
	Vyuvej metodu lib.data.Data.rewind.

2001-12-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Doplnn
	chybjc argument ve voln `string.replace'.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Nepokouej
	se modifikovat etzec, nejde to.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Opraveno
	chybn pevdn hvzdiek a otaznk pro LIKE.

	* lib/pytis/data/data.py (WM): Opertor je 'WM', ne 'EQ'.

	* lib/pytis/util/log.py (Logger._formatted_data): Na tuples aplikuj
	`str' na jednotliv prvky.

	* lib/pytis/form/form.py (BrowseDualForm.Show, BrowseDualForm.OnSize)
	(BrowseDualForm.Close): Pesunuto do DualForm.
	(DualForm._create_main_form): Nov metoda.
	(DualForm._create_side_form): Nov metoda.
	(BrowseDualForm.__init__): Zrueno, kd pesunut do
	DualForm.__init__ a metod `_create_main_form' a
	`_create_side_form'.
	(BrowseDualForm._create_main_form.callback): Nov metoda.
	(BrowseDualForm._create_side_form): Nov metoda.
	(EditDualForm.__init__): Zrueno.
	(EditDualForm._create_side_form): Nov metoda.
	(EditDualForm._create_main_form): Nov metoda.

	* lib/pytis/form/search.py (FilterDialog.run): Nov metoda.
	(FilterDialog._on_filter): Nastav atribut `_perform'.
	(Dialog._create_buttons): Vracej buttonky.
	(Dialog._on_suck, Dialog._selected_condition): GetSelectionString
	-> GetStringSelection.
	(Dialog._create_widget): pravy `and_' -- zduplikovno `&',
	vloeno do sizeru a jin nespn pokusy ovycentrovn &.
	(Dialog._on_suck): Opraveno chybn jmno pomocn promnn.
	(Dialog._LABEL): Nov atribut.
	(Dialog._create_widget): Vyuvej ho.
	(SearchDialog._LABEL, FilterDialog._LABEL): Nov atribut.
	(SearchDialog.run, FilterDialog.run): Doplnno logovn.

	* lib/pytis/form/list.py: Importuj modul `resolver' standardn.
	(List._on_key_down): Pidny klvesy LIST_FILTER a LIST_SEARCH.
	(List._on_search): Nov metoda.
	(List._on_filter): Nov metoda.
	(List.__init__): Nov atributy `_search_dialog' a
	`_filter_dialog'.
	(List._sf_dialog): Nov metoda.
	(List._on_search, List._on_filter): Doplnno logovn.

2001-12-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py: Nov modul.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Pidna
	podpora pro opertor WM.

	* lib/pytis/data/data.py (NE): Nov opertorov funkce.
	(WM, NW): Nov opertorov funkce.

2001-12-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_edit): Zamykej editovan zznam.
	(List._on_line_rollback, List._on_line_commit): Odemykej zznam.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.lock_row): Odstrann
	nadbyten backslash vhlce.
	(DBDataPostgreSQL.lock_row): Ped zpisem kle do logu na jeho
	poloky aplikuj `str'.

	* lib/pytis/form/form.py (EditForm.run): Nov metoda, zajiuje
	zamykn.
	(EditForm._lock): Zruen argument `key'.
	(EditForm._lock): Jestlie kl je None, neprovdj zamykn a
	rovnou vra TRUE.
	(EditForm._lock): Kvalifikuj Message jmnem modulu.

2001-12-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py (db_operation): Vyuvej metodu
	DBConnection.modified.

	* banka.py (_USAGE): Mrn upraveno.  Doplnna nov volba
	--dbuser.
	(_process_options): Nov volba --dbuser.

	* lib/pytis/form/application.py (Application.on_load_form): Odchytvej
	vechny vjimky a na jejich vskyt reaguj chybovou hlkou.

	* lib/pytis/form/form.py (Form.__init__): Pi databzov chyb nenechej
	konstrukci instance nedokonenou, naho vjimku.

	* lib/pytis/data/_test.py (DBDataOrdering.check_insert): Opravy chyb a
	rzn vylepen.
	(DBConnection.check_modified): Nov test.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Zruen atribut `_pdbb_command_insert_eshift'.
	(PostgreSQLStandardBindingHandler._pg_insert): Pouvej pro after
	ibefore `_pdbb_command_insert_shift'.
	(PostgreSQLStandardBindingHandler._pg_insert): Opravy chyb
	souvisejcch safter/before.
	(DBDataPostgreSQL.insert): Pokud je definovno ordering, kter je
	soust kle, neprovdj kontrolu na duplicitu vkldanho dku.
	(DBDataPyPgSQL._PgNotifier.__init__): Nech `_data_objects' je
	instance WeakKeyDictionary.
	(DBDataPyPgSQL._PgNotifier._register): Hlka vjimky obalena
	gettextem.
	(DBConnection.modified): Nov metoda.

2001-12-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (Row.check_append): Nov test.
	(DBDataOrdering): Nov sada test.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_insert): Dopsna podpora pro
	dkov uspodn.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nov
	atributy `_pdbb_command_insert_shift' a
	`_pdbb_command_insert_eshift'.
	(PostgreSQLStandardBindingHandler._pg_insert)
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Atribut `_pddb_command_get_last' pejmenovn na
	`_pdbb_command_get_last'.
	(DBDataPostgreSQL.update): Aplikuj na `key' `xtuple'.
	(DBDataPostgreSQL.update): Pidna podpora pro uspodan tabulky.

	* lib/pytis/data/data.py (Data.__init__): Aplikuj na `key' a `ordering'
	`xtuple'.
	(Row.append): Nov metoda.
	(Data.update): Drobn upesnn vdocstringu.

2001-12-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (String._validate): Do hlky odlouhm
	etzci pidny ipatin daje.

2001-12-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (TextField._create_text_control): Pro
	vcedkov vstupn polka volej oetuj `wx.EVT_KEY_DOWN' pomoc
	metody `self._on_key_down_multiline()'.
	(TextField._on_key_down_multiline): Nov metoda.
	(TextField._on_key_down_multiline): Pidn koment.

2001-12-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.select_row.find): Po skipu resetuj
	aktuln dek tabulky.

	* lib/pytis/data/_test.py: Updatovny importy pro novou verzi Pythonu.
	(String.check_validation_limited): `maxwidth' -> `maxlen'.
	(Date.check_validation, DateTime.check_validation): Odstrann
	import DateTime.
	(DBDataFetchBuffer._check_skip_fetch): Pi oekvanm dku
	doplnn test na to, e dek nen None.
	(DBDataReuse.check_it): Npodobn.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec.gettype):
	Jestlie velikost textovho polka je vPostgreSQL zporn, nech
	je zde neomezen.
	(DBDataPyPgSQL._pg_query): Zmnna chybov hlka na vstinj.
	(DBDataPyPgSQL._pg_query): Do vech vjimek vyvolanch volnm
	`query' pidn jako argument provdn SQL dotaz.
	(DBDataPostgreSQL.skip): Zruena minul zmna.
	(DBDataPostgreSQL.fill): Pepracovno.

2001-12-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.skip): Resetuj
	buffer, ikdy `pointer' je rovno `buflen'+1.
	(DBDataPostgreSQL._PgBuffer.__str__): Sjednoceny vpisy bufferu.
	(DBDataPostgreSQL._PgBuffer.__str__): Oetuj ippady, kdy
	`pointer' ukazuje mimo buffer.
	(DBDataPostgreSQL._PgBuffer.skip): Resetuj buffer pi jakmkoliv
	jeho minut.

	* lib/pytis/form/list.py (List._select_cell): Jestlie se slo sloupce
	bere ze starho sloupce, nech je toto slo nezporn.
	(List.refresh): Implicitn hodnota argumentu `when' je nyn
	zvisl na hodnot argumentu `reset'.
	(List._ListTable._get_row): Nepedpokldej automaticky, e prvn
	stahovan dek je dek slo0.

2001-12-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_key_down.evil_key): Msto
	`hasModifiers' testuj pes `AltDown' a `ControlDown' (kvli
	NumLocku).

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search): Zohleduj
	vzestupnost/sestupnost setdn jednotlivch sloupc.

2001-12-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: `from resolver import ResolverSpecError'
	(BrowseForm._on_edit_form): Oprava docstringu.
	(BrowseForm._on_edit_form): Zkus zjistit alternativn jmno
	specifikace pro editan formul (funkce `edit_form_name' z
	vlastn specifikace).

	* lib/pytis/form/form.py (EditForm.navigate): Nov metoda.
	(EditForm._on_key_down): Vyuvej ji.

	* lib/pytis/form/inputfield.py (TextField._create_text_control): Event
	navazuj na control, ne na rodie.
	(Invocable._on_key_down): Kosmetick pravy.
	(Invocable._create_widget): Event navazuj na button, ne na rodie.
	(DateField._on_invoke_selection): Jako rodie pro dialog nastav
	svho ddeka (self._parent.parent()) - odpadne tm problm se
	ztrtou fokusu. Zruen hack oetujc ztrtu focusu.
	(DateField._on_parent_focus): Metoda zruena.
	(InputField._skip_navigation): Nov metoda.
	(Invocable._create_widget): Oetuj `wx.EVT_NAVIGATION_KEY'
	metodou `_skip_navigation()'.
	(CodeBookField._create_widget): Oetuj `wx.EVT_NAVIGATION_KEY'
	metodou `_skip_navigation()'.

	* lib/pytis/form/resolver.py (ResolverFileError): Nov tda.
	(ResolverSpecError): Nov tda.
	(Resolver._load_module): Vyuvej tdu `ResolverFileError'.
	(Resolver.get): Vyuvej tdu `ResolverSpecError'.

2001-12-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.find): Opt od nalezen pozice odetej
	jedniku.

	* lib/pytis/data/types_.py: Updatovny importy pro novu instalaci
	Pythonu.

	* lib/pytis/data/dbdata.py: Updatovny importy pro novu instalaci
	Pythonu.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Pi opertoru nerovnosti obal ve `coalesce'.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Nov metoda.
	(PostgreSQLStandardBindingHandler.item2sql) 
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop) 
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Vyuvej ji.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	Opravena zmaten prce s ids.

2001-12-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (_TextValidator.__init__): `max_length'
	zmnno na `maxlen'...
	(_TextValidator._on_char): `_max_length' zmnno na `_maxlen'...
	(TextField._create_widget): `_max_length' zmnno na `_maxlen'...
	(TextField._max_length): Metoda pejmenovna na `_maxlen'
	(TextField._create_text_control): Argument `max' pejmenovn na
	`maxlen' a uinn volitelnm.
	(TextField._create_widget): Voliteln argument `maxlen' uvdj
	vetn identifiktoru.
	(StringField._maxlen): Metoda pejmenovna na `_maxlen'.
	(MultiTextField._width, MultiTextField._filter): Zruen argument
	`i' a nvratov hodnota zmnna na tuple.
	(MultiTextField._max_length): Metoda zruena.
	(CodeBookField._maxlen): Nov metoda implementovan pomoc metody
	`maxlen()' datovho typu `Codebook'.
	(CodeBookField._on_invoke_selection): Na vytvoen formul
	`CodeBook' volej refresh() s nastavenm pozice na souasnou
	hodnotu.
	(MultiTextField._width): Pokud specifikace nen sekvence, vytvo
	sekvenci identickch hodnot.
	(MultiTextField._filter): Pokud specifikace nen sekvence, vytvo
	sekvenci identickch hodnot.

2001-12-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (StringField._max_length): `maxwidth' ->
	`maxlen'.

	* lib/pytis/data/_test.py (String): `maxwidth' -> `maxlen'.

	* lib/pytis/data/types_.py (String._validate): Jestlie `maxwidth' je
	None, neprovdj kontrolu dlky.
	(Codebook.maxlen): Nov metoda.
	(String): Vechna `maxwidth' pejmenovna na `maxlen'.
	(Codebook.__init__): Nov atribut `_maxlen'.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Pi chyb validace
	DBUserException pedvej hlku validan vjimky, ne vjimku
	samotnou.
	(PostgreSQLStandardBindingHandler.gettype): `maxwidth' ->
	`maxlen'.

2001-12-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataDefaultClass.__init__) 
	(DBDataPyPgSQL.__init__, DBDataPostgreSQL.__init__) 
	(DBData.__init__): Nov argument `ordering'.
	(DBDataPostgreSQL.insert): Nov argumenty `after' a `before'.
	(DBDataPostgreSQL._pg_insert) 
	(PostgreSQLStandardBindingHandler._pg_insert): Npodobn.

	* lib/pytis/data/data.py (Data.__init__): Nov argument `ordering'.
	(Data.insert): Nov argumenty `after' a `before'.
	(Data.update): Specifikovno chovn uazench datovch objekt.

2001-12-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._current_row): Nov metoda.
	(List._current_key, List._on_edit, List._on_insert_line) 
	(List._on_delete_line): Vyuvej ji.
	(List._recreate_grid): `_select_row' volej bez vyvoln
	callbacku.  Nevolej je, pokud seznam obsahuje vloen dek.
	(List._on_insert_line): Nastav hodnoty boolean sloupce novho
	dku na FALSE.
	(List.select_row): Nesniuj slo nalezenho dku o1.

2001-12-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/log.py (Logger._prefix): Bu opatrnj ohledn
	mnostv zanoench fram.

	* lib/pytis/form/form.py (Form.__init__): Databzov operace obaleny
	proteknm kdem.

	* lib/pytis/form/application.py (Application.on_load_form): Nech
	odchycen neznmho menu id je aplikovno pouze na pslun kd.

	* lib/pytis/form/list.py (List._on_line_commit): Opraveny hlky
	onespchu updatu.
	(List._ListTable.EditInfo.__init__): Nov argument a atribut
	`orig_content'.
	(List._ListTable.editing): Pedvej EditInfo nov argument.
	(List._on_line_commit): Pvodn kl ber zpvodnho, ne novho,
	obsahu dku.
	(List._select_cell, List._on_line_commit): Nastavuj `_position'.
	(List.select_row.find): Opraveno vytaen klovch sloupc.
	(List.select_row): Doplnn chybjc argument rodie do voln
	_DBOP.
	(List.find): Vsledek mus bt o1men, nebo search vrac
	hodnoty od1ve.
	(List._recreate_grid): Krom voln `select_row' pemsti
	ikurzor.
	(List.select_row): Vracej slo vysvcenho dku.

	* lib/pytis/data/data.py (Data.update): Docstring udln podn.

2001-12-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook._export): Ped volnm
	`self._data.row' peve `value' na instance Value.

	* lib/pytis/form/list.py (List.select_row): Implementovno vyhledvn
	dle kle.
	(List._current_key): Nov metoda.
	(List._on_activation): Vyuvej ji.

	* lib/pytis/data/_test.py
	(DBDataDefaultClass.check_select_fetch_direction): Odstranna
	blokace testu.
	(Codebook): Opraveno vcero zmatk.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_select): Nov atribut
	`_pdbb_select_rows'.
	(DBDataPostgreSQL.fetchone): Pedvej metod _PgBuffer.fetch
	atribut `_pdbb_select_rows'.
	(DBDataPostgreSQL._PgBuffer.fetch): Nov argument `number_of_rows'.
	Updatuj `_pointer', pokud dojde kpekroen hranic dat.

2001-12-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (_filter_func): Jet mal oprava chyb v
	definici mnoin znak.
	(_pp_func): Funkce zruena (nahrazena metodou
	`TextField._post_process_func()').
	(_filter_func): Funkce zruena (nahrazena metodou
	`TextField._filter_func()').
	(InputField.__init__): Neukldej `self._post_process_func' - tady
	to nem co dlat...
	(TextField.NUMBERS, TextField.ASCII, TextField.LETTERS): Nov
	konstanty.
	(TextField._post_process_func): Nov metoda.
	(TextField._filter_func): Nov metoda.
	(TextField._create_widget): Vyuvej `TextField._filter_func()'.
	(MultiTextField._filter): Vyuvej `TextField._filter_func()'.
	(TextField._post_process): Vyuvej `TextField._post_process_func()'.

	* lib/pytis/form/inputfield.py (_filter_func): Oprava definice mnoiny
	`ascii' a `letters'.
	(MultiTextField._filter): Oprava chyby (volej `_filter_func()').

	* lib/pytis/form/inputfield.py (_filter2wx): Funkce zruena.
	(_filter_func): Nov metoda.
	(_TextValidator.__init__): Nov tda.
	(_wx_size): Metoda zruena.
	(TextField._create_text_control): Nov metoda.
	(TextField._create_widget): Vyuvej `self._create_text_control()'
	(TextField._max_length): Nov metoda.
	(TextField._set_validator): Nov metoda.
	(TextField._on_text): Zmna dokumentace (zmna zpsobu pouit).
	(TextField._on_text): Volej metodu `_on_text_hook_()'.
	(TextField._on_text_hook): Nov metoda.
	(StringField): Nov tda.
	(resolve): Rozeznvej `StringField'.
	(MultiTextField._create_widget): Vyuvej
	`TextField._create_text_control()'
	(MultiTextField._number_of_controls): Nov metoda.
	(MultiTextField._width): Nov metoda.
	(MultiTextField._filter): Nov metoda.
	(MultiTextField._max_length): Nov metoda.
	(CodeBookField._on_text): Metoda zruena.
	(CodeBookField._number_of_controls): Nov metoda.
	(CodeBookField._max_length): Nov metoda.
	(CodeBookField._on_text_hook): Nov metoda.

	* lib/pytis/form/spec.py (TextFilter.INCLUDE_LIST): Nov Konstanta.
	(TextFilter.EXCLUDE_LIST): Nov Konstanta.
	(FieldSpec.__init__): Nov argument `filter_list'.
	(FieldSpec.filter_list): Nov metoda.

	* lib/pytis/form/form.py (EditForm._on_key_down): Na klvesu Enter
	reaguj vyvolnm navigan udlosti (`wx.wxNavigationKeyEvent').

2001-12-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (ColumnSpecFromField.__init__): Pidna podpora
	pro `codebook'.
	(ColumnSpec.__init__): Nov parametr `codebook'.
	(ColumnSpec.codebook): Nov metoda.

	* lib/pytis/form/list.py (List._edit_cell): Je-li editovanm polkem
	selnk, msto standardn editace vyvolej selnkov okno.
	(List._on_cell_commit): Nech argument `event' je nepovinn.

	* lib/pytis/data/_test.py (Codebook.setUp): Nov metoda.
	(Codebook.check_special_export): Nov test.

	* lib/pytis/data/types_.py (Codebook.__init__): Nov atribut
	`_data_changed'.
	(Codebook._update_enumeration): Zohleduj tento atribut.
	(Codebook.on_data_change): Registruj callback na zmnu dat.
	(Codebook.is_valid, Codebook._export): Volej `update_enumeration'.
	(Codebook.Mode.ONCE): Kupdatu dochz ipi zmn dat.
	(Codebook._export): Paklie `value' neodpovd dn vnitn
	hodnot, vra None.
	(Codebook._update_enumeration): Zrueno `_row_cache'.
	(Codebook._export): Pepsno.
	(Codebook._export): Do docstringu pidno upzornn na monost
	zmny vnitnch hodnot.

2001-12-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook._export): col_id -> column;
	vylepen docstring.

	* lib/pytis/form/list.py (List.SetValue): Odstrann zapomenut print.

	* lib/pytis/data/data.py (OR): Pedvej argumenty `AND' sprvn.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler.sorting_condition): Opravy chyb.
	(PostgreSQLStandardBindingHandler.relop): Nech `None' je validn
	podpodmnka AND.
	(PostgreSQLStandardBindingHandler.relop): Kontroluj, e ken
	sloupec existuje.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	V`_pdbb_command_search_first' selectuj ioid.
	(PostgreSQLStandardBindingHandler.relop): Opravy chyb vnovch
	opertorech.

	* lib/pytis/data/_test.py (DBMultiData.check_search): Nov test.

2001-12-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (ReversedSorting): Nov sada test.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Pidna
	podpora opertor LT a NOT.
	(PostgreSQLStandardBindingHandler._pg_search): Nov metoda.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nov
	atributy `__pdbb_command_search_first' a
	`_pdbb_command_search_distance'.
	(DBDataPostgreSQL.search): Do `_pg_search' pedvej cel dek,
	nikoliv pouze kl.
	(DBDataPostgreSQL._pg_search): `key' -> `row'.
	(DBDataPostgreSQL.update): Jestlie `key' nen sekvence, peve je
	na tuple.

	* lib/pytis/data/data.py (Data.search): Vdocstringu upesnno, e
	vyhledvn se provd pouze mezi dky selectu.
	(OR, NOT, LT, GT, LE, GE): Nov opertorov funkce.
	(reversed_sorting): Nov funkce.
	(AND): Argumentem me bt libovoln opertor.

	* lib/pytis/data/types_.py (Codebook._export): Odstrann zapomenut
	print.
	(Codebook.value_columns): Opraven docstring.

2001-12-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._create_grid): Pokud je label ir ne
	ka ze specifikace, nastav ku sloupce na ku labelu.

2001-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (_filter2wx): Nov funkce.
	(_pp_func): Nov funkce. 
	(InputField.__init__): Zapamatuj si funkci odpovdajc
	specifikace `post_process'.
	(TextField._on_text): Volej `self._post_process()'.
	(TextField._post_process): Nov metoda.
	(MultiTextField._create_widget): Pro jednoduchou vazbu datovho
	sloupce pouze vracej vsledek metody pedka.
	(CodeBookField._create_widget): Zmeneno odsazen displeje.
	(CodeBookField._on_text): Volej `self._post_process()'.

	* lib/pytis/form/spec.py (PostProcess): Nov tda.
	(FieldSpec.__init__): Update dokumentace k 'post_process', update
	assertu.

2001-12-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (FieldSpec.__init__): Pidn assert na
	`selection_type'.
	(FieldSpec.__init__): Nov argument `filter'.
	(FieldSpec.__init__): Nov argument `post_process'.
	(dir_const): Nov funkce.
	(TextFilter): Nov tda.
	(FieldSpec.post_process): Nov metoda.
	(FieldSpec.filter): Nov metoda.
	(GroupSpec.__init__): vyuvej novou funkci `dir_const()'

	* lib/pytis/form/inputfield.py (resolve): prava chybov hlky.

	* lib/pytis/form/form.py (EditForm._create_group): Zruen zapomenut print.
	(EditForm._create_group): Pokud m skupina ormovn, pidej jet
	sizer s hornm odsazenm.

2001-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (GroupSpec.__init__): Nov argument `border_style'.
	(BorderStyle): Nov tda.
	(GroupSpec.border_style): Nov metoda.

	* lib/pytis/form/form.py (_border_style2wx): Nov funkce.
	(EditForm._create_group): Vyuvej `border_style' ze specifikace.

	* lib/pytis/form/inputfield.py (CodeBookField._create_widget): ku ze
	specifikace displeje pevdj na pixely.

	* lib/pytis/data/types_.py (Codebook._export): Oprava peklepu...
	(Codebook._export): Pro indexaci `self._row_cache' pouvej
	exportovanou (uivatelskou) hodnotu.

	* lib/pytis/form/inputfield.py (MultiTextField._set_value): Pokud poet
	prvk `values' neodpovd potu polek, pebvajc hodnoty
	ignoruj a chybjc dopl przdnmi etzci.
	(CodeBookField): Doplnna dokumentace k displeji.
	(CodeBookField._create_widget): Pokud nen specifikovn displej,
	nevytvej ho. ku displeje ber ze specifikace. Ulo nzev
	sloupeku pro displej ze specifikace (`self._display_column').
	(CodeBookField._on_text): Implementuj update displeje za pomoci
	nov monosti metody 'Codebook.export()'.
	(CodeBookField._on_invoke_selection): Ze specifikace selnku ber
	pouze slice prvnch dvou hodnot.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Doplnna dokumentace ke
	specifikaci displeje.

	* lib/pytis/form/form.py (EditForm._on_parent_close): Nerad to
	piznvm, ale sleep jsem musel zvtit na 500ms, jinak to
	nechodilo s novou verz wxPython. U by se s tm mlo nco
	udlat...

	* lib/pytis/form/inputfield.py (TextField._create_widget): Pi
	`EVT_TEXT' volej metodu `_on_text()'.
	(MultiTextField._create_widget): Pi `EVT_TEXT' volej metodu
	`_on_text()'.
	(TextField._on_text): Nov metoda.
	(CodeBookField._create_widget): Implemenuj vlastn metodu, kter k
	widgetu pid polko `display' pro zobrazeni popisu hodnoty z
	selnku.
	(InputField.__init__): Volej `self._add_validation_callback()'.
	(InputField._add_validation_callback): Nov metoda.
	(InputField._on_validation): Nov metoda.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Doplnna dokumentace ke
	specifikaci selnku.

2001-12-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._on_key_down): Oeten klvesy
	`key.EDIT_FORM_COMMIT' volnm `self._on_ok()'.
	(EditForm._create_buttons): Tlatko `Ok' nenastavuj jako default.
	Namsto `Cancel' pouvej npis `Zavt'.

	* lib/pytis/form/inputfield.py (InputField._height): Vracej skuten jen
	poet znak, ne poadovanou velikost polka.
	(InputField._wx_size): K vce (potu znak) piti 0.5 a teprve
	potom peve na pixely.
	(TextField._create_widget): Pokud je `self._height()' vce ne
	jeden znak, vytvo polko s pznakem `wx.wxTE_MULTILINE'.
	(TextField._set_value): Pouvej `wxTextCtrl.SetValue()' (pznak
	modifikace nevyuvme).
	(Invocable._create_widget): Udvej vku pi voln
	`self._create_button()'
	(Invocable._create_button): Vku neuruj sm, ale pebrej z
	novho argumentu `height'.

2001-12-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (CodeBook.__init__): Akceptuj i string jako
	argument `returned_columns' namsto jednoprvkov sekvence (a
	peve jej na tuple).

	* lib/pytis/form/inputfield.py (ListBoxField._create_widget): Nov tda.
	(resolve): Rozeznvej `ListBoxField'.

	* lib/pytis/form/spec.py (ColumnSpec.__init__, FieldSpec.__init__) 
	(ViewSpec.__init__): Dokumentace nepovinnho uvdn
	identifiktor nkterch klovch atribut.
	(ColumnSpecFromField): Nov tda.
	(ViewSpec.__init__): Nech argument 'columns' me obsahovat i
	instance `FieldSpec', kter budou pevedeny na `ColumnSpecFromField'.
	(SelectionType.LIST_BOX): Nov Konstanta.
	

2001-11-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (FilteredBrowseForm.filter): Pedvej refreshi
	`computer_data'.
	(List.refresh): Nov `reset' argument `computer_data'.
	(List.__init__): Nov atribut `_computer_data'.
	(List._create_grid): Potej potae.
	(List._ListTable.__init__, List._on_insert_line): `computer()' ->
	`computer'.
	(ListForm.__init__): Ukldej box do atributu.
	(ListForm.SetSize): Nastavuj rozmry boxu.
	(List.__init__): Atribut `_columns' pejmenovn na
	`_orig_columns'.
	(List._create_grid): Vytvej atribut `_columns', skryt sloupce
	pesu na konec.
	(List._ListTable.__init__): Neprovdj pesun skrytch sloupc.
	(List._ListTable.__init__): Nech `_column_count' obsahuje pouze
	poet viditelnch sloupc.
	(List._on_line_commit): Vppad nespchu pro ji existujc
	kl neprovdj refresh.
	(List._on_line_commit): Editovan dek odnastavuj pouze vppad
	spchu databzov operace.

	* lib/pytis/form/spec.py (ColumnSpec.__init__): Zmnn vznam argumentu
	`computer', je-li jm funkce.
	(ColumnSpec.__init__): Doplnn assert na argument `computer'.
	(ColumnSpec.__init__): Atribut `_computer' pejmenovn na
	`computer'.
	(ColumnSpec.computer): Zrueno.

2001-11-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py: Opraveno odsazovn, drobn pravy
	vdocstrings.
	(Computer): Nov tda.
	(ColumnSpec.__init__): Upravena dokumentace argumentu `computer'.

	* lib/pytis/form/list.py (List._ListTable._Computer): Zrueno.
	(List._ListTable.__init__, List._ListTable.GetValue)
	(List._create_grid, List._on_insert_line): Updatovny vci ohledn
	specifikace potanch sloupc.

	* lib/pytis/form/form.py (Form._on_leave_window): self._parent.Close se
	pokouej volat pouze pro instance PopupForm, protoe jinak takov
	pokus vede kuzaven hlavnho framu, tj. ukonen aplikace.

	* lib/pytis/data/dbdata.py (DBException.__init__): Loguj podrobnosti
	vjimky tak jako OPERATIONAL.

	* lib/pytis/form/list.py (List._create_grid): Nech rodiem gridu je
	List sm.
	(ListForm.__init__): Nech titulek je instance wxStaticText.
	(ListForm.__init__): Provedena magie snastavovnm velikost, aby
	byl vidt titulek iseznam.
	(List._on_cell_rollback, ListForm.OnSize): Od vky seznamu odeti
	vku titulku.
	(ListForm.SetSize): Nov metoda.
	(List.__init__): Nov atribut `_size'.
	(List.SetSize): Ulo velikost.
	(List._create_grid): Velikost gridu nastavuj dle hodnoty
	v`_size', ne velikosti rodie.
	(List._on_cell_commit): Pidn chybjc argument `event' do
	voln `_on_insert_line'.
	(List._on_line_commit): Opt ru editaci dku ipro nov dek.
	(List._ListTable.edit_row): Zruen assert na ruen editace novho
	dku.
	(List._on_key_down): Pi nezpracovvan klvese volej fallback
	metodu zadanou vkonstruktoru.
	(List.__init__): Nov argument `key_handler'.
	(ListForm.__init__): Pedvej konstruktoru List argument
	`key_handler'.

2001-11-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (Invocable._create_widget): Pidej
	tlatku oeten udlost klves pomoc `self._on_key_down()'.

	* lib/pytis/form/list.py (CodeBook): Tdu `ListForm' uvdj v seznamu
	pedk jako prvn.

	* lib/pytis/form/form.py (PopupForm): Nebu potomkem `wx.wxDialog'.

2001-11-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm.__init__): Jet jedno
	`noselect->select_row' ve voln BrowseForm.
	(BrowseDualForm.__init__): Updatovn zpsob zadvn callbacku do
	BrowseForm.
	(EditForm._signal_update, BrowseDualForm.__init__): `reshuffle' ->
	`refresh'.
	(BrowseDualForm.__init__.callback): Volej `filter', ne `set_row'.

	* lib/pytis/form/list.py (List._create_grid): Je-li zadn vloen dek,
	zvy poet dk o1.
	(List._create_grid): Poet dk zskvej pouze ze selectu, nikdy
	zpedchozho gridu.
	(List._on_line_commit): Neodnastavuj editaci dku vtabulce,
	jedn-li se onov dek.
	(ListForm.Show): Pi zapnut zobrazen volej `refresh'.
	(List._on_key_down.evil_key): Nech je zlou klvesou iEnter.
	(List._ListTable.GetValue): Opraveny peklepy ve voln
	konstruktoru Value.
	(List._on_insert_line): Nov argument `event'.

2001-11-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._on_ok): Neukldej, pokud nebyla data
	zmnna.
	(EditForm._edit_update): Pokud jsou data uloena, volej
	'set_unmodified()' pro kad polko.
	(changed): prava dokumentace.

	* lib/pytis/form/inputfield.py (InputField.set_unmodified): Nov metoda.
	(InputField.is_modified): Doplnna dokumentace.

2001-11-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.update): Pevdj `key' na
	tuple.
	(PostgreSQLStandardBindingHandler._pdbb_row_main_value): Vracej
	tuple, ne list.

	* lib/pytis/form/list.py (List._create_grid): Nech potan sloupce
	jsou needitovateln.
	(List._create_grid, List._ListTable.__init__): Pidna podpora pro
	speciln vznam nulov ky sloupce.
	(List._on_insert_line): Pi vytven novho dku spotej
	potan datov sloupce.
	(List._ListTable._EditedRow.__init__): Odkazuj se na pedka pes
	__bases__, pes `super' to nefunguje.
	(List._on_key_down): Opraveny peklepy ve jmnech klves.
	(List._ListTable.GetValue): dkovou korekci provdj pouze, pokud
	je editovan dek nov.
	(List._on_line_commit): Editovan dek nevytahuj zeditanch
	informac, nbr pes `row()'.
	(List._on_line_commit): Opraveno vytaen kle.
	(List._switch_sorting): Testuj na neukonenou editaci.
	(List.refresh): Opravena invertovan hodnota `delay'.
	(List._ListTable.edit_row): Zkopruj dek ped jeho uloenm do
	editan struktury.
	(List._finish_editing): Odchod povolen, pokud dek nebyl zmnn,
	ne naopak.
	(List._on_line_rollback): Neodnastavuj editaci dku vtabulce,
	jedn-li se onov dek.
	(List._ListTable.editing): Opraveno nastaven `changed' pro nov
	dek.
	(List.__init__): Do `new' ukldej originln podobu novho dku.

	* lib/pytis/form/spec.py (ColumnSpec.__init__): Znan rozen vznam
	argument `column'.
	(ColumnSpec.__init__): Rozen vznamu argumentu `width'
	ospeciln hodnotu0.

2001-11-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py: Zrueny importy nepouitch modul.

	* lib/pytis/data/_test.py (Row.check_columns): Nov test.

	* lib/pytis/data/data.py (Row.columns): Nov metoda.
	(Row.__setslice__): Vyuvej `__setitem__' msto pmho
	piazovn do datovho objektu.

	* lib/pytis/form/screen.py (WxEscapeHandler.handle): LEAVE_WINDOW ->
	GLOBAL_LEAVE_WINDOW.

	* lib/pytis/form/form.py (Form._on_key_down): LEAVE_WINDOW ->
	GLOBAL_LEAVE_WINDOW.
	(Form._on_leave_window): Zakomentovn nadbyten dek.
	(BrowseDualForm.__init__): Update pro zmny modulu `list'.
	(EditForm._on_parent_close): `reshuffle' -> `refresh'.

	* lib/pytis/form/list.py (List._on_label_left, List._on_label_right):
	Neprovdj petdn, volej `_switch_sorting'.
	(List._switch_sorting): Nov metoda.
	(List.__init__): Atributy `_*sort' pejmenovny na `_*sorting'.
	(List.refresh): Parametr `sort' pejmenovn na `sorting'.
	(List._on_select_cell): Updatovno voln refreshe, pidno
	logovn.
	(List._on_key_down): Pepracovno.
	(BrowseForm._on_key_down): Staro(nov) metoda.
	(List._ListTable.row): Vdocstringu upesnny vrcen sloupce.
	(List._current_cell): Nov metoda.
	(List._ListTable.editing): Nov metoda.
	(List.__init__): Zohlednna zmna jmna aktivan klvesy v'key'.
	(List.exit_check): Updatovno vzhledem kostatnm pravm, pidn
	docstring.
	(List.SetFocus): Update voln refreshe.
	(List._select_cell): Updatovno.
	(List._on_edit): Nov metoda.
	(List.row_key): Zrueno.
	(List._row_data): Zrueno.
	(List.total_width): Do docstringu doplnna jednotka dlky.
	(List.edit_cell): Pejmenovno na `_edit_cell', updatovno.
	(List._on_insert_line): Nov metoda.
	(List._finish_editing): Updatovno.
	(List._ListTable.EditInfo): Nov pomocn tda.
	(List._on_delete_line): Nov metoda.
	(List._on_cell_commit): Pejmenovno na `_on_cell_rollback'.
	(List.refresh): Pro zjitn rozeditovanosti dku pouvej
	`editing'.
	(List._on_line_rollback): Pepracovno.
	(List._on_line_commit): Pepracovno.
	(List._on_cell_commit): Updatovno.
	(List._run_callback): Nov metoda.
	(ListForm.__init__): _List -> List.
	(ListForm.__init__): Volej konstruktor List sargumentem
	`select_row'.
	(List._create_grid): Pejmenovny atributy `inserted_*' podobn
	jako vList._ListTable.
	(ListForm._on_size): Pejmenovno zpt na OnSize.

2001-11-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Row.__init__): Nepevdj prvky dat na lists.
	(Row.__setitem__): Zajisti, e zmna dat se neprojev vmlce
	zkoprovanch instancch.

	* lib/pytis/form/list.py (List._ListTable): Sepsno nkolik
	implementanch poznmek.
	(List._ListTable._CurrentRow): Nov pomocn tda.
	(List._ListTable._EditedRow): Nov pomocn tda.
	(List._ListTable._Computer): Nov pomocn tda.
	(List._ListTable._Column): Nov pomocn tda.
	(List): Pidna koment opojmenovvn nkterch promnnch.
	(List._ListTable.GetValue): Pepsno.
	(List._ListTable.SetValue): Pepsno.
	(List._ListTable._set_row): Pejmenovno na `_get_row'.
	(List._ListTable._retrieve_row): Pepsno.
	(List._ListTable.row_key): Zrueno.
	(List._ListTable.newly_edited_row): Zrueno.
	(List._ListTable.row): Nov metoda.
	(List._ListTable.GetNumberRows): Ztrivializovno.
	(List._ListTable.__init__): Pepsno.
	(List.__init__): Volej konstruktor pedka.
	(List._ListTable.__init__): Argumenty `inserted_line' a
	`inserted_line_values' pejmenovny na `inserted_row_number' a
	`inserted_row'.
	(List._ListTable.GetColLabelValue, List._ListTable.GetTypeName):
	Updatovno pro novou podobu sloupcovch informac.

2001-11-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nov argument `title'.
	(ViewSpec.title): Nov metoda.

	* lib/pytis/util/_test.py: Opraveno umstn #!.
	(Some): Nov sada test.

	* lib/pytis/util/util.py (some): Nov funkce.

	* lib/pytis/form/list.py (ListForm.__getattr__): Nov metoda.  Nyn
	explicitn neobalujeme dn metody list, vechny jeho veejn
	ne-wx metody jsou obaleny automaticky.
	(ListForm.reshuffle): Zrueno.
	(ListForm.__init__): Zrueny argumenty `*_callback'.
	(ListForm.columns): Pejmenovno na `_columns'.
	(ListForm.__init__): Zruen argumenty `goto' a `noselect', zaveden
	nov argument `select_row'.
	(ListForm): Vylepen docstring.
	(ListForm.OnSize): Pejmenovno na `_on_size'.
	(CodeBook.columns): Pejmenovno na `_columns'.
	(BrowseForm.__init__): Zrueny argumenty `*_callback'.
	(BrowseForm.__init__): Zruen argument `noselect', zaveden nov
	argument `select_row'; argument `frame_stack' je nyn nepovinn.
	Argumenty jsou nyn zcela shodn sargumenty pedka.
	(BrowseForm.set_modification_callback): Zrueno.
	(FilteredBrowseForm.__init__): Argument `frame_stack' je nyn
	nepovinn a je a za argumentem `condition'.  Argument `noselect'
	zruen a zaveden nov argument `select_row'.
	(FilteredBrowseForm.set_row): Pejmenovno na `filter'.
	(FilteredBrowseForm.__init__): Volej `filter'.
	(FilteredBrowseForm.filter): Argument `data' je nyn nepovinn.
	(FilteredBrowseForm.filter): Pracuj sprvn pro statick podmnky.
	(_List): Pejmenovno na `List'.
	(BrowseForm._on_insert_line, BrowseForm._on_edit_line)
	(BrowseForm._on_delete_line): Zrueno.
	(BrowseForm._on_key_down): Zrueno.
	(BrowseForm.on_edit_form): Pejmenovno na `_on_edit_form'.
	(FilteredBrowseForm.filter): Msto `reshuffle' volej `refresh'.
	(List.CALL_SELECTION, List.CALL_ACTIVATION)
	(List.CALL_MODIFICATION): Nov konstanty.
	(List.set_selection_callback, List.set_activation_callback)
	(List.set_modification_callback): Zrueno.
	(List.set_callback): Nov metoda.
	(CodeBook.__init__): Nastavuj listu speciln klvesu pro vbr
	zselnku.
	(List.reset, List.reshuffle, List.maybe_refresh): Zrueno.
	(List.refresh): Nyn pepracovan sjednocen metoda zahrnujc
	vechny druhy refresh.
	(List.DOIT_IMMEDIATELY, List.DOIT_AFTEREDIT, List.DOIT_IFNEEDED):
	Nov konstanty.
	(List.goto): Zrueno.
	(List.select_row): Nov metoda.
	(List.__init__): Zruen argument `noselet', nov argument
	`select_row'.
	(List): Zruen atribut `_in_paint'.
	(List.__init__): Zruena inicializace atribut inicializovanch
	v`_create_grid'.
	(List._create_grid): Zruen atribut `_colindex'.
	(ListForm.__init__): Pidej do formule zhlav, je-li to dno.
	(List._ListTable.disable): Pejmenovno na `close'.
	(List._ListTable._set_row): Doplnn docstring.
	(List._ListTable): Doplnn koment ke td.

2001-11-23  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal pravidla tkajc se Pythonu):
	Voln funkc snepovinnmi argumenty.

2001-11-23  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal pravidla tkajc se Pythonu):
	Voln funkc snepovinnmi argumenty.

2001-11-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Opraveno voln konstruktoru DBException schybnmi argumenty.
	(PostgreSQLStandardBindingHandler._pdbb_row_main_value):
	Npodobn.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec): Do
	podporovanch typ pidn typ `oid'.

	* lib/pytis/form/list.py (_List._ListTable.SetValue): Nenastavuj
	aktuln dek, je-li nov editovan.
	(_List._ListTable.newly_edited_row): Npodobn.
	(_List.set_modification_callback): Nov metoda.
	(_List.set_selection_callback, _List.set_activation_callback):
	Upesnn vdocstringu.
	(_List.__init__): Nov atribut `_modification_callback'.
	(BrowseForm.__init__): Nov argument `modification_callback'.
	(_List._on_line_commit): Volej modification_callback.
	(ListForm.reshuffle): Aktualizace je nyn nepodmnn (pouze zmna
	docstringu).
	(ListForm.reshuffle): Volej metodu listu `refresh', ne
	`reshuffle'.
	(BrowseForm.set_modification_callback): Nov metoda.
	(_NumberCellEditor, _FloatCellEditor): Bu potomkem
	grid.wxGridCellTextEditor.

	* lib/pytis/form/form.py (BrowseDualForm.Show): Volej Show podformul.
	(BrowseDualForm.callback): Nastavuj vedlejmu formuli
	modifikan callback pro aktualizaci hlavnho seznamu.

	* lib/pytis/form/application.py (Application.on_exit): Ped ukonenm
	vyprzdni zsobnk.

	* lib/pytis/form/screen.py (FrameStack.count): Zrueno.
	(FrameStack.empty): Nov metoda.

2001-11-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: pravy dokumentace.
	(EditForm._pack_fields): Namsto `field.control()' volej
	`field.widget()'.
	(EditForm.changed): Zcela nov implementace zaloen na
	`InputField.is_modified()'.
	(EditForm.OnSetFocus): Vyuvej `InputField.set_focus()'.

	* lib/pytis/form/inputfield.py (InputField.control): Metoda pejmenovna
	na `widget()'.
	(InputField._create_control): Metoda pejmenovna na
	`_create_widget()'. Stejn tak ve vech odvozench tdch.
	(InputField.__init__): Inicializuj atribut `self._initial_value'.
	(InputField.is_modified): Nov metoda.
	(InputField.set_value): Metoda nyn implementuje nkter spolen
	akce a nen ji tedy urena k pedefinovn v odvozench
	tdch. K pedefinovn je urena nov metoda `_set_value()'.
	(InputField._set_value): Nov metoda. Ve vech odvozench tdch
	byla metoda `set_value()' pejmenovna na `_set_value()'.

2001-11-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._row_data): Jestlie sloupec nen
	vdatech, pesko ho.
	(_List._ListTable.newly_edited_row): Pi editaci novho dku
	nepebrej data zjinho dku tabulky.

2001-11-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Event handler
	navazuj vdy - i pokud je polko needitovateln. Inicializuj
	promnnou `self._enabled'.
	(InputField._disable): Nov metoda
	(InputField.disable): Nastav pouze pznak `self._editable' a
	volej `self._disable()'.
	(GenericField._disable): Pejmenovan metoda `disable()'.
	(Invocable._create_control): Oprava chybky (nvratov hodnota,
	pokud je polko needitovateln). Testuj radji `self._enabled', ne
	`self.spec().editable()'.
	(Invocable._on_key_down): Callback `_on_invoke_selection' volej
	pouze pokud je `self._enabled'.

	* lib/pytis/form/inputfield.py (module): Rozshl zmny v hierarchii
	td.  Nen mono komentovat vechny detaily, omezm se na popis
	jednotlivch td.
	(InputField): Je nyn pouze "abstraktn" tdou, kter
	neimplementuje metody souvisejc s pouitm konkrtnch vstupnch
	prvk, pouze definuje jejich vznam.
	(GenericField): Nov tda. Implementuje nkter metody spolen
	pro tdy vyuvajc jednoduch vstupn prvku wx windows.
	(Unlabeled): Implementuje metodu `_create_label()' vracejc
	przdn label.
	(TextField): Nov tda. Implementuje kompletn vstupn polko s
	textovm ovldacm prvkem.
	(MultiTextField): Nov tda. Implementuje textov vstupn polko
	pro datov sloupce s vcensobnou vazbou.
	(CheckBoxField): Bval tda `BooleanInputField'.
	(1EnumerationField): Nkter metody pesunuty do `GenericField'.
	(ChoiceField): Bval tda `ChoiceInputField'.
	(RadioBoxField): Bval tda `RadioBoxInputField'.
	(Invocable): Nov tda implementujc spolen vlastnosti pro
	polka s monost vbru.
	(DateField): Nov tda. Polko s monost vbru data z
	kalende.
	(CodeBookField): Polko s monost vbru data z selnku. Z
	bval tdy `CodeBookInputField' zde zbyla pouze metoda
	`_on_selection()', kter se te ale chov jinak (zmna zpsobu
	pedvn hodnot mezi polkem a formulem (viz.
	`list.CodeBook.run()'). Ve ostatn bylo pesunuto do nadtd, aby
	to mohlo bt sdleno s jinmi typy polek.
	(resolve): Implicitn typ polka nech je 'TextField'. Pidn typ
	'Date'.

	* lib/pytis/form/list.py (CodeBook.__init__): Namsto argumentu `fields'
	pouvej `returned_columns'. Souvisejc zmny dokumentace.
	(CodeBook._on_activation): Hodnoty sloupc z `returned_columns'
	ulo do `self._returned_values'. pln oputna mylenka pmho
	nastavovn hodnot polek.
	(CodeBook.run): Vlastn implementace poddn metody: Vracej
	`self._returned_values' (v ppad oputn bez vbru je None).

	* lib/pytis/form/dialog.py (Calendar.__init__): Pidej
	`wx.wxDIALOG_MODAL' do stylu dialogu. Namsto "Cancel" pouij
	npis "Zruit". Formtovac pravy.
	(Calendar._on_activation): Pejmenovno na `_on_ok'.

	* lib/pytis/form/dialog.py (Calendar.run): Explicitn zni dialog.

2001-11-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Row.items): Nov metoda.

	* lib/pytis/form/list.py (_List._create_grid, _List._ListTable.__init__)
	(_List._ListTable._retrieve_row): Pidna podpora pro potan
	sloupce.
	(_List._col_index): Zrueno.
	(_List.edit_cell): Oetuj needitovateln polka.
	(_List._ListTable._retrieve_row.fetch): Nov pomocn funkce.
	(_List._ListTable.newly_edited_row, _List._ListTable.SetValue):
	Pidna podpora pro potan sloupce.

	* lib/pytis/form/spec.py (ColumnSpec.__init__): Nov argument
	`computer'.
	(ColumnSpec.computer): Nov metoda.

2001-11-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form._on_leave_window): Nevolej event.Skip(),
	je-li `event' None.

	* lib/pytis/form/list.py (_List._create_grid): Volej `_on_leave_window'
	se sprvnm potem argument.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Obaluj tdc sloupce SQL funkc `coalesce'.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql):
	Npodobn.

2001-11-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select) 
	(DBDataPostgreSQL.fetchone, DBDataPostgreSQL.skip): Pi havrii DB
	operace nastav `_pg_is_in_select' na FALSE.
	(DBDataPostgreSQL.search): Nov metoda.
	(DBDataPostgreSQL._pg_search): Nov metoda.
	(DBDataPostgreSQL._PgBuffer.current): Nov metoda.

	* banka.py (run_application): Pro jistotu explicitn zapni garbage
	collection.

	* lib/pytis/data/data.py (Data.search): Zmnna nvratov hodnota a
	neposouv se ukazovtko (pouze zmna docstringu).

2001-11-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.search): Nov metoda.
	(Data.skip): Upesnno, e metodu lze pout jenom bhem selectu.

	* lib/pytis/form/form.py (EditForm.__init__): Akceptuj frame stack.
	(EditForm._signal_update): Nov metoda.
	(EditForm._edit_insert, EditForm._edit_update) 
	(EditForm._edit_delete): Volej ji.

	* lib/pytis/form/screen.py (FrameStack.push): `window' sm bt
	iNone (pouze zmna docstringu).

	* lib/pytis/form/list.py (_List._on_paint): Zrueno.
	(_List.refresh): Nastavuj asy zmn.
	(_List._on_line_rollback, _List._on_line_commit): Je-li `_changed'
	pravda, volej `refresh'.
	(_List.refresh): Resetuj atribut `_changed'.
	(_List._on_select_cell): Pidn test na poadavek penaten dat.
	(_List.maybe_refresh): Nov metoda.
	(_List.SetFocus, _List._on_select_cell): Volej ji.
	(ListForm.Show): Pi pozitivnm poadavku volej _list.SetFocus.
	(BrowseForm.on_edit_form): Pedvej EditForm frame stack.

	* lib/pytis/data/_test.py (Row.check_update): Nov test -- pesunut test
	`update' z`check_nonempty'.

2001-11-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (TutorialTest.check_it): Zajisti uspn
	datovch objekt ipi chyb.
	(TutorialTest.check_it): Update pro novou podobu selnk.
	(TutorialTest.setUp): Typ kle selnku zmnn na VARCHAR, nebo
	selnky sm bt pouze stringov.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_send_notifications): Volej
	`_pg_query' mimo transakci.
	(DBDataPostgreSQL.unlock_row): Npodobn.
	(PostgreSQLStandardBindingHandler._pdbb_table_row_lists):
	Zohledni, e `value' me bt sekvence nezvisle na `column'.
	(DBDataPostgreSQL._pg_value): Venumerations zohleduj przdn
	hodnoty vsekvencch.
	(DBDataPostgreSQL._pypg_new_connection): Nastav spojen
	serializable transaction level.

	* lib/pytis/data/types_.py (Type.export): Kosmetick pravy.

	* lib/pytis/form/list.py (_List.SetFocus): Nov metoda.

	* lib/pytis/form/form.py (BrowseDualForm.callback): Nech callback
	hlavnho formule nastavuje na konci na tento formul focus.

2001-11-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (FieldSpec.__init__): Nedopluj defaultn ku
	a vku zde.
	(FieldSpec.width): umoni specifikovat defaultn ku.
	(FieldSpec.height): umoni specifikovat defaultn vku.

	* lib/pytis/form/dialog.py (Dialog.run): Doplnn dokumentan etzec.
	(Calendar): Nov tda.

2001-11-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/_test.py (Row.check_nonempty): Pidn test na
	`Row.update()'.

	* lib/pytis/form/spec.py (ViewSpec.columns): Oprava chybky.

	* lib/pytis/form/inputfield.py (InputField.validate): Pokud dojde k
	chyb, zobraz dialog s popisem chyby.
	(InputField.validation_error): Metoda zruena.
	(EnumerationInputField._values): Zrueny zapomenut appendy...
	(EnumerationInputField.get_value): prava docstringu.
	(EnumerationInputField.set_value): Zruen kd pro vyhledn
	uivatelsk hodnoty podle vnitn. Pijmej tuple.
	(EnumerationInputField.get_value): Vracej tuple.
	(EnumerationInputField.set_value): prava docstringu.

	* lib/pytis/form/form.py (_validate): Oeten chyby validace (zobrazen
	dialogu s popisem chyby) penech na `InputField.validate()'.
	(EditForm.changed): Upesnna logovac hlka.

	* lib/pytis/data/types_.py (Type.export): Mapovn None na przd
	etzec provdj i pro sekvence.
	(Enumeration._export): Upesnna chybov hlka.
	(Value.export): Nevydvej `self.value()' za exportovanou hodnotu,
	ale skuten prove `export()'. Neprovdj mapovn None na przd
	etzec pro sekvence - to te dl `Type.export()'.

2001-11-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBColumnBinding.__init__): Nen-li
	`enumerator' sekvence ani None, peve jej na tuple.

2001-11-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBColumnBinding.__init__): Petrena vazba
	mezi `enumerator' a `related_to' (dokumentan zmna).
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Opraveno zpracovn
	sekvennho typu.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Upraveno pro novou
	podobu types_.Codebook.
	(DBDataPostgreSQL._pg_value): Npodobn.

	* lib/pytis/data/types_.py (Codebook): Vrazn pepracovno, zmnna
	definice vnitnch a uivatelskch hodnot.
	(Boolean.__init__): Nech je specifikace tuple, ne list.

2001-11-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py (Dialog.check_interactive_choice): Nov test.

	* lib/pytis/form/dialog.py (Choice): Nov tda.
	
	* lib/pytis/form/list.py (_List._create_grid): Volej na nov grid
	`SetFocus'.
	(_List.exit_check): Nov metoda.
	(ListForm.Show): Nov metoda.

2001-11-13  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (resolve): Rozeznvej RadioBoxInputField
	a ChoiceInputField.
	(InputField._create_control): Doplnna dokumentace. Nestarej se o
	spec.enable().
	(InputField.__init__): Pokud nen spec.enable(), volej self.disable()
	(InputField.enable): Nov metoda.
	(InputField.disable): Nov metoda.
	(InputField.get_value): Doplnna dokumentace. Vylepen assert.
	(InputField.set_value): Doplnna dokumentace. Vylepen assert.
	(BooleanInputField._create_control): Nestarej se o spec.enable().
	(EnumetrationInputField): Nov tda.
	(RadioBoxInputField._create_control): Nov tda.
	(ChoiceInputField.set_value): Metoda pesunuta do spolen
	nadtdy `EnumerationInputField'.
	(ChoiceInputField.get_value): Metoda pesunuta do spolen
	nadtdy `EnumerationInputField'.
	(CodeBookInputField.enable): Nov metoda.
	(CodeBookInputField.disable): Nov metoda.
	(CodeBookInputField._create_control): Nestarej se o spec.enable(). 

	* lib/pytis/form/spec.py (SelectionType): Nov tda.
	(FieldSpec.__init__): Zruen argument `selection'. Nov atributy
	`selection_type' a `orientation'.
	(selection): Metoda zruena.
	(FieldSpec.orientation): Nov metoda.
	(FieldSpec.selection_type): Nov metoda.

	* lib/pytis/form/inputfield.py (ChoiceInputField): Nov tda.
	(resolve): Vyuvej `ChoiceInputField'.
	(InputField.__init__): Nepamatuj si odkaz na datov objekt.
	(InputField.set_value): Loguj DEBUG hlku.
	(BooleanInputField.set_value): Loguj DEBUG hlku.
	(CodeBookInputField.set_value): Loguj DEBUG hlku.

	* lib/pytis/form/form.py (EditForm.set_row): prava logovacch
	hlek. Oeten chyb pi nastavovn polek penech na metod
	`InputField.set_value()'.


2001-11-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._ListTable._get_value): Vracej vsledn
	dek.
	(_List._ListTable.get_key): Pejmenovno na `row_key'.
	(_List.row_key): Zohlednna pedchoz zmna.
	(_List._ListTable._get_value): Zruen argument `col'.
	(_List._ListTable.GetValu): Zohlednna pedchoz zmna.
	(_List._ListTable.row_key): Zohlednny zmny `_get_value'.
	(_List._ListTable.newly_edited_row): Updatuj aktuln sloupec, ne
	ho pouije.
	(_List._ListTable.SetValue): Npodobn.
	(_List._ListTable._get_value): Pejmenovno na `_retrieve_row'.
	(_List._ListTable._set_row): Nov metoda.

2001-11-12  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/spec.py (FieldSpec.codebook): Update dokumentace.
	(FieldSpec.selection): Nov metoda.
	(FieldSpec.__init__): Nov argument `selection'.

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Oprava peklepu.

2001-11-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py: Na mnoha mstech doplnno logovn.

	* lib/pytis/data/_test.py (Type.check_validation) 
	(Boolean.check_validation, String.check_validation_unlimited):
	Update pro novou prci sprzdnmi hodnotami.
	(_TypeCheck._test_null_validation): Nov metoda.

	* lib/pytis/data/types_.py (Type.validate): Pi zsahu do cachovan
	hodnoty jinho typu nevracej None.

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL.__init__)
	(DBDataPyPgSQL._pypg_allocate_connection)
	(DBDataPyPgSQL._pypg_deallocate_connection)
	(DBDataPyPgSQL._pypg_get_connection): `_pypg_connection' je nyn
	zsobnk.
	(DBDataPyPgSQL._pypg_return_connection): Vracej spojen
	nepodmnn.
	(DBDataPostgreSQL._pg_begin_transaction): Neukonuj transakci.
	(DBDataPostgreSQL._pg_commit_transaction)
	(DBDataPostgreSQL._pg_rollback_transaction): Neresetuj
	`_pg_is_in_select'.
	(DBDataPostgreSQL.close): Resetuj `_pg_is_in_select'.
	(DBDataPostgreSQL.select): Volej `close'.
	(DBDataPostgreSQL.insert): Nen-li dek vloen, neloguj, e
	vloen byl.
	(DBDataPostgreSQL.update): Npodobn.
	(DBDataPyPgSQL._pypg_allocate_connection): Volej
	`_pypg_get_connection' sargumentem `outside_transaction' TRUE.
	(DBDataPyPgSQL._pypg_deallocate_connection): Vracej spojen
	nepodmnn.
	(DBDataPyPgSQL._pypg_get_connection): Zdroj spojen uruj vhradn
	dle argumentu `outside_transaction'.
	(DBDataPyPgSQL._pg_query): Spojen vracej jen pokud je
	`outside_transaction' pravda.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec.gettype):
	Volej `_pg_query' spravdivm argumentem `outside_transaction'

2001-11-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py: Dal pokyny pro testovn inline editace.

	* lib/pytis/form/list.py (_List.value_conversion): Odstrann zapomenut
	print.
	(_List._ListTable.GetValue.value_conversion): Pidna podpora pro
	rozeditovan nezvalidovan hodnoty.
	(_List._ListTable.SetValue): Nezvalidovanou hodnotu ulo do
	`validation_error'.
	(_List.edit_cell): Resetuj `validation_error' vtabulce.
	(_List._on_key_down): Nech tabultor natvrdo vyvol
	`_on_cell_commit'.
	(_List._on_line_commit): Opraveno zpracovn nvratovch hodnot
	databzov operace.

	* lib/pytis/data/types_.py (Codebook.values): Pouvej `super'.

2001-11-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Neoetuj NULL.

	* lib/pytis/data/types_.py (String._EMPTY_MAPS_TO_NONE): Zrueno.
	(Type.validate): Zmnn zpsob prce sprzdnmi hodnotami;
	pepracovno.
	(Type._validate): Vracej hodnotu obsahujc None, ne pouh None.
	(Type._export): Nov metoda.
	(Type.export): Pozmnno chovn pro przdn hodnoty, pesmrovn
	na `_export', nov argumenty `args' a `kwargs'.
	(Float.__init__): Vchyb assertu uvdj ichybn argument.
	(Float._validate): Npodobn.
	(Float._validate): Doplnn assert na argument `precision'.
	(Float.export, String.export, DateTime.export, Date.export)
	(Enumeration.export, Codebook.export, Sequence.export):
	Pejmenovno na `_export'.
	(Value.export): Do apply pedvej tuple, ne list.
	(Value.export): Neoetuj None.
	(Enumeration.__init__): Vdocstringu upesnn vznam przdnch
	string coby nedefinovanch hodnot.

	* lib/pytis/form/list.py (_List._on_line_commit): Kl vytahuj pouze pi
	updatu, ne pi insertu.
	(_List._finish_editing): Sprvn oetuj situaci, kdy je
	rozeditovn dek beze zmn hodnot.
	(_List._on_line_rollback): Vynu pekreslen vrcenho editovanho
	dku.
	(_List.__init__): Inicializuj atribut `validation_error'.
	(_List._recreate_grid): Nov metoda.
	(_List._on_line_rollback, _List.insert_line, _List.refresh):
	Vyuvej ji.
	(_List._ListTable.GetValue): Nen-li nastaven datov objekt, vra
	przdn etzec.
	(_List._ListTable.disable): Nov metoda.
	(_List._recreate_grid): Volej ji.
	(_List._init_select): Zakzno pepouit dat zminulho selectu.
	(_List._ListTable.SetValue): Nepouvej _current_row pro nov
	dky.

2001-11-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py: Do pokyn testovn inline editace doplnna
	kontrola potu dk.

	* lib/pytis/form/list.py (_List._select_row): Pejmenovno na
	`_select_cell' a pepracovno.
	(_List._on_select_cell): st funkcionality pesunuta do
	`_select_cell'.
	(_List._select_cell): Zajisti viditelnost zvolenho dku.
	(_List._on_line_rollback, _List._finish_editing)
	(_List.insert_line): `_select_row' -> `_select_cell'.
	(_List._finish_editing): Nevolej `_select_cell', je to nadbyten.
	(_List._select_cell): Nastav gridu focus.

2001-11-08  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/spec.py (ViewSpec.columns): Pokud nen definovn
	selnk danho jmna, vra seznam vech sloupc a loguj o tom
	DEBUG informaci.
	(ViewSpec.__init__): Vechny parametry nech jsou nepovinn.
	(ViewSpec.layout): Vyvolej vjimku, pokud v konstruktoru nebyl
	specifikovn layout.
	(ViewSpec.columns): Vyvolej vjimku, pokud v konstruktoru nebyly
	specifikovny sloupce.

2001-11-07  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/application.py (Application.OnInit): Poten
	velikost okna nastavena na 800x500 px.

	* lib/pytis/data/types_.py (Value.export): Pokud je value sequence,
	nahra None za przdn etzec i v tto sekvenci.
	(Codebook.extract): Namsto `Type.export()' volej
	`Value.export()', kterto navc um zachzet s None hodnotami.

	* lib/pytis/form/form.py (EditForm._pack_fields): Oprava docstringu.
	(EditForm.changed): Namsto `f.data_column().id()' volej rovnou
	`f.id()'. Pokud je `self._key' None (pi insertu), vracej vdy TRUE.

2001-11-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (WxKey._key2wx): Upravuj kdy pro klvesy
	Ctrl-psmeno, aby odpovdaly mapovn tchto klves na ASCII
	znaky.

	* lib/pytis/form/_test.py: Strun soupis instrukc pro testovn inline
	editace.

	* lib/pytis/form/list.py (_List._on_line_commit): Nech je argument
	`event' nepovinn.
	(_List._on_cell_commit): Jin chovn po editaci poslednho
	polka nov vkldanho dku.
	(_List.insert_line): Nastavuj nov atribut `_last_inserted_copy'.
	(_List.broken_key): Zmny vblhov nadji na odfiltrovn
	nechtnch klves.
	(_List._create_grid): Definovn callback pro click myi.

2001-11-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBException.__init__): Vypisuj do logu
	vjimky nikoliv z`args', nbr z`exception'.

	* lib/pytis/form/list.py: Odstranny zapomenut printy.
	(_List._on_select_cell): Pokud ji vselectu buky jsme, volej
	originln handler msto pouhho nvratu.
	(_List._row_data): Pi programov chyb kvli validaci zaznamenej
	ivalidan chybovou hlku
	(_List._row_data): Oetuj pi validaci Booleans.
	(_List._on_cell_commit): Edituje-li se nov dek, spus pro dal
	buku editaci.
	(_List._on_cell_commit): Pi chyb validace zsta na editaci
	aktulnho polka.
	(_List.SetValue): Nastavuj nov atribut `validation_error'.

	* lib/pytis/data/data.py (Row.update): Vylepen docstring.

2001-11-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.skip): Oetuj
	pekroen zatku hranic dat.
	(DBDataPostgreSQL.skip): Volej _PgBuffer.skip sargumentem potu
	dk.
	(DBDataPostgreSQL._PgBuffer.skip): Nov argument `number_of_rows'.
	(DBException.__init__): Vypisuj do logu vjimku zargument,
	ikdy nen prvnm argumentem.

	* lib/pytis/form/list.py (_List._on_line_rollback): Nastav grid cursor.
	(_List._ListTable.__init__): Nov povinn argument `row_count'.
	(_List._create_grid): Nenastavuj poet dk tabulky, pedvej ho
	jako parametr konstruktoru.
	(_List._kill_editing): Zrueno.
	(_List._on_select_cell, _List.reshuffle): Msto `_kill_editing'
	volej `_on_line_rollback'.
	(_List._on_line_rollback): Nech je argument `event' nepovinn.
	(_List._select_row): Nov argument `invoke_callback'.
	(_List._select_row): Nastavuj pozici gridovho kurzoru, je-li
	teba.
	(_List._on_select_cell, _List.insert_line)
	(_List._on_line_rollback): Neselectuj dek samo, pouvej
	`_select_row'.
	(_List._select_row): Nov argument `col'.
	(_List.__init__): Nov atribut `_in_select_cell.
	(_List._select_row, _List._on_select_cell): Pouvej jej.
	(_List._on_select_cell): Opravena selekce dk za zruenm novm
	dkem.
	(BrowseForm._on_key_down): Pi koprovacm vloen dku volej
	`_on_insert_line' sargumentem `copy' TRUE, ne FALSE.
	(_List._ListTable.__init__): Pevdj `inserted_line_values' na
	seln kle.
	(_List._ListTable.GetValue): Opraveno zjiovn nezeditovanch
	hodnot editovanch dk.
	(_List._finish_editing): Nov metoda.
	(_List.reshuffle, _List._on_select_cell): Vyuvej ji.
	(_List._on_line_commit): Pidna podpora pro vloen novho dku.

2001-11-05  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/form.py (EditForm.__init__): Inicializuj `self._row'.
	(EditForm.set_row): Zapamatuj si zskan data v `self._row'.

	* lib/pytis/data/data.py (Row.update): Nov metoda.

	* lib/pytis/form/form.py (EditForm._edit_update): Neprovdj zamykn zde.
	(EditForm._edit_update): Vyuvej `Row.update()'

	* lib/pytis/form/list.py (_List.goto): Nov metoda - zatm bez
	implementace
	(ListForm.__init__): Nov klov argument `goto'. Vyuvej
	`_List.goto()'.

2001-11-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._create_grid): Atribut `row_count'
	tabulce nastavuj pouze jsou-li inicializovna data.
	(_List._create_grid): Argument `no_data_init' pejmenovn na
	`data_init' a jeho vznam invertovn.
	(_List.reshuffle): Doplnn chybjc argument konstruktoru
	dialog.Question.
	(_List._create_grid): Nov argumenty `inserted_line' a
	`inserted_line_values'.
	(_List.insert_line): Opraveny parametry voln `_create_grid',
	nenastavuj atributy tabulky separtn.
	(_List._create_grid): Vppad poteby pevjej data.
	(_List._ListTable.GetValue): Pi vytahovn hodnoty za vloenm
	dkem jedniku odetej, ne pitej.
	(_List.insert_line): Nekopruj hodnoty do novho dku pokud
	seznam nem dn dek.
	(_List._ListTable): Atribut `_editing_new' pejmenovn na
	`edited_new'.
	(_List._on_line_rollback): Pokud byl editovn nov dek, zi
	nov grid.

2001-11-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._on_insert_line): Nov argumenty
	`after' a `copy'.
	(BrowseForm._on_key_down): Vracej vsledky voln metod, ne
	wx.TRUE.
	(BrowseForm._on_key_down): Rozliuj mezi rznmi variantami
	pidn dku.
	(BrowseForm._on_insert_line): Dopsno.
	(_List.insert_line): Dopsno.
	(_List._ListTable.__init__): Nov argument `inserted_line_values'.
	(_List._ListTable.__init__): Zruen argument `condition'; nevolej
	`_init_select'.
	(_List._ListTable._init_select): Pesunuto do `_List' a upraveno.
	(_List._create_grid): Nov argument `no_data_init'; provdj
	select nad datovm objektem.
	(_List._on_label_left, _List._on_label_right): Pokud je ji seznam
	danm zpsobem setdn, zru tdn.

2001-11-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.skip): Bu
	konzervativnj ohledn rozsahu okrajovch korekc, aby
	nedochzelo kvynechn posunut.

	* lib/pytis/form/list.py (_List._ListTable.GetValue): Ve virtulnm
	dku oetuj idosud nevyplnn hodnoty.
	(BrowseForm._on_edit_line, BrowseForm._on_delete_line): Pro
	needitovateln formul vracej wx.FALSE.
	(_List._ListTable.new_row): Pejmenovno na `newly_edited_row'.
	(_List._on_line_commit): Zohledni pedchoz zmnu.
	(_List._ListTable.__init__): Nov argument `inserted_line'.
	(_List.insert_line): Nov metoda.
	(_List): Atribut `_list' pejmenovn na `_table'.
	(_List.refresh): Je-li editovn njak dek, tak msto proveden
	refreshe nastav atribut `_changed'.
	(_List._kill_editing): Nov metoda.
	(_List._on_select_cell): Vyuvej ji.
	(_List.reshuffle): Je-li editovn njak dek, dej od uivatele
	potvrzen akce.

2001-11-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._ListTable.__init__): Nov atribut
	`_editing_new'.
	(_List._ListTable.GetNumberRows)
	(_List._ListTable.GetValue): Zohleduj jej.

2001-11-01  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (CodeBookInputField._on_invoke_codebook):
	Volej rovnou konstruktor formule (ji ne resolver).
	(InputField.__init__, InputField.__init__): Argument `spec'
	pejmenovn na `fspec' (konflikt s nzvem modulu). Asserty provdj na
	relativn jmna modul (bez `lib.').

	* lib/pytis/form/form.py (PopupForm._popup_frame): Argument `title' je
	nepovinn a pokud nen zadn, automaticky ho dopl podle titulku
	okna `parent'.
	(EditForm.__init__): Titulek okna nastavuj a po voln
	konstruktoru pedka.

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Pouvej sv jmno k
	vyvoln formule. Volej rovnou konstruktor formule (ji ne
	resolver).

	* lib/pytis/form/form.py (Form.__init__): Zapamatuj si `name'.

	* lib/pytis/form/resolver.py (Module): Totln zjednodueno. Vyputno
	ve co souviselo s vytvenm instanc formul a datovch
	objekt. Resolver te poskytuje pouze specifikace (Pomoc jedin
	veejn metody `get()').

	* lib/pytis/form/application.py: Pidn import `lib.form'.
	(Application.on_load_form): Od resolveru vyaduj pouze
	specifikaci. Formul vytvej pomoc `apply()'

	* lib/pytis/form/form.py (Form.__init__): Namsto argument `view' a
	`data' pijmej `name' a pslun specifikace zjisti pomoc
	resolveru podle tohoto jmna. Datov objekt vytvo pomoc
	`spec.DataSpec.create_data_object()'. Doplnna dokumentace.
	(Form): Kompletn pepsn dokumentace.
	(EditForm.__init__): Zmna argument odpovdajc nadtd.
	(BrowseDualForm.__init__): Zmna argument odpovdajc nadtd.
	(BrowseDualForm.__init__): Zmna argument odpovdajc nadtd.
	Rozdlen specifikac hlavnho a vedlejho formule do dvou soubor.
	(EditDualForm.__init__): Zmna argument odpovdajc nadtd.
	Smazna veker kd, protoe by musel bt stejn pepsn...

	* lib/pytis/form/list.py (ListForm.__init__): Zmna argument
	odpovdajc nadtd.
	(CodeBook.__init__): Zmna argument odpovdajc nadtd.
	(BrowseForm.__init__): Zmna argument odpovdajc nadtd.
	(FilteredBrowseForm.__init__): Zmna argument odpovdajc nadtd.

	* lib/pytis/form/spec.py (DataSpec.create_data_object): Nov metoda.

	* lib/pytis/form/form.py (DualForm.__init__): Vyuvej super().

2001-10-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._on_key_down): Pidny callbacky pro
	klvesy BROWSE_INLINE_COMMIT a BROWSE_INLINE_ROLLBACK.
	(_List._on_line_commit): Nov metoda.
	(_List._on_line_rollback): Nov metoda.
	(_List._on_cell_escape): Opraven chybn nzev volan metody.
	(_CellEditor): Nov tda.
	(_BooleanCellEditor, _NumberCellEditor, _FloatCellEditor)
	(_TextCellEditor): Nov tdy.
	(_List._ListTable._TYPEMAPPING): Pejmenovno na _TYPE_MAPPING.
	(_List._ListTable._TYPE_EDITOR_MAPPING): Nov konstanta.
	(_List._create_grid): Nastavuj editovatelnm sloupekm nae
	editory.
	(_List.row_key): Dokonen nedokonen vty vdocstringu.
	(_List._ListTable.value_conversion, _List._ListTable.SetValue):
	Nech jsou zeditovan hodnoty uchovvny jako instance Value.
	(_List._ListTable._get_value): Prezentan pravy pesunuty do
	GetValue.
	(_List._ListTable.new_row): Nov metoda.

2001-10-30  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/form.py (EditForm._on_parent_close): oprava Argument
	pro Question.

	* lib/pytis/form/screen.py (WxKey.is_event_of_key): Odstranna (obejita)
	chyba (zvltnost) s NumLockem.

	* lib/pytis/form/form.py (EditForm._edit_update): Zamykej updatovan dek.

2001-10-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_row_main_value): Chybov
	logovac hlka pesunuta pmo do konstruktoru vjimky.
	(PostgreSQLStandardBindingHandler._pg_select): Npodobn.
	(PostgreSQLStandardBindingHandler._pg_delete): Npodobn.
	(DBDataPyPgSQL._register): Npodobn.
	(PostgreSQLStandardBindingHandler.gettype): Npodobn.

	* lib/pytis/form/list.py (_List._ListTable.GetValue): Pi editaci dku
	vracej zeditovan hodnoty.
	(_List._ListTable.SetValue): Dokoneno.
	(_List.edit_cell): Nastavuj atribut `editing_values' listu.
	(_List._ListTable.__init__, _List._ListTable._get_value): Zrueny
	zleitosti tkajc se reshuffle.
	(_List._ListTable.reset, _List._ListTable.reshuffle): Zrueno.
	(_List._ListTable._reshuffle): Pejmenovno na `_init_select'.
	(_List._ListTable.__init__): Nov kd msto zruench metod.
	(_List._on_key_down): Zjiuj stav editace zlistu.
	(_List.on_data_change): Pepracovno.
	(_List._REFRESH_PERIOD): Nov konstanta.
	(_List._on_paint): Zapracovny "obasn" refreshe.
	(_List._on_paint): Volej `refresh' msto ji neexistujc metody
	`_reshuffle'.
	(_List._on_select_cell): Pidna kontrola na zmnu editovanho
	dku.

2001-10-29  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/list.py (BrowseForm): Opraven docstring,
	zrueny nepotebn konstanty EDIT_MODE a VIEW_MODE.
	(_List.SetValue): Opravena chyba (zobrazen chybov hlky)

2001-10-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List.row_key): Opraven docstring.
	(_List.row_key): Nech je argument `row' nepovinn.
	(BrowseForm._on_delete_line): Dokoneno.
	(_List._create_grid): Editaci zaka pouze pro needitovateln
	sloupce.
	(_List._create_grid): Pedlna prce satributy.
	(_List.edit_cell): Nov metoda.
	(_List.__init__): Nov atribut `_editing'.
	(_List._on_key_down): Rozliuj mezi prohlenm a editac polka.
	Oetuj polkov editan klvesy.
	(_List._on_cell_commit, _List._on_cell_escape): Nov metody.
	(_List._ListTable.SetValue): Kus napsn.

2001-10-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm._edit_delete): Vyuita funkce
	dialog.delete_record.

	* lib/pytis/form/dialog.py (delete_record): Nov funkce.

	* lib/pytis/form/list.py (_List._ListTable._YES, _List._ListTable._NO):
	Zrueno.
	(BrowseForm.mode, BrowseForm.switch_mode): Zrueno.
	(BrowseForm.__init__): Msto atributu `_mode' zaveden atribut
	`_inline_editable'.
	(BrowseForm._on_key_down): Pidny callbacky pro inline pidn,
	editaci a smazn zznamu.
	(BrowseForm._on_insert_line, BrowseForm._on_delete_line) 
	(BrowseForm._on_edit_line): Nov metody.
	(_List._row_key): Pejmenovno na `row_key'.
	(_List._on_activation): Zohlednna pedchoz zmna.
	(_List.refresh): Nov metoda.
	(_List.reshuffle): Vyuvej ji.

	* lib/pytis/form/inputfield.py (CodeBookInputField.get_value): Vracej
	skuten tuple, nikoliv list.

2001-10-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack._replace_window): Nov argument
	`close'.
	(FrameStack.replace, FrameStack.pop): Volej `_replace_window'
	sargumentem `close' TRUE.

	* lib/pytis/form/form.py (BrowseDualForm.Show): Prove Show pouze pro
	splitter.
	(BrowseDualForm.Close): Nov metoda.

	* lib/pytis/form/list.py (_List._create_grid): Opravena chyba
	zarovnvn.  Opraveno nastavovn atribut sloupc.
	Zjednodueno.
	(_List._create_grid): Pidny callbacky pro kliknut na label.
	(_List._on_label_left): Nov metoda.
	(_List._on_label_right): Nov metoda.
	(_List.reshuffle, _List._ListTable.reshuffle)
	(_List._ListTable._reshuffle): Nov argument `sort'.
	(_List.reshuffle): Nech je star grid odstrann ze svho rodie.
	(_List.__init__): Nov atributy `_condition' a `_sort'.
	(_List._create_grid): Zruen argument `condition'.
	(_List._ListTable.GetColLabelValue): Upravuj labels setdnch
	sloupc.
	(_List._ListTable._get_value): Pro nepravdiv hodnoty booleanu
	vracej przdn etzec.

2001-10-26  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/list.py (_List._create_grid): zakomentovny sti kdu,
	kter patrn souvisely se starm provedenm vcehodnotovch
	sloupek...
	(_List._create_grid): zruen zapomenut print.

	* lib/pytis/form/form.py (EditForm._create_caption): nastav kdovn fontu.

	* lib/pytis/form/spec.py (ColumnSpec.__init__): defaultn separtor zm
	na dvojteku.

	* lib/pytis/form/list.py (_List._create_grid): nastavuj zarovnn u
	vech sloupek, nastav vlastnosti hlaviky.

2001-10-25  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/form.py (PopupForm.run): zobraz formul pomoc ShowModal().
	(EditForm.__init__): nov argument `key'. Pokud byl zadn `key',
	nati data a napl sv polka.
	(EditForm._on_parent_close): ukoni formul pomoc EndModal().
	(EditForm.set_row): pidny logovac hlky, namsto
	f.data_column().id() pouvej jen f.id().

	* lib/pytis/form/inputfield.py (BooleanInputField.set_value): prava
	docstringu.
	(CodeBookInputField._create_control): zapamatuj si vtupn polka
	v seznamu self._controls.
	(CodeBookInputField._on_invoke_codebook): vyuvej zmny ve
	specifikaci (FieldSpec.codebook() je seznam obsahujc i id
	clovch sloupek), pedvej resolveru sprvn argument fields.
	(CodeBookInputField.set_value): nov metoda.
	(CodeBookInputField.get_value): nov metoda.

	* lib/pytis/form/list.py (_List._on_select_cell):
	`self._selection_callback' volej s argumentem `self._row_key'
	namsto `self._row_data'.
	(_List._row_key): nov metoda.
	(_ListTable.get_key): nov metoda.
	(_List.set_activation_callback): oprava docstringu.
	(CodeBook._on_activation): argument je key (sekvence klovch
	hodnot), zpracuj i nsobn kle, volej self._parant.EndModal(0)
	(BrowseForm.on_edit_form): argument je key (sekvence klovch
	hodnot), vyuvej resolver, vyuvej form.run()

2001-10-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._ListTable.__init__): Vyuvej
	ColumnSpec.separator().
	(_List._select_row): Nov metoda.
	(_List._on_select_row): Volej ji.
	(FilteredBrowseForm.__init__): Opraveno pedvn argument do
	konstruktoru pedka.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select)
	(DBDataPostgreSQL._pg_select)
	(PostgreSQLStandardBindingHandler._pg_select): Nov argument
	`sort'.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Do
	`_pdbb_command_select' zahrnuto voliteln tdn.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql): Nov metoda.

	* lib/pytis/data/_test.py (Float.check_rounding): Nov test.
	(_TypeCheck._test_validity): Pidna podpora pro klov argumenty
	`validate'.
	(Boolean.check_validation): Updatovn test na przdn etzec.
	(DBDataDefaultClass.check_select_sorting): Nov test.
	(DBDataDefaultClass.setUp): Nov atribut atribut `dosnova'.

	* lib/pytis/data/types_.py (Type.validate, Type._validate): Akceptuj
	ilibovoln klovan argumenty.
	(Float.CEILING, Float.FLOOR): Nov konstanty.
	(Float._validate): Nov argumenty `precision' a `rounding'.

2001-10-24  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/list.py (_List._create_grid): potej souet ek sloupc.
	(_List.total_width): nov metoda.
	(CodeBook.__init__): nastavuj velikost dialogu.
	
	* lib/pytis/form/inputfield.py (CodeBookInputField._on_invoke_codebook):
	vyuvej resolver pro zobrazen selnku.

	* lib/pytis/form/list.py (Module): Vechny odkazy na `lib.view.*'
	zmnny na `spec.*'.
	(ListForm.__init__): nov argument `resolver', argument `parent'
	pesunut.
	(CodeBook.__init__): nov argument `resolver', argument `parent'
	pesunut.
	(BrowseForm.__init__): nov argument `resolver', argument `parent'
	pesunut.

	* lib/pytis/form/inputfield.py (Module): importuj `spec' namsto
	`lib.view', Vechny odkazy na `lib.view.*' zmnny na `spec.*'.

	* lib/pytis/form/form.py: Zmna vech vskyt `view.View' na `spec.ViewSpec'.
	Zmna poad argument konstruktor vech formulovch td a
	pidn argumentu `resolver' vem tmto konstruktorm.

	* lib/pytis/form/application.py (Application._resolver): nov metoda.
	(Application.title): pejmenovno na `_title'.
	(Application.menu): pejmenovno na `_menu'.
	(Application.buttons): pejmenovno na `_buttons'.
	(Application.status_fields): pejmenovno na `_status_fields'.
	(Application.on_load_form): Jmno specifikace a formulov tdy
	uri podle textovho identifiktoru poloky menu, kter udlost
	vyvolala. Pro vytvoen formule pouij resolver.
	(Application.on_load_table): metoda zruena - '_on_load_form' je
	nyn obecn a zastane oboj.

	* lib/pytis/form/spec.py (Module): Nov modul vytvoen ze zruenho
	`lib.view'.
	(DataSpec): Nov tda
	(View): Tda pejmenovna na 'ViewSpec' (konzistence).
	(Module): Rozshl zmny dokumentace tkajc se pesunu modulu z
	`lib.view' do `lib.form'.
	(ColumnSpec.__init__): nov argument `separator'
	(ColumnSpec.separator): nov metoda

	* lib/pytis/view/__init__.py (Module): Modul zruen, obsah pesunut do
	modulu `form'.
	* lib/pytis/view/view.py (Module): soubor pesunut do	modulu `form' a
	pejmenovn na `spec.py'.

2001-10-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm.__init__): Pedvej obma
	formulm argument `noselect'.

	* lib/pytis/data/data.py (Data.select): Nov argument `sort'.
	(MemData.select): Zdokumentovna nepodpora tdn.

	* lib/pytis/form/list.py (_List._create_grid): Pro seln sloupce
	nastavuj zarovnvn napravo.
	(_List.__init__): Nov atribut `noselect'.
	(ListForm.__init__, BrowseForm.__init__) 
	(FilteredBrowseForm.__init__): Npodobn.
	(_List._ListTable.GetTypeName): Nov metoda.
	(_List._ListTable._TYPEMAPPING): Nov privtn atribut.
	(_List._ListTable._get_value): Pro typy z_TYPEMAPPING vracej
	hodnotu, ne exportovanou hodnotu.
	(_List._ListTable.__init__): Nerozdluj sloupce sekvennho typu
	na vce sloupc.
	(_List._ListTable._get_value): Zobrazuj hodnoty vcesloupcovch
	typ oddlen separtorem.

	* lib/pytis/data/types_.py (Number): Nov typ.
	(Integer, Float): Nyn dd Number msto Type.

	* lib/pytis/data/dbdata.py (PostgreSQLStandardBindingHandler.gettype):
	pravy kdu, pidno rozpoznvn pesnosti desetinnch sel.

2001-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook.__init__): Opraven popis argument.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Ivppad
	selnku se sekvenc value columns nevolej `validate' a rovnou
	pouij tuple string zskanch pmo z databze.

	* lib/pytis/form/list.py (_List._ListTable._YES, _List._ListTable._NO):
	Nov konstanty.
	(_List.ListTable._get_value): Pouvej tyto konstanty pro
	zobrazovn hodnot typu Boolean.

2001-10-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Boolean): Upesnn docstring.

	* lib/pytis/form/form.py (BrowseDualForm.__init__): Doplnn docstring.
	(BrowseDualForm): Do docstringu doplnny typy obou formul.

2001-10-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PG_CACHE_SIZE): Nov
	konstanta.
	(DBDataPostgreSQL._PgBuffer.fill): Pouvej ji.
	(DBDataPostgreSQL._PG_INITIAL_FETCH_SIZE): Zmeneno na50.

2001-10-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm.OnSize): Nov metoda.
	(BrowseDualForm.__init__): Registruj ji pro EVT_SIZE.
	(BrowseDualForm.__init__): Zrueny blbiny sexplicitnm
	nastavovnm velikosti.
	(BrowseDualForm.__init__): Znemoni uivatelsk unsplit.

	* lib/pytis/form/list.py (_List._on_activation): Ber dek zgridu, ne
	ze sebe.
	(ListForm.__init__): Update docstringu.
	(_List._ListTable.__init__): `column_*' argumenty nahrazeny
	jedinm argumentem `columns'.
	(_List._create_grid): Zohlednn pedchoz zmny.
	(_List._ListTable._get_value): Vytahuj zdatovho dku sprvn
	sloupec.
	(_List._row_data, _List._create_grid, _List._ListTable.__init__)
	(_List._ListTable._get_value): Doplnna podpora pro multisloupce.

2001-10-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select): Nepouvej cache,
	dolo-li ke zmn podmnky.

	* lib/pytis/form/form.py (BrowseDualForm.__init__): Zajisti nulov obsah
	formule na zatku jeho zobrazen.

	* lib/pytis/data/data.py (Data._Operator.__str__): Opraveno.

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Smazn zapomenut
	print.
	(_List._row_data): Nov argument `row'.
	(_List._on_activation, _List._on_select_cell): Pedvej ho.
	(_List): Bu potomkem wxWindow, ne wxGrid.
	(_List.__init__): Zruen atribut `_column_count', nov atribut
	`_columns'.
	(_List._create_grid): Nov metoda.
	(_List.__init__): Vyuvej ji.
	(_List._on_select_cell, _List._row_data, _List.reshuffle): Pracuj
	nad self._grid, ne self.
	(ListForm.__init__): Zruena registrace klvesovch udlost pro
	list.
	(_List.reset): Volej `reshuffle'.
	(_List.reshuffle): Pedlno, nov argument `_position', metoda
	nyn nahrazuje stvajc grid za nov.
	(_List._ListTable): Pedvej zkonstruktoru condition.

2001-10-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm): Dopsno.

	* lib/pytis/view/view.py: Formtovac pravy.
	(LayoutSpec.__init__): FieldGroup -> GroupSpec vdocstringu.

	* lib/pytis/util/util.py (debugger): Nov funkce.

	* lib/pytis/form/list.py (_List._on_activation): Pedvej vsledek
	voln metody, ne metodu.
	(_List._row_data): Opravena promnn ve voln `validate'.
	(BrowseForm.__init__): Nov argument `selection_callback'.
	(_List.reshuffle): Mdl pokusy orefresh seznamu pi zmn dat.

	* lib/pytis/data/types_.py (Type._EMPTY_MAPS_TO_NONE): Nov atribut.
	(Type.validate): Mapuj przdn etzce na None, pokud to
	_EMPTY_MAPS_TO_NONE dovoluje.
	(String._EMPTY_MAPS_TO_NONE): Pedefinuj na FALSE.

2001-10-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm): Nov kd, nehotovo.

	* lib/pytis/form/list.py (BrowseForm.__init__): Nenastavuj activation
	callback sm, pedej ho jako parametr konstruktoru pedka.
	(BrowseForm.on_edit_form): Zmna struktury argumentu `data'.
	(ListForm.__init__): Zmna struktury argument callback.
	(_List.__init__): Nov atribut `_data'.
	(_List._row_data): Vracej data vnov struktue.
	(_List._ListTable.reshuffle, _List._ListTable._reshuffle)
	(_List.reshuffle): Nov argument `condition'.
	(FilteredBrowseForm): Dopsno.

2001-10-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.__init__): Nov argumenty
	'selection_callback' a 'activation_callback'.
	(ListForm.__init__): Zruena poznmka vdocstringu oji
	neexistujc metod `fill'.
	(_List.set_selection_callback): Nov metoda.
	(_List.__init__): Atribut `_callback' pejmenovn na
	`_activation_callback', nov atribut `_selection_callback'.
	(_List.set_activation_callback, _List._on_activation): `_callback'
	-> `_activation_callback'.
	(_List._on_select_cell): Volej `_selection_callback', je-li
	nastaven.
	(_List._row_data): Nov metoda.
	(_List._on_activation): Pouvej ji.
	(CodeBook.__init__): Nenastavuj activation callback sm, pedej ho
	jako parametr konstruktoru pedka.

	* lib/pytis/form/form.py (SettableForm): Nov tda.

2001-10-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Value.export): Jestlie hodnota je None,
	nehavaruj a exportuj ji jako przdn etzec.

	* lib/pytis/form/list.py (_List._ListTable.__init__): Nov argument
	`column_labels' a atribut `_column_labels'.
	(_List._ListTable.GetColLabelValue): Nov metoda.
	(_List.__init__): Pedvej konstruktoru _ListTable column_labels.

2001-10-15  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (BooleanInputField.set_value): nepouvej
	`DBColumnBinding.bindings()',ale `types.Codebook.number_of_columns()'

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Upesnna logovac hlka

2001-10-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._pg_query): Upraveny argumenty
	vjimky vassertu na typ.
	(DBException.__init__): Opraveno voln konstruktoru pedka.
	(DBDataPyPgSQL._pg_query): Akceptuj ihodnoty NULL.

	* lib/pytis/data/types_.py (Codebook.Mode): Hodnoty konstant zmnny na
	srozumiteln strings.
	(Codebook.__init__): Implicitn hodnota argumentu `mode' zmnna
	na `Mode.ONCE'.

	* lib/pytis/form/list.py (_List._ListTable.reshuffle)
	(_List._ListTable.GetValue): Doplnno oetovn databzovch
	chyb.
	(_DBOP): Nov globln konstanta.
	(_List._ListTable._get_value): Nov metoda.
	(_List._ListTable._reshuffle): Nov metoda.
	(_List.__init__): Nov parametr `frame' a atribut `_frame'.
	(_List._ListTable._panic): Nov metoda.

	* lib/pytis/form/dialog.py (db_operation): Nov argument `quiet'.
	(db_operation): Prohozeny argumenty `parent' a `operation'.
	(db_operation): `operation' sm bt ituple definujc voln
	funkce.

	* lib/pytis/form/form.py: Drobn pravy docstring.
	(_DBOP): Nov globln konstanta.
	(EditForm._lock, EditForm._unlock, EditForm._edit_update)
	(EditForm._edit_delete, EditForm.changed, EditForm.set_row):
	Pouvej _DBOP.

2001-10-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/test.py (transform_args): Pi zpracovn argument
	potej stm, e se nemus jednat pouze otdy.

	* lib/pytis/form/_test.py (Dialog.check_interactive_password): Nov
	test.
	(DBOperation): Nov sada test.

	* lib/pytis/form/dialog.py (Password): Nov tda.
	(Message.run): Ulo vytvoen dialog do novho atributu `_dialog'.
	(db_operation): Dokoneno.

	* lib/pytis/data/_test.py (DBExceptions.check_constructors): Update.
	(DBData.check_it): Zruen assert na zruenou metodu `bindings'.
	(TutorialTest.get_connection): Jako vedlej efekt testuj monost
	zadn DB spojen funkc.

	* lib/pytis/data/dbdata.py: Do vech konstruktor DBUserException a
	DBSystemException bez argument pidn argument None.
	(DBException.__init__): Akceptuj libovoln poet argument.
	(DBException.exception): Nov metoda.
	(DBException.__init__): Dopl `message', je-li None.
	(DBDataPostgreSQL.__init__): `dbconnection_spec' sm bt ifunkce.
	(DBDataPyPgSQL._pypg_add_notifications) 
	(DBDataPyPgSQL._pypg_new_connection) 
	(DBDataPyPgSQL._pypg_get_connection) 
	(DBDataPyPgSQL._pypg_return_connection): Zohledni pedchoz zmnu.

2001-10-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.data_binding): Zrueno.
	(InputField.__init__): Zrueno vytahovn specifikace dat.

	* lib/pytis/data/types_.py (Enumeration.values): Update docstringu --
	vrac nejen stringy.
	(Codebook): Update docstringu -- hodnotami mohou bt ituples
	string.
	(Codebook.__init__): Update docstringu -- klov sloupce
	parametru `data' mus bt typu `String'.
	(Codebook.number_of_columns): Nov metoda.

	* lib/pytis/data/dbdata.py (DBException.__init__): Kompletn pekopno.
	(DBException.message): Nov metoda.
	(DBLoginException): Nov tda.
	Update vech volanch vjimek pro nov tdy.
	(DBData.bindings): Zrueno.
	(DBData.__init__): Zruena zmna z2001-10-09.
	(DBData.binding): Npodobn.
	(PostgreSQLStandardBindingHandler.find_id) 
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands) 
	(PostgreSQLStandardBindingHandler._pdbb_table_row_lists): Update
	kvli zruen metod `bindings'.

	* lib/pytis/form/_test.py (Dialog.check_interactive_message): Doplnn
	test caption.
	(Dialog.check_interactive_question): Doplnno testovn
	implicitnch tlatek.

	* lib/pytis/form/dialog.py (Message._create_dialog): Nezobrazuj tlatko
	Cancel.

2001-10-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py: Smazny vechny zastaral testy.
	(pdm_tests): Zrueno.
	Pidny varovn testy pro vechny netestovan moduly.

	* lib/pytis/form/dialog.py (Question.run): `caption' obaleno _().
	(Message.__init__): Zmnn vznam tdy.
	(Message._create_dialog): Nov metoda.
	(Message._run_dialog): Nov metoda.
	(Message._customize_result): Nov metoda.
	(Message._select_message): Nov metoda.
	(Message.run): Pouvej nov metody.  Smazn zakomentovan
	SearchDialog.
	(Question.__init__): Argument `question', resp. `default',
	pejmenovn na `message', resp. `default_button'.  Atribut
	`_default' pejmenovn na `_default_button'.
	(Question.BUTTON_YES): Nov konstanta.
	(Question.BUTTON_NO): Nov konstanta.
	(Question.__init__): Hodnoty parametru `default_button' zmnny na
	nov zaveden konstanty.
	(Question._customize_result): Nov metoda.
	(Message.run): Akceptuj libovoln argumenty.
	(Message.__init__): Nov argument `caption'.
	(Question.run): Akceptuj libovoln argumenty a pouze volej metodu
	pedka.
	(Question): Vyuvej volby implicitnho tlatka.
	(db_operation): Nov funkce.
	(Dialog.run): Akceptuj libovoln argumenty.

2001-10-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._ListTable.reshuffle): Opraveno vce
	chyb souvisejcch sindexem.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.__str__): Vypisuj
	iprvek na aktuln pozici.
	(DBDataPostgreSQL.PgBuffer.__str__): Dlej mezi dky nov dky.

2001-10-10  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (InputField.data_binding): nov metoda
	(InputField.__init__): zapamatuj si datovou vazbu (self._data_binding)
	(resolve): pidna podpora pro typ Codebook
	(InputField.__init__): neva wxEVT_KEY_DOWN na control, neloguj
	(BooleanInputField.set_value): Povol przdn etzec jako FALSE
	(CodeBookInputField._create_control): nov metoda
	(CodeBookInputField._on_invoke_codebook): nov metoda
	(CodeBookInputField._on_key_down): pi klvese INVOKE_CODEBOOK
	pouze zavolej `_on_invoke_codebook', zde nic pmo neoetuj

	* lib/pytis/form/form.py (EditForm._pack_fields): doplnn zapomenut
	pevod z dlg units na pixely, label vertikln vycentrovn

	* lib/pytis/view/view.py (GroupSpec.__init__): zmna defaultnch hodnot
	`gap' a `space'

2001-10-09  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/data/dbdata.py (DBData.__init__): vytvo slovnk pro pstup
	k vazbm pes id
	(DBData._db_column_binding): vyuvej slovnk namsto sekvennho
	prochzen, metoda pejmenovna na `DBData.binding' - zveejnna

	* lib/pytis/form/screen.py (MenuBar._assemble_menu): zruena zapomenut
	debugovac hlka...

	* lib/pytis/form/form.py (EditForm._on_parent_close): zven sleep na 150

	* lib/pytis/form/application.py (Application.on_load_form): nov metoda
	(Application.on_load_table): vyuvej obrcen asociace kl MenuBaru
	
	* lib/pytis/form/screen.py (MenuBar): prava docstringu
	(MenuBar._assemble_menu): pevrcen zpsob asociace kl <->
	hodnota pro slovnk self._id_dictionary
	(MenuBar.__getitem__): update docstringu

2001-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List.GetValue): Neprovdj datov "rozbh"
	ani pro row==1.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.skip): Vlogovac hlce
	uvdj ipoet dk.
	(DBDataPostgreSQL.fetchone): Do voln `skip(0)' pidn argument
	`direction'.
	(DBDataPostgreSQL.skip): Opraveny chyby korekce vblzkosti hranic
	bufferu.

2001-10-09  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (InputField.validation_error): pedvej
	self._parent konstruktoru `dialog.Message'
	(Module): importuj modul dialog

	* lib/pytis/form/form.py (EditForm.changed): nov metoda
	(EditForm._on_parent_close): Pokud byla data zmnna, vyaduj
	potvrzen od uivatele.
	(EditForm._on_parent_close): doplnn dokumentace, estetick
	pravy kdu, hack na ztracen focus
	(EditForm._edit_insert): pedvej self._parent konstruktoru
	`dialog.Message'
	(EditForm._edit_update): pedvej self._parent konstruktoru
	`dialog.Message'
	(EditForm._edit_delete): pedvej self._parent konstruktoru
	`dialog.Message'
	(EditForm._lock): pedvej self._parent konstruktoru `dialog.Message'
	(EditForm._on_parent_close): pedvej self._parent konstruktoru
	`dialog.Question'
	(EditForm._edit_delete): pedvej self._parent konstruktoru
	`dialog.Question'

	* lib/pytis/form/dialog.py (Message.__init__): nov povinn atribut parent
	(Message.run): msto `wx.wxMessageBox' vytvej `wx.wxMessageDialog'
	a volej na nj ShowModal()
	(Question.__init__): nov povinn atribut parent
	(Question.run): msto `wx.wxMessageBox' vytvej `wx.wxMessageDialog'
	a volej na nj ShowModal()

	* lib/pytis/form/dialog.py (Question.__init__): podpora pro volbu
	dafaultnho tlatka
	(Question.run): podpora pro volbu dafaultnho tlatka, dialog m
	ikonu a titulek

	* lib/pytis/form/form.py (Form.__init__): pro EVT_CLOSE rodi. okna
	volej `_on_parent_close'; nenastavuj `self._handler'
	(Form._on_key_down): nepouvej `self._handler', oeti udlosti
	rovnou zde.
	(Form._on_leave_window): nov metoda
	(Form._on_parent_close): nov metoda
	(EditForm._on_ok): upraveno logovn 
	(EditForm._on_cancel): neloguj
	(EditForm._close_form): neloguj; zatm volej self._parent.Close();
	pidno TODO
	(EditForm._on_parent_close): nov metoda
	(EditForm._create_buttons): zmna poad tlatek

2001-10-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm._close_form): Jestlie je formul
	instanc lib.form.list.ListForm, aktualizuj jeho obsah.
	(EditForm.__init__): Volej na rodie `Show(wx.TRUE) '.
	(EditForm._close_form): Volej na rodie `Show(wx.FALSE)'.
	(PopupForm._popup_frame): Nov argument `parent'.
	(EditForm.__init__): Zohledni pedchoz zmnu.

	* lib/pytis/form/screen.py (FrameStack.window): Nov metoda.

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Je-li to mon, zi
	instanci EditForm dle identifiktoru instance.
	(ListForm.reshuffle): Nov metoda.
	(BrowseForm.on_edit_form): Neukldej editan formul na frame stack.

	* lib/pytis/util/util.py (InstanceResolver._create_instance): Nastav
	nov instanci atribut '_instance_resolver_id'.

2001-10-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Editanmu formuli
	pedhazuj kopii datovho objektu; jedn se odoasn hack.

	* lib/pytis/form/screen.py (FrameStack.push): Volej `Show' swx.TRUE, ne
	TRUE.

	* lib/pytis/form/form.py (EditForm._close_form): Nov metoda.
	(EditForm._on_ok, EditForm._on_cancel): Volej ji.

	* lib/pytis/data/types_.py (Codebook.value_column): Nov metoda.
	(String._validate): Pi chyb assertu reportuj ietzec.

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_insert): Pi testu
	vrcen hodnoty ignoruj oid.
	(DBDataDefaultClass.setUp): Vytvej tabulku smultisloupcem.
	(DBMultiData): Nov sada test.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Do`_pdbb_command_get_last' pidn vbr oid.

2001-10-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (xtuple): Nov funkce.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data)
	(PostgreSQLStandardBindingHandler): Dodna podpora pro typ
	Sequence.
	(DBColumnBinding.__init__): Zrueno rozen vznamu argumentu
	`column'.
	(DBMultiColumnBinding): Nov tda.

	* lib/pytis/data/_test.py (Sequence.setUp): Nov metoda.
	(Sequence.check_len): Nov test.

	* lib/pytis/data/types_.py (Sequence.__len__): Nov metoda.
	(Codebook): Doplnna podpora pro vcesloupcov hodnoty.

2001-10-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBColumnBinding.__init__): Argument `column'
	me bt ituple nzv sloupc.

	* lib/pytis/data/_test.py (_TypeCheck._test_validity): Pi chyb
	validace vypisuj ichybovou hlku.
	(Sequence): Nov sada test.

	* lib/pytis/data/types_.py (Sequence): Nov typ.

2001-10-05  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (resolve): assert na existenci datov
	specifikace pro dan id
	(InputField.get_value): oprava docstringu
	(InputField.create_label): pejmenovno na _create_label
	(InputField.create_control): pejmenovno na _create_control

	* lib/pytis/form/form.py (PopupForm._popup_frame): Odstrann parametr
	size pi konstrukci dialogu - velikost mus bt nastavena
	dodaten pomoc SetSize() a po vytvoen obsahu.
	(EditForm): pidej PopupForm mezi pedky
	(EditForm.__init__): kompletn pepsno
	(EditForm._create_caption): nov metoda
	(EditForm._create_buttons): nov metoda
	(EditForm._create_group): nov metoda
	(EditForm._pack_fields): nov metoda
	(EditForm._on_ok): nov metoda
	(EditForm._on_cancel): nov metoda
	(_orientation2wx): nov funkce
	(dlg2px): nov funkce
	(char2px): vyuvej ji

	* lib/pytis/view/view.py (GroupSpec): nov tda
	(LayoutSpec): kompletn zmna API tdy
	(View.__init__): zruen atribut fields (polka jsou te soust
	parametru layout)
	(View.fields): metoda zruena jako nepotebn
	(View.field_groups): metoda zruena jako nepotebn
	(View._remember_fields): nov metoda
	(View._remember_columns): nov metoda

	* lib/pytis/form/list.py (ListForm.OnSetFocus): nov metoda

	* lib/pytis/form/form.py (EditForm.OnSetFocus): nov metoda

	* lib/pytis/form/screen.py (FrameStack._replace_window): na nov okno
	zavolej SetFocus()

2001-10-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.fill): Nov argument
	`extra_move'.
	(DBDataPostgreSQL.fetchone): Zohledni ho.
	(DBDataPostgreSQL.fill): Neusekvej buffer pod velikost danou
	_PG_INITIAL_FETCH_SIZE.

2001-10-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.fetch)
	(DBDataPostgreSQL._PgBuffer.goto)
	(DBDataPostgreSQL._PgBuffer.reset)
	(DBDataPostgreSQL._PgBuffer.skip): Opraveno.
	(DBDataPostgreSQL.select): Pi nvratu na zatek volej na buffer
	`goto' sargumentem -1, ne0.

	* lib/pytis/form/list.py (_List._ListTable.__init__): Nevolej
	AutoSizeColumns, nen to ji teba a grid ztoho l.


2001-10-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.__str__): Do
	vpisu pidn _dbpointer.

	* lib/pytis/form/inputfield.py (CodeBookInputField._on_key_down):
	Nevolej na selnk `fill'.
	* lib/pytis/form/application.py (Application.on_load_table): Nevolej na
	formul `fill'.

	* lib/pytis/form/list.py (_List): Pepracovno na "potan" grid.
	(ListForm.__init__): Pedvej konstruktoru tdy _List argument
	`data'.
	(ListForm.fill): Zrueno.

2001-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.fill): Volej self._data.select
	sargumentem `reuse' TRUE.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer): Nov atribut
	`_dbpointer'.
	(DBDataPostgreSQL._PgBuffer.copy): Opraveno.
	(DBDataPostgreSQL._PgBuffer.skip): Opraveno.
	(DBDataPostgreSQL._PgBuffer): Vtin metod doplnny dokumentan
	etzce.
	(DBDataPostgreSQL.select): Opraveno cachovn.
	(DBDataPostgreSQL._PgBuffer.__str__): Nevypisuj cel obsah
	bufferu.

2001-10-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClassRefetch): Zrueno.
	(DBDataReuse.setUp): Nov sada test.
	(DBDataFetchBuffer.setUp): Do velikosti dat pidno
	dbdata.DBDataPostgreSQL._PG_INITIAL_FETCH_SIZE.
	(DBDataFetchBuffer.check_skip_fetch): Zohlednno
	dbdata.DBDataPostgreSQL._PG_INITIAL_FETCH_SIZE.
	(go): Nov funkce (pro jednodu ladn).

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.goto): Nov
	metoda.
	(DBDataPostgreSQL.select): Vyuvej ji.
	(DBDataPostgreSQL.fetchone): Zruena rekonstrukce peruenho
	fetche.

2001-09-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.Close): Doplnno chybjc `self' ve
	voln `Close'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PG_INITIAL_FETCH_SIZE):
	Nov konstanta.
	(DBDataPostgreSQL._PG_FETCH_SIZE): Sneno zpt na 100.
	(DBDataPostgreSQL._PgBuffer.copy): Nov metoda.
	(DBDataPostgreSQL.select): Dokoneno sten cachovn.
	(DBDataPostgreSQL._PgBuffer.fetch): Zruen argument `delete' a
	zrueno mazn natench zznam.
	(DBDataPostgreSQL.fetchone): Pi prvnm fillu stahuj poet dk
	dle _PG_INITIAL_FETCH_SIZE.
	(DBDataPostgreSQL.__init__): Nov atribut _pg_initial_select.
	(DBDataPostgreSQL._PgBuffer.fetch): Zruen test na None.
	(DBDataPostgreSQL._PgBuffer): Zmnna smantika atribut _pointer
	a _dbposition.
	(DBDataPostgreSQL._PgBuffer.fill): Zachovvej ist pedchozch
	dat.
	(DBDataPostgreSQL._PgBuffer.skip): Nov metoda.
	(DBDataPostgreSQL._PgBuffer.correction): Zrueno.
	(DBDataPostgreSQL.skip): Pouvej _PgBuffer.skip msto
	_PgBuffer.correction.
	(DBDataPostgreSQL._PgBuffer.__str__): Nov metoda.

2001-09-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.select, MemData.select): Nov argument
	`reuse'.

	* lib/pytis/form/screen.py (MenuBar.keys): Nov metoda.

	* lib/pytis/form/application.py (Application.on_exit): Staronov metoda.
	(Application.on_load_table): Staronov metoda.
	(Application._menubar_forms): Nov atribut.

	* lib/pytis/form/list.py (ListForm.Close): Nov metoda.

	* lib/pytis/util/util.py (super): Nov funkce.

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._listen): Volej `reduce'
	siniciln hodnotou.
	(DBDataPostgreSQL.select): Nov argument `reuse'.
	(DBDataPostgreSQL.select): Odchytvej pouze DBException.
	(DBDataPostgreSQL.__init__): Nov atribut `_pg_number_of_rows'.
	(DBDataPostgreSQL._PgBuffer.fetch): Nov argument `delete'.
	(DBDataPostgreSQL._PG_FETCH_SIZE): Zveno na 1000.
	(DBDataPostgreSQL.__init__): Nov atribut `_pg_changed'.
	(DBDataPyPgSQL._listen): Nastavuj jej pi oznmen ozmn.
	(DBDataPostgreSQL.select): Resetuj jej.

2001-09-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List): Kompletn pedlno, na grid.
	(ListForm.fill): Nepouvej wx metody vnitnho listu.

2001-09-27  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/view/view.py (MultiFieldSpec): tda zruena
	(FieldSpec.__init__): zruen atribut a metoda `help'.
	(FieldSpec.__init__): nov atribut a metoda `hint'.
	(FieldSpec.__init__): defaultn hodnota `label' je '' namsto None

	* lib/pytis/form/form.py: neimportuj lib.data._types,	importuj inputfield
	(InputField): tda pesunuta do novho modulu
	`inputfield.py' a zcela pepracovna.
	(EditForm._validate): Validace penechna na
	metod validate kadho polka. Doplnn docstring.

	* lib/pytis/form/inputfield.py: nov modul.

2001-09-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack.push): Volej opt Show a ne
	ShowModal, kter zpsob nezobrazen seznamu.

2001-09-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (CodeBook.__init__): Nech je rodiem nov
	vytvoen frame.
	(CodeBook._on_activation): Neodstrauj se zframe stacku, sm se
	zavi.
	(CodeBook): Bu potomkem tdy form.PopupForm.
	(CodeBook.__init__): Zruen argument frame_stack.

	* lib/pytis/form/form.py (PopupForm.__init__): Nov tda.
	(EditForm._on_key_down): Zohledni zmnu potu argument tdy
	list.CodeBook.
	(Form.parent): Nov metoda.

	* lib/pytis/data/_test.py (Date.check_validation): Nov sada test.
	(DateTime.check_export): Nov test.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Mapuj `date' na nov typ `Date'.

	* lib/pytis/data/types_.py (Date): Nov tda.
	(DateTime.export): Nov argument `dateonly'.
	(DateTime.DATE, DateTime.TIME): Nov konstanty.
	(Value.export): Umoni exporty s argumenty.

	* lib/pytis/util/util.py (InstanceResolver.__init__): Nov parametr
	`nocache'.
	(InstanceResolver.__getitem__): Zohledni ho.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Uzavrej okno a
	odstrauj je z framu.
	(FrameStack.pop): Do docstringu pidn zkaz pepouit instance.
	(FrameStack.push): Zrueno nevyuit piazen `static'.
	(FrameStack.push): Jestlie rodi vkldanho okna nen frame
	zsobnku, volej `ShowModal' na tohoto rodie.
	(FrameStack.push): Pouvej Form.parent, ne wxWindow.GetParent.

2001-09-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook._validate): Volej metodu pedka
	`_validate', ne `validate'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_select): Zjiuj a vracej
	poet selectovanch dk.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Vytvej SQL pkaz pro potn dk.
	(DBDataPostgreSQL.skip): Loguj pouze na rovni DEBUG.

	* lib/pytis/form/list.py (_List.insert): Kontrola argumentu zmnna na
	assert.
	(ListForm.fill): Nov argument `force'.
	(ListForm.fill): Oetuj DB chybu.
	(_List._on_paint): Volej `fill' sargumentem `force'.

2001-09-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (Float.check_validation): Nov sada test.

	* lib/pytis/data/types_.py (Float.export): Nov metoda.
	(Float.__init__): Nov metoda.
	(Value.export): Cachuj exportovanou hodnotu.
	(Value.__init__): Nov atribut `_exported'.
	(Float.precision): Nov metoda.
	(Type._validate): Nov metoda.
	(Type.validate): Provdj cachovn hodnot.
	(Type): Nov atributy souvisejc scachovnm.
	Vechny poddn metody `validate' pejmenovny na `_validate'.

	* lib/pytis/util/log.py (Logger._is_accepted): Neimportuj config.
	(Logger.__init__): Zaa modul `config' do globals.

2001-09-21  Milan Zamazal  <pdm@brailcom.org>

	* banka.py: Doplnna podpora profilovn.

	* lib/pytis/util/log.py (Logger._prefix): Uvdj t jmno tdy a id
	instance.

	* lib/pytis/data/dbdata.py: Na vce mstech doplnno logovn.
	(DBDataPyPgSQL.CONNECTION_POOL): Nenastavuj hodnotu ihned.
	(DBDataPyPgSQL.__init__): Inicializuj CONNECTION_POOL.

2001-09-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm._lock): Nov metoda.
	(EditForm._unlock): Nov metoda.

	* lib/pytis/view/view.py (ColumnSpec.__init__): Vdocstringu upesnn
	parametr `width'.
	(ColumnSpec.width): Opraven docstring.

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_lock): Nov test.
	(DBDataDefaultClass.setUp): Nov tabulka `self.dstat1'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.lock_row): Odladno.
	(DBDataPyPgSQL._pg_query, DBDataPostgreSQL._pg_query)
	(DBDataPyPgSQL._pypg_get_connection): Nov argument
	`outside_transaction'.
	(DBDataPyPgSQL._pg_query): Odstrann zapomenut print.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Oetuj NULLs.

	* lib/pytis/data/data.py (Data.lock_row): Upesnna nvratov hodnota.
	(Data.locked_row): Nov metoda.

2001-09-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_update): Update
	testu.
	(DBDataDefaultClass.check_row): Update testu.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.lock_row): Nov metoda.
	(DBDataPostgreSQL.unlock_row): Nov metoda.
	(DBDataPostgreSQL._PG_LOCK_TABLE): Nov konstanta.
	(DBDataPostgreSQL._pg_locking_process): Nov metoda.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pidej do vyzvedvanch sloupc metody `row' sloupec `oid'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pidej ke sloupcm oid.

	* lib/pytis/data/data.py (Data.lock_row): Nov metoda.
	(Data.unlock_row): Nov metoda.
	(Data.__init__): Nov atribut `_locked_row'.

2001-09-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_register_notifications):
	Zrueno.
	(DBDataPyPgSQL._pypg_add_notifier): Pejmenovno na
	`_pypg_add_notifications' a pekopno.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Msto vytven notifikanch SQL pkaz vytvo seznam objekt
	pro LISTEN.
	(DBDataDefaultClass.__init__): Volej zruenou metodu
	`_pg_add_notifications' msto zruen metody
	`_pg_register_notifications'.
	(DBDataPyPgSQL.__init__): Volej `_pypg_add_notifications' se
	seznamem notifikac.
	(DBDataPyPgSQL._listen): Registruj poslouchn notifikac pro
	kad zskan spojen.
	(DBDataPyPgSQL._listen): Opravy chyb ve zpracovn notifikac.
	(DBDataPyPgSQL._register): Nov metoda.
	(DBDataPyPgSQL.__init__): Vytvej izmek pro spojen.

2001-09-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/log.py (Logger._prefix): Opraveno zjitn jmna
	modulu.

	* lib/pytis/util/_test.py (Gettext): Zrueno.

	* lib/pytis/_test.py: Kvli svmu stavu vyazeny testy modulu lib.form.

	* lib/pytis/data/dbdata.py (DBData.sleep): Volej `close'.
	(DBDataPyPgSQL._pypg_add_notifier): Nov metoda.
	(DBDataPyPgSQL.__init__): Volej ji.
	(DBDataPyPgSQL._pg_begin_transaction): Nov metoda.
	(DBDataPyPgSQL._pg_commit_transaction): Nov metoda.
	(DBDataPyPgSQL._pg_rollback_transaction): Nov metoda.
	(DBDataPyPgSQL._pypg_allocate_connection): Nov metoda.
	(DBDataPyPgSQL._pypg_deallocate_connection): Nov metoda.

	* lib/pytis/data/_test.py (DBDataDefaultClass.setUp): Nech `_to_kill'
	je list.
	(DBDataDefaultClassRefetch.setUp): Pidej `self.list' do
	`_to_kill'.

2001-09-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBConnection.setUp, DBConnection.check_it):
	Opraveno.

	* lib/pytis/util/util.py (identity): Nov funkce.
	Nen-li definovn globln symbol `_', definuj ho jako identickou
	funkci.

	* banka.py: Pehozeno poad import, kvli podtrtku.
	Pouvej anonymn funkci pro definici "nouzovho" podtrtka.

	* lib/pytis/data/dbdata.py (_pypg_new_connection): Nov funkce.
	(PostgreSQLStandardBindingHandler._pg_update): Pidvej `value' do
	argument, ikdy nen sekvenc.

2001-09-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBConnection.check_cmp): Nov test.

	* lib/pytis/data/dbdata.py (DBConnection.__cmp__): Nov metoda.
	(_DBConnectionPool): Nov tda.
	(DBDataPyPgSQL._PgNotifier): Nov tda.
	(DBDataPyPgSQL.sleep): Zrueno.
	(DBDataPyPgSQL._pypg_start_listener, DBDataPyPgSQL._pypg_listen):
	Zrueno.
	(DBDataPyPgSQL._pypg_ensure_connection): Zrueno.
	(DBDataPyPgSQL._pypg_new_connection): Nov metoda.
	(DBDataPyPgSQL._pypg_get_connection): Nov metoda.
	(DBDataPyPgSQL._pg_query): Upraveno pro nov mechanismy.
	(DBDataPyPgSQL._pypg_return_connection): Nov metoda.

2001-09-14  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/form.py (char2px): nov funkce

	* lib/pytis/form/list.py (_List.__init__): vyuvej ji

	* lib/pytis/form/form.py (EditForm.create_control): vyuvej ji

	* lib/pytis/view/view.py (Width): tda zruena
	(ColumnSpec.__init__): `width' je ve znacch, ne v pixelech, zmna
	defaultn hodnoty na 10.

2001-09-13  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/view/view.py (FieldSpec.__init__): nov argumenty width a height
	(FieldSpec.width): nov metoda
	(FieldSpec.height): nov metoda

	* lib/pytis/form/form.py (EditForm.__init__): sizer nastavuj sm sob,
	ne rodiovskmu framu (metody SetSizer() a SetAutoLayout()).
	(EditForm.create_control): ku a vku controlu nastav podle
	specifikace

	* banka.py (go): msto `form.application.Application' vytvej
	instanci `defs.application.Application'

	* lib/pytis/form/application.py (Module): neimportuj defs
	(Application.__init__): parametrizaci statickch prvk nenatej z defs,
	ale z nvratovch hodnot vlastnch metod (kter je mon pedefinovat)
	(Application.title): nov metoda
	(Application.menu): nov metoda
	(Application.buttons): nov metoda
	(Application.status_fields): nov metoda
	(Application.on_menu): zrueno - pesunuto do defs.application
	(Application.on_load_table): npodobn

	* lib/pytis/form/list.py (ListForm._on_size): loguj DEBUG informace,
	vracej wx.TRUE
	
2001-09-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py: Neimportuj lib.util.log, importuj lib.util
	jako celek.
	Souboru pekdovn do ISO8559-2.

	* config/config.py: Neimportuj lib.util.log, importuj lib.util
	jako celek.
	(application_name): Nov promnn.

	* lib/pytis/data/dbdata.py: Neimportuj lib.util.log.

	* test_osnova.py: Neimportuj podtrtko.

	* lib/pytis/form/form.py: Neimportuj podtrtko a lib.util.log.

	* lib/pytis/view/view.py: Neimportuj podtrtko.

	* lib/pytis/util/test.py: Neimportuj podtrtko.

	* lib/pytis/data/data.py: Neimportuj podtrtko.

	* lib/pytis/data/types_.py: Neimportuj podtrtko.

	* banka.py: Nainstaluj gettext.
	Neimportuj lib.util.log, importuj lib.util jako celek.

	* lib/pytis/util/util.py (_): Zrueno.

	* lib/pytis/util/log.py (Logger): Nov tda.
	(StreamLogger): Nov tda.
	(SyslogLogger): Nov tda.
	Odkaz na monost hvzdikovho importu lib.util.
	(_host): Pesunuto do `Logger'.
	(logger): Nov promnn.
	(log): Pouvej `logger' msto dosavadn implementace.

	* lib/pytis/util/__init__.py: Hvzdikov importuj `log'.
	Neimportuj podtrtko vce.

	* lib/pytis/form/application.py (Application.on_frame_size): Nov metoda.
	Neimportuj lib.util.log, importuj lib.util jako celek.

	* lib/pytis/form/list.py (ListForm._on_size): Pejmenovno na `OnSize'.
	(ListForm.OnSize): Volej na sebe `SetSize'.
	(ListForm.__init__): `_on_size' -> `OnSize'.
	Neimportuj podtrtko a lib.util.log.

	* lib/pytis/form/screen.py (FrameStack.replace): Do docstringu doplnna
	specifikace chovn bez dve existujcho vnitnho okna.
	(FrameStack.size_notification): Nov metoda.
	(FrameStack._replace_window): Volej ji.
	(FrameStack.push, FrameStack.pop, FrameStack.replace): Do
	docstringu pidna informace ozmn velikosti.
	Neimportuj podtrtko a lib.util.log.

2001-09-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (DualForm): Nov docstring.
	(BrowseDualForm): Nov tda.
	(EditDualForm): Nov tda.

2001-09-10  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/application.py (Application.push): Oprava docstringu

	* banka.py: voln locale.setlocale() pesunuto a do funkce go()
	za import lib.form.application, kter teprve importuje wxWindows.
	
	* lib/pytis/form/form.py (Form.__init__): `Form' ji nen odvozen pmo z
	`wxWindow', ale `wxPanel' (ten vak je z `wxWindow' odvozen).

	* lib/pytis/form/list.py (_List.__init__): Nepotej ku a nevolej
	self.SetSize()
	(_List._on_size): nov metoda - zatm zakomentovno a pidn
	koment a TODO s vysvtlenm...
	(_List._on_paint): FALSE zmnno na wx.FALSE
	(ListForm.__init__): nevytvej sizer, EVT_SIZE je oeten
	callbackem _on_size()
	(ListForm._on_size): nov metoda - vol self._list.SetSize()

2001-09-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm._on_key_down): Vyuvej resolver pro
	selnky.

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Vyuvej resolver
	pro editan formule.

	* lib/pytis/form/application.py (Application.on_menu): Vyuvej resolver
	pro prohlec formule.

	* lib/pytis/util/_test.py (Configuration): Nov sada test.
	(InstanceResolver): Nov sada test.

	* lib/pytis/util/util.py (Resolver): Nov tda.
	(InstanceResolver): Nov tda.
	(Configuration.__getattr__): Definovno chovn pi neexistujcm
	poadovanm parametru.
	(Configuration.__init__): Upesnn argument 'dictionary'.
	(Object): Nov tda.

2001-09-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_already_present):
	Jestlie kl je nekompletn, vra FALSE.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nov
	pkaz `_pddb_command_get_last'.
	(PostgreSQLStandardBindingHandler._pg_insert): Vloen dek
	vytahuj pomoc oid.
	(DBDataPyPgSQL._pg_query): Do vjimky ochybnm typu vkldej tak
	dotynou hodnotu.
	(DBDataPostgreSQL.update): Nenadvej, pokud m nov dek stejn
	kl jako dek pvodn.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Neodstrauj
	uzavran dcka, wxWindows nem rdo sirotky a obas se pi
	pohledu na n hrout.

	* lib/pytis/form/list.py (CodeBook._on_activation)
	(_List._on_activation, BrowseForm.on_edit_form): Vracej hodnotu.
	(_List._on_paint): Vracej wx.FALSE, ne FALSE.

	* lib/pytis/form/application.py: Odstrann zakomentovan kusy kdu.
	(Application.load_form): Pi chyb zhasni a zavi form.

	* lib/pytis/form/form.py (EditForm._InputField.__init__): `parent' mus
	bt instance `Form'.
	(EditForm._InputField._on_key_down): Volej na codebook `fill'.
	(EditForm._InputField._on_key_down): Pedvej codebooku sprvn
	data.
	(EditForm._InputField._on_key_down): Nastav codebooku sprvnho
	taku.
	(EditForm._on_key_down): Vracej hodnotu.
	(EditForm._edit_insert, EditForm._edit_update)
	(EditForm._edit_delete): Vracej pravdivostnk konstanty wx.
	(EditForm._on_key_down): Opraveno mapovn sloupc.
	(EditForm._InputField.__init__.create_control): Disabluje
	needitovateln poloky.
	(EditForm._validate): Nevaliduj read-only polka.
	(EditForm.__init__): Pia self._fields, teprve a m `fields'
	finln hodnotu.
	(EditForm._validate): Pi chyb vdialogu uvdj ichybnou
	hodnotu.
	(EditForm._edit_insert): Po spnm vloen updatuj obsah
	formule.
	(EditForm._edit_update): Npodobn.

	* lib/pytis/form/_test.py (ListForm.setUp, CodeBook.check_columns):
	Update.

2001-09-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): EVT -> EVENT.

	* lib/pytis/view/view.py (FieldSpec.__init__): Nov argument a atribut
	`editable'.
	(FieldSpec.editable): Nov metoda.
	(FieldSpec.__init__): Nov atribut `_codebook'.
	(FieldSpec.codebook): Nov metoda.

	* lib/pytis/form/form.py (EditForm._InputField.__init__): Odstranny
	zapomenut printy.
	(EditForm.set_row): Uvjimek loguj jejich argumenty, ne vjimky
	samotn.
	(EditForm._InputField.__init__): Nov atribut _subfields.
	(EditForm.__init__): Eviduj podpolka multipolek.
	(EditForm._InputField.__init__): Odstrann redundant test na
	instanci MultiFieldSpec.
	(EditForm._InputField.__init__): Vytvej podpolka jako instance
	`_InputField'.
	(EditForm._InputField__init__): Nech argument `view' je
	FieldSpec, ne View.
	(EditForm.__init__): Zohledni tuto zmnu.
	(EditForm._InputField.__init__.create_label): Oetuj ppad, kdy
	label je None.
	(EditForm._InputField__init__): Nov atribut `_superfield'.
	(EditForm._InputField): `view' vude pejmenovno na `spec'.
	(EditForm._InputField._on_key_down): Dopsno (avak pkn hnus).
	(EditForm._InputField.__init__): Nov atribut `_data'.

2001-08-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (WxKey._TRANS_TABLE): Doplnn pevod
	`Delete'.

	* lib/pytis/form/list.py (_List._on_paint): Nov metoda.
	(_List.__init__): Registruj ji jako callback pro udlost `PAINT'.
	(_List.__init__): Nov atributy `_parent', `_changed' a
	`_in_paint'.
	(_List.on_data_change): Nov metoda.
	(ListForm.__init__): Registruj callback vnitnho listu pro zmnu
	dat.
	(BrowseForm.on_edit_form): Pi chyb uvdj id sloupce msto
	celho sloupce.

	* lib/pytis/data/types_.py (Codebook): Hodnoty selnkovho typu sm
	bt pouze stringy.

	* lib/pytis/form/form.py (EditForm.label): Oprava nvratov hodnoty
	vdocstringu.
	(EditForm._validate): Vkldej do hlen skuten slovn oznaen
	polka.
	(EditForm.data): Pejmenovno na `data_column'.
	(EditForm.__init__): `_data' pejmenovno na `_data_column'.
	(EditForm._on_key_down): Zpracovvej klvesu pro smazn zznamu.
	(EditForm._edit_delete): Nov metoda.
	(EditForm.set_row): Opraveno `EVT' -> `EVENT'.
	(EditForm.__init__): Nenavuj handler na klvesov udlosti
	polek formule.
	(EditForm._InputField.create_control): Navuj na polka handler
	zpracovn klvesov udlosti.
	(EditForm._InputField.__init__): Nov atribut `_parent'.
	(EditForm._InputField._on_key_down): Nov metoda.
	(EditForm._InputField.__init__): Pedvej do `create_control'
	self.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_update): Oeti ppad, kdy
	je `value' tuple.
	(DBDataPostgreSQL._pg_value): Provdj test instance
	`Enumeration' na typ pvodn hodnoty, ne zkonvertovan hodnoty.
	(DBDataPostgreSQL._pg_value): Zpracovvej enumerations separtn,
	exportuj je a obaluj apostrofy.

2001-08-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook.export): Doplnno chybjc
	`return'.

	* lib/pytis/form/form.py (EditForm._edit_insert): Odchytvej databzov
	vjimky.
	(EditForm._edit_update): Npodobn.

	* config/config.py (logging): Msto funkce obyejn konfiguran
	volba.

	* lib/pytis/util/log.py (log): Pouvej novou konfiguraci.

	* banka.py (_process_options): Nov funkce.
	(go): Volej ji.
	(_USAGE): Nov konstanta.
	(_usage): Nov funkce.
	(_EXIT_OK): Nov konstanta.
	(_EXIT_USAGE): Nov konstanta.

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL.__init__): Inicializuj
	`_pypg_lock'.
	(DBDataPyPgSQL._pypg_start_listener): Nem `_pypg_lock'.
	(DBException.__init__): Nov metoda.
	(DBDataPostgreSQL._pg_value): Obaluj apostrofy ivtov typy.

2001-08-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL.protect): Connection socket
	nen file object, nbr file descriptor, zavrej jej tedy funkc
	`os.close'.

	* lib/pytis/form/list.py (ListForm.__init__): Nech rodiem listu je
	form samotn, ne jeho rodi.
	(ListForm.__init__): Aplikuj sizer na form, ne list.
	(ListForm.Show): Zrueno.

	* lib/pytis/form/screen.py (Menu.__init__): Kl nen jazykov zvisl.
	(Menu.__init__): `key' -> `id' (aby se nepletlo sklvesami).
	(Menu.key): Npodobn.
	(MItem.__init__): Npodobn.
	(MItem.__init__): Kl nen jazykov zvisl.
	(MenuBar.__init__): `key' -> `id'.
	(MenuBar.__getitem__): Npodobn.
	(MenuBar._assemble_menu): Npodobn.
	(MenuBar._assemble_menu): Pidvej do npisu menu horkou klvesu.
	(FrameStack._replace_window): Volej na okna `Enable'.

	* lib/pytis/form/form.py: Doplnn docstring.
	(_InputField): Pesunuto do tdy `EditForm'.
	(EditForm.set_value): Podporuj icheckboxy.
	(EditForm.set_row): Npodobn.
	(EditForm._validate): Nov metoda.
	(EditForm._edit_update): Dopsno.
	(EditForm._edit_insert): Dopsno.
	(EditForm.__init__): Nech rodiem prvk je form samotn, ne jeho
	rodi.
	(EditForm.__init__): Provedena duchaina se sizerem, aby byl
	zobrazen obsah celho okna; pro to funguje zrovna takto, nevm.
	(EditForm._InputField.get_value): Nov metoda.
	(EditForm.Show): Zrueno.
	(EditForm._on_key_down): Doplnno chybjc self ve voln pedka.

	* lib/pytis/form/_test.py (Dialog): Nov sada test.

	* lib/pytis/form/dialog.py: Doplnn docstring.
	(Dialog): Npodobn.
	(Dialog.run): Nov metoda.
	(MessageBox): Pejmenovno na `Message' a napsno.
	(MessageBoxQuestion): Pejmenovno na `Question' a napsno.
	(SearchDialog): Zakomentovno.

2001-08-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.__init__): Zpracovvej klvesu
	nvratu vseznamu.
	(BrowseForm.on_edit_form): Pidn docstring.
	(BrowseForm.on_edit_form): Nastav dek do formule.
	(Form._on_key_down): Nov metoda.

	* lib/pytis/form/screen.py (MItem.__init__): Upesnna specifikace
	parametru `hotkey'.
	(MItem.__init__): Odkomentovn assert na typ parametru
	`activation'.
	(WxKey): Nov tda.
	(FrameStack.__str__): Nov metoda.

	* banka.py (go): Volej Application.run msto Application.MainLoop.

	* lib/pytis/form/application.py (Application.frame): Pejmenovno na
	`wx_frame'.
	(Application.run): Nov metoda.
	(Application.on_menu): frame -> wx_frame.
	(Application.OnInit): Zpracovvej klvesu nvratu.

	* lib/pytis/form/form.py (_InputField.create_control): Zohlednn zmny
	hodnot orientace ve view.
	(EscapeHandler): Pejmenovno na
	`lib.form.screen.WxEscapeHandler'.
	(Form.__init__): Zpracovvej klvesu nvratu.
	(EditForm.__init__): Zpracovvej klvesu nvratu ve vstupnch
	polkch.
	(EditForm.__init__): Nov atribut `_fields'.
	(EditForm.set_row): Nov metoda.
	(EditForm.__init__): Nov atribut `_key'.
	(EditForm._on_key_down): Nov metoda.
	(Form.__init__): Nov atribut `_handler'.
	(EditForm._on_key_down): Nov metoda.
	(EditForm._edit_insert): Nov metoda.

	* lib/pytis/view/view.py: Odstrann import wx.
	(Orientation): Nov tda.
	(MultiFieldSpec.__init__): Hodnoty argumenty `orientation' zmnny
	na konstanty tdy `Orientation'.
	(MultiFieldSpec.orientation): Zmna nvratov hodnoty na jednu
	zkonstant tdy `Orientation' a vylepen docstringu.

2001-08-28  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Pojmenovvn metod a funkc):
	Pojmenovvn callbackovch funkc.

2001-08-28  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Pojmenovvn metod a funkc):
	Pojmenovvn callbackovch funkc.

2001-08-27  Milan Zamazal  <pdm@brailcom.org>

	* config/config.py (log): Nov funkce.

	* lib/pytis/util/log.py (log): Neloguj hlky, jejich druh je
	vconfig.exclude.
	(config): Pesunuto do config.config.
	(_conf): Nov promnn pro konfiguraci.

	* lib/pytis/form/application.py (Application.on_menu): Pedvej do
	browse formu frame stack.
	Upraveny importy.
	(Application.on_menu): Loguj id.

	* lib/pytis/form/form.py (Form): StackFrame -> FrameStack vdocstringu.
	(Form.__init__): Nov argument `frame_stack' a atribut
	`_frame_stack'.
	(_InputField.control): prava docstringu.
	(EditForm.__init__): Nov argument `frame_stack'.
	(Form.__init__): Nov atribut `_parent'.
	(EscapeHandler): Nov tda.

	* lib/pytis/form/list.py (BrowseForm.__init__): Doplnn dokumentan
	etzec.
	(BrowseForm.__init__): `parent' mus bt instance `wx.wxFrame'.
	(BrowseForm.on_edit_form): Nov metoda.
	(BrowseForm.__init__): Registruj ji jako callback.
	(BrowseForm.__init__): Nov argument `frame_stack'.
	(ListForm.__init__): Nov nepovinn argument `frame_stack'.
	(CodeBook.__init__): Zruen atribut `_frame_stack', frame stack
	pedvn konstruktoru rodie.
	(CodeBook.Show): Pesunuto do ListForm.

2001-08-27  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/tips (pyunit): Nov sekce.

2001-08-27  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/tips (pyunit): Nov sekce.

2001-08-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/test.py (transform_args): Nov funkce.
	* lib/pytis/form/_test.py: Vyuvej ji.
	* lib/pytis/data/_test.py: Npodobn.

	* lib/pytis/form/screen.py (FrameStack.push): Znemoni pushnut na
	zsobnku ji uloen instance vnitnho okna.

	* banka.py: Nastavuj `locale.LC_NUMERIC' na `C'.

	* COPYING: Nov soubor.

2001-08-24  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/screen.py (MenuBar): Zdokumentovn zpsob zskn wx id
	poloek menu pomoc textovho kle.
	(MItem.__init__): Nov povinn argument `key'. Pidny asserty na
	datov typy parametr.
	(MItem.key): Nov metoda
	(Menu.__init__): Nov povinn argument `key'. Pidny asserty na
	datov typy parametr.
	(Menu.key): Nov metoda
	(MenuBar.__getitem__): Nov metoda; Vrac wx id poloky menu pes
	textov kl.
	(MenuBar._assemble_menu): Nov povinn argument `key', rozen
	algoritmu o naplnn slovnku identifiktor.

	* lib/pytis/form/application.py (Application.on_menu): Nov callback pro
	obsluhu libovoln udlosti menu.
	(Application.load_form):  Nov metoda
	(Application.on_uc_denik): Zrueno
	(Application.on_uc_osnova): Zrueno

	* lib/pytis/form/screen.py (MenuBar.__init__): Argument `form'
	pejmenovn na `parent' (konzistence; krom toho je form nesmysl)
	(StatusBar.__init__): Argument `frame' a atribut `_frame' pejmenovny
	na `parent' a `_parent' (konzistence)
	(ButtonBar.__init__): Argument `frame' a atribut `_frame' pejmenovny
	na `parent' a `_parent' (konzistence)
	(StatusBar): Oprava pkladu pouit v dokumentaci.
	(MenuBar): prava pkladu pouit v dokumentaci.

2001-08-24  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/bugs (Python): Nov sekce; zdokumentovna locales
	chyba srelnmi sly.

	* doc/standards/management (ablony soubor): Nov sekce.

	* templates/template.py: Nov ablona.

2001-08-24  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/bugs (Python): Nov sekce; zdokumentovna locales
	chyba srelnmi sly.

	* doc/standards/management (ablony soubor): Nov sekce.

	* templates/template.py: Nov ablona.

2001-08-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (TutorialTest.check_it): Updatovno pro nov
	rysy selnku.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Nastav column_value selnku.
	(DBColumnBinding.__init__): Upravena specifikace argument
	'related_to' a 'enumerator'.

	* lib/pytis/data/types_.py (Codebook.__init__): Zruen atribut
	`_nonkey_col_ids'.
	(Codebook.__init__): Zmnna specifikace vdocstringu -- nyn jsou
	ji podstatn pouze klov sloupce.
	(Codebook._update_enumeration.extract): Vracej vdy tuple.
	(Codebook.validate): Vdy pevdj `object' na tuple.
	(Codebook.__init__): Nov argument `value_column'.
	(Codebook._update_enumeration): Nech je vnitn hodnotou
	`self._value_column'.
	(Codebook.export): Nov metoda.
	(Codebook.is_valid): Nov metoda.

2001-08-23  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/application.py (Application.on_uc_denik): Nov callback
	pro zobrazen etnho denku.
	(Application.on_uc_osnova): Nov callback pro zobrazen etn
	osnovy.

	* lib/pytis/form/screen.py (FrameStack.count): Nov metoda.

	* lib/pytis/form/list.py (BrowseForm.__init__): Pidn argument
	data (oddlen datov a prezentan specifikace).

	* lib/pytis/view/view.py (MultiFieldSpec): Nov tda.
	(FieldSpec.__init__): Nov nepovinn argument codebook.

	* lib/pytis/form/form.py (EditForm.__init__): volej parent.SetSizer()
	namsto self.SetSizer(). Stejn tak pro SetAutoLayout().
	(_InputField.__init__): Pidna podpora pro polka sloen z
	nkolika vstupnch pol.

	* lib/pytis/form/list.py (ListForm.__init__): volej parent.SetSizer()
	namsto self.SetSizer(). Stejn tak pro SetAutoLayout().

2001-08-21  Tomas Cerha  <cerha@brailcom.cz>

	* config/config.py: Atributy spojen na databzi jsou nyn
	definovny jako instance tdy DBConnection.

	* lib/pytis/view/view.py: Oprava dokumentace (odstrann specifikace
	datov vazby ze specifikace view).
	(View._data): Atribut zruen.
	(View.data): Metoda zruena.

	* lib/pytis/form/list.py (CodeBook.__init__): Oddlen view a data (viz
	`Form.__init__'). Pidny asserty na datov typy.

	* lib/pytis/form/list.py (ListForm.__init__): Oddlen view a data (viz
	`Form.__init__'). Vytvoen sizeru pesunuto sem.

	* lib/pytis/form/form.py (_InputField): Ji nen potomkem wxBoxSizeru,
	ani jinho wx prvku. Zdokumentovno.
	(Form.__init__): specifikace view a data oddlena - nov argument
	`data'. Sizer ji nen definovn na rovni tdy Form - zruen
	atribut `Form._sizer' a argument `orientation'. Kad podtda si
	me v okn vytvoit sizer podle poteby... Pidny asserty na
	datov typy.
	(EditForm.__init__): Oddlen view a data (viz `Form.__init__')

2001-08-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.__init__): Updatovno pro zmnu
	pedka `Form'.
	(CodeBook._on_activation): Nevolej `Show' na self._list.
	(CodeBook.Show): Nov metoda.

	* lib/pytis/form/form.py (Form): Bu potomkem wx.wxWindow.
	(Form.window): Zrueno.
	(Form): Zruen atribut `_parent'.

	* lib/pytis/form/_test.py
	(CodeBookSelection.check_interactive_selection): Nastav velikosti
	oken.

2001-08-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form.__init__): Obaluj se oknem.
	(Form.window): Nov metoda.

	* lib/pytis/util/log.py (log): Odchytvej vjimky z inspectu.

	* lib/pytis/form/list.py (List.__init__): Opraveny chybn zpisy voln.
	(CodeBook.__init__): Argumenty `field' a `field_column' sloueny
	do novho argumentu `fields'.
	(CodeBook._on_activation): Nastav vechna polka a odstrauj se
	ze zsobnku nepodmnn.
	(CodeBook.__init__): Nov argument `frame_stack'.
	(CodeBook._on_activation): Aplikuj `pop' na frame stack.

	* lib/pytis/view/view.py (View.__init__): Opravy gramatickch chyb
	v docstringu.

	* lib/pytis/form/_test.py: Nastav LC_NUMERIC na `C'.
	(CodeBook.check_interactive_selection): Nov test.

	* lib/pytis/data/data.py (Row.__init__): Pi chybch vypisuj i pslun
	hodnoty.

	* lib/pytis/form/application.py (Application.OnInit): Nedlej prost
	okno pes celou obrazovku, udlej normln okno, o zbytek se
	postar wm.
	(Application.OnInit): Nenastavuj velikost okna vbec -- nech to na
	extern specifikaci (wm, resources, ...).

2001-08-20  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/view/view.py (View.__init__): Opravena chyba s mutable
	objektem v piazen defaultn hodnoty argumentu.

	* lib/pytis/util/util.py: Pejmenovn konfliktn import (import types as
	pytypes).
	

2001-08-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py (get_pdm_tests): Nov funkce.

	* lib/pytis/form/application.py (Application): Pouvej
	screen.FrameStack msto pvodn vlastn implementace.
	(Application.__init__): Zrueno, inicializace se mus provdt
	v`OnInit'.

	* lib/pytis/form/screen.py (FrameStack): Nov tda.

	* lib/pytis/form/list.py (CodeBook.__init__): Nov argument 'field' a
	'field_column'.
	(CodeBook): Aktualizovn docstring.
	(CodeBook._on_activation): Nov metoda.
	(CodeBook.__init__): Registruj ji jako callback pro aktivaci.
	(List.set_activation_callback): Nov metoda.
	(List.__init__): Nov atribut `_callback'.
	(List._on_activation): Nov metoda.
	(List.__init__): Nastav ji jako callback pro aktivaci.

	* lib/pytis/form/form.py: Opraveno odsazovn ze 3 na 4 mezery.
	(_InputField): Opravy docstring a nov specifikace.
	(_InputField.set_value): Nov metoda.

2001-08-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (_InputField.__init__): Odstranny printy
	vedouc ke zhroucen.

	* lib/pytis/form/list.py (List.insert): Vyvolej vjimku jestlie
	poadovan pozice je a za koncem seznamu.
	(List.insert): `n' sm bt 0 (oprava docstringu).

	* lib/pytis/form/_test.py (_Application.OnInit): Pidno tlatko "OK" a
	vechna tlatka uloena do atribut.
	(_Application.OnInit): Vechna tlatka zneviditelnna.
	(_WxTestCase._ask_question): Patin tlatka zviditelnna.
	(Application): Nov sada test.
	(_WxTestCase._ask_question): Pidvej za otzku otaznk.

2001-08-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/bugs (wxWindows): Nov sekce.

	* doc/standards/formatting (Dokumentan etzce): Odkaz na
	upravenou verzi pydoc.

	* doc/standards/design (Zsada dokumentovanosti): Nov sekce.

	* doc/standards/reliability (Nakldn schybami): Nov sekce.
	(Interaktivn testy a testovn GUI): Napsno.

2001-08-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/bugs (wxWindows): Nov sekce.

	* doc/standards/formatting (Dokumentan etzce): Odkaz na
	upravenou verzi pydoc.

	* doc/standards/design (Zsada dokumentovanosti): Nov sekce.

	* doc/standards/reliability (Nakldn schybami): Nov sekce.
	(Interaktivn testy a testovn GUI): Napsno.

2001-08-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py (_WxTestCase._create_application): Nov metoda.
	(_WxTestCase.setUp): Pouvej ji.

	* lib/pytis/form/application.py (Application._replace_window):
	Nepevdj okno, je-li ji ve framu.
	(Application._replace_window): Patin skrvej a odkrvej okna.
	(Application.frame): Nov metoda.
	(Application.push): Update docstringu.
	(Application.pop): Npodobn.
	(Application.replace): Npodobn.
	(Application._replace_window): Nov argument `close'.
	(Application.pop): Vyuij ho.
	(Application.replace): Npodobn.

2001-08-17  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/form.py (EditForm.__init__): Rozdlen do sloupc
	ureno podle rozdlen polek do skupin. Optimalizace zobrazen
	formule. Pouit `_InputField'.
	(_InputField): Zkladn implementace rozeznvajc Boolean,
	ostatn polka jsou zatm vdy `wxTextCtrl' 

	* lib/pytis/view/view.py (LayoutSpec): Zruen atribut `_cols', metoda
	`cols()' a argument `cols' metody `__init()'. Rozdlen do sloupc
	je ureno rozdlenm pol do skupin (viz `View.__init__()').
	(View.__init__): Argument `fields' pejmenovn na `field_groups',
	algoritmus zpracovn definic vstupnch pol rozen o monost
	rozdlen pol do skupin.
	(View.field_groups): Nov metoda.

2001-08-16  Tomas Cerha  <cerha@brailcom.cz>

	* test_osnova.py: upraveno pro testovn editanho formule.

	* lib/pytis/form/form.py (EditForm.__init__): implementovn zklad pro
	vytvoen formule na zklad pedloen specifikace.
	(_InputField): Nov tda
	(Form): Doplnna dokumentace.

	* lib/pytis/form/list.py (ListForm.__init__): odstranno voln
	self.Fit(parent)

	* lib/pytis/view/view.py (LayoutSpec.border): Nov metoda.

2001-08-15  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/view/view.py (LayoutSpec.spacing): Metoda zruena.
	(LayoutSpec.hgap): Nov metoda.
	(LayoutSpec.vgap): Nov metoda.

	* lib/pytis/util/util.py (is_dictionary): Nov funkce.

	* lib/pytis/view/view.py (Width): Nov tda.
	(ColumnSpec._data): Atribut zruen.
	(ColumnSpec.__init__): Vyputn argument data
	(FieldSpec): Doplnna zkladn implementace. 
	(LayoutSpec): Nov tda. 
	(View._layout): Nov atribut.
	(View._fields): Nov atribut.
	(View._fielddict): Nov atribut.
	(View.__init__): Nov povinn argumenty fields a layout (zmna
	poad!). Doplnn assert na datov typ argument a kad poloky
	sekvenc columns a fields.
	(View.fields): Nov metoda.
	(View.field): Nov metoda.
	(View.layout): Nov metoda.

	* lib/pytis/form/__init__.py: `list' importuj hvzdikov, stejn jako `form'

2001-08-15  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/cvs (CVS archvy): Zmnn iodkaz na stroj
	sarchvem.

2001-08-15  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/cvs (CVS archvy): Zmnn iodkaz na stroj
	sarchvem.

2001-08-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (Restorable): Nov tda.
	(MenuBar): Do seznamu pedk pidno `Restorable' a 'Active'.
	(ButtonBar): Do seznamu pedk pidno `Restorable'.
	(StatusBar): Npodobn.
	(ButtonBar.save): Nov metoda.
	(ButtonBar.restore): Nov metoda.
	(StatusBar.save): Nov metoda.
	(StatusBar.restore): Nov metoda.
	(MenuBar._assemble_menu): Testuj nejen na MItem, ale ina
	lib.form.screen.MItem (njak pythonovina?).

	* banka.py: Nov soubor, zrodek startovacho skriptu cel
	aplikace.

2001-08-14  Tomas Cerha  <cerha@brailcom.cz>

	* config/config.py (db_host): DB byla pesunuta na nov stroj. 

2001-08-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/__init__.py: Krom `form' neimportuj submoduly
	hvzdikov.

	* lib/pytis/form/application.py: Nov modul.

	* lib/pytis/form/screen.py (ButtonBar.activate): Nov metoda, zatm
	przdn.
	(ButtonBar): Do seznamu pedk pidno `Active'.
	(MenuBar): Npodobn.
	(MenuBar.activate): Volej metodu pedka `Active'.
	(Active): Nov tda.
	(_Activation): Vdocstringu pidn odkaz na `Active'.

2001-08-13  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/cvs (CVS archvy): Zmnno umstn CVS archvu.

2001-08-13  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/cvs (CVS archvy): Zmnno umstn CVS archvu.

2001-08-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Value.export): Nov metoda.
	(Value): Pidn odkaz na ni vdokumentanm etzci.

	* lib/pytis/form/list.py (List.insert): Pro vpis hodnoty pouvej
	`.export', ne `str'.

	* lib/pytis/data/data.py (MemData._mem_find_index): Zprovoznno.
	(MemData._mem_create_row): Opraveny chybn zvorky uvoln
	`append'.

	* lib/pytis/form/_test.py (List): Doplnny interaktivn testy.
	(ListForm): Npodobn.
	(ListForm.setUp): Pedvej do `insert' instanci `Row', ne seznam.

2001-08-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (MemData.insert): Doplnna typov kontrola.
	(MemData._mem_create_row): Opraveno vytaen kle.

	* lib/pytis/form/_test.py: Update pro nov kd.
	(ListForm): Doplnny interaktivn testy.
	(ListForm.setUp): Vytvo instanci `row'.

	* lib/pytis/form/list.py (CodeBook): Opraven dokumentan etzec.
	(BrowseForm.switch_mode): Odstranno voln `Refresh'.

2001-08-09  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/screen.py (StatusBar): Doplnna dokumentace.

2001-08-09  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Pravidla pro pravidla): Maximln
	dlka dku vdokumentech je 77znak.

2001-08-09  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Pravidla pro pravidla): Maximln
	dlka dku vdokumentech je 77znak.

2001-08-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/test.py (InteractiveTestCase.ask_user): Pekopno,
	rozdleno na nkolik mench metod.

	* lib/pytis/form/list.py (List.__init__): Rozthni seznam na celou
	velikost okna.

	* lib/pytis/form/_test.py (_WxTestCase.setUp): Bu potomkem
	`InteractiveTestCase'.
	(_Application.OnInit): Pidna tlatka YES a NO.
	(_Application.exit_ok): Nov metoda.
	(_Application.exit_fail): Nov metoda.
	(_WxTestCase): Pedefinovny metody poddn
	z`InteractiveTestCase'.

	* lib/pytis/_test.py (tests): Pidny testy zlib.form.

2001-08-08  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/view/view.py (View): Doplnn dokumentace.

	* lib/pytis/form/form.py (Form._view): atribut pesunut z ListForm (je
	to spolen atribut vech typ formul)
	(Form.__init__): pidn arument view

	* lib/pytis/form/list.py (CodeBook.__init__): Pidn argument id, kvli
	novmu zpsobu specifikace selnk.
	(CodeBook.columns): Chovn podle novho zpsobu specifikace
	selnk.
	(CodeBook.__init__): Takt
	(ListForm._view): pesunut atributu _view do rodi. tdy Form

	* lib/pytis/view/view.py (ColumnSpec.in_codebook): Zrueno
	(ColumnSpec._in_codebook): Zrueno
	(ColumnSpec.__init__): Zruen argument in_codebook
	(View.__init__): Pidn atribut codebooks
	(View.columns): Zmna chovn - argument codebook je nyn
	identifiktorem selnku.

	* test_osnova.py (Application.OnInit): Pepracovno kvli pouit
	sizer.

	* lib/pytis/form/list.py (List.__init__): Pidno SetSize(), aby nadzen
	sizer znal rozmry tabulky.
	(List.column_count): Pejmenovno na `_column_count'.
	(ListForm.__init__): Pepracovno kvli pouit sizer.
	(ListForm.fill): Pidny DEBUG logovac zprvy.
	(ListForm._total_width): Metoda zruena - pi pouit sizer ji
	nen teba.
	(CodeBook.__init__): Zruena, protoe v tuto chvli se neli od
	metody rodiovsk tdy
	(BrowseForm.__init__): Takt.

	* lib/pytis/form/form.py (Form): Formule jsou nyn odvozeny z tdy
	wxBoxSizer. 

2001-08-07  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/form/_test.py: Dokonena zkladn kostra test.

	* lib/pytis/form/screen.py (_Activation.isactive): Pejmenovno na
	`is_active'.
	(MItem.__init__): Upesnn argument `callback'.
	(MenuBar): Oprava peklepu vdocstringu.
	(MenuBar): Opravena chyba vpkladu.
	(ButtonBar._add_button): Volej button_spec.label, ne
	button_spec.title.
	(Help.__init__): Opravena srandovn pravopisn chya.

	* lib/pytis/form/list.py (BrowseForm.switch_mode): Opraven peklep
	vnastavovn danho mdu.

	* lib/pytis/data/_test.py (Data.check_it): Zdokumentovna absence test
	pro data.MemData.

	* lib/pytis/data/data.py (MemData): Nov tda.

2001-08-07  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/dialog.py: Zruen hvzdikov import wx.

	* lib/pytis/form/form.py: Zruen hvzdikov import wx.

	* lib/pytis/form/screen.py (MenuBar): Je nyn pmm potomkem
	'wxMenuBar' (dve samostatn tda s atributem uchovvajcm
	instanci 'wxMenuBar').

	* test_osnova.py: Zruen hvzdikov import wx.

2001-08-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/view/view.py (View.__init__): Pidny typov kontroly.

	* lib/pytis/form/_test.py: Pvodn obsah zruen, zahjena tvorba
	skutench test.

	* lib/pytis/form/list.py: Neimportuj wx hvzdikov.
	(BrowseForm.switch_mode): Doplnna chybjc `self'.
	(List.insert): Prvn dek m slo0.
	(List.append): Npodobn.
	(ListForm.columns): Upesnna nvratov hodnota.

	* lib/pytis/data/_test.py (get_tests): Odstrann omylem ponechan
	profiling.

	* lib/pytis/form/screen.py (ButtonBar._del_button): Opraveny star nzvy
	promnnch.

2001-08-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._colindex): Pejmenovno na `_col_index'.
	(List.clear): Nov metoda.
	(ListForm.fill): Nevytvej nov seznam, msto toho volej
	`List.clear'.

	* lib/pytis/form/screen.py: Neimportuj wx hvzdikov.
	(Menu.__init__): Obaluj jazykov zvisl
	promnn pekladovou funkc.
	(MItem.__init__): Npodobn.
	(MenuBar.__init__): Pidvej hot key pouze pokud m `item' metodu
	`hotkey'.
	(MenuBar._assemble_menu): Item -> MItem.
	(StatusBar.show_message): Oprava jmna promnn.
	(_Activation): Nov tdy.
	(ACT_DEFAULT): Nech je hodnotou instance tdy `_Activation'.
	(MenuBar.activate): Nov metoda (zatm przdn).
	(ButtonSpec): Nov tda.
	(ButtonBar): Pepracovny dokumentan etzce.
	(ButtonBar.__init__): Nov argument button_specs.
	(ButtonBar.add_button): Pejmenovno na `_add_button'.
	(ButtonBar.del_button): Pejmenovno na `_del_button'.
	(ButtonBar.add_buttons): Nov metoda.
	(ButtonBar.del_buttons): Nov metoda.
	(ButtonBar._exist): Pejmenovno na `_exists'.
	(ButtonBar.frame): Zmnn na privtn.
	(ButtonBar._add_button): K je argumentem `ButtonSpec'.
	(ButtonBar._add_button): Men pravy kdu.
	(ButtonBar._del_button): Npodobn.

2001-08-05  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Pojmenovvn metod a funkc):
	Zobecnn pouit slovesa ve jmnech deklarativnch funkc.

2001-08-05  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Pojmenovvn metod a funkc):
	Zobecnn pouit slovesa ve jmnech deklarativnch funkc.

2001-08-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataNotification.check_side_notification):
	Oprava vkvalifikaci modulu.

	* lib/pytis/util/log.py (log): Implementovno zjitn modulu.

	* lib/pytis/form/screen.py: pravy dokumentanch etzc.
	(Help): Nov tda.
	(wxID_STATUSBAR): Odstranno.
	(Item): Pejmenovno na `MItem'.
	(StatusBar.get_message): Zruen argument `text'.
	(StatusBar.get_message): Pejmenovno na message.
	(StatusBar.field_number): Pejmenovno na `_field_number'.
	(Menu.parse_menu): Pesunuto do `MenuBar'.
	(Menu.get_title): Pejmenovno na `title'.
	(Menu.__init__): `items' zmnno na jedin parametr.
	(Menu.items): Nov metoda.
	(ACT_DEFAULT): Nov konstanta.
	(MItem.__init__): Parametr `isactive' zmnn na `activation.
	(MItem.isactive): Pejmenovno na `activation'.
	(MItem.title): Vra pouze prost titulek, bez kombinace shotkey.
	(MenuBar.__init__): Pekopno.
	(MenuBar.parse_menu): Pejmenovno na `_assemble_menu'.

	* lib/pytis/view/__init__.py: Upesnna dokumentace modulu -- ne vechny
	specifikan tdy se nachz zde.
	* lib/pytis/form/__init__.py: Analogicky.

	* lib/pytis/form/list.py (ListForm.__init__): Atributy tdy uinny
	privtnmi.
	(ListForm.total_width): Pejmenovno na _total_width.
	(ListForm.fill): Vytvo nov _list, ne jej zane plnit.
	(ListForm): pravy dokumentanch etzc.
	(CodeBook): Npodobn.
	(BrowseForm): Npodobn.
	(BrowseForm.__init__): Pouvej `self', ne `BrowseForm'.
	(BrowseForm.mode): Zruen argument `mode'.
	(BrowseForm.switch_mode): Pidn argument `mode'.
	(BrowseForm.switch_mode): Pepsno.

2001-08-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.colindex): Pejmenovno na '_colindex'.
	(List._colindex): Pi neexistujcm sloupci vra None, ne -1.
	(List): pravy dokumentanch etzc.

	* lib/pytis/view/view.py: Dopsny a pepracovny dokumentan etzce,
	celkov proitn souboru.

	* lib/pytis/data/__init__.py: `import data' zmnno na
	`from data import *'.

	* lib/pytis/view/__init__.py: Koment nahrazen dokumentanm etzcem.
	* lib/pytis/form/__init__.py: Npodobn.

	* lib/pytis/util/util.py (Configuration): Nov tda (pesunuta
	zlog.py).
	* lib/pytis/util/log.py (_Configuration): Pesunuto do util.py.

	* lib/pytis/util/test.py (InteractiveTestCase.ask_user): Nov tda.
	(TestSuite.add): Pidvej metody s prefixem `check_interactive_'
	dle konfiguran volby.
	* config/config.py (test_run_interactive): Nov konfiguran
	promnn.

2001-08-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._pypg_listen): Pidny
	debugovac hlky oukonen.
	(DBDataPyPgSQL._pypg_listen): Pi zenm ukonen zavolej na
	star spojen `finish'.

	* lib/pytis/data/_test.py (DBDataFetchBuffer.tearDown): Volej `sleep',
	ne pouze `close'.
	(DBDataDefaultClassRefetch.tearDown): Nevolej `close'.
	(_DBBaseTest.tearDown): Explicitn ukoni spojen pes `finish'.

2001-08-01  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Pravidla pro pravidla): Poznmka
	ogenerovn change report.

	* doc/standards/standards: Pidn odkaz na `bugs'.

	* doc/standards/bugs: Nov dokument.

	* doc/standards/formatting (Obsah dokumentanch etzc): Nov
	sekce.
	(Formtovn dokumentanch etzc): Doplnna nov pravidla
	formtovn.
	(Dal pravidla tkajc se Pythonu): Npodobn.
	(Formtovn pythonovho kdu): Npodobn.
	(Pojmenovvn metod a funkc): Nov sekce.
	(Dokumentan etzce): Poznmka o pydoc.

2001-08-01  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Pravidla pro pravidla): Poznmka
	ogenerovn change report.

	* doc/standards/standards: Pidn odkaz na `bugs'.

	* doc/standards/bugs: Nov dokument.

	* doc/standards/formatting (Obsah dokumentanch etzc): Nov
	sekce.
	(Formtovn dokumentanch etzc): Doplnna nov pravidla
	formtovn.
	(Dal pravidla tkajc se Pythonu): Npodobn.
	(Formtovn pythonovho kdu): Npodobn.
	(Pojmenovvn metod a funkc): Nov sekce.
	(Dokumentan etzce): Poznmka o pydoc.

2001-07-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Ciselnik -> Codebook.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Npodobn.
	(DBData.__init__): Pidna kontrola typu argumentu `bindings'.
	(DBDataPostgreSQL.skip): Oprav poet dk dle parametr bufferu.
	(DBDataPostgreSQL._PgBuffer.correction): Nov metoda.
	(DBDataPostgreSQL.skip): Neprovdj SQL pkaz, pokud by mlo
	dojt knulovmu posuvu.

	* lib/pytis/data/types_.py (Ciselnik): Pejmenovno na `Codebook'.

	* lib/pytis/util/test.py: Doplnn dokumentan etzec.

	* lib/pytis/data/_test.py (DBDataNotification): Nov test.
	(DBDataFetchBuffer): Nov test.
	(_DBBaseTest): Nov pomocn tda.

	* lib/pytis/data/data.py (Data.add_callback_on_change): Pidn chybjc
	argument self.
	(Data.remove_callback_on_change): Npodobn.

2001-07-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.skip): Nov metoda.
	(DBDataPostgreSQL._pg_skip): Nov metoda.
	(DBDataPostgreSQL.fetchone): Nehledej posledn dek, je-li None.
	(DBDataPostgreSQL._pg_fetchone): Zmnno na _pg_fetchmany.
	(DBDataPostgreSQL.fetchone): Zohledni tu zmnu.
	(DBDataPostgreSQL): Poznmky kimplementaci podtd pesunuty
	zdokumentanho etzce do komente.
	(DBDataPostgreSQL._Pg_Buffer): Nov vnitn tda.
	(DBDataPostgreSQL.__init__): Inicializuj ji.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pidej count do fetch pkaz.
	(PostgreSQLStandardBindingHandler._pg_skip): Nov metoda.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pidny pkazy pro _pg_skip.
	(DBDataPostgreSQL.select): Resetuj fetch buffer.
	(DBDataPostgreSQL.fetchone): Ber data zbufferu.
	(DBDataPostgreSQL.fetchone): Zdokumentovno, e metoda nereaguje
	na notifikace ozmn dat.

	* lib/pytis/data/data.py: Vdokumentanch etzcch doplnny za nzvy
	funkc zvorky, aby pydoc vytvoil odpovdajc linky.
	(Data.skip): Nov metoda.

2001-07-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PG_FETCH_SIZE): Nov
	atribut.
	(DBDataPostgreSQL.fetchone): Kontroluj hodnotu 'direction'.

	* lib/pytis/data/_test.py (TutorialTest.check_it): Uspi datov instance.

2001-07-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.tearDown): Pouvej
	`sleep' msto zneplatnn datovho objektu.

	* lib/pytis/data/dbdata.py (DBData.sleep): Nov metoda.
	(DBData): Odkaz na ni.
	(DBDataPyPgSQL.sleep): Nov metoda.
	(DBDataPyPgSQL._lock): Pejmenovno na `_pypg_lock'.

2001-07-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_select_fetch): Na
	konci zavolej `Data.close'.
	(DBDataDefaultClass.check_select_fetch_direction): Npodobn.
	(DBDataDefaultClass.check_select_condition): Npodobn.
	(DBDataDefaultClassRefetch.tearDown): Npodobn, nov metoda.

	* lib/pytis/data/data.py (Data.__init__): Nov atribut
	`_on_change_callbacks'.
	(Data.add_callback_on_change): Nov metoda.
	(Data.remove_callback_on_change): Nov metoda.
	(Data._call_on_change_callbacks): Nov metoda.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.insert): Poli notifikace.
	(DBDataPostgreSQL.update): Npodobn.
	(DBDataPostgreSQL.delete): Npodobn.
	(PostgreSQLStandardBindingHandler._pg_send_notifications): Nov
	metoda.
	(PostgreSQLStandardBindingHandler._pg_register_notifications):
	Nov metoda.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Vytvo notifikan SQL pkazy.
	(DBDataDefaultClass.__init__): Zavolej registraci notifikac.
	(DBDataPyPgSQL._pg_query): Pi selhn pokusu oznovuspojen
	reportuj posledn nastalou vjimku.
	(DBDataPyPgSQL._pypg_start_listener): Nov metoda.
	(DBDataPyPgSQL._pypg_listen): Nov metoda.
	(DBDataPyPgSQL._pypg_ensure_connection): Volej
	`_pypg_start_listener'.
	Uzavi socket starho spojen.
	(DBDataPyPgSQL._pg_query): Pracuj se spojenm pod zmkem.

2001-07-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Row.__setitem__): Opraven peklep
	vdokumentanm etzci.
	(Row): Npodobn.
	(Row.keys): Vylepen dokumentan etzec.

2001-07-25  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Logging: Nov dokument.

2001-07-25  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Logging: Nov dokument.

2001-07-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/log.py: Doplnna nedokonen vta vdokumentanm
	etzci modulu.

	* lib/pytis/data/_test.py (DBDataDefaultClassRefetch): Nov sada test.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.fetchone): Pi rekonstrukci
	neprovdj zptn fetch pi BACKWARD.
	(DBDataPostgreSQL._pg_last_fetch_direction): Zrueno.
	(DBDataPostgreSQL.fetchone): Opravy chyb.
	(DBDataPostgreSQL.fetchone): Doplnn dokumentan etzec
	popisujc zpsob rekonstrukce po peruen.

2001-07-24  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Formtovn dokumentanch etzc):
	Popis za "Vrac" pokrauje bez oddkovn.

	* doc/tutorials/Database: Pidna metoda `close'.
	Drobn pravy.

2001-07-24  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Formtovn dokumentanch etzc):
	Popis za "Vrac" pokrauje bez oddkovn.

	* doc/tutorials/Database: Pidna metoda `close'.
	Drobn pravy.

2001-07-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py
	(DBDataDefaultClass.check_select_fetch_direction): Nov test.
	(DBDataDefaultClass.check_select_condition): Nov test.

	* lib/pytis/data/__init__.py: Pidna "dokumentace" modulu.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select): Inicializuj
	promnn potebn pro kontinuln fetch.
	(DBDataPostgreSQL.fetchone): Jedn-li se o peruen fetch, otevi
	fetch znovu a pokus se dostat na aktuln pozici.
	(PostgreSQLStandardBindingHandler._pg_select): Zohleduj podmnku.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Npodobn.
	(PostgreSQLStandardBindingHandler._pdbb_tabcol): Nov metoda,
	msto lokln funkce.
	(PostgreSQLStandardBindingHandler._pdbb_btabcol): Nov metoda,
	msto lokln funkce.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Nov
	metoda.
	(DBDataPyPgSQL._pg_query): Pidno logovn.

	* lib/pytis/data/data.py (EQ): Doplnn popis argument.
	(AND): Npodobn.
	(Data.Operator): Pejmenovno na `_Operator'.
	(Data.fetchone): Upesnn vznam smru.
	(Data.args): Vracej nco!

	* lib/pytis/data/types_.py (Ciselnik): Upesnna dokumentace.
	(Ciselnik.extract): Uzavi datov zdroj po zskn informac
	znj.

2001-07-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.row): Pi chyb prove
	rollback.
	(DBDataPostgreSQL.select): Npodobn.
	(DBDataPostgreSQL.fetchone): Npodobn.
	(DBDataPostgreSQL.insert): Npodobn.
	(DBDataPostgreSQL.update): Npodobn.
	(DBDataPostgreSQL.delete): Npodobn.
	(DBDataPostgreSQL._pg_already_present): Nen-li kl kompletn,
	vra FALSE.
	(DBDataPostgreSQL.close): Nov metoda.
	(DBDataPostgreSQL._pg_value): Nov metoda.
	(_db_value): Zrueno.
	(PostgreSQLStandardBindingHandler._pg_fetchone): Nov argument
	`direction'.
	(PostgreSQLStandardBindingHandler._pg_select): Nov argument
	`condition', zatm ignorovan.

	* lib/pytis/data/data.py (Row.__cmp__): Porovnvej ikle.
	(Row.__str__): Oddluj poloky sloupce rkami.
	(Row.__init__): Kontroluj argument 'data'.
	(Data.__init__): Kontroluj argumenty.
	(Data.insert): Upesnno chovn bez hodnot kle.
	(FORWARD): Nov konstanta.
	(BACKWARD): Nov konstanta.
	(_Operator): Nov tda.
	(Data.UnsupportedOperation): Nov vnitn tda.
	(Data.Operator): Nov vnitn tda.
	(Data.fetchone): Nov argument `direction'.
	(Data.select): Nov argument `condition'.
	(EQ): Nov funkce.
	(AND): Nov funkce.
	(Data.close): Nov metoda.
	
	* lib/pytis/data/types_.py (Ciselnik.validate): Akceptuj ijednoprvkov
	tuple.

2001-07-20  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Database: DBDataDefaultClass -> DBDataDefault.

2001-07-20  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Database: DBDataDefaultClass -> DBDataDefault.

2001-07-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_update): Opravena
	vroba `k2'.
	(_TypeCheck._test_validity): Testuj `export'.

	* lib/pytis/data/types_.py (Type.validate): Argumentem me bt
	libovoln objekt, nejen string.
	(Type.export): Nov metoda.
	(Ciselnik.extract): Vyuij ji.
2001-07-19  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal pravidla tkajc se Pythonu):
	Pouvn gettextu.  Vyuvn assert.  Tuples vs. lists.
	(ChangeLog): Nov sekce.

2001-07-19  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal pravidla tkajc se Pythonu):
	Pouvn gettextu.  Vyuvn assert.  Tuples vs. lists.
	(ChangeLog): Nov sekce.

2001-07-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting: Doporuen peklad "raise".
	(Formtovn dokumentanch etzc): Nov sekce.
	(Dal pravidla tkajc se Pythonu): Povolen hvzdikov import
	modulu `lib.util.log'.

2001-07-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting: Doporuen peklad "raise".
	(Formtovn dokumentanch etzc): Nov sekce.
	(Dal pravidla tkajc se Pythonu): Povolen hvzdikov import
	modulu `lib.util.log'.

