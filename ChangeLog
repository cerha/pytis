2009-08-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py:
	Fix drawing aggregation result labels..

2009-08-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/_test.py:
	Updated `display' test to reflect the previous change in display specification..

2009-08-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Added support for site icons..

2009-08-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Fixed "Unknown column ..." error message..

2009-08-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Don't use query lock on connection initialization queries.

2009-08-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Try to reopen db connection on before raising any DBSystemException.

2009-08-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Raise DBSystemException instead of DBUserException on disconnection from db.

2009-07-31  Pavel Hanak  <hanak@wpb.cz>

	* lib/pytis/form/application.py:
	Added forgotten argument 'column' when calling 'permitted' check..

2009-07-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py:
	Show MIN/MAX aggregation results also for date/time and string columns..

2009-07-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Handle unicode in string values of aggregation results..

2009-07-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Make the DBException error message for unknown column even less confusing and translate it to English..

2009-07-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Allow aggregation functions MIN and MAX also on string and date/time columns..

2009-07-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Fixes of connection dictionary key handling in PostgreSQLUserGroups.

2009-07-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py:
	* lib/pytis/form/application.py:
	Update config.dbconnection destructively after Login dialog.

2009-07-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	If there are no DMP and no form rights, assign default rights in Specification.

2009-07-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Add acceleration keys when building menu.
	

2009-07-16  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/DmpDb:
	DMP database editing document.

2009-07-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Create menu separators in menus read from database.

2009-07-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py:
	Print debug information about enabled menu items.

2009-07-02  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	* lib/pytis/form/application.py:
	Report access to dual forms as granted only if it is granted for both the subforms.

2009-07-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	* lib/pytis/presentation/spec.py:
	Fixes in access rights checking.

2009-07-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Fix reading in specification rights and recognize forbidden forms.

2009-07-02  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix dual form matching in pytis_matching_actions db function.

2009-06-23  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Fix processing of single column rights in genmenu.

2009-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Find pytis redirection origin in a separate method..

2009-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Allow CMS menu items to be refered by variable URI path length..

2009-06-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Fixed loading module actions (added forgotten import of `wiking')..

2009-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Handle limit=0 correctly in web BrowseForms..

2009-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Fix CMS module action detection for modules not derived from `wiking.PytisModule'..

2009-06-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Redefine binding parent uri only for modules which resolve to a single record..

2009-06-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Don't use binding parent title in embeded CMS modules..

2009-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Handle embedded CMS modules through bindings..

2009-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/field.py:
	Translate field value before parsing it as structured text in web forms..

2009-07-21  Pavel Hanak  <hanak@wpb.cz>

	* lib/pytis/data/postgresql.py:
	Report column and table name in DBException dialog for unknown column type..

2009-07-21  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_menu.py:
	New gensql schema for dynmenu started.
	
	Conflicts:
	
		db/db_pytis_menu.py
	

2009-06-03  Milan Zamazal  <pdm@brailcom.org>

	* ChangeLog.1:
	* ChangeLog.lib.1:
	* ChangeLog.lib.2:
	* ChangeLog.lib.3:
	* ChangeLog.lib.4:
	* db/db_common.py:
	* db/db_pytis_cms.py:
	* db/db_pytis_config.py:
	* db/db_pytis_menu.py:
	* lib/pytis/extensions/__init__.py:
	* lib/pytis/extensions/cms/__init__.py:
	* lib/pytis/extensions/cms/cms.py:
	* lib/pytis/extensions/cms/web.py:
	* lib/pytis/extensions/dbconfig.py:
	* lib/pytis/extensions/dbutils.py:
	* lib/pytis/extensions/defs.py:
	* lib/pytis/extensions/email_.py:
	* lib/pytis/extensions/help.py:
	* lib/pytis/extensions/misc.py:
	* lib/pytis/extensions/spec.py:
	* lib/pytis/extensions/types.py:
	* lib/pytis/extensions/www.py:
	* lib/pytis/form/search.py:
	* lib/pytis/web/form.py:
	One more fix of the last commit (browse form links)..

2009-07-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Fixed invalid syntax in the previous commit..

2009-07-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Pass hidden field values also to browse form control links..

2009-07-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Allow key search also in web forms without paging limit..

2009-07-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py:
	Print attribute values, not their accessors, in Structure.__str__.

2009-07-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: Allow overriding duplicit menu order check for more complicated menu structures..

2009-07-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: Omit the edited record when checking for duplicit order..

2009-07-16  Pavel Hanak  <hanak@wpb.cz>

	* lib/pytis/cms/web.py:
	PYTIS CMS: Added possibility to authenticate against LDAP style passwords..

2009-07-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/cms.py:
	Pytis CMS: Fixed check for duplicit order at the same level..

2009-07-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/postgresql.py:
	Escape backslashes in PostgreSQL backend.

2009-07-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py:
	Print debug information about enabled menu items.

2009-07-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Automatically assign unique classes to web form layout groups to allow their CSS styling..

2009-07-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Respect changes in Wiking 'module_uri()' API..

2009-07-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Add comment for the previous change..

2009-07-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Add empty cells to ListView grid to prevent spanning of unfinished rows..

2009-07-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Disable calendar widget invocation for disabled fields in HTML forms..

2009-07-13  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Translations updated..

2009-07-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Use dynamic calendar widget for date entry in HTML forms..

2009-07-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Documentation extended..

2009-07-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Customize BrowseForm limits for embeddable pytis modules..

2009-07-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Allow variable substitution also in embedded module's content..

2009-07-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py:
	Fixed input data validation within interactive import..

2009-07-02  Tomas Cerha  <cerha@brailcom.org>

	* INSTALL:
	* Makefile:
	CVS specific installation Makefile setup generalized..

2009-07-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/web.py:
	Pytis CMS: Added generic support for variable substitution in CMS texts..

2009-06-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py:
	Adjust status fields witdh automatically to fit the displayed text..

2009-06-30  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_cms.py:
	* lib/pytis/cms/cms.py:
	* lib/pytis/cms/web.py:
	Pytis CMS: Allow using longer title for page heading and shorter for menu item..

2009-06-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/cms/__init__.py:
	* lib/pytis/cms/cms.py:
	* lib/pytis/cms/web.py:
	* lib/pytis/extensions/__init__.py:
	* lib/pytis/extensions/cms/__init__.py:
	* lib/pytis/extensions/cms/cms.py:
	* lib/pytis/extensions/cms/web.py:
	Pytis CMS moved from `pytis.extensions.cms' to `pytis.cms'..

2009-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Pytis CMS: Uncommented theme field `top-fg', but still left outside layout..

2009-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Fix of prevoius change in enumeration fields (Show empty items for NULL value in SelectionType.CHOICE input fields)..

2009-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Fix background color setting in SelectionType.LIST_BOX input fields..

2009-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py:
	Show empty items for NULL value in SelectionType.CHOICE input fields..

2009-06-25  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_cms.py:
	* lib/pytis/extensions/cms/__init__.py:
	* lib/pytis/extensions/cms/cms.py:
	* lib/pytis/extensions/cms/web.py:
	* tools/gensql.py:
	Pytis CMS: Added generic support for color themes..

2009-06-24  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_cms.py:
	* lib/pytis/data/postgresql.py:
	* lib/pytis/extensions/cms/cms.py:
	* lib/pytis/extensions/cms/web.py:
	Pytis CMS: Added support for logging login attempts and session duration..

2009-06-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Define fields by a method in CMS Rithts module..

2009-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Find pytis redirection origin in a separate method..

2009-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Allow CMS menu items to be refered by variable URI path length..

2009-06-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Fixed loading module actions (added forgotten import of `wiking')..

2009-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Handle limit=0 correctly in web BrowseForms..

2009-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Fix CMS module action detection for modules not derived from `wiking.PytisModule'..

2009-06-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Redefine binding parent uri only for modules which resolve to a single record..

2009-06-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Don't use binding parent title in embeded CMS modules..

2009-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Handle embedded CMS modules through bindings..

2009-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/field.py:
	Translate field value before parsing it as structured text in web forms..

2009-06-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Fix for bindings in embeddable CMS modules..

2009-06-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Invoke standard Wiking processing for embedded modules instead of using the `embed()' method..

2009-06-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Don't check hierarchy cycles on new records (they can't be parents of existing items)..

2009-06-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Allow easier 'User' customization.  Compare password through 'User' instance..

2009-05-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Allow dynamic construction of user selactable filters..

2009-05-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Check hierarchy cycles and duplicate order at the same hierarchy level..

2009-05-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Avoid startup dependency on web modules..

2009-05-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py:
	Fixed removal of the first operator in filtering dialog..

2009-05-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Pass keyword arguments to the parent class in `DBPostgreSQLCounter' constructor..

2009-05-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Added support for actions in static rights definitions and OWNER role checking. .

2009-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Re-enable access of web server to CMS modules after previous access rights restriction..

2009-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Update existing action descriptions when reloading module actions..

2009-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Use a default action description when do description is found..

2009-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Added basic settings of access rights for the users of CMS..

2009-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py:
	Added `CheckListDialog' -- a dialog with a list of chackable items..

2009-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Simplify rights management using a hotkey action to toggle permission..

2009-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Added support for automatic detection of available module actions and their descriptions..

2009-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Sort actions by action id, rather than by name..

2009-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Infer 'subpath' rights from 'view' rights..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Automatically display module description/title..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/__init__.py:
	* lib/pytis/extensions/cms/cms.py:
	Manage system roles separately to avoid confusion in user role assignment..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* tools/make-tags.sh:
	Create TAGS table in the package root directory, bot in `lib'..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* COPYING:
	* ChangeLog.lib.1:
	* ChangeLog.lib.2:
	* ChangeLog.lib.3:
	* ChangeLog.lib.4:
	* lib/COPYING:
	* lib/ChangeLog:
	* lib/ChangeLog.1:
	* lib/ChangeLog.2:
	* lib/ChangeLog.3:
	Old roteted ChangeLogs and COPYING file moved from `lib' to the root directory..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* ChangeLog.1:
	* lib/ChangeLog:
	Year 2009 changes from lib/Changelog merged into the main ChageLog.  Older changes rotated..

2009-05-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py:
	Exclude disabled columns also from previously saved columns..

2009-05-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/web.py:
	Handle authentication correctly also for modules with pytis redirection..

2009-05-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py:
	* lib/pytis/web/form.py:
	Added support for placing arbitrary content into web form layout.
	
2009-05-25  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Warn about possible "hidden" actions in genmenu

2009-05-25  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Import all specifications as actions in genmenu

2009-05-18  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Don't print tracebacks on void actions in Menu form.

2009-05-06  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/dmp:
	DMP tutorial added.

2009-05-06  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Don't display `menu/' action identifiers in DMP forms.

2009-05-06  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix in computation of show rights.

2009-05-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Genmenu: When there are no access rights specified, permit everything.

2009-04-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py:
	Fixes of typos in has_access docstring.

2009-04-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	Raise DBSystemException instead of DBException on database connection failure.

2009-05-06  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Don't display `menu/' action identifiers in DMP forms.

2009-05-06  Milan Zamazal  <pdm@brailcom.org>

	* db/db_pytis_menu.py:
	Fix in computation of show rights.

2009-05-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/genmenu.py:
	Genmenu: When there are no access rights specified, permit everything.

2009-05-04  Milan Zamazal  <pdm@brailcom.org>

	* defs/menu.py:
	Fix in computation of shortname in ApplicationMenuRights.

2009-04-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/cms/cms.py:
	Handle deletion of referenced menu items and modules by
	understandable error message.

2009-04-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Added hack clarification comment.

2009-04-06  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/web.py: 
	Allow overriding condition for menu item selection.

2009-04-02  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/web.py:
	Make `view' the only possible action of `Menu' module and leave
	the `action' argument for the use of the embedded module.

2009-04-01  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/cms.py:
	Added field `system_role' into `UserRoles'.

2009-03-31  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/web.py: 
	(EmbeddablePytisModule): Use specification title by default.

	* lib/pytis/extensions/cms/cms.py:
	(Users.fields): Define as a method.

2009-03-30  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/cms.py: 
	* lib/pytis/extensions/cms/web.py:
	Added support for distinction of logged in and anonymous users.
	Refer to `uid', not `login' form session.  Wrap all module
	references by `_spec_name()'.  Added (unused) session log module.

	* db/db_pytis_cms.py: 
	Added session and session log support.  Allow configurable user
	table.  Added dependencies.

2009-03-30  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py:
	Gensql: Check for duplicate definitions and warn about them.

2009-03-20  Tomas Cerha  <cerha@debian.brailcom.xx>

	* db/db_pytis_cms.py:
	* lib/pytis/extensions/cms/cms.py: 
	* lib/pytis/extensions/cms/web.py: 
	Added support for system roles.

2009-03-17  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/__init__.py: 
	Added documentation.

	* lib/pytis/extensions/cms/web.py:
	Implemented authentication/authorization and session management.

2009-03-10  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/cms/cms.py:
	Use `_cbname()' also in `UserRoles'.

	* db/db_pytis_cms.py:
	Added Wiking session support.

2009-03-09  Milan Zamazal  <pdm@brailcom.org>

	* ev/null:
	Add common database definitions.

2009-03-06  Tomas Cerha  <cerha@debian.brailcom.xx>

	* lib/pytis/extensions/spec.py:
	Don't alias `FieldSpec' -> `Field' here.  It is already in pytis.

2009-03-05  Tomas Cerha  <cerha@debian.brailcom.xx>

	* db/cms.sql: 
	File removed (replaced by `db_pytis_cms.py').

	* db/db_pytis_cms.py: 
	* lib/pytis/extensions/cms/__init__.py: 
	* lib/pytis/extensions/cms/cms.py: 
	Added support for users, roles and rights management.

2009-03-04  Tomas Cerha  <cerha@brailcom.org>

	* db/db_pytis_cms.py: 
	Added Pytis CMS gensql definition.

2009-03-04  Tomas Cerha  <cerha@brailcom.org>

	* tools/gensql.py: 
	Use `char' instead of `varchar' for strings with minlen == maxlen.
	
	* Makefile: 
	Avoid using echo -e in `check-lib'.

2009-02-27  Tomas Cerha  <cerha@brailcom.org>

	* db/cms.sql: 
	* lib/pytis/extensions/__init__.py (Module): 
	* lib/pytis/extensions/cms/__init__.py: 
	* lib/pytis/extensions/cms/cms.py: 
	* lib/pytis/extensions/cms/web.py: 
	Added generic Pytis CMS.

2009-02-19  Tomas Cerha  <cerha@brailcom.org>

	* bin/pytis:
	Wx import moved to `pytis.form'.
	
2009-02-19  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.es.po:
	Translations updated.

2009-01-27  Tomas Cerha  <cerha@brailcom.org>

	* Makefile:
	New target `all'.

2008-12-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py:
	Include side form descriptions in the list of bindings.

2008-12-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Allow help texts in Binding specification.

2008-12-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Minor fix of typo in a docstring.

2008-12-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py:
	Ensure that help for forms used in bindings is generated.
	
	* lib/pytis/extensions/help.py: 
	Convert menu item titles to unicode.  Show bindings.

	* lib/pytis/extensions/help.py: 
	Add sideform links to multiform menu item info.

2008-12-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/output/flibdata.py:
	Added assertion info.

	* lib/pytis/form/form.py:
	Disable default print menu item.

2008-12-18  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: 
	* translations/pytis.de.po: 
	* translations/pytis.es.po: 
	* translations/pytis.fr.po: 
	* translations/pytis.hu.po: 
	* translations/pytis.pl.po: 
	* translations/pytis.sk.po:
	Updated.

2008-12-18  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: 
	* translations/pytis.de.po: 
	* translations/pytis.es.po: 
	* translations/pytis.fr.po: 
	* translations/pytis.hu.po: 
	* translations/pytis.pl.po: 
	* translations/pytis.sk.po:
	Updated.

2008-12-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Use normal (breakable) spaces within index search controls.

2008-12-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: 
	Wrap formatted field content in a div, not a span.

	* lib/pytis/web/field.py:
	Ignore the surrounding paragraph if a formatted field has just one
	paragraph.

2008-11-04  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: 
	* translations/pytis.de.po: 
	* translations/pytis.pl.po: 
	* translations/pytis.sk.po: 
	Deleted obsolete translations.

2008-11-04  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: 
	* translations/pytis.de.po: 
	* translations/pytis.pl.po: 
	* translations/pytis.sk.po: 
	Deleted obsolete translations.

2008-11-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py:
	* lib/pytis/web/__init__.py:
	* translations/Makefile:
	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Fixes of the previous translation changes.

2008-11-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/web/__init__.py:
	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	String length constraint messages slightly improved.

2008-11-03  Milan Zamazal  <pdm@brailcom.org>

	* translations/Makefile:
	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Include lib/data/types_.py into translations.
	Translate some Czech messages.

2008-11-03  Milan Zamazal  <pdm@brailcom.org>

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Translations updated.

2008-10-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py:
	Check column existence in restored conditions using two columns as
	operands.
	
	* lib/pytis/form/form.py:
	* lib/pytis/form/application.py: 
	Ask for removal of invalid saved filter.

	* lib/pytis/form/list.py:
	Recover after invalid filter application.

2008-10-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Added support for custom search result messages.

2008-10-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/spec.py:
	Allow specification of `grouping' as a method.

2008-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Look for FT operators only in Operator instances.

2008-10-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/configui.py: 
	* lib/pytis/util/configuration.py:
	* lib/pytis/form/event.py:
	Allow permanent setting of sender address in Config UI.

	* lib/pytis/form/event.py:
	Send bug-report mail using smtplib, not direct `sendmail'
	invocation.

2008-10-20  Pavel Hanak  <hanak@asellus.cz>

	* db/db_pytis_menu.py: New database specification for menu storage.

2008-10-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/__init__.py: 
	* lib/pytis/web/dialog.py: 
	* lib/pytis/web/field.py: 
	* lib/pytis/web/form.py: 
	Added translators comments.

	* lib/pytis/form/application.py:
	* lib/pytis/form/command.py:
	* lib/pytis/form/commands_.py:
	* lib/pytis/form/dualform.py:
	* lib/pytis/form/form.py:
	* lib/pytis/form/inputfield.py:
	* lib/pytis/form/screen.py:
	* lib/pytis/form/search.py:
	Manage saved filters through filter menu toolbar control, not in
	filter dialog.

2008-10-14  Tomas Cerha  <cerha@brailcom.org>

	* translations/Makefile:
	Extract also translator comments.

	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	New (empty) translation files.

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Updated meta information and encoding unified.

2008-10-14  Tomas Cerha  <cerha@brailcom.org>

	* translations/Makefile:
	Extract also translator comments.

	* translations/pytis.es.po:
	* translations/pytis.fr.po:
	* translations/pytis.hu.po:
	New (empty) translation files.

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.pl.po:
	* translations/pytis.sk.po:
	Updated meta information and encoding unified.

2008-10-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py:
	Pass `distinct_on' from 'Specification' to data object
	constructor.

2008-10-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	Allow passing search string and filter conditions to form
	constructor (+ minor fixes).

2008-10-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Inner extra sorting in DISTINCT ON selects removed.

2008-10-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/postgresql.py:
	Typo in SELECT DISTINCT ON fixed.

2008-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	SQL string escaping updated to current standards.

2008-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/postgresql.py:
	DISTINCT ON SQL clauses adjusted to allow arbitrary ordering.

2008-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/dbdata.py:
	* lib/pytis/data/postgresql.py:
	Limited support for DISTINCT ON SQL clauses.

2008-10-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	* lib/pytis/data/pgsql.py:
	* lib/pytis/data/postgresql.py:
	Ensure listening db loops won't start before their connection is initialized.

2008-10-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/output/formatter.py: Corrected indentation error.

2008-10-08  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSchema): New class.

2008-10-08  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSchema): New class.

2008-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/data.py:
	* lib/pytis/data/postgresql.py:
	* lib/pytis/data/types_.py:
	Database full text search support.

2008-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py:
	Missing NotImplementedException class added.

2008-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py:
	* lib/pytis/data/pgsql.py:
	* lib/pytis/data/postgresql.py:
	Quote PostgreSQL notification names.

2008-09-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/__init__.py: 
	* lib/pytis/web/form.py: 
	Added search string UI controls.

2008-09-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py: 
	* lib/pytis/web/form.py: 
	Allow multiple `ListLayout' `content' fields.  Add field id CSS
	classes to all layout fields.

	* lib/pytis/data/types_.py: 
	* lib/pytis/form/inputfield.py: 
	Respect codebook sorting in `ListField'.

2008-09-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (printdirect): Pass keyword
	arguments to PrintResolver.

2008-09-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.enumerate): Fixed
	runtime filter invocation.

	* lib/pytis/web/form.py:
	Added support for active filter selection.
	Added experimental support for search string queries. 

2008-09-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: 
	Added support for `ListView' found record highlighting.

	* lib/pytis/data/data.py:
	* lib/pytis/form/application.py:
	* lib/pytis/form/commands_.py:
	* lib/pytis/form/form.py:
	* lib/pytis/form/list.py:
	* lib/pytis/form/search.py:
	* lib/pytis/form/screen.py:
	Added (experimental) support for toolbar filter menu.

2008-09-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	The `form-name' argument renamed to `form_name'.  Respect
	`form_name' also for the `search' argument.

	* lib/pytis/presentation/spec.py: 
	* lib/pytis/form/form.py:
	Added support for condition identifiers and default filter
	specification.

2008-09-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: 
	Fixed invalid concatenation of translatable texts.
	
	* lib/pytis/data/types_.py: 
	* lib/pytis/web/field.py: 
	* lib/pytis/web/form.py: 
	Automatically format structured text fields in web forms.

2008-09-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.insert_text): New method.

	* lib/pytis/form/form.py: Allow access to form fields through a public
	method `field()'.

2008-09-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py:
	All references to `exporter' replaced by `context' (according to
	LCG).
	
	* lib/pytis/web/form.py:
	Only export the information about the asterix sign, if the sign
	was used in the form.

	* lib/pytis/presentation/spec.py: 
	* lib/pytis/web/form.py:
	Added support for automatic ListView row indexes.

	* lib/pytis/util/util.py:
	(argument_names): Handle functions with no arguments correctly.
	
	* lib/pytis/presentation/spec.py:
	Don't convert functions to Computer instances automatically, but
	provide a conveninence wrapper function 'computer()'.

	* lib/pytis/presentation/spec.py:
	Link documentation updated.

2008-08-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow.validate): Test unique
	only if value is not None.

2008-08-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py:
	* lib/pytis/data/postgresql.py:
	Support for multiple (both columns and rows) return values of SQL functions.

2008-08-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	Use pg_has_role SQL function for determing user's PostgreSQL roles.

2008-08-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py:
	When determing user's PostgreSQL roles, add his own role to the list.

2008-08-12  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.sk.po:
	Updated.

2008-08-12  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po:
	* translations/pytis.de.po:
	* translations/pytis.sk.po:
	Updated.

2008-08-08  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/dbutils.py (enum): Pass kwargs.

2008-08-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (MultiBrowseDualForm.filter): New method.

2008-08-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Make run form commands inactive, if
	they refer to an inaccessible binding.

	* lib/pytis/form/dualform.py (MultiSideForm.select_binding): Show an
	error message when the form is not accessible.

	* lib/pytis/form/list.py: Show sideform name in link title with
	'binding' specification.

2008-07-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py: Logging messages translated to English.

	* lib/pytis/data/postgresql.py: Logging messages translated to English.

	* lib/pytis/form/application.py: `select_side_form' -> `select_binding'.

	* lib/pytis/form/dualform.py: `select_side_form' -> `select_binding'.

	* lib/pytis/form/list.py: `select_side_form' -> `select_binding'.

2008-07-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: Added support for multiform links.

	* lib/pytis/form/application.py (new_record): Pass also `spec_kwargs'.

2008-07-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (new_record_mitem): Pass keyword
	arguments as command args.

2008-07-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._cmd_new_record): Pass
	`spec_kwargs' to `run_form()'.

	* lib/pytis/util/resolver.py (Resolver._get_spec): Pass the `kwargs'
	to the specification class constructor rather than to the method.

	* lib/pytis/presentation/spec.py (Specification.view_spec): Pass the
	keyword arguments to the 

	* lib/pytis/form/form.py (Form): New argument `spec_kwargs' to pass
	specification constructor arguments.

	* lib/pytis/form/configui.py (ConfigForm._create_view_spec): Pass
	kwargs to the ViewSpec constructor.

	* lib/pytis/form/dualform.py: Added support for `ShowForm' in multi
	form side forms.
	(DualForm._create_view_spec)
	(DescriptiveDualForm._create_view_spec)
	(MultiForm._create_view_spec)
	(MultiBrowseDualForm._create_view_spec): Accept kwargs.
	(MultiBrowseDualForm): Added support for side form selection
	through constructor arguments and an instance method.

	* lib/pytis/form/list.py (ListForm._cmd_export_file): Fix the case,
	when `pyExcelerator' is not installed.
	(SideBrowseForm._init_attributes): Accept binding parameters
	directly, not as a BindingSpec instance.

2008-07-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/defs.py (_get_default_select.init_select):
	Correct calling of db_operation.

2008-07-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Disable group headings in `ItemizedView'.

2008-07-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Specification): Allow specification
	of `conditions' as a method.
	(Binding): Added support for 1:1 relations and binding identifiers.

2008-07-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Don't show grouping columns when not in
	columns.  Fix group headings in `ListView'.  Don't care about used
	fields, always create `_Field' instances for all existing fields.
	Added support for formatting templates in `ItemizedView' items and
	`ListView' title.
	(BrowseForm._export_index_search_controls): Leave spaces between
	index links.

	* lib/pytis/presentation/spec.py (FieldSpec): Allow more convenient
	computer specification.
	(ListLayout): Docstring updated.

	* lib/pytis/form/search.py (SFDialog._selected_condition): Don't allow
	wildcard matching for binary types.

	* lib/pytis/data/types_.py: Boolean validation fixed.  Wildcard
	matching enabled only for string types.

2008-07-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (BrowseForm): Fallback to column uri for the
	first column if the record uri is None.

2008-06-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/output/formatter.py: Respect `None' values in
	`Table.Column' `label' specification as described in the
	docstring.

2008-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec): Added support for
	`bindings'.
	(Specification.__init__): Pass the new style bindings to ViewSpec.

2008-06-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added support for multi-level alphabetical
	indexes.

	* lib/pytis/form/application.py: Use new `ExitDialog' constructor
	arguments.

	* lib/pytis/form/dialog.py (ExitDialog): Further generalizations.
	(RunFormDialog): `MultiBrowseDualForm' added.

2008-06-25  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

2008-06-25  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

2008-06-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (_MenuItemReader._content):
	Recognize dual specifications by name, not by form type.

2008-06-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Add formely saved startup forms to
	the list of forms within the exit dialog.

	* lib/pytis/form/dialog.py (ExitDialog): Don't work with form
	instances, just with a generic list of items.

	* lib/pytis/form/form.py (descr): Converted to a class method.

2008-06-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (BrowseForm): Added support for "index navigation".

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.distinct): Added
	support for selection of distinct string prefixes.

2008-06-19  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/spec.py (mf): Nová funkce.

2008-06-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (MultiForm): Handle forms with insufficient
	permissions.  Added support for keyboard form switching.  Handle
	form focus correctly.  Handle activation.

	* lib/pytis/form/application.py (current_form): Test if `_application'
	is alive.

	* lib/pytis/form/commands_.py: New command
	`MultiForm.COMMAND_NEXT_FORM'.  Added keyboard shortcuts.

2008-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Binding): Allow Bindings
	without a binding column just with condition.

	* lib/pytis/form/dualform.py
	(MultiSideBrowseForm.SubForm._init_attributes): Allow Bindings
	without a binding column just with condition.
	(MultiForm): Save/restore the active form correctly.
	(MultiForm._on_page_changed): Explicitly focus the selected form.

2008-06-16  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Added 'bigint'.

2008-06-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py: Disable the title bar in multi-form
	inner forms.

	* lib/pytis/form/list.py: Allow disabling the title bar in derived
	classes.

	* lib/pytis/form/application.py (Application._create_toolbar_button):
	Added a hack for special handling of DualForm.COMMAND_OTHER_FORM.

	* lib/pytis/form/screen.py (wx_button): Docstring updated.

	* lib/pytis/form/commands_.py: DualForm.COMMAND_OTHER_FORM added to
	toolbar.

2008-06-13  Tomas Cerha  <cerha@brailcom.org>

	* icons/dual-form-active-down.png: New file.

	* icons/dual-form-active-up.png: New file.

2008-06-13  Tomas Cerha  <cerha@brailcom.org>

	* icons/dual-form-active-down.png: New file.

	* icons/dual-form-active-up.png: New file.

2008-06-12  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Value of `pg_rewrite.ev_type' is of type `char', not `integer'. 	

2008-06-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: Don't create form toolbar.  Form toolbar
	actions transformed to commands to allow their invocation from
	application toolbar. 

	* lib/pytis/form/configui.py (ConfigForm._create_print_menu): Renamed to `_print_menu'.

	* lib/pytis/form/commands_.py: Define UI commands to be used both for
	toolbar buttons and menu items.

	* lib/pytis/form/command.py (UICommand): New class.

	* lib/pytis/form/application.py: Create a toolbar.

	* lib/pytis/form/event.py (_is_user_event): Exclude
	`wx.UpdateUIEvent'.
	
2008-06-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm._export_field): Escape enumeration
	display values.

	* lib/pytis/presentation/field.py (PresentedRow.enumerate): Sort the
	items according to codebook's cb_spec or view_spec sorting.

	* lib/pytis/data/types_.py (DataEnumerator.values): New argument
	`sort'.

2008-06-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (current_form): Handle also multi
	forms.

	* lib/pytis/form/dualform.py: Added experimental support for
	multi side forms.

	* lib/pytis/presentation/spec.py (Binding): New class (experimental).

2008-06-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/_test.py (TutorialTest.test_it): Test updated.

	* lib/pytis/web/form.py (ItemizedView): New class.
	(ListView): Docstring added.

2008-05-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/field.py
	(PresentedRow.original_presented_row): New method.

2008-05-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_user_config_file.default): Don't set if the
	file actually doesn't exist.
	(Configuration._read_configuration): Read `user_config_file' even
	if `config_file' is not defined.  Don't suppress errors when
	reading `user_config_file'.
	(Configuration.__getattr__): Check `config_file' and
	`user_config_file' independently.
	(Configuration.__setattr__): Allow dynamic setting of `user_config_file'.

2008-05-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py
	(BrowseForm.__init__.browse_form_uri_provider): Image URI handling fixed.

2008-05-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (Password.test_validation): Fix one of the
	older tests.

2008-05-19  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/types_.py (Password): New parameter `strength'.

2008-05-16  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/email_.py (SimpleEmail.send): Definuj
	promìnnou `server'.
	(SimpleEmail): Rozli¹uj odchytávané výjimky pøi odesílání mailu.

2008-05-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type.lookup_column):
	Use of undefined variable removed.

2008-05-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (DateTime.current_gmtime): New method.

2008-05-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLStandardBindingHandler): Use
	_pdbb_table_column_data class wide.

2008-05-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.fetchone.skip): Don't
	run fetch SQL command when asking for 0 rows.

2008-05-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Instead of asking database about each
	database column separately, ask about all columns at once, thus
	reducing number of initial SQL queries.

2008-05-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py (_DBAPIAccessor._postgresql_query.do_query):
	Locking exception detection updated for new psycopg version.

2008-05-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (direct_public_members): Once again reworked.
	The undocumented change from 2005-05-24 was probably broken and
	makes no sense to me.  At least tests work now.  If there is still
	anything wrong with the function, please write appropriate tests
	and make them work.

2008-05-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (direct_public_members): Test more correctly
	for the presence of the __class__ attribute.

2008-05-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (XStack): 
	* lib/pytis/util/util.py (XStack): 

	XStack tests and docstrings adjusted according to actual XStack behavior

	This changes semantics of the class.  But because the current XStack behavior
	is implemented this way for about three years now, I assume the class semantics
	is determined by its implementation.

2008-05-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm.__init__): Assertions added.

2008-04-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbapi.py (_DBAPIAccessor._postgresql_query): Handle
	also `dbapi.NotSupportedError' which occures in newer dbapi versions.

2008-04-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm): Always expect a sequence of FIELD,
	MSG pairs in `errors' constructor argument.

2008-04-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/screen.py (Menu.__init__): Item can be empty tuple.

	* lib/pytis/util/configuration.py
	(Configuration._Option_auto_menu_accel): Let default value be True.

2008-04-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._cmd_export_xls): Use `datetime'
	module to export date and time values.

2008-04-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._cmd_export_xls._process_table):
	We have to export floats as strings, because of bug in python-excelerator.

2008-04-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py: Change `_cmd_export_csv' to
	`_cmd_export_file'.
	(ListForm._cmd_export_file): New method.
	(ListForm._cmd_export_xls): New method.
	
	* lib/pytis/form/commands_.py: New command 'EXPORT_FILE'.
	Use command `COMMAND_EXPORT_FILE' instead of 'COMMAND_EXPORT_CSV'.

	* lib/pytis/data/types_.py (DateTime.format): New public method.

2008-03-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added support for group headings.

	* lib/pytis/presentation/spec.py (ViewSpec): New option
	`group_heading'.

2008-03-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): New shortcut for
	`ListForm.FILTER_BY_CELL'.

	* lib/pytis/data/postgresql.py: Added information to assertion
	messages.

2008-03-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/configui.py (_LABELS, _LAYOUT): Added
	`config.auto_menu_accel'.

	* lib/pytis/form/screen.py (Menu.create): Respect
	`config.auto_menu_accel'.

	* lib/pytis/util/configuration.py (_Option_auto_menu_accel): New
	option.

2008-03-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Don't apply grouping if sorting is not the
	default.

2008-03-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (ListView._wrap_exported_rows): Wrap the rows
	into a grid if multiple columns are specified.
	(BrowseForm._style): Grouping implemented.

	* lib/pytis/presentation/spec.py (ListLayout): New argument `columns'.

2008-03-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (LayoutForm._export_packed_field): Avoid
	aligning codebook fields as numeric.

2008-03-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (recent_forms_menu): Check if
	application is not None.

	* lib/pytis/web/form.py (EditForm._export_field): Export enumerator
	option values to fix support for Date/Time types in enumerations.
	(EditForm): Validation error display improved.

2008-03-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction): Added argument 'security_definer'.

2008-03-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction): Added argument 'security_definer'.

2008-03-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (LayoutForm._export_fields): Avoid unnecessary
	packing of a single compact field.
	(_SubmittableForm.__init__): Supply the default submit label even
	of None is passed to `submit'.

2008-03-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Textarea display improvements.

	* lib/pytis/web/field.py: Textarea display improvements.

2008-02-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Hacks for fixing form display in MSIE.

2008-02-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (ShowForm): Allow numeric fields anignment.

	* lib/pytis/form/screen.py: Added support for menu autoindex
	keyboard access.

	* lib/pytis/form/commands_.py: Cosmetic changes.

	* lib/pytis/form/application.py: Added support for menu autoindex
	keyboard access.

2008-02-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Always take a `PresentedRow' instance as a
	constructor argument.

2008-02-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm._export_field): Set the `fullsize'
	style when width is None for textarea.

2008-02-20  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/output/formatter.py (LoutFormatter._format_text): Try to
	solve the problem with ' & ' at the end of wrapped elements such
	as '@B'.
	(LoutFormatter._format_conc): See above.

2008-01-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (ListTable._cached_value): Indent the first
	column according to tree level.
	(ListTable._update_columns): Update the tree level column.

2008-01-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Fixes for wx 2.8.x.

	* lib/pytis/form/inputfield.py (InputField._set_focus): Focus the
	current tab if the field is in a `wx.Notebook'.

	* lib/pytis/data/postgresql.py (PostgreSQLStandardBindingHandler._pg_insert)
	(PostgreSQLStandardBindingHandler._pg_update): Escape `%' signs in
	query values when binary values are passed as `query_args'.

2008-01-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (wx_button): Don't disable the button when
	the command is not enabled.

	* lib/pytis/form/form.py (EditForm._create_button): Set button
	availability explicitly.

2008-01-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (wx_button): New argument `update'.  Don't
	bind to UPDATE_UI events to temporarily solve the problem of
	freezes.

	* lib/pytis/form/list.py: Cosmetic changes.

	* lib/pytis/form/form.py (RecordForm.readonly, EditForm.readonly): New
	methods.
	(EditForm._create_button): Set button UI updates explicitly.

2008-01-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: `ListForm.COMMAND_CONTEXT_ACTION' ->
	`RecordForm.COMMAND_CONTEXT_ACTION'.

	* lib/pytis/form/form.py (RecordForm): Implement
	`COMMAND_CONTEXT_ACTION' here.
	(EditForm._create_button): Added support for action buttons?

	* lib/pytis/form/list.py (ListForm): Support for
	`COMMAND_CONTEXT_ACTION' moved to `RecordForm'.

	* lib/pytis/form/screen.py (wx_button): Make botton available
	according to command availability.  New argument `width'.

	* lib/pytis/presentation/spec.py (Button): New argument `enabled'.
	Allow references to actions.
	(Action): New argument `name'.
	(ViewSpec): Check actions refered by buttons.

2008-01-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (MenuOverviewReader._create_section)
	(_DualDescrReader._default_description_text): Pou¾ívej
	`BindingSpec.help()', pokud je text definován.

2008-01-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (BindingSpec): New specifier `help'.

	* lib/pytis/form/inputfield.py (ListField._reload_enumeration): Fixed
	bug in previous commit.
	(InputField._disable): Gray out the field no matter what.

2008-01-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL._pg_make_row_from_raw_data): 
	Added support for `non-UTC' database columns.
	
	* lib/pytis/data/types_.py (DateTime): Added support for `non-UTC' database
	columns.

2008-01-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._reload_enumeration): Print
	yes/no for boolean values.

2008-01-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pg_select): Added forgotten
	`transaction' argument in `_pg_query'.
	(PostgreSQLStandardBindingHandler._pg_update): Added forgotten
	`transaction' argument in `_pg_query'.

2007-12-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_group_panel): New method.
	(EditForm._create_form_controls): Added support for tabs.

	* lib/pytis/presentation/spec.py (TabGroup): New class.

2007-12-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._current_row): New method.
	(ListField._menu): Add `ListField.COMMAND_DELETE_SELECTED'.
	(ListField._can_delete_selected, ListField._cmd_delete_selected):
	New methods.

	* lib/pytis/form/commands_.py: New command
	`ListField.COMMAND_DELETE_SELECTED'.

	* lib/pytis/form/form.py (Form.__init__): Handle exceptions instead of
	testing the returned value of `create_data_object()'.
	(RecordForm._cmd_delete_record): Cosmetic improvements.

	* lib/pytis/form/application.py (Application.create_data_object):
	Raise error if data object was not created.  Moved to a function
	`create_data_object()'.
	(Application._cmd_new_record): Pass the current transaction to
	`on_new_record()'.

2007-12-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.create_data_object): New method.
	(create_data_object): New function.

	* lib/pytis/form/form.py (Form._create_data_object): Use global
	function `create_data_object()'.

	* lib/pytis/data/types_.py (DataEnumerator.rows): Added support for
	transactions.

	* lib/pytis/data/data.py (Data.select_map): Pass the transaction to
	the `fetch()' calls.

	* lib/pytis/form/commands_.py: New command
	`ListField.COMMAND_NEW_CODEBOOK_RECORD'.
	(ListField.COMMAND_INVOKE_EDIT_FORM): Renamed to	
	`ListField.COMMAND_EDIT_SELECTED'.

	* lib/pytis/form/inputfield.py (ListField._create_ctrl): Adjust column
	widths according to column labels.
	(ListField._reload_enumeration): Respect the current transaction.
	(ListField._cmd_invoke_edit_form): Renamed to
	`_cmd_edit_selected'.
	(ListField._cmd_edit_selected): Respect the current transaction.
	Call `on_edit_record' if needed.
	(ListField._cmd_new_codebook_record): New command handler.
	(ListField._cmd_invoke_codebook_form): Reload enumeration after
	the codebook form is closed.

2007-12-20  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

	* translations/pytis.de.po: Updated.

	* translations/pytis.pl.po: Updated.

	* translations/pytis.sk.po: Updated.

2007-12-20  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

	* translations/pytis.de.po: Updated.

	* translations/pytis.pl.po: Updated.

	* translations/pytis.sk.po: Updated.

2007-12-19  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/dbconfig.py (DBConfig.__setitem__): Smazání
	zapomenutého printu.

2007-12-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._create_ctrl): Use
	`column_label()' instead of `label()'.
	(Invocable): Inline editation bug fixed.

2007-12-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added support for alternative layouts.  Don't
	align numeric fields in `EditForm'.

2007-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (FIELD_STYLE_DEFAULT)
	(FIELD_STYLE_EMPHASIS, FIELD_STYLE_WARNING): New constants.
	(FieldStyle): New alias.

2007-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (BrowseForm): Added support for named styles.
	(LayoutForm): Align numeric fields in the layout.

	* lib/pytis/presentation/spec.py (Style): New constructor argument and
	method `name'.
	(FieldStyle, FIELD_STYLE_DEFAULT, FIELD_STYLE_EMPHASIS)
	(FIELD_STYLE_WARNING): Removed.
	(ViewSpec): Default value of `row_style' set to None.

2007-12-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec): Removed option
	`on_line_commit'.  Updated docstring for `cleanup'.

	* lib/pytis/form/list.py (ListForm._can_filter_by_cell): New method.
	(ListForm._on_line_commit): Call `cleanup' instead of
	`on_line_commit'.
	(ListForm._cmd_insert_line): Disable inline insert if
	`on_new_record' is defined.
	(ListForm._edit_cell): Disable inline editation if
	`on_edit_record' is defined.

	* lib/pytis/form/screen.py (wx_text_view): Updated for recent LCG
	version.

2007-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (SideBrowseForm.on_selection): Don't reset
	filtering after main form selection.

2007-12-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Updated for latest LCG version.

2007-11-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/request.py (FileUpload.filename): Docstring imporoved.

	* lib/pytis/web/form.py: Escape the URI passed to form action.

2007-11-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/__init__.py: Define `debug'.

	* lib/pytis/web/form.py (EditForm.__init__): Treat `layout.order()' as
	a tuple.

	* lib/pytis/presentation/spec.py (LayoutSpec.__init__): Store the
	`order' as a tuple.

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Cast `DateTime'
	to `timestamp', not `date'.

	* lib/pytis/data/_test.py (DataEnumerator.test_get): Use
	`DataEnumerator.row()' instead of `DataEnumerator.get()'.
	(DBDataDefault.setUp): Pass `DataEnumerator' instance as
	`enumerator' to `DBColumnBinding', not just a data object.

2007-11-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/dbconfig.py (saved_config_writer): Convert
	pickled config to unicode.
	(pytis_config_reader): New function.
	(pytis_config_writer): New function.
	(saved_config_writer, saved_config_reader): Returned to previous version.

	* db/db_pytis_config.py (read_pytis_config, write_pytis_config):
	Bad `where' condition corrected.

2007-11-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (Form.__init__): Assertion fixed.

2007-10-31  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/email_.py (SimpleEmail.send):
	Call `server.quit' only if exists.
	(SimpleEmail.smtp_to): New method.
	(SimpleEmail.send): Use it.

2007-10-30  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/email_.py (SimpleEmail.send): Correct
	arguments for `smtplib.sendmail'.	
	(SimpleEmail.create_headers): Add `Date' header to message.

2007-10-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec): Docstring updated.

2007-10-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (LayoutForm): Added support for
	horizontal groups.  Respect empty labels.  Stretch horizontal
	groups to page width.

	* lib/pytis/presentation/spec.py (GroupSpec): Automatically convert
	sequences to vertical groups.

2007-10-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/__init__.py: Import `field'.  Validation message
	localization hacks moved here.

	* lib/pytis/web/field.py: New module.

	* lib/pytis/web/form.py: Use field formatters for form field export.

	* lib/pytis/presentation/spec.py (GroupSpec.order): New method.
	(LayoutSpec.__init__): Use it.

2007-10-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (CbComputer): Fixed default value
	substitution.

2007-10-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField): Improved list height
	computation.

	* lib/pytis/presentation/field.py (PresentedRow.cb_value)
	(PresentedRow._display_func): Use `DataEnumerator.row()' instead
	of `DataEnumerator.get()'.
	(PresentedRow._display_func): Added support for passing the whole
	enumerator data row into the display function.

	* lib/pytis/presentation/spec.py (FieldSpec, CodebookSpec): Docstrings
	and asserts updated for new definition of `display' function.
	(CbComputer): Use `DataEnumerator.row()' instead of
	`DataEnumerator.get()'.

	* lib/pytis/util/util.py (argument_names): New method.

	* lib/pytis/data/types_.py (DataEnumerator.get): Method replaced by a
	more general method `row()'.

	* lib/pytis/web/form.py: Field export divided into several methods.

2007-10-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/dbconfig.py (saved_config_reader.reader):
	Use new sql function `read_pytis_config'.

2007-10-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Updated for newer LCG interface.

2007-10-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb2colvalue): Use
	`DataEnumerator.row()' instead of `DataEnumerator.get()'.

	* lib/pytis/extensions/defs.py:  Use new `db_operation'
	interface.

	* lib/pytis/extensions/dbutils.py: Use new `db_operation'
	interface.

2007-10-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._on_line_commit): Add forgotten
	dictionary for `kwargs'.

2007-10-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (db_operation): Don't call
	`login_hook' if `_application' does not run.

	* lib/pytis/web/form.py: Allow `ShowForm' layout within `ListView'.
	(ListLayout): Moved to `spec.py'.

	* lib/pytis/presentation/spec.py (ViewSpec): New parameter
	`list_layout'.
	(ListLayout): New class.

	* lib/pytis/data/dbapi.py (DBDataDefaultClass.__init__): Respect
	`config.dblisten'.

2007-10-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py: Use simplified `db_operation' interface.

	* lib/pytis/form/dialog.py: `db_operation' moved to `application.py'.

	* lib/pytis/form/application.py: `db_operation' moved here.
	Implemented login hook.  Handle database exceptions during menubar
	initialization.

	* lib/pytis/form/screen.py (wx_button): Allow passing `command'
	instead of a `callback'.  Display command shortcut keys in
	tooltip.  Allow fullsize buttons.

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): New shortcut
	`Ctrl-Shift-Enter' for
	`EditForm.COMMAND_COMMIT_RECORD(next=True)'.

	* lib/pytis/form/configui.py (ConfigForm._buttons): Respect super
	class changes.

	* lib/pytis/form/event.py (top_level_exception): Log brief traceback
	if cgitb fails.

	* lib/pytis/form/form.py: Use simplified `db_operation' interface.
	(EditForm._cmd_commit_record): New argument `close'.
	(PopupEditForm._cmd_commit_record): New argument `next'.
	(PopupEditForm._buttons): Create buttons using `wx_button'.  Use
	commands, not callbacks.

	* lib/pytis/form/list.py: Use simplified `db_operation' interface.
	(ListForm._create_search_panel): Pass command to `wx_button()'.

	* lib/pytis/presentation/spec.py (FieldSpec._init): Prevent namespace
	problems within lambda functions.

2007-10-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/dbutils.py: Don't pass connection data to
	`DataEnumerator' constructor.

2007-10-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Don't care about enumerators here.

	* lib/pytis/data/dbdata.py (DBColumnBinding): Don't care about
	enumeretors here.

	* lib/pytis/presentation/field.py (PresentedRow.completions): New
	method.  Respect `CodebookSpec.enable_autocompletion'.
	(PresentedRow._completer): Pass enumerator kwargs from field
	specification to completer DataEnumerator constructor.

	* lib/pytis/presentation/spec.py (FieldSpec):
	`codebook_runtime_filter' -> `runtime_filter'.
	(CodebookSpec): New argument and method `enable_autocompletion'.
	(DataSpec, Specification): Create enumerator instances here and
	pass them to DBColumnBinding as other type keyword arguments.

	* lib/pytis/form/inputfield.py: Use 'PresentedRow.completions()'.

2007-10-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (DataEnumerator.values): New argument `max'.

	* lib/pytis/presentation/spec.py (FieldSpec): New argument and method
	for `completer'.

	* lib/pytis/form/inputfield.py (_Completer): New class.
	(TextField): Use completers for all codebook feilds, as well as
	for fields with `completer' defined.

2007-10-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Respect `display' for boolean fields.

	* lib/pytis/form/list.py (ListForm._on_incremental_search_key_down):
	Handle empty list.

	* lib/pytis/presentation/spec.py: Backwards compatibility for
	`editable' and `style' fixed.  Color value assertions removed.

2007-10-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._compute_editability):
	Pass just one argument to the `editable' function.

	* lib/pytis/presentation/_test.py: Define editable function with just
	one argument.

	* lib/pytis/web/form.py: Apply row and field styles.

	* lib/pytis/presentation/spec.py (Color): Define color values directly
	in constants.
	(FieldStyle): Renamed to `Style'.  Default color values changed to
	`None'.  New properties `overstrike' and `underline.
	(FieldSpec): Allow `style' and `editable' functions to take just
	one argument -- the PresentedRow instance.

	* lib/pytis/form/screen.py: Expect color values in `Color' constants
	and allow also color hex-string specifications.

	* lib/pytis/form/_grid.py: Implemented style inheritance and new style
	specifiers.
	(ListTable._cached_value): Pass just one argument to the `style'
	function.

2007-10-04  Pavel Hanak  <hanak@asellus.cz>

	* db/db_pytis_config.py: DB objects for saved user configuration.

2007-10-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Improved `display' presentation.

	* lib/pytis/form/list.py (ListForm._create_search_panel): Handle
	prefill correctly.

2007-10-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFSDialog._create_choice): Use `wx_choice()'.
	(SFSDialog._create_text_ctrl): Use `wx_text_ctrl()'.

	* lib/pytis/form/screen.py (color_dictionary): Function removed.
	(init_colors): Initialize color database here
	(wx_button): Docstring improved.
	(wx_choice, wx_text_ctrl, wx_checkbox): New functions.

	* lib/pytis/form/commands_.py (FORM_COMMAND_MENU): Removed
	`COMMAND_INCREMENTAL_SEARCH(full=True)'.

	* lib/pytis/form/_grid.py (IncrementalSearch): Class removed.

	* lib/pytis/form/form.py (RecordForm.set_prefill): Method removed.

	* lib/pytis/form/list.py (ListForm._refresh): Only reselect row if
	current key does not match.
	(SideBrowseForm): Take binding specification as a constructor
	argument and make use of it where possible.
	(ListForm): New implementation of incremental search.

	* lib/pytis/form/dualform.py: Reverted yestarday's change in selection
	comparison.
	(SideBrowseDualForm): Leave all binding logic to `SideBrowseForm'.
	(SideBrowseDualForm._do_selection): Removed incremental search hack.

2007-10-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py: All `super_()' calls converted to use
	`super()'.
	(PostponedSelectionDualForm._on_main_selection): Compare just key
	values, not whole data rows.  This should prevent unwanted
	reselections on side form editation, which changes main form data.

	* lib/pytis/util/log.py (Logger._is_accepted): Class filtering fixed.

	* lib/pytis/form/list.py: Minor docstring improvement. 

2007-10-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm): Added row context menu item for
	`BrowseForm.COMMAND_NEW_RECORD(copy=True)'.

	* lib/pytis/form/configui.py (ConfigForm.__init__): Pass
	`select_row=0' to parent constructor.  Don't call
	`self._select_row()' and `self._init_select()'.

	* lib/pytis/web/form.py: Distinguish image and link URI provider. 

	* lib/pytis/presentation/spec.py (FieldSpec): The constructor argument
	and method `thumbnail' removed.

2007-09-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/configui.py: Extend field width for
	`export_directory' option.

2007-09-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (ShowForm, BrowseForm): Use the display value
	only if `prefer_display' was set to true.

	* lib/pytis/presentation/spec.py (CodebookSpec.prefer_display)
	(FieldSpec.prefer_display): New methods and constructor arguments
	of the same name.

	* lib/pytis/presentation/field.py (PresentedRow.prefer_display): New method.

2007-09-25  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Check python path before installation.
	(cvs-update): Overwrite locally modified files.
	
2007-09-25  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Check python path before installation.
	(cvs-update): Overwrite locally modified files.
	
2007-09-24  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Allow repeated cvs-install.

2007-09-24  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Allow repeated cvs-install.

2007-09-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm): Include key value in a hidden field.

2007-09-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py: Prevent segfault on boolean cell doubleclick.

2007-09-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (Fields): Class moved to `pytis'.

2007-09-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Fields): New class.

	* lib/pytis/web/form.py (BrowseForm): Only include page controls if
	there is more than one page.

2007-09-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Fields): New class supporting field
	inheritance.

2007-09-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added support for custom list layout.

2007-09-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Generate descriptions also for
	COMMAND_NEW_RECORD in Menu overview.

2007-09-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Table export optimized.  Fixed codebook
	display in tables.  Show paging controls on both sides of a table.

2007-09-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (BrowseForm._export_controls): Page count
	computation fixed.

2007-08-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (MenuOverviewReader): New class.

2007-08-29  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/spec.py (run_cb): Pøedávej parametr sort.

2007-08-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm.sorting): New method.

2007-08-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py: Respect password type without verification.

	* lib/pytis/web/form.py: Respect password type without verification.

	* lib/pytis/data/types_.py (Password): Make password verification optional.

	* lib/pytis/web/request.py: New file.

2007-08-23  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Pass -dP to cvs update.

2007-08-23  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Pass -dP to cvs update.

2007-08-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (Fields): New class.

2007-08-21  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/form/form.py (EditForm._commit_form): Set correct
	transaction for result row.

2007-08-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec): Allow multi-level
	inheritance.

	* lib/pytis/form/inputfield.py (PasswordField._validate): Handle
	`_ORIGINAL_VALUE' also on new record.

	* lib/pytis/web/form.py: Use safer unicode characters to avoid
	problems in MSIE.  Handle null values in tree level column.

2007-08-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): New argument
	'inherit' to allow inheritance.

	* lib/pytis/util/configuration.py
	(Configuration.dump_config_template): Wrong argument name fixed.

	* lib/pytis/form/inputfield.py: Handle invalid default values of
	enumeration fields.

2007-08-20  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/data/postgresql.py (DBPostgreSQLFunction.call): Restore
	previous behavior (do not backup function calls).

	* lib/pytis/data/postgresql.py (DBPostgreSQLFunction.call): Do backup
	also for function calls.

2007-08-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py: Display a fake value in password
	fields if the password was defined.

	* lib/pytis/web/form.py: Major refactoring.  Added support for
	browsing long lists and sorting.

2007-08-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec): Pass the 'minlen'
	argument to data type.

	* lib/pytis/form/inputfield.py (PasswordField): New class.

	* lib/pytis/data/_test.py: New tests for type 'Password' and 'minlen'.

	* lib/pytis/data/types_.py (Limited): Added support for 'minlen' limit.
	(Password): Added support for md5 passwords.
	(TreeOrder): New type.

2007-08-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py: Don't allow aggregation functions on
	non-numeric data types.

2007-08-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Respect the changes in 'Configuration'
	class interface.

	* lib/pytis/form/configui.py: Respect the changes in 'Configuration'
	class interface.

	* lib/pytis/util/configuration.py: Respect the order of configuration
	option definitions.  Allow direct access to option instances.
	(description, documentation, type, changed): Methods removed.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Added `unique'
	to the list of allowed data type kwargs.

2007-08-09  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py (_GsqlViewNG._format_rule.get_key_column):
	Corrected problem by getting `key column'.

2007-08-09  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py (_GsqlViewNG._format_rule.get_key_column):
	Corrected problem by getting `key column'.

2007-08-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py: Allow separate access to each
	option's description and documentation strings.
	
	* lib/pytis/form/configui.py: Respect the above change.

	* lib/pytis/web/form.py: Display a color sample for 'Color' fields.


2007-08-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintFormExternal.run): Run the formatter
	twice.

2007-08-02  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py: Added automated recognition of keys for
	tables in rules.

2007-08-02  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py: Added automated recognition of keys for
	tables in rules.

2007-08-01  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/form/output.py (PrintFormExternal._run_viewer):
	Transform params from config option into list of arguments.

2007-07-30  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py (Select._format_relations.format_relation):
	Corrected problem, when no condition for relation is specified.

2007-07-30  Pavel Hanak  <hanak@alfik.akont.xx>

	* tools/gensql.py (Select._format_relations.format_relation):
	Corrected problem, when no condition for relation is specified.

2007-07-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py: `Option' subclasses made public.
	Pretty print default values in config file dump.

2007-07-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFSDialog._create_choice)
	(SFSDialog._create_text_ctrl): Rely on global tooltip settings.

	* lib/pytis/form/screen.py (wx_button): Rely on global tooltip
	settings.

	* lib/pytis/form/inputfield.py (InputField.__init__): Rely on global
	tooltip settings.

	* lib/pytis/form/configui.py (Module, _ConfigData.update):
	Enable/disable tooltips globally.

	* lib/pytis/form/list.py (ListForm._update_label_tooltips): Minor
	improvement.
	
	* lib/pytis/form/form.py (EditForm._commit_form): Create a new
	transaction here and not in `_load_next_row()'.
	(PopupEditForm._on_skip_button): Handle correctly the end of
	inserted data.

	* lib/pytis/form/application.py: Show a progress dialog when launching
	multiple startup forms.
	
2007-07-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._update_label_tooltips): Change the
	tooltip only when necessary.

2007-07-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Catch startup
	form invocation errors.

2007-07-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm): Show field descriptions as column
	label tooltips.

2007-06-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Reset startup forms if the user
	doesn't save the current state.

	* lib/pytis/presentation/field.py (PresentedRow.permitted)
	(PresentedRow.codebook, PresentedRow.key): New methods.
	(PresentedRow._set_row): Always use `FieldSpec' data type.
	(PresentedRow): Don't care about field types within the `changed()'
	and `field_changed()' methods.

	* lib/pytis/form/inputfield.py: Avoid using `PresentedRow.data()' method.
	Don't validate when the transaction is already closed. 

	* lib/pytis/form/dualform.py: Avoid using `PresentedRow.data()' method.

	* lib/pytis/form/form.py: Added a hack to pass an independent, but
	initialized data object to application defined procedures.

2007-06-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: New command `ListForm.COMMAND_COPY_AGGREGATION_RESULT'.

	* lib/pytis/form/screen.py: Clipboard copying fixed.

	* lib/pytis/form/list.py: Turn on aggregation functions defined in
	specification.  Handle aggregation result copying and add the
	command to the context menu.  

	* lib/pytis/presentation/spec.py: Added support for turning on
	aggregation functions in specification.

	* lib/pytis/presentation/field.py: Handle closed transactions in
	codebook display computation.

2007-06-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLConnector._pg_query): Raise
	DBUserException when trying to use closed transaction.

2007-06-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBPostgreSQLTransaction.open): New
	method.

2007-06-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: Define the callback `CALL_USER_INTERACTION'
	in the base class.  Call it on popup menu display.

	* lib/pytis/form/list.py: Callback `CALL_USER_INTERACTION' moved to
	the parent class.

	* lib/pytis/form/inputfield.py (InputField._on_idle): Previous hack removed.

	* lib/pytis/form/dialog.py (ExitDialog): Allow setting the checkbox
	initial state.

	* lib/pytis/form/application.py: Remember the state of exit dialog checkbox.

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Added a
	quick hack to ignore multicolumn unique constraints.

2007-06-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/defs.py: Added support for checking dual
	form bindings.

2007-06-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: Close popup form before commiting its transaction.

2007-06-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._on_idle): Exit if the
	field control is not shown.

2007-06-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm.Record): New `PresentedRow'
	subclass aware of its form.

	* lib/pytis/form/_grid.py: Use `Form.record()' to create new
	`PresentedRow' instances.

	* lib/pytis/form/list.py (ListForm): Duplicated method name fixed.

	* lib/pytis/presentation/spec.py (Specification): Allow `sorting' to
	be also defined by a method.

	* lib/pytis/form/application.py: Use `ExitDialog' on exit and save the
	forms for next startup.  Use saved forms together with `congig.startup_forms'.

	* lib/pytis/form/dialog.py (ExitDialog): New dialog with a choice of
	forms to open at next application startup.

2007-06-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Window commands moved to the menu of windows.

	* lib/pytis/form/inputfield.py (CheckBoxField._set_value): Accept also
	null values (as an empty string).

	* lib/pytis/form/list.py: Added support for showing/hiding row
	labels and aggregation labels within them.

	* lib/pytis/form/commands_.py: New command `ListForm.TOGGLE_ROW_LABELS'.

2007-06-21  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/extensions/spec.py (format_value): New function.

2007-06-21  Tomas Cerha  <cerha@brailcom.org>

	* icons/agg-avg.png: New file.

	* icons/agg-max.png: New file.

	* icons/agg-min.png: New file.

	* icons/agg-sum.png: New file.

	* icons/aggregate.png: New file.

	* icons/unaggregate.png: New file.

2007-06-21  Tomas Cerha  <cerha@brailcom.org>

	* icons/agg-avg.png: New file.

	* icons/agg-max.png: New file.

	* icons/agg-min.png: New file.

	* icons/agg-sum.png: New file.

	* icons/aggregate.png: New file.

	* icons/unaggregate.png: New file.

2007-06-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/extensions/dbutils.py: Use function to retrieve
	config.dbconnection instead of using config.dbconnection directly.

2007-06-20  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/form/inputfield.py (GenericCodebookField._run_codebook_form): 
	By invoking CodebookForm take into account `validity_condition'.
	
	* lib/pytis/data/types_.py (DataEnumerator.validity_condition): See above.

2007-06-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py: Don't use menu icons for 'CheckItem'.

	* lib/pytis/form/form.py: Added aggregation toolbar button.

	* lib/pytis/form/list.py: Aggregation result display in table
	implemented.

	* lib/pytis/form/commands_.py: New commands
	ListForm.TOGGLE_AGGREGATION, ListForm.AGGREGATE and
	ListForm.UNAGGREGATE.  Defined their icons.

2007-06-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb2strvalue): Method removed.
	(get_value): New method.

2007-06-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: Remember the top level sizer as an
	attribute.

	* lib/pytis/form/list.py: Minor cleanup.

	* lib/pytis/form/_grid.py (ListTable.__init__): Omit the
	`inserted_row_number' and `inserted_row_prefill' arguments.

	* lib/pytis/data/data.py: Cosmetic change.

	* lib/pytis/presentation/field.py (PresentedRow.cb_value): New method.

	* lib/pytis/form/event.py (top_level_exception): Improved bug
	information in message subject.

	* lib/pytis/presentation/spec.py (CbComputer._compute): Pass the
	current runtime filter condition.

	* lib/pytis/form/configui.py (_ConfigData.__init__): Pass keyword
	arguments to parent method.

2007-06-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/event.py: Include the error message in bug report
	subjects.

	* lib/pytis/form/list.py: Don't recreate cell editors during editation.

	* lib/pytis/form/_grid.py: Deregister the cell editor.

2007-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Generate also access groups for
	dual views and related dual views for each single view.

2007-06-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py (AccessRights._permitted): Don't crash when
	user groups couldn't be retrieved, allow the action instead.

2007-06-15  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/postgresql.py (PostgreSQLUserGroups): Deuglified and
	fixed.

2007-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py: Perform UNIQUE constraint
	validation.

	* lib/pytis/form/application.py: Make use of `PopupInsertForm'.

	* lib/pytis/form/_grid.py: Don't share the form's data object with
	`PresentedRow' instances.

	* lib/pytis/data/types_.py: Fixed unwanted enumerator data object
	creation on data type construction.

	* lib/pytis/form/list.py (ListForm._create_form_parts): Don't pass
	`description' to `_create_title_bar()'.  Don't share the form's
	data object with `PresentedRow' instances.

	* lib/pytis/form/form.py (TitledForm._on_show_description): Show the
	help text instead of description if it is available.
	(TitledForm._create_title_bar): Argument 'description' removed.
	(PopupInsertForm): New class.
	(RecordForm._init_attributes): Don't share the form's data object
	with `PresentedRow' instances.
	(Form.__init__): The keyword argument `spec_args' removed.
	(Module): 

	* lib/pytis/presentation/spec.py: Use the specification class
	docstring for the default `help', not for `description'.  Use
	`connection_data' instead of `dbconnection_spec'.

2007-06-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Updated for newer LCG version.
	Print the list of stray description files.

2007-06-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (wx_text_view): Updated for the latest LCG version.

	* lib/pytis/presentation/spec.py (Specification._create_view_spec):
	Default title setting fixed.

2007-06-13  Pavel Hanak  <hanak@alfik.akont.xx>

	* lib/pytis/data/postgresql.py 
	(PostgreSQLUserGroups._pgg_retrieve_access_groups):
	Don't use the argument `data'.
	(PostgreSQLUserGroups.access_groups): See above.

2007-06-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLConnector.__init__): Don't
	replace connection pool if it has already been created.
	(PostgreSQLAccessor._postgresql_open_connection)
	(PostgreSQLAccessor._postgresql_close_connection): Make them
	classmethods.

	* lib/pytis/data/pgsql.py: See above.

	* lib/pytis/data/dbapi.py: See above.

2007-06-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Ask for
	column uniqueness outside transaction.

2007-06-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbapi.py
	(_DBAPIAccessor._postgresql_rollback_transaction): Reset client
	encoding.

2007-06-11  Milan Zamazal  <pdm@brailcom.org>
	
	* config/config.py: db_encoding configuration option removed.

	* lib/pytis/data/postgresql.py: See above.

	* lib/pytis/util/configuration.py: See above.

	* lib/pytis/form/list.py: See above.

2007-06-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm._cmd_delete_record): Select proper
	row after deleting the record.

2007-06-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLNotifier.after_init): New
	method.

	* lib/pytis/data/data.py (Data.after_init): New method.
	(DataFactory): Use it.

2007-06-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._display_func.getval):
	Use the right column for runtime filter condition.

2007-06-06  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/data.py (DataFactory.create): Pou¾ívej cachování
	datových objektù.
	
2007-06-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataNotification.test_side_notification):
	Report expected and actual change numbers.

2007-06-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (DataFactory.create): Copy instance
	attributes, not only instance itself.

2007-06-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Make selection identifiers unique even
	when data instances are copied from cache.

2007-06-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py: Support for `unique' type property.
	
	* lib/pytis/data/postgresql.py: See above.

	* lib/pytis/data/_test.py: See above.

2007-06-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.select_and_aggregate): Aggregate
	results clarified.

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.select_and_aggregate):
	Use its own implementation retrieving all columns at once.  Be
	more careful about column types.

2007-06-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (SelectionType.RADIO_BOX): Renamed to
	`RADIO'.

	* lib/pytis/form/inputfield.py: Use new `SelectionType' constants.
	(ListBoxField): Respect `height' specification.  Make the selected
	value visible.

	* lib/pytis/web/form.py: Minor optimization.  Fixed `EditForm'
	constructor bug.

	* lib/pytis/presentation/field.py: Pass the runtime filter condition
	only to `DataEnumerator' methods.  Pre-compute recursive computer
	dependencies in the constructor.

	* lib/pytis/data/types_.py: Removed forgotten unused method `make_me_safe()'.

2007-06-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefault.test_select_and_aggregate):
	New test.

	* lib/pytis/data/postgresql.py
	(PostgreSQLConnector._make_transaction): New method.

	* lib/pytis/data/data.py (Data.select_and_aggregate): New method.

2007-06-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pg_select_aggregate): Use
	database column name in the SQL command, not logical column name.

2007-06-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (Popen.__init__): Ignore error on closing
	file descriptors in the parent.

2007-05-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py: Removed all garbage related to the old
	runtime filter implementation.

	* lib/pytis/form/commands_.py: CSV import added to the commands menu.

	* lib/pytis/form/form.py: CSV import fixed.

	* lib/pytis/presentation/field.py: Codebook runtime filter handling
	reimplemented.

	* lib/pytis/form/inputfield.py: Likewise.

2007-05-31  Tomas Cerha  <cerha@brailcom.org>

	* icons/export.png: Improved.

	* icons/import.png: New icon.

2007-05-31  Tomas Cerha  <cerha@brailcom.org>

	* icons/export.png: Improved.

	* icons/import.png: New icon.

2007-05-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/data.py: Use XOR for hash composition to Aviod int exceeding.

	* lib/pytis/data/types_.py: Use XOR for hash composition to Aviod int exceeding.
	Allow passing runtime filter conditian to validation.

2007-05-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py: Make some classes hashable.

	* lib/pytis/data/data.py: Likewise.

2007-05-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (new_record): Added support for
	disabling the "Next" button.

	* lib/pytis/form/form.py: Don't make the commands for update/delete
	unavailable according to permissions.  Instead refuse to perform
	them when invoked.
	(PopupEditForm): Added support for disabling the "Next" button.

	* lib/pytis/form/list.py: Separate explicit links in row context menu.

2007-05-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: Pass `prefill' on next row initialization.

	* lib/pytis/presentation/field.py: Allow passing `prefill' also to the
	`set_row' method.

	* lib/pytis/presentation/spec.py (Specification): Don't support
	multicolumn keys.  Allow `key' to be a string.

	* lib/pytis/form/inputfield.py (ListField._load_list_data): Invalid
	`range()' usage fixed.

2007-05-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py
	(GenericCodebookField._init_attributes): Don't manipulate with
	enumerators, create and register row change callback instead.
	(ListField._load_list_data): Honor value condition.

	* lib/pytis/presentation/field.py (PresentedRow): Handle filter
	changes in a similar way as computers.
	(PresentedRow._notify_runtime_filter_change): Removed.

	* lib/pytis/data/types_.py: Provide method arguments instead of
 	instance modification in DataEnumerator.

2007-05-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._run_callback):
	Deuglified.

2007-05-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._load_list_data): Use safe
	enumerator methods.

	* lib/pytis/data/types_.py (DataEnumerator.rows): New method.

2007-05-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.last_row_number):
	Restore stopped select if necessary.

2007-05-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/web/form.py (CheckRowsForm.__init__): Invalid variable
	reference fixed.

2007-05-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (_SubmittableForm): New class.
	(EditForm, CheckRowsForm): Derive from it.
	(CheckRowsForm): Consider all checkable columns to be Boolean
	columns present in the row.

2007-05-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/web/form.py (CheckRowsForm.__init__): New arguments and
	attributes `handler' and `action'.
	(CheckRowsForm._export_row): Make checkboxes checked according to
	the corresponding values.
	(CheckRowsForm._export_buttons, CheckRowsForm.export): New
	methods.

2007-05-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: Removed outdated comment.

	* lib/pytis/form/dualform.py: Cosmetic improvement.

	* lib/pytis/presentation/field.py: Don't invoke computers on
	initialization, when the passed 'row' is None and 'new' is False.
	Reinitialize also virtual columns on each `set_row' call.

	* lib/pytis/presentation/_test.py: Updated.

	* lib/pytis/form/form.py (PopupForm.run): Rollback only if transaction
	is defined.
	(EditForm._commit_form): Reset the row even if the data insert
	operation desn't return the inserted row.

2007-05-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands.make_lock_command.find_real_key):
	Return None if the information can't be retrieved.

2007-05-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (CheckRowsForm): New class.

	* lib/pytis/form/inputfield.py: Use the config option for invalid
	field color.

	* lib/pytis/util/configuration.py: New option `field_invalid_color'.

	* lib/pytis/presentation/field.py: Don't invoke callbacks when the
	value is changed through validation.  Add a key column if it
	is not present in field specifications.

	* lib/pytis/form/form.py: Form creation logging improved.

	* lib/pytis/form/list.py: Fixed unwanted list position changes.

	* lib/pytis/form/configui.py: Grouping improved.  Added controls for
	field colors.

2007-05-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py: Don't create just another `PresentedRow'
	instance for the ListTable but share the form's instance.

	* lib/pytis/data/types_.py (Binary.Buffer.load): Allow passing the
	original filename.

	* lib/pytis/form/inputfield.py: Removed forgotten print.  Call
	`_on_change' also for text fields manually.  Pass the original
	filename of file data.

	* lib/pytis/form/form.py: Use the new command handling mechanism.
	Always report the ShowForm unchanged.  Allow overriding the
	singleline argument for the created `PresentedRow' instance.
	(ShowFoem): Avoid unwanted computer invocations on initialization.

	* lib/pytis/form/list.py: Use the new command handling mechanism.
	Create the PresentedRow instance as singleline and pass it to
	`ListTable'.  Avoid unwanted computer invocations on PresentedRow
	initialization.

	* lib/pytis/form/application.py: Detect dual forms in startup_forms
	automatically.

	* lib/pytis/presentation/field.py: Save the original_row before
	executing the initial computers.  Allow passing validation
	arguments.  Always recreate the stored data row to make sure it
	has all the needed columns.  Minor improvements.  Make sure the
	order of fields in the data row corresponds to the order of field
	specifications.

	* lib/pytis/presentation/_test.py: Test it.

2007-05-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py: Compute dirty values when saving
	the original row.  Added support for validation and keeping track
	invalid user input values.

	* lib/pytis/presentation/_test.py: New tests.

	* lib/pytis/form/_grid.py: Don't duplicate things now implemented in
	PresentedRow.

	* lib/pytis/form/list.py: Updated for the changed cell editor and
	`EditedRow' interface.

	* lib/pytis/form/inputfield.py: Major cleanup, improvements and a few
	bugfixes.

	* lib/pytis/form/form.py: Fixed a problem with transactions and
	multiple uses of PopupEdit.  Updated for the changed interface of
	input fields.  Inserted row initialization fixed.

2007-05-16  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (Select.set_columns): Oprava odsazení.

2007-05-16  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (Select.set_columns): Oprava odsazení.

2007-05-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py: Updated (fixed) for the new dialog creation strategy.

	* lib/pytis/form/inputfield.py (ImageField._disable): Stupid bug fixed.

2007-05-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/output.py (PrintFormInternal.__init__): Take other key arguments.
	(PrintFormExternal.__init__): Take other key arguments.

2007-05-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (IncrementalSearch._on_key_down): Don't pass
	the transaction to `self._search()', it is neither defined nor necessary.

2007-05-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm._on_line_rollback): If there is no
	governing transaction, rollback the current transaction.

	* lib/pytis/form/form.py (PopupForm.run): If there is no result,
	rollback governing transaction.

2007-05-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands.make_lock_command):
	Correct forgotten `else'.
	
2007-05-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py: Dialog creation process modified to allow a
	resizable traceback in bug report dialog.

	* lib/pytis/form/form.py: Create the PresentedRow instance directly in
	the constructor.  Don't handle synchronization of input fields and
	the row.

	* lib/pytis/form/inputfield.py: Connect directly to the edited
	`PresentedRow' instance.

	* lib/pytis/form/list.py: Recreate cell editors before each cell
	editation.

	* lib/pytis/form/_grid.py: Use the new `InputField' interface.

	* lib/pytis/form/application.py: Treat `select_row' as other
	constructor arguments.

	* lib/pytis/presentation/spec.py: Respect the changed 'PresentedRow'
	interface.

	* lib/pytis/presentation/field.py: Allow per-field callback
	registration.

	* lib/pytis/presentation/_test.py: Test callbacks.

	* lib/pytis/form/screen.py: Minor changes.

	* lib/pytis/form/dualform.py: Minor change.

2007-05-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/data.py (DataFactory.create): Don't use data object
	cache, till we find out, what's wrong...

	* lib/pytis/form/configui.py (_ConfigData): All data methods take also
	the argument `transaction'.

	* lib/pytis/form/inputfield.py (CodebookField._on_codebook_insert):
	Use transaction for codebook form.

	* lib/pytis/form/form.py (PopupForm.run): Commit transaction only if
	the form was commited.
	(__init__): Initialization of transaction moved to `set_row'.
	(PopupEditForm.set_row): New method.
	(PopupEditForm._on_next_button): Reinitialize transaction if needed.

2007-05-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py (db_operation): Return values in proper
	order on failure.

2007-05-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py
	(DBDataPostgreSQL._pg_begin_transaction): If in select, close it first.
	
2007-05-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (top_level_exception): Print detailed
	traceback to log.

2007-05-03  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands.make_lock_command):
	Lock only the given row of the view.  If single row of a view
	can't be locked, don't lock at all.
	
	* lib/pytis/data/_test.py (DBDataNotification.test_side_notification):
	See above.

2007-04-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataNotification.test_side_notification):
	Don't require change counters to be initially 0.

	* lib/pytis/data/data.py (Data.cacheable, MemData.cacheable): New
	methods.
	(DataFactory.create): Get the data object from cache if possible.

2007-04-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/spec.py (CbComputer._compute): Added support
	for user transactions.

	* lib/pytis/presentation/field.py (PresentedRow.set_transaction): New
	method.  
	(PresentedRow.get_transaction): New method.

	* lib/pytis/form/list.py: 'Transactions' support reworked.

	* lib/pytis/form/inputfield.py: Save PresentedRow in the instance.
	Validate with given transaction.

	* lib/pytis/form/form.py: 'Transactions' support reworked.
	Save transaction into PresentedRow. Save PresentedRow
	into each InputField.

	* lib/pytis/form/application.py (new_record, _cmd_run_form):
	Take into account 'transaction' argument.

	* lib/pytis/form/_grid.py: Take into account 'transaction' argument.

	* lib/pytis/data/types_.py: Added support for transaction in
	validating with	DataEnumerator.

2007-04-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/data.py (Row.__init__): Typping error corrected.

2007-04-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.save, DualForm.restore): New
	methods.

2007-04-26  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/data.py: `transaction' argument added to many
	methods.

2007-04-26  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/form/list.py (ListForm.focus): Grid restoration removed.
	
2007-04-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL): Automatically
	restore previously closed select.

2007-04-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py: Release data only if not edited.

2007-04-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.close): Reset buffer.

2007-04-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Zohledni mo¾nost výskytu záporných `id' objektù.

2007-04-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py: Allow passing enumerator directly
	through `DBColumnBinding'.

	* lib/pytis/presentation/spec.py: Allow passing enumerator directly
	through `FieldSpec'.

	* lib/pytis/web/form.py: Added support for hierarchy
	indication in `BrowseForm'.  Mark the 'THEAD' and `TBODY' sections
	in html.

2007-04-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.focus): Call _update_grid.

	* lib/pytis/form/form.py (Form.save): Call `sleep' on the form data object.

2007-04-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (DBDataPostgreSQL.select): Call `close'
	only if in select.
	(DBDataPostgreSQL.close): Call CLOSE query if select is active
	within user transaction.
	(DBDataPostgreSQL._pg_commit_transaction)
	(DBDataPostgreSQL._pg_rollback_transaction): Set _pg_is_in_select
	to False.

2007-04-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py: Allow binding by a sole
	condition (without binding columns).  Don't require explicit
	`title' in binding specification.

	* lib/pytis/form/dualform.py: See above.

	* lib/pytis/form/list.py (SideBrowseForm): The interface changed
	significantly to ignore the binding logic here.

	* lib/pytis/form/application.py: Apply a filter on a form found on the
	window stack.

	* lib/pytis/form/form.py: Make the `_filter()' method public.
	
2007-04-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/postgresql.py: Escape `%' in the initial filtering condition.

	* lib/pytis/presentation/spec.py (DataSpec): Marked as deprecated.
	Pass the initial filtering condition.

	* lib/pytis/data/data.py (MemData): Don't apply the initial filtering
	condition recursively.

2007-04-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py: Support for initial filtering condition in
	data objects.
	
	* lib/pytis/data/postgresql.py: See above.

2007-04-13  Tomas Cerha  <cerha@brailcom.org>
	
	* lib/pytis/presentation/spec.py: Remove the `condition' specification
	from `ViewSpec' but rather pass it to the data object from `Spec'.

	* lib/pytis/form/form.py: Reverted previous implementation of the
	static filter.

2007-04-13  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py: Oprava chyby pøi formátování podmínek
	pro spojování relací.

2007-04-13  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py: Oprava chyby pøi formátování podmínek
	pro spojování relací.

2007-04-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (bf, df): Pass all kwargs.

2007-05-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/extensions/dbconfig.py (DBConfig): Make the data
	access lock a class attribute instead of an instance attribute.

2007-05-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (cb2strvalue):
	Take into account tarnsactions.

2007-05-09  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/dbutils.py (dbupdate_many):
	Take into account transactions.

2007-04-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py: Take into account transactions.

	* lib/pytis/extensions/misc.py: Take into account transactions.

	* lib/pytis/extensions/dbconfig.py: Take into account transactions.

2007-04-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py: Make the `Suck' button active only if the
	active row exists.

	* lib/pytis/presentation/spec.py (ViewSpec): New argument `condition'
	for specification of a `hardcoded' data filter.

	* lib/pytis/form/form.py: Allow user filter initialization through a
	form constructor argument.  Use the underlying filtering condition
	defined in ViewSpec.

2007-04-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py: Make sure the operator is either `NE' or
	`EQ' for binary data.

	* lib/pytis/data/postgresql.py: Allow also `NE' operator for comparing
	binary data with a NULL value.

2007-04-06  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/spec.py (sf): New function.

2007-04-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/dbconfig.py (DBConfig): Perform selects
	with locking.

2007-04-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py (DBAccessRights): New class.
	(AccessRights.permitted_groups): Consider implicit rights.

2007-04-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (BrowseForm): New constructor argument
	`columns'.

2007-04-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (run_procedure_mitem.enabled):
	Fixed.

2007-04-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (EditForm): Announce the meaning of the
	asterisk sign.
	(BrowseForm._export_cell): Transformed into `_export_value'.  Use
	`display' for codebook fields.

2007-04-03  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

2007-04-03  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: Updated.

2007-04-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added hack to support localization of
	validation message arguments.  Display the asterisk for not-null
	fields by the label, not by the field.

2007-03-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (run_procedure_mitem): New argument
	`groups'.

2007-03-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: Handle the argument `enabled' of `Link'
	specification.

	* lib/pytis/presentation/spec.py: New argument `enabled' for `Link'
	specification.

	* lib/pytis/form/application.py: New argument `enabled' for command
	`Application.COMMAND_NOTHING'.

2007-03-28  Tomas Cerha  <cerha@brailcom.org>

	* icons/link.png: Fixed background transparency.

2007-03-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_returns): Oprava
	zapomenutého returns.

2007-03-28  Tomas Cerha  <cerha@brailcom.org>

	* icons/link.png: Fixed background transparency.

2007-03-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_returns): Oprava
	zapomenutého returns.

2007-03-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (ArgumentType): Nová tøída.
	(_GsqlFunction.__init__): Zmìna argumentu `input_types'
	na `arguments'.
	(_GsqlFunction._split_arguments): Nová metoda.
	(_GsqlFunction._format_arguments): Nová metoda.
	(_GsqlFunction._format_returns): Nová metoda.
	(output): Zohledni pøedchozí zmìny.

2007-03-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (ArgumentType): Nová tøída.
	(_GsqlFunction.__init__): Zmìna argumentu `input_types'
	na `arguments'.
	(_GsqlFunction._split_arguments): Nová metoda.
	(_GsqlFunction._format_arguments): Nová metoda.
	(_GsqlFunction._format_returns): Nová metoda.
	(output): Zohledni pøedchozí zmìny.

2007-03-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py
	(SimpleEmail): Moved to 'email_.py'.

	* lib/pytis/extensions/email_.py: New file.

2007-03-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (RegexString): New class.
	(Identifier): Class removed.
	(Color): Derive from `RegexString'.

	* lib/pytis/web/form.py: Validation messages updated.  Added support
	for non-table layout, labeled fieldsets, showing not-null sign and
	showing field help.  Fixed table cell export.

2007-03-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: If none of the view subobjects can be
	used for locking, don't lock the view.

	* lib/pytis/data/_test.py (DBDataDefault.test_lock_view): See above.

2007-03-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py: 
	(RecordForm): Do not pass argument `transaction' to the methods of
	self._data, if `self._transaction' is None. Thus we can avoid
	passing this argument to the methods of classes other than
	DBDataPostgreSQL (e.g. RestrictedMemData).

2007-03-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added new validation messages.  Added support
	for password validation and hiding.

2007-03-15  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlType): Nová tøída.
	(ReturnType): Nová tøída.
	(_GsqlFunction._format_output_type): Nová metoda.
	(_GsqlFunction.output): Zohledni output type.
	(sqltype): Nová funkce.

2007-03-15  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlType): Nová tøída.
	(ReturnType): Nová tøída.
	(_GsqlFunction._format_output_type): Nová metoda.
	(_GsqlFunction.output): Zohledni output type.
	(sqltype): Nová funkce.

2007-03-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._unpack_condition): Make
	additional assertions to verify condition validity.

2007-03-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Be more cautious about views when
	retrieving INSERT results.

	* lib/pytis/data/dbdata.py (DBInsertException): See above.
	
	* lib/pytis/data/_test.py (DBDataDefault): See above.

2007-03-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Build SQL locking commands only on
	demand.

2007-03-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/evaction.py (_evparse): Don't handle all identifiers
	starting with `f' or `t' as booleans.

2007-03-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Use LCG's generator instead of the `_html'
	module.

	* lib/pytis/web/dialog.py: Use LCG's generator instead of the `_html'
	module.

2007-03-07  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (SimpleEmail): Nová tøída.

	* lib/pytis/extensions/dbutils.py: Zohlednìní
	argumentu transactions z nového datového rozhraní.
	
2007-03-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (PopupForm.run): Ignore errors on the commit
	call.

2007-03-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py Refuse stored conditions, which are
	not displayable in the search/filtering dialog.

2007-03-02  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Added the `cvs-install' option.

2007-03-02  Tomas Cerha  <cerha@brailcom.org>

	* Makefile: Added the `cvs-install' option.

2007-03-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._lock_record.dbop): Don't run
	locking quietly.

2007-03-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added support for displaying image thumbnails.

	* lib/pytis/presentation/_test.py New tests.

	* lib/pytis/presentation/field.py (PresentedRow.get): New method.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): New argument
	`thumbnail'.

	* lib/pytis/data/types_.py (Binary.Buffer.path): New method.

2007-03-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/postgresql.py (DBPostgreSQLFunction.call):
	Nový argument `transaction' a jeho zohlednìní.

2007-02-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (PopupForm.run): New argument `transaction'.

2007-02-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py: Ensure user transaction is finished (if
	possible) before test_partial_transaction is exited.
	
2007-02-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Added basic support for Binary data types.

	* lib/pytis/form/inputfield.py: Respect the change in `Binary.Buffer'
	constructor.

	* lib/pytis/data/types_.py: Added support for passing an open file to
	`Binary.Buffer' constructor, as well as passing the original file
	name and MIME type.

2007-02-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py: Updated for new locking mechanism.
	
	* lib/pytis/form/_grid.py: See above.
	
	* lib/pytis/form/list.py: See above.

2007-02-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Support for partial transaction
	rollbacks.
	
	* lib/pytis/data/_test.py: See above.

2007-02-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py: pytis.data.Data.*lock*_row removed.
	
	* lib/pytis/data/dbdata.py: See above.
	
	* lib/pytis/data/_test.py: See above.

2007-02-21  Pavel Hanak  <hanak@asellus.cz>

	* INSTALL (Requirements): Added `python-imaging' and `psycopg2'
	dependencies.

2007-02-21  Pavel Hanak  <hanak@asellus.cz>

	* INSTALL (Requirements): Added `python-imaging' and `psycopg2'
	dependencies.

2007-02-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: Support for user transaction and
	PostgreSQL locking.
	
	* lib/pytis/data/dbdata.py: See above.

	* lib/pytis/data/dbapi.py: See above.  Don't close connections on
	exceptions.
	
	* lib/pytis/data/pgsql.py: See above.

	* lib/pytis/data/_test.py: Locking test enabled and updated.  User
	transaction tests added.

	* lib/pytis/data/access.py: **kwargs added to several methods.
	
2007-02-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py: Use `Shift' in shortcut key definitions
	even for letters.  Don't wait with keymap initialization until the
	commands are initialized.

	* lib/pytis/form/dualform.py: Fixed `DescriptiveDualForm' side
	selection to work also with side form fields not present in main
	form row (such as big binary fields).

	* lib/pytis/form/search.py: Improved button label.

2007-02-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: Fixed column selection popup menu outside
	the table.

	* lib/pytis/form/application.py: Set application window icons at startup.

	* lib/pytis/form/commands_.py: New icon assignments.

2007-02-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/access.py: Avoid the missleading usage of `accessible'
	in the context of permissions.

	* lib/pytis/form/list.py, pytis/form/form.py: Respect the above
	changes.

	* lib/pytis/util/configuration.py: Disabled background color default
	value made a little lighter.  The option
	`field_inaccessible_color' renamed to `field_denied_color'

	* lib/pytis/form/inputfield.py: Fixed nasty background setting which
	caused invisible selection in some GTK themes.  Avoid the
	missleading usage of `accessible' in the context of permissions.

	* lib/pytis/form/search.py: Wording unified.

	* lib/pytis/form/form.py: Save conditions in a custom format
	consisting just of basic python types.  

2007-02-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py: PostgreSQL command template mechanism
	improved.  Support of multicolumn keys destroyed.

	* lib/pytis/data/_test.py: See above.

2007-02-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py: Deny filter menu in
	DescriptiveDualForm's sideform.

	* lib/pytis/form/application.py: Log errors while closing application.

	* lib/pytis/data/types_.py: Only import Pyro in remote mode.

	* lib/pytis/form/search.py: Minor fix.

	* lib/pytis/form/screen.py: Find out the command icom by command and
	arguments.

	* lib/pytis/form/command.py: Added support to find an icon according
	to a command and its arguments.

	* lib/pytis/form/commands_.py: Aded new command icons.  New shortcut
	for invoking last filter.

	* lib/pytis/form/form.py: Added support for finding out the list of
	filtered columns.  Show filter menu in the titlebar.

	* lib/pytis/form/list.py: Indicate filtered columns by a small funnel
	sign at column heading.

2007-02-16  Tomas Cerha  <cerha@brailcom.org>

	* icons/filter-form.png: New file.
	* icons/hide-column.png: New file. 
	* icons/search-backwards.png: New file. 
	* icons/search-forward.png: New file. 
	* icons/sort.png: New file. 
	* icons/unsort.png: New file. 

2007-02-16  Tomas Cerha  <cerha@brailcom.org>

	* icons/filter-form.png: New file.
	* icons/hide-column.png: New file. 
	* icons/search-backwards.png: New file. 
	* icons/search-forward.png: New file. 
	* icons/sort.png: New file. 
	* icons/unsort.png: New file. 

2007-02-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Only pickle saved/loaded params when
	needed.

	* lib/pytis/form/inputfield.py: Make the image button enabled even if
	the field is disabled.  Allow load a nd reset only for an enabled
	field.
	
	* lib/pytis/data/data.py: Fixed 'NW' operator creation.

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Added
	explicit support for 'NW' operator.

	* lib/pytis/presentation/spec.py: New class for specification of named
	conditions and a new option to pass them to ViewSpec.

	* lib/pytis/form/form.py: Added support for loading and saving user
	defined named conditions as well as named conditions defined in
	the specification.
	Added support for persistent state params, which don't get
	reloaded by RESET_FORM_STATE/RELOAD_FORM_STATE commands.  Saved
	conditions marked as persistent.

	* lib/pytis/form/search.py: Added support for manipulation of named
	conditions.  Added type compatibility check for column comparisons.

2007-02-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py: Fixed prefill bug.

	* lib/pytis/data/postgresql.py: Fixed "IS NOT NULL" operator conversion.

	* lib/pytis/form/list.py: Added support for SFS dialog default column
	selection.
	
	* lib/pytis/form/form.py: Added support for SFS dialog default column
	selection.  Transform sorting spec for passing it to and from the
	sorting dialog.

	* lib/pytis/form/search.py: Heavilly refactored.  Added default column
	selection.  Use data sorting constants instead of form sorting
	constants on input and output.  Focus the value entry field.
	Enlarge choice widgets.

2007-02-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/data.py (MemData._condition2pyfunc): Added support
	for `LT'.  Added support for `ignote_case'.  Added support for
	comparing two columns.  Use operator's translation if it is not
	supported directly.
	(NE, NW, LE, GT, GE): Always create the `Operator' instance.  Pass
	the transformation to primitive operators as `translation' to
	the operator constructor.
	(OR, AND): Cosmetic changes.

	* lib/pytis/data/_test.py (MemData.setUp, MemData._check_condition):
	New metohds.
	(MemData.test_conditions, MemData.test_fetch): New tests.
	(DBDataDefault.test_select_condition): Test also comparing column
	to column.

	* lib/pytis/form/search.py (SFSColumn.label): Neq argument `default'
	(SFDialog._NO_COLUMN): Label set to None.
	(SFDialog._create_content): Added support for selecting the type
	of the second operator -- value or column.
	(SFDialog._selected_condition, SFDialog._on_selection_change)
	(SFDialog._on_clear, SFDialog._on_suck): Expect the new control
	for second arg selection in `self._controls'.
	(SFDialog._selected_condition): Support second argument selection.
	(SFDialog._on_selection_change): Disable value controls when the
	second argument is a column.
	(SFDialog._RELATIONAL_OPERATORS_MAP)
	(SFDialog._LOGICAL_OPERATORS_MAP): New constants.
	(SFDialog._create_content.decompose_condition): Removed functions
	for operator analysis.  Rely on all operators to be expressed by
	their own `Operator' instance.  Use `self._RELATIONAL_OPERATORS_MAP'
	and `self._LOGICAL_OPERATORS_MAP' to recognize them.
	(SFDialog.__init__): New argument `col'.
	(SFDialog._create_content.create_controls): Consider also
	`WMValue' instances as the second operator.
	(SFDialog._create_content): Recover gracefuly if the condition can
	not be decomposed.

	* lib/pytis/data/dbdata.py (DBBinding.__init__)
	(DBColumnBinding.__init__): Assert against `str', not
	`types.StringType'.

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_btabcol): Don't consider
	multicolumn bindings and return always just a string, not a
	sequence.
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type):
	Cosmetical change.
	(PostgreSQLStandardBindingHandler._pdbb_sql_column_list)
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands)
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop)
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql): Expect
	just one columns from `self._pdbb_get_table_type()'
	(PostgreSQLStandardBindingHandler._pdbb_table_row_lists): Don't
	consider multicolumn bindings.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Allow the second operand to be another column identifier, not only
	a Value instance.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Removed
	the commented-out region dealing with
	`pytis.data.xtypes.Codebook'.
	(DBDataPostgreSQL._pg_value): Don't unpack sequences
	automatically, work just with atomic values.
	(DBDataPostgreSQL.row): Call `_pg_value()' on each item of `key'.
	(DBPostgreSQLFunction.call): Call `_pg_value()' on each item of
	`row'.
	(PostgreSQLStandardBindingHandler._pg_insert): Cosmetic change.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Added
	support for all known operators without translation to primitive
	operators.

2007-02-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/_test.py (PresentedRow_.setUp): Added new
	virtual column with default value.
	(PresentedRow_._check_values): New method.
	(PresentedRow_.test_init, PresentedRow_.test_prefill)
	(PresentedRow_.test_computer)
	(PresentedRow_.test_callback): Use it.
	(PresentedRow_.test_prefill_computer): New method.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Updated
	docstring.  Compute default values of all virtual columns.
	Normalize 'prefill' here.
	(PresentedRow._init_row): Don't normalize 'prefill' here.
	(PresentedRow._init_row.genval): Function removed.
	(PresentedRow._default): New method.
	(PresentedRow._init_row): Use it instead of 'genval()'.
	(PresentedRow.__getitem__): Expect `self._virtual' to contain all
	virtual columns.
	(PresentedRow.__init__): Init virtual columns before the row.
	(PresentedRow._init_row): Don't mark all computed fields dirty
	when the row is None.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Allow the
	'default' to be directly the internal value, not just a callable
	object.

2007-02-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py: Completely rewritten...

	* lib/pytis/form/list.py (ListForm.current_field): Method removed.
	(ListForm._filter): -> `_filter_refresh'.

	* lib/pytis/form/form.py (RecordForm.current_field): Method removed.
	(LookupForm._init_attributes): Load `self._lf_search_condition'
	and `self._lf_last_filter' from saved cofig.  Attributes
	`self._lf_search_dialog' and `self._lf_filter_dialog' removed.
	(LookupForm._cleanup): Method removed.
	(LookupForm._lf_sf_dialog): Method removed.
	(LookupForm._cmd_search): Use the new `SearchDialog' interface.
	(LookupForm._is_searching, LookupForm._can_search_next)
	(LookupForm._can_search_previous): Methods removed.
	(LookupForm._filter): New argument `condition'.  Just setup the
	attributes here and call `self._filter_refresh' to perform the
	filter.
	(LookupForm._filter_refresh): New method.
	(LookupForm._cmd_filter): Removed argument `show_dialog'.  New
	argument `condition'.  Use the new `FilterDialog' interface.
	(LookupForm._cmd_unfilter): Just call `self._filter(None)'.
	(LookupForm._cmd_filter_by_value): Don't operate on the dialog
	here, just update the current filter condition.
	(LookupForm._cmd_sort): Pass just the class and constructur
	argument to `run_dialog()'.
	(EditForm._validate_fields): Don't log the value.

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): Filtering remapped to
	`Ctrl-f' (`Ctrl-F4' kept for backwards compatibility).

	* lib/pytis/form/dialog.py (GenericDialog._finish_dialog): Method
	removed.
	(GenericDialog._end_modal): Don't call it.

	* lib/pytis/presentation/field.py (_display_func.getval): Compare the
	value to `None', not just its value in the boolean context.

	* lib/pytis/form/inputfield.py (FileField._enable,
	FileField._disable): Methods removed.
	(FileField.set_value): New method.
	

2007-02-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._displayed_columns_menu): Take
	`self._select_columns()' into account.
	(ListForm._lf_sfs_columns): Use `self._fields' instead of
	`self._view.fields()'.

	* lib/pytis/form/inputfield.py (InputField.set_value): Don't log.
	(InputField.reset): Don't log.

	* lib/pytis/data/postgresql.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Check `rel', not `relop' for binary operator restrictions.

	* lib/pytis/data/data.py (MemData._restrict_row_columns): New method.
	(MemData.row, MemData.select): New argument `columns'.

	* lib/pytis/form/configui.py (_ConfigData.select): New keyword
	argument `columns'

	* lib/pytis/data/types_.py (_Value.__setstate__): Don't call
	`self._init()' here.
	(Value.__setstate__): New method.  Call `self._init()' here.
	(Type.validate): Docstring rewritten.
	(Limited.VM_MAXLEN_EXCEEDED): -> `VM_MAXLEN'.
	(Limited._VM_MAXLEN_EXCEEDED_MSG): -> `_VM_MAXLEN_MSG'.
	(Limited._check_maxlen): `VM_MAXLEN_EXCEEDED' -> `VM_MAXLEN'.
	(String._VM_MAXLEN_EXCEEDED_MSG): -> `_VM_MAXLEN_MSG'.
	(Binary._VM_MAXLEN_EXCEEDED_MSG): -> `_VM_MAXLEN_MSG'.
	(Image): Docstring updated.
	(Image.VM_MAXSIZE, Image._VM_MAXSIZE_MSG, Image._VM_MINSIZE_MSG)
	(Image.VM_FORMAT, Image._VM_FORMAT_MSG, Image.VM_MINSIZE): New
	constants.
	(Buffer.FORMATS): Constant removed.
	(Image.Buffer._validate): Don't validate against `self.FORMATS'.
	(Image.__init__): New method.
	(Image.__cmp__, Image.formats, Image.minsize, Image.maxsize)
	(Image._check_constraints): New methods.

2007-02-08  Petr Malivanek  <malivanek@asellus.cz>

	* tools/gensql.py (_gsql_format_type.MAPPING): Nový typ -
	pytis.data.Image: 'bytea'.

2007-02-08  Petr Malivanek  <malivanek@asellus.cz>

	* tools/gensql.py (_gsql_format_type.MAPPING): Nový typ -
	pytis.data.Image: 'bytea'.

2007-02-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._search): Report the warning in
	the statusline instead of popping up a dialog.

	* lib/pytis/data/_test.py (DBDataDefault.test_binary): Fixed for the
	new Binary interface.

2007-02-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (PopupForm._on_frame_close): Syntax error fixed.

	* lib/pytis/util/util.py (format_byte_size): New function.
	
	* lib/pytis/data/types_.py (format_byte_size): Method removed.
	(Binary._format_maxlen): `Binary.format_byte_size()' ->
	`format_byte_size()'.

	* lib/pytis/form/inputfield.py (FileField._on_set_value):
	`Binary.format_byte_size()' -> `format_byte_size()'

2007-02-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (FileField._INVOKE_TITLE): Text fixed.
	(FileField.get_value): Convert the `Buffer' instance to its
	`buffer'.
	(FileField._set_value): Convert a `buffer' to a `Buffer' instance.
	(_formatted_size): Method removed.
	(_save_file): Method removed.
	(FileField._cmd_load): Use `Buffer' methods to load the file.  Let
	the validation to the `Buffer' class and just catch the exceptions
	here.
	(FileField._cmd_save): Use `Buffer.save()' instead of
	`self._save_file'.
	(ImageField._bitmap): Create the thumbnail here using the
	`PIL.Image' method instead of using `Image.thumbnail()'.
	(ImageField._cmd_view): Use `PIL.Image' methods instead of using
	`Image.format()'.
	(ImageField._cmd_view): Use `Buffer.save()' instead of
	`self._save_file'.  Don't invoke forgotten `ls -l' here.

	* lib/pytis/form/form.py (RecordForm._find_row_by_key): Don't expect
	`key' to be `None'.  Don't convert it to a tuple.
	(RecordForm.select_row): Convert the key to a tuple before calling
	`_find_row_by_key'.  Pass `columns' to `data.row()'.
	(PopupForm._on_frame_close): Test whether `self' is alive.

	* lib/pytis/data/types_.py (Binary): Docstring updated.
	(Binary.Buffer): New class.
	(Binary._validate): Wrap the `buffer' into a `Buffer' instance.
	(Binary._export): Turn a `Buffer' instance into a `buffer'.
	(Binary.format_byte_size): New method.
	(Binary._format_maxlen): Use it.
	(Image): Docstring updated.
	(Image._image, Image.thumbnail, Image.format): Methods removed.
	(Image._SUPPORTED_FORMATS): Costant removed.
	(Image.Buffer): New class.

2007-01-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (Limited._format_maxlen): New method.
	(Limited._check_maxlen): Use it.
	(Binary._format_maxlen): New method.
	(Binary._VM_MAXLEN_EXCEEDED_MSG): Don't presume units here.

2007-01-31  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._can_edit): Added forgotten `return'. 

2007-01-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (Limited): New class.
	(String): Derive from `Limited'.
	(String.VM_STRING_TOO_LONG, String._VM_STRING_TOO_LONG_MSG):
	Constants removed. 
	(String.__init__, String.__cmp__, String.maxlen)
	(String._check_constraints, String._check_maxlen): Methods removed.
	(String._VM_MAXLEN_EXCEEDED_MSG): New constant.
	(Binary): Derive from `Limited'.
	(Binary._VM_MAXLEN_EXCEEDED_MSG): New constant.
	(Image): Derive also from `Big'.

	* lib/pytis/form/form.py (RecordForm._find_row_by_values.find_row):
	Pass `columns' to `data.select()'.
	(LookupForm._select_columns): New method.
	(LookupForm._init_select): Pass `columns' to `data.select()'.

	* lib/pytis/form/list.py (ListForm._select_columns): New method.

	* lib/pytis/form/application.py (Application.OnInit): Use
	`has_access', not `self._can_run_form' to test spec validity.
	(Application._can_run_form): Don't care about dual forms here.
	Ignore resolver errors here.
	(Application._can_new_record): Ignore resolver errors here.
	(has_access): If the name is a dual spec name containing `::',
	split it and check the perms of both parts.  Don't ignore resover
	errors here.
	(has_access): Docstring updated.

	* lib/pytis/util/util.py (Pipe.read): Pass `size' to `lfunction' as a
	keyword argument.

2007-01-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Big, Large): New types.
	(_Value.__unicode__): Don't insert big values.

2007-01-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py: Added assert to require a fallback label
	for non-system icons.

	* lib/pytis/form/form.py (TitledForm._create_title_bar): Pass also
	label to "Show description" button.

2007-01-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFSDialog._create_button): Use
	`wx_button()'.
	(SFSDialog._FIELD_HEIGHT): Set to 26.

	* lib/pytis/form/inputfield.py (Invocable._create_button)
	(ImageField._create_ctrl): Use `wx_button()'.

	* lib/pytis/form/screen.py (get_icon): New arguments `type' and `size'.
	(wx_button): New method.

	* lib/pytis/util/resolver.py (Resolver._call_spec): Method removed.
	(Resolver._get_spec): Don't use `_call_spec'.
	
	* lib/pytis/form/list.py (BrowseForm._PrintResolver._Spec.__init__):
	New constructor.
	(BrowseForm._PrintResolver._Spec.body)
	(BrowseForm._PrintResolver._Spec.doc_header)
	(BrowseForm._PrintResolver._Spec.doc_footer)
	(BrowseForm._PrintResolver._Spec.coding): Make the `resolver'
	argument optional.
	(BrowseForm._PrintResolver._Spec.body): Use `self._resolver'
	instead the one given by the argument.
	(BrowseForm._PrintResolver._get_module): Pass `self' to
	`BrowseForm._PrintResolver._Spec' constructor.
	(BrowseForm._PrintResolver._get_instance): New method.
	(BrowseForm._cmd_print): Consider also None as valid `print_spec'
	value since this is returned by the new `Specification' class.

	* lib/pytis/form/form.py (EditForm._on_field_edit): Don't operate on
	`self._row' if it is None.
	(TitledForm._on_show_description): Add a heading to the
	description text.
	(TitledForm._create_title_bar): Use `wx_button()'.  Don't use the
	description as button tooltip string.  Always create the
	description button, but disable it when no description is
	available...

2007-01-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/defs.py (flatten_menus): Pøesunuto do
	`get_menu_defs()'.
	(get_menu_defs): Zru¹en argument `without_duals' a o¹etøování
	dvojího typu duálních specifikací.
	(menu_report, cmd_menu_report): Zru¹eno.
	(get_default_select.init_select): ->
	`_get_default_select.init_select'.
	(check_form): `get_default_select.init_select' ->
	`_get_default_select.init_select'.
	(check_defs): Slouèeno do `check_menus_defs()'
	(check_menus_defs.check_spec): Opravena chyba v pøidání chybové
	zprávy.
	(cache_spec.do): Vynechávej `data_spec'.

	* lib/pytis/extensions/help.py (ItemNode.__init__)
	(DescrNode.__init__): Store the identifier as `self._name' rather
	than passing it arround to `_create_content()' etc.
	(ItemNode._create_content, MenuNode._create_content)
	(DescrNode._info, DescrNode._create_content)
	(SingleDescrNode._create_content, DualDescrNode._info): Removed
	argument `id'.  Use `self._name' instead.
	(ItemNode._create_content, DualDescrNode._read_spec): Don't care
	about `DualSpec', always count with `BindingSpec'.
	(DescrNode._name, DualDescrNode._name): Method removed.
	(DescrNode._read_spec, DualDescrNode._read_spec): Argument `id'
	renamed to `name'
	(DescrIndex.__init__, MenuNode._create_content): `TableOfNodes' ->
	`NodeIndex'.
	(DescrIndex._create_children): DualForm recognition simplified.

	* lib/pytis/extensions/spec.py (run_any_form): Odstraòen hack s
	podmínìnou definicí nìkterých identifikátorù.

	* lib/pytis/extensions/__init__.py: Pøidán hack s nastavením
	výchozího kódování pøed importem `pytis.form'.  Odstraòen hack s
	podmínìným importem nìkterých modulù.

2007-01-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (_create_view_spec): Don't consider the
	`DualSpec' case.
	(DualForm.title): Return the `BindingSpec' title.
	(help_name): Method removed.
	(SideBrowseDualForm.title): Method removed.
	(SideBrowseDualForm._create_side_form): Don't pass `title' and
	`side_columns'.  Use `self._main_name' and `self._side_name'.
	(BrowseDualForm): Docstring updated.
	(BrowseDualForm._create_main_form): Use `self._main_name'.
	(BrowseDualForm._set_main_form_callbacks): Don't set
	`BrowseForm.CALL_NEW_RECORD'.
	(BrowseDualForm._new_record_hook): Method removed.
	(ShowDualForm._create_main_form)
	(BrowseShowDualForm._create_side_form): Use `self._main_name' and
	`self._side_name'.
	(DescriptiveDualForm.title): New method.

	* lib/pytis/form/application.py (Application._can_run_form): Don't
	consider the `DualSpec' case.

	* lib/pytis/form/form.py (Form._cmd_help): Don't use `help_name()'.
	(Form.help_name): Method removed.
	(RecordForm.CALL_NEW_RECORD): Constant removed.

	* lib/pytis/form/list.py (SideBrowseForm._init_attributes): Removed
	argument `title'.
	(title): Method removed.

	* lib/pytis/presentation/spec.py (BindingSpec.__init__): Docstring updated.
	(DualSpec): Class removed.

2007-01-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (Image): New class.

	* lib/pytis/form/commands_.py (Module): New command
	`ImageField.COMMAND_VIEW'.

	* lib/pytis/form/inputfield.py (InputField.create): Use `ImageField'
	for the `Image' type.
	(InputField._px_size): Argument `ctrl' removed.
	(TextField._create_ctrl): Pass size to the `wx.TextCtrl'
	constructor instead of calling `SetSize()' and `SetMinSize()'.
	(Invocable._create_widget): Don't pass height to
	`_create_button()'.
	(Invocable._button_size): New method.
	(Invocable._create_button, ColorSelectionField._create_button):
	Use it.
	(CodebookField._create_widget): Pass size to the `wx.TextCtrl'
	constructor instead of calling `SetSize()'.
	(CodebookField._create_widget): Don't pass `height' to
	`_create_button()'.
	(FileField._create_ctrl): Pass size to the `wx.TextCtrl'
	constructor instead of calling `SetSize()' and `SetMinSize()'.
	(FileField._button_size): New method.
	(FileField._set_value): Don't set the displayed text, jus call
	`_on_set_value()' here.
	(FileField._on_set_value): New method.
	(FileField._formatted_size): New method.
	(FileField._save_file): New method.
	(FileField._cmd_save): Use it.
	(ImageField): New class.
	(FileField._cmd_load): Validate the file immediately and ignore it
	if not valid.

	* lib/pytis/form/screen.py (get_icon): Use `wx.BitmapFromImage()'
	instead of `wx.Image.ConvertToBitmap()'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_image_viewer): New option.

2007-01-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Allow a sequence
	of functions as `check'.  Convert a single function to a one-item
	tuple.
	(ViewSpec.check): Docstring updated.

	* lib/pytis/form/form.py (RecordForm._check_record): Process `check'
	as a sequence of functions.

2007-01-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._can_edit): New method.

	* lib/pytis/data/access.py (RestrictedMemData): Added docstring.
	Inheritance order swapped.
	(RestrictedMemData.__init__): Use super.  Pass all arguments as
	keywords to parent constructor.

	* lib/pytis/form/inputfield.py (Invocable._create_button):
	Generalized.  New arguments `label', `icon', `width'.  Don't set
	the tooltip here.
	(Invocable._create_widget): Pass the new arguments to
	`_create_button'.
	(ColorSelectionField._create_button): Accept the new arguemnts.
	(CodebookField._create_widget): Use `_create_button' also for
	creating the codebook insert button.
	(FileField._last_save_dir, FileField._last_load_dir): New
	constants.
	(FileField._set_value): Improved file size formatting.
	(FileField._cmd_load, FileField._cmd_save): Set and save the
	default directory.

2007-01-19  Tomas Cerha  <cerha@brailcom.org>

	* Makefile (tags): New target.

2007-01-19  Tomas Cerha  <cerha@brailcom.org>

	* Makefile (tags): New target.

2007-01-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (MemData.__init__): Accept and propagate
	kwargs.

2007-01-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py
	(GenericCodebookField._run_codebook_form): Expect `False' as a
	possible `run_form()' return value.

	* lib/pytis/web/form.py (LayoutForm._export_field): Unset `name' for
	disabled fields.

	* lib/pytis/form/configui.py (_ConfigData.__init__): Use `super()' to
	call the parent constructor.

2007-01-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLConnector._pg_query):
	Logging locking simplified.

2007-01-17  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data: Use new locking functions.
	
	* lib/pytis/output/formatter.py (LoutFormatter._lout): Use new locking
	functions.

	* lib/pytis/util/util.py (with_lock, with_locks): New functions.

2007-01-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/postgresql.py (PostgreSQLConnector._pg_query): When
	calling the logging command, avoid duplicate locking resulting in
	deadlock.

2007-01-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._on_set_focus): Only
	validate the previous field if it is from the same form.
	(Invocable._INVOKE_TITLE, Invocable._INVOKE_HELP)
	(Invocable._INVOKE_ICON): New constants.
	(Invocable._INVOKE_SELECTION_MENU_HELP)
	(Invocable._INVOKE_SELECTION_MENU_TITLE): Constants removed.
	(_call_next_method): Method removed.
	(Invocable._create_widget): Use `super()' instead of
	`_call_next_method()'.
	(Invocable._create_widget): `_INVOKE_SELECTION_MENU_TITLE' ->
	`_INVOKE_TITLE'.
	(Invocable._create_button): Use `wx.BitmapButton' when
	`self._INVOKE_ICON' is defined.
	(Invocable._disable, Invocable._enable): Use `super()' instead of
	`_call_next_method()'.
	(Invocable._menu): `_INVOKE_SELECTION_MENU_TITLE' ->
	`_INVOKE_TITLE'.  Use `super()' to get the parent class menu, not
	hardcoded `TextField' as the parent.
	(DateField._INVOKE_SELECTION_MENU_TITLE): -> `_INVOKE_TITLE'
	(DateField._INVOKE_SELECTION_MENU_HELP): -> `_INVOKE_HELP'
	(CodebookField._on_codebook_insert): Don't return anything.
	(ColorSelectionField._INVOKE_SELECTION_MENU_TITLE): ->
	`_INVOKE_TITLE'
	(ColorSelectionField._INVOKE_SELECTION_MENU_HELP): ->
	`_INVOKE_HELP'
	(CodebookField._INVOKE_SELECTION_MENU_TITLE): -> `_INVOKE_TITLE'
	(CodebookField._INVOKE_SELECTION_MENU_HELP): -> `_INVOKE_HELP'
	(CodebookField._create_widget): Use `super()' to create the base
	widget.  Use a 'new-record' icon instead of the plus sign on the
	codebook insertion button.
	(CodebookField._menu): Use `super()' to get the base menu.
	(FileField): Derive also from `Invocable'.
	(FileField._INVOKE_TITLE, FileField._INVOKE_HELP) 
	(FileField._INVOKE_ICON): New constants.
	(FileField._on_invoke_selection): New method.
	(FileField._menu): Use `Invocable's super class menu as base menu.

	* lib/pytis/form/screen.py
	(get_icon): New function.
	(MItem.create): Use it.
	(MItem.__init__): Docstring updated.

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): Added keys for
	`FileField.COMMAND_CLEAR'.

	* lib/pytis/web/__init__.py: Import `dialog'.

	* lib/pytis/web/form.py (Form._valid_prefill): Don't omit key columns.
	(EditForm.export): Just print the identifier if the corresponding
	field does not exist.

	* lib/pytis/web/dialog.py: New module.

	* lib/pytis/data/types_.py (DateTime._check_format): Added regexps for
	`%p' format.

2007-01-16  Tomas Cerha  <cerha@brailcom.org>

	* icons/invoke-selection.png: New file

2007-01-16  Tomas Cerha  <cerha@brailcom.org>

	* icons/invoke-selection.png: New file

2007-01-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data: New database API merged in.

2007-01-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBConnectionPool.put_back): Use the right
	exception name when accessing the pool.

2007-01-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (has_access): Use
	default_access_groups instead of class_access_groups.

2007-01-15  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/util/caching.py (LimitedCache.__setitem__): Don't cache
	data in LimitedCache if the limit is 0.

2007-01-12  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (end_date_value): Pøejmenování
	specifikace NastaveniUser na Nastaveni.BvUsersCfg. 

2007-01-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Action.__init__): Docstring typo fix.

	* lib/pytis/presentation/field.py (PresentedRow._init_row): Fixed bug
	in prefill initialization.

2007-01-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.select_row): Pass the return
	value of the main form's method.

	* lib/pytis/form/list.py (ListForm._select_row): Return `True' on
	success, `False' otherwise.
	(ListForm.select_row): Pass the return value of the
	parent class's method. 

	* lib/pytis/form/form.py (RecordForm._on_new_record): Don't run
	callback `CALL_NEW_RECORD'.
	(RecordForm.select_row): Return `True' on success, `False' otherwise.
	(EditForm._select_row): Return `True'.
	(BrowsableShowForm._select_row): Pass the return value of the
	parent class's method.

2007-01-09  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/dbconfig.py (cfg_param): Defaultní cfgspec
	byla zmìnìna z Nastaveni na Nastaveni.BvCfg.

2007-01-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._init_attributes): Docstring
	updated.

	* lib/pytis/presentation/field.py (PresentedRow._init_row): Create a
	copy of the `prefill' dict with all values as new
	`pytis.data.Value' instances.  Use the same values regardless if
	`row' was None or not.
	(PresentedRow.__init__): Docstring updated.

2007-01-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.display): Try to use
	columns own display prior to using CbComputer's display.

	* lib/pytis/form/inputfield.py (InputField._on_set_focus): Validate
	last focused field only if it has the same parent -- is from the
	same form.
	(CodebookField._on_codebook_insert): Use `new_record' instead of
	`run_form'.

2007-01-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._cmd_run_form): Removed
	hack for backwards compatibility of arguments.

2007-01-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): New argument
	`nocopy'.
	(FieldSpec.nocopy): New method.

	* lib/pytis/form/form.py (RecordForm._row_copy_prefill): Also exclude
	computed fields which depend on key columns and fields with the
	`nocopy' flag.

2006-12-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._init_attributes): Removed
	argument `indicate_filter'.  Don't initialize
	`_lf_initial_condition'.
	(LookupForm._current_condition): New method.
	(LookupForm._init_select): Use it.
	(LookupForm._filter): Argument `condition' removed.
	(LookupForm._cmd_filter): Use `_lf_condition' instead of
	`_lf_initial_condition'.  Don't pass any arguments to `_filter'.
	(LookupForm._cmd_unfilter): Don't pass any arguments to `_filter'.
	(LookupForm.condition): Use `_current_condition' instead of
	`_lf_condition'.

	* lib/pytis/form/list.py (CodebookForm._init_attributes): Don't
	process the `condition' argument here, leave it for parent class.
	(ListForm._update_label_colors): Don't use the `_indicate_filter'
	flag.  Indicate filter when `_lf_filter' is not None.
	(ListForm._filter): Removed
	(ListForm._find_row_by_values): Use `_current_condition' instead
	of `_lf_condition'.
	(ListForm._refresh): Recognize key `filter' for the `reset'
	argument.  Don't recognize `condition' and `filter_flag'.  Modify
	`_lf_filter', not `_lf_condition'.
	(ListForm._cmd_sort): Don't reset `condition'.
	(ListForm._cmd_autofilter): Use `_current_condition' instead of
	`_lf_condition'.
	(BrowseForm._formatter_parameters): Use `_current_condition'
	instead of `_lf_condition'.
	(FilteredBrowseForm.filter): Reset `filter', not `condition'.
	Reinitialize `_lf_condition', not `_lf_initial_condition'.

2006-12-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Specification._create_data_spec):
	Added assertion to disable setting `access_rights' for a `MemData'
	data object.

	* ChangeLog.3: New file.

	* ChangeLog: Records prior to 2006-12-13 saved to `ChangeLog.3'.

	* lib/pytis/form/dualform.py (DualForm.help_name): Condition for
	adding the `-dual' suffix fixed.

	* lib/pytis/form/inputfield.py (EnumerationField._choices): Set only
	the relevant `FieldSpec' attributes for the fake `PresentedRow'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_auto_reload_defs.default): Option removed.

	* lib/pytis/util/resolver.py (Resolver.__init__): Ignore configuration
	option `auto_reload_defs'.  Always cache modules.
	(Resolver): Docstring updated.

2006-12-28  Tomas Cerha  <cerha@brailcom.org>

	* doc/standards/formatting: Updated docstring formatting rules.

	* config/config.py: Regenerated.

2006-12-28  Tomas Cerha  <cerha@brailcom.org>

	* doc/standards/formatting: Updated docstring formatting rules.

	* config/config.py: Regenerated.

2006-12-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (IncrementalSearch._exit): Call
	`self._set_row' when `self._listform' is alive.

2006-12-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (String._export, Value._init): Make unicode
	conversion only when the object is not a unicode object yet.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Docstring updated.

	* lib/pytis/web/form.py (BrowseForm._export_field):
	`lcg.TranslatableText' -> `lcg.Localizable'.

2006-12-23  Tomas Cerha  <cerha@brailcom.org>

	* Makefile (install): Don't depend on translations.

2006-12-23  Tomas Cerha  <cerha@brailcom.org>

	* Makefile (install): Don't depend on translations.

2006-12-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (run_procedure_mitem): Pass
	**kwargs to the command.

2006-12-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._cmd_run_procedure): New argument `enabled'.
	(Application._can_run_procedure): New method.
2006-12-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._on_idle): Aktualizace komentáøe.
	(InputField.init): Nenastavuj `self._is_changed'.

	* lib/pytis/form/form.py (RecordForm._on_edit_record): Vyber øádek
	pøes klíè, ne pøes celou instanci `Row'.
	(EditForm.set_row): Po initializaci políèka také nastav display.

2006-12-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.create): Upraven algoritmus
	urèení typu políèka.

	* lib/pytis/form/form.py (RecordForm._redirected_name): Metoda
	zru¹ena.
	(RecordForm._run_form): Metoda zru¹ena.
	(RecordForm._on_edit_record): Nepou¾ívej `self._run_form()', ale
	pøímo `run_form'.  Provádìj redirect pouze zde.

	* lib/pytis/form/list.py (ListForm._on_activation): Nepou¾ívej
	`self._run_form()', ale pøímo `run_form'.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Vylep¹ena
	assertová hlá¹ka.
	(ViewSpec.__init__): Aktualizována dokumentace `redirect'.

2006-12-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Specification.__init__): Povol
	pou¾ití metody také pro `bindings', `cb' a `access_rights'.
	(ViewSpec.__init__): Pøidána pøívìtivìj¹í hlá¹ka assertu.
	(ViewSpec.recourse_group): Upraveny assertové hlá¹ky.

2006-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._displayed_columns_menu): Zahrò
	pouze sloupce, které nemají nastaveno `disable_column'.

	* lib/pytis/presentation/spec.py (Specification.__init__): Povol
	pou¾ití metody také pro `columns'.
	(ViewSpec.__init__): Aktualizace docstringu.  Ujisti se, ¾e
	sloupec v `columns' nemá nastaveno `disable_column'.
	(FieldSpec.__init__): Nový argument `disable_column'.  Nastavuj
	výchozí `column_width' podle `width' jen pokud je nenulová.
	(FieldSpec.disable_column): Nová metoda.

	* lib/pytis/util/configuration.py (Configuration): Derive from
	`object'.
	(Configuration._HiddenOption): Derive from `Option'.
	(Configuration._Option_custom_debug)
	(Configuration._Option_dbconnection)
	(Configuration._Option_form_state)
	(Configuration._Option_application_state): Derive just from
	`_HiddenOption.
	(Configuration.dump_config_template): Wrap the description texts.

	* lib/pytis/__init__.py (__version__): Changed to `0.1.0'.

2006-12-05  Tomas Cerha  <cerha@brailcom.org>

	* config/config.py: File regenerated.

	* Makefile: New file.

2006-12-05  Tomas Cerha  <cerha@brailcom.org>

	* config/config.py: File regenerated.

	* Makefile: New file.

2006-12-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py: Pøidán hack umo¾òující pøeklad chybovách
	hlá¹ek datových typù.
	(LayoutForm._export_field): Respektuj maximální délku øetìzce.

	* lib/pytis/data/types_.py (Type._VALIDATION_MESSAGES)
	(Integer._VALIDATION_MESSAGES, Float._VALIDATION_MESSAGES)
	(String._VALIDATION_MESSAGES, Color._VALIDATION_MESSAGES)
	(Inet._VALIDATION_MESSAGES, Macaddr._VALIDATION_MESSAGES)
	(DateTime._VALIDATION_MESSAGES): Konstanty zru¹eny.
	(Type.__init__): Aktualizován docstring.  Sestavuj
	`self._validation_messages' automaticky na základì atributù
	`_VM_*_MSG'.
	(Type._VM_NULL_VALUE_MSG, Type._VM_INVALID_VALUE_MSG)
	(Integer._VM_NONINTEGER_MSG, Float._VM_INVALID_NUMBER_MSG)
	(String._VM_STRING_TOO_LONG_MSG)
	(_RegexValidatedString._VM_FORMAT_MSG, Color._VALIDATION_REGEX)
	(Inet._VM_INET_FORMAT_MSG, Inet._VM_INET_MASK_MSG)
	(Inet._VM_INET_ADDR_MSG, Macaddr._VM_MACADDR_FORMAT_MSG)
	(DateTime._VM_DT_FORMAT_MSG, DateTime._VM_DT_VALUE_MSG)
	(DateTime._VM_DT_AGE_MSG): Nové konstanty.
	(Color._VM_FORMAT_MSG): Drobná oprava hlá¹ky.
	(Type._validation_error): Namísto pozièních argumentù oèekávej
	klíèové.  Interpoluj øetìzec pouze pokud byly pøedány klíèové
	argumenty.
	(String._VM_STRING_TOO_LONG_MSG, Inet._VM_INET_MASK_MSG)
	(Inet._VM_INET_ADDR_MSG): Interpoluj promìnné podle názvu.
	(String._check_maxlen, Inet._validate): Pøedávej
	`self._validation_error()' namísto pozièních argumentù klíèové.

ì006-12-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: Nové pøíkazy
	`LookupForm.COMMAND_FIRST_RECORD' a
	`LookupForm.COMMAND_LAST_RECORD'.
	(DEFAULT_KEYMAP): Pøidáno mapování `Ctrl-Home', `Ctrl-Prior' a
	`Ctrl-End', `Ctrl-Next' na `LookupForm.COMMAND_FIRST_RECORD' a
	`LookupForm.COMMAND_LAST_RECORD'.

	* lib/pytis/form/form.py (LookupForm._cmd_first_record) 
	(LookupForm._cmd_first_record): Nové metody.
	(BrowsableShowForm._cmd_last_record): Metoda zru¹ena.

2006-11-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.test_insert): Pøidáno
	uznání správného výsledku, je-li první vrácenou hodnotou øetìzec.
	(DBDataDefaultClass.test_update): Nápodobnì.

2006-11-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Vlo¾
	do UPDATE èást FROM, je-li to nutné.

2006-11-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nový
	argument `resolver'.
	(PresentedRow._display_func): Pokud byl konstruktoru pøedán
	resolver, pou¾ij jej pøednosrnì pøed globálním resolverem.

	* lib/pytis/web/form.py (Form.__init__, EditForm.__init__) 
	(BrowseForm.__init__): Nový argument `resolver'.

	* lib/pytis/presentation/spec.py (Specification): Aktualizován docstring.
	(Specification.__init__): Pou¾ij dokumentaèní øetìzec tøídy jako
	výchozí hodnotu pro `description'.

2006-11-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._displayed_columns_menu): Nevacej
	kompletní Menu, ale jen seznam polo¾ek.
	(ListForm._column_context_menu): Namísto podmenu autofilteru zde
	pou¾ij pouze polo¾ku vyvolávající pøikaz
	`ListForm.COMMAND_AUTOFILTER'.  Nevacej kompletní Menu, ale jen
	seznam polo¾ek.
	(ListForm._popup_menu): Nová metoda.
	(ListForm._cmd_context_menu, ListForm._on_label_right_down):
	Vyu¾ívej ji.
	(ListForm._cmd_autofilter): Nová metoda.

	* lib/pytis/form/commands_.py: Nový pøíkaz `ListForm.COMMAND_AUTOFILTER'.
	(WX_COMMAND_ICONS): Pøiøazena icona autofilteru.

2006-11-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm._on_sash_changed): Odstranìn
	zapomenutý print.

	* lib/pytis/form/inputfield.py (Invocable._on_invoke_selection)
	(DateField._on_invoke_selection)
	(ColorSelectionField._on_invoke_selection): Definuj klíèový
	argument `alternate'
	(InputField.create): Nezohledòuj CbComputer pøi urèování, zda je
	políèko èíselníkového typu.
	(CodebookField._on_invoke_selection): Nastartuj inkrementální
	vyhledávání nevalidní hodnoty jen pokud byla hodnota políèka
	zmìnìna.

	* lib/pytis/data/types_.py (Type.__cmp__): Pokud není splnìna ¾ádná z
	podmínek ekvivalentní, vracej rovnou -1, ne výsledek
	`compare_objects'.

	* lib/pytis/data/_test.py (Type.test_noncmp): Nové testy.

	* lib/pytis/presentation/spec.py (Specification.oid): Výchozí hodnota
	nech» rovnou obsahuje sloupec `oid'.  Aktualizace docstringu.
	(Specification.__init__): Provádìj zde assert na `oid'.
	(Specification._create_data_spec): Asserty na `oid' pøesunuty do
	konstruktoru.
	(FieldSpec.codebook): `DataSpec' -> `_DataFactoryWithOrigin'.
	(_DataFactoryWithOrigin): Nová tøída.
	(DataSpec): Nech» je odvozena z `_DataFactoryWithOrigin'.
	(DataSpec.set_origin, DataSpec.origin): Metody zru¹eny.
	(Specification._create_data_spec): `pytis.data.DataFactory' ->
	`_DataFactoryWithOrigin'.

2006-11-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/spec.py (Specification.oid): Nový atribut.
	(Specification._create_data_spec): Zohledni ho.

2006-11-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._cmd_incremental_search): Nový
	argument prefill.
	(CodebookForm._on_idle): O¹etøi také pøedání `begin_search' jako
	tuple, s pøedvyplnìnou vyhledávanou hodnotou.

	* lib/pytis/form/inputfield.py (CodebookField._on_invoke_selection):
	Pokud je pøedvyplnìna èást hodnoty, která není validní, nastartuj
	èíselník s inkrementálním vyhledáváním této hodnoty.

	* lib/pytis/form/_grid.py (IncrementalSearch.run): Nový nepovinný
	argument prefill.

	* lib/pytis/form/dualform.py (DualForm._initial_sash_position.dim):
	Nová funkce.
	(DualForm._initial_sash_position): Naèítej poèáteèní polohu z
	ulo¾ené stavové informace `sash_position'.
	(DualForm._on_sash_changed): Ukládej aktuální pozici do stavové
	informace `sash_position'.

	* lib/pytis/form/form.py (Form._create_data_object): Pokud není datová
	tøída potomkem DBData, nepøedávej `dbconnection_spec'.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Doplnìn docstring.
	`self._dbcolumn_kwarg' -> `self._type_kwargs'
	(FieldSpec.dbcolumn_kwargs): -> `type_kwargs'
	(Specification._create_data_spec): Pøidána podpora pro vytvoøení
	nedatabázového datového objektu (napø. MemData).
	(Specification._create_data_spec): Pøidán assert.

	* lib/pytis/data/access.py (RestrictedMemData): Nová tøída.

	* lib/pytis/data/data.py (MemData.select): Nový argument `sort'.
	(DataFactory.class_): Nová metoda.

	* lib/pytis/util/resolver.py (Resolver._get_spec): Vlastní volání
	metody provádìj mimo `try' blok.

2006-11-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/util.py (_CAMEL_CASE_WORD): Zohledni i jednopísmenné èásti.

	* lib/pytis/form/application.py (Application._cmd_nothing): Nová metoda.

	* lib/pytis/form/list.py (ListForm._column_context_menu): Pøidáno menu
	autofiltru.
	(ListForm._cmd_filter_by_cell): K vlastnímu provedení filtrace
	vyu¾ívaj pøíkaz `LookupForm.COMMAND_FILTER_BY_VALUE'.
	(ListForm._column_context_menu): Pokud nelze sestavit menu
	autofiltru, zobraz alespoò polo¾ku s udáním dùvodu.

	* lib/pytis/form/form.py (LookupForm._cmd_filter_by_value): Nová metoda.

	* lib/pytis/form/commands_.py: Nový pøíkaz
	`LookupForm.COMMAND_FILTER_BY_VALUE'.  Nový pøíkaz
	`Application.COMMAND_NOTHING'.
	(WX_COMMAND_ICONS): Nastav ikonu pro COMMAND_FILTER_BY_VALUE.
	

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_distinct): Poèítej s tím, ¾e
	`sort' je v¾dy urèeno.  Vracej instance Value, nikoliv vnitøní
	hodnoty.
	(DBDataPostgreSQL.distinct): Nech» je výchozí hodnotou argumentu
	`sort' `ASCENDENT'.

2006-11-23  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Kosmetická úprava.

2006-11-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (ef): Pøedávej kwargs.

2006-11-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Nastavuj focus
	jen pokud nebyly bìhem volání specifikaèní funkce init otevøeny
	nìjaké formuláøe.

	* lib/pytis/form/inputfield.py (InputField.__init__): Zapamatuj si
	detový objekt.
	(EnumerationField._choices): Nová metoda.
	(EnumerationField._values): Metoda zru¹ena.
	(ChoiceField._create_ctrl, RadioBoxField._create_ctrl)
	(ListBoxField._create_ctrl): `self._values()' ->
	`self._choices()'.
	(EnumerationField.get_value): Získávej hodnotu podle jejího
	indexu, ne podle øetìzce.
	(EnumerationField._set_value): Nastavuj hodnotu podle jejího
	indexu, ne podle øetìzce.  Nepou¾ívej `self._set_selection()'.
	(EnumerationField._set_selection, ChoiceField._set_selection):
	Metody zru¹eny.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Umo¾ni
	specifikovat `layout' také jen jako sekvenci identifikátorù políèek.
	(FieldSpec.type): U vybraných atributù pøevádìj hodnotu na
	výsledek volání funkce, pokud je hodnotou funkce.
	(FieldSpec.__init__): Aktualizován seznam podporovaných argumentù
	datových typù.

	* lib/pytis/presentation/field.py (PresentedRow.enumerate): Oprava docstringu.

	* lib/pytis/form/_grid.py (ListTable.update): Kosmetická úprava.

2006-11-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver._get_spec): Raise
	`ResolverSpecError' when given method does not exist for the spec
	class.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Nový argument
	'singular'.  Nové mo¾nosti urèení 'layout'.  Aktualizace docstringu.
	(ViewSpec.singular): Nová metoda.
	(CbComputer._compute): Oprava assertové hlá¹ky.
	(FieldSpec.__init__): Nové argumenty `virtual', `dbcolumn' a
	`type'.  Úpravu assertù.  Také ostatní klíèové argumenty zapamatuj
	jako argumenty datového sloupce.
	(FieldSpec.dbcolumn): Nová metoda.
	(FieldSpec.virtual): Nová metoda.
	(FieldSpec.dbcolumn_kwargs): Nová metoda.
	(DataSpec): Aktualizace docstringu.
	(Specification): Nová tøída.

	* lib/pytis/util/util.py (split_camel_case, camel_case_to_lower): Nové
	funkce.

	* lib/pytis/web/form.py (Module): 

2006-11-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.__init__): Vytváøej cache instancí.
	(Resolver._get_instance): Nov metoda.
	(Resolver.get_instance): Vyzvedávej instanci z cache.
	(Resolver._get_spec): Pøedávej konstruktoru specifikaèní tøídy
	sebe sama jako argument.
	(Resolver.get): Aktualizace docstringu.

2006-11-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver._get_spec): Pokud je název
	pou¾ívá teèkovou notaci, získej z modulu instanci a zavolej její
	metodu.
	(Resolver.get): Aktualizace docstringu.

	* lib/pytis/presentation/spec.py (CodebookSpec.__init__): Aktualizován
	docstring.  Povoleny také roz¹íøené mo¾nosti specifikace `display'.
	(FieldSpec.__init__): 

	* lib/pytis/presentation/_test.py (PresentedRow_.test_display): Nový test.

	* lib/pytis/form/list.py (ListForm._post_selection_hook): Namísto
	vlastního výpoètu hodnoty displeje vyu¾ívej novou metodu
	PresentedRow.display().
	(_codebook_info): Metoda zru¹ena.
	(BrowseForm._init_attributes): Nepou¾ívej ji.

	* lib/pytis/form/form.py (EditForm._create_form_controls) 
	(EditForm._on_field_edit): Oèekávej instanci políèka jako
	argument.  Novou hodnotu nejprve validuj a pouze validní hodnoty
	pøedávej do PresentedRow.

	* lib/pytis/form/inputfield.py (InputField.CALL_FIELD_CHANGE):
	Aktualizace docstringu.
	(InputField.create): Nevytváøej display pro políèka typu CbComputer.
	(InputField._on_idle): Volej callback v¾dy - i pokud hodnota není
	validní.
	(InputField._on_change): Aktualizace docstringu.
	(InputField._on_change): Nevolej `self._on_change_hook()'.
	(InputField._on_change_hook): Metoda zru¹ena.
	(InputField.init): Nevolej `self._on_change_hook()', ale nastav
	pøíznak zmìny.
	(Invocable._create_widget, CodebookField._create_widget): Sázej
	prvky vedle sebe bez mezery.
	(CodebookField._on_change_hook): Metoda zru¹ena.
	(CodebookField.set_display): Nová metoda.

	* lib/pytis/web/form.py:
	(Form._codebook_user_value_func): Metoda zru¹ena
	(LayoutForm._export_field): Pou¾ívej `PresentedRow.enumerate'.
	(ShowForm._export_field): Pou¾ívej `PresentedRow.display'.

	* lib/pytis/presentation/field.py (PresentedRow._display_func) 
	(PresentedRow.display, PresentedRow.enumerate): Nové metody.
	(PresentedRow._Column.__init__): Zapamatuj si také specifikaèní
	hodnoty `diaplay' a `codebook'.

2006-11-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (Boolean._SPECIAL_VALUES): Pøidáno mapování
	pro `None'.	

	* lib/pytis/form/screen.py (wx_text_view): Aktualizováno pro nové API
	LCG.

2006-11-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (_RegexValidatedString): Nová tøída.
	(Color): Buï jejím potomkem.
	(Identifier): Nová tøída.

2006-11-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (Module): V¹e pøepsáno s ohledem na
	nové API LCG.  Pøidáno generování seznamu políèek do informací o
	náhledu.
	(_refered_names): Nová funkce.
	(ItemNode._create_content): Do `_used_names' pøidávej také názvy
	defsù souvisejících pøes èíselníky a odkazy.
	(SingleDescrNode._create_content): Vypi¹ také seznam v¹ech
	souvisejících náhledù - èíselníkù a odkazù.

2006-11-02  Tomas Cerha  <cerha@brailcom.org>

	* doc/Pytis.wiki (Module): Soubor smazán.

2006-11-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.__init__): Volby
	`config_file' a `user_config_file' inicializuj jen pokud 
	(Configuration._read_configuration_file): Set the name of the
	module to `_config', not `config'.
	(Configuration.__getattr__): Check `self._user_config_mtime' only
	if `self._user_config_file' was defined.

	* lib/pytis/form/form.py (LookupForm._init_sorting): Kontroluj
	platnost specifikace tøídìní i pokud bylo pøedáno jako argument
	konstruktoru.

	* lib/pytis/presentation/_test.py (PresentedRow_.setUp.sum): Zohledni
	None hodnotu argumentù.
	(PresentedRow_.setUp.gt5): Vypoèítávej editovatelnost podle
	hodnoty `sum'.
	(PresentedRow_.setUp): Závislost dopoèítávání editovatelnosti
	nech» je tranzitivní.
	(PresentedRow_.test_has_key): Inicializuj øádek jako nový.
	(PresentedRow_.test_editable): Inicializuj øádek jako nový.
	Upraveny hodnoty.
	(PresentedRow_.test_editability_callbacks): Aktualizováno.

	* lib/pytis/presentation/field.py (PresentedRow._Column.__init__):
	Pøebírej pouze argumenty fieldspec a data a v¹e si z nich vykousej
	a¾ zde.
	(PresentedRow.__init__): Sestavuj `self._columns' zde a potom
	volej `self._init_dependencies()'.
	(PresentedRow._all_deps): Nová metoda.
	(PresentedRow._process_fieldspec): Metoda zru¹ena.
	(PresentedRow._init_dependencies): Nová metoda.
	(PresentedRow._resolve_dependencies): Kosmetická úprava.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Pøedávej validaèní
	chybu jako argument assertu.

2006-10-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Umo¾ní také
	pøedat dvojici (funkce, sloupec).

	* lib/pytis/form/dialog.py (db_operation): Pøíjmi i None jako
	návratovou hodnotu pøihla¹ovacího dialogu.

2006-10-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/web/form.py (Form._codebook_user_value_func): Podporuj
	také dvojici (funkce, sloupec) jako hodnotu display.

2006-10-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/data.py (ColumnSpec.__cmp__): Pøi porovnání sloupcù
	srovnej nejprve 'id' a a¾ potom typ.

2006-10-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/_test.py (DataEnumerator.test_validate): Pøidány nové
	testy.
	(_DBTest.setUp, TutorialTest.setUp, DBDataFetchBuffer.setUp):
	Vytváøej tabulky s OID.

	* lib/pytis/data/types_.py (DataEnumerator.__init__): New argument
	`validity_condition'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pass `validity_condition' to the enumerator constructor.

2006-10-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (ItemNode._create_content)
	(DualDescrNode._name, DualDescrNode._read_spec)
	(DualDescrNode._info, DualDescrNode._default_description_text)
	(DescrIndex._create_children): Zohlednìna také nová notace
	duálních formuláøù.

	* lib/pytis/extensions/defs.py (get_menu_defs): Pøepsáno s ohledem
	na nový zpùsob odkazování na duální formuláøe s `BindingSpec'.
	(cache_spec.do): Pokou¹ej se naèíst také `binding_spec'.

2006-10-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/types_.py (Inet._validate): Doplnìno TODO.
	(Macaddr._MACADDR_FORMAT): Oprava validaèního regex.

2006-10-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Umo¾ni jako
	`link' uvést také sekvenci odkazù.
	(FieldSpec.link): Metoda zru¹ena.
	(FieldSpec.links): Nová metoda.

	* lib/pytis/form/list.py (BrowseForm._init_attributes): Nastavuj
	explicitní ikonu.
	(BrowseForm._link_mitems): Nastavuj explicitní ikony.
	(BrowseForm._init_attributes): Pou¾ívej `Link.links()' namísto
	`Link.link()'.

	* lib/pytis/form/configui.py (config_menu_items): Nastav explicitní ikonu.

	* lib/pytis/form/screen.py (MItem.create): Pokud je specifikace ikony
	øetìzec, hledej PNG soubor stejného jména v `config.icon_dir'.
	(MItem.__init__): Nový argument `icon'.
	(MItem.create): Pokud byla v konstruktoru definována explicitní
	ikona, pou¾ij ji.

	* lib/pytis/form/commands_.py (WX_COMMAND_ICONS): Doplnìny nové ikony.

2006-10-11  Tomas Cerha  <cerha@brailcom.org>

	* icons/config-export.png: New file.
	* icons/config-ui.png: New file.
	* icons/link-new-record.png: New file.
	* icons/link.png: New file.
	* icons/close.png: New file.
	* close.png: New file.
	* delete-record.png: New file.
	* edit-cell.png: New file.
	* edit-record.png: New file.
	* export.png: New file.
	* filter-by-cell.png: New file.
	* filter.png: New file.
	* help-book.png: New file.
	* insert-line.png: New file.
	* jump.png: New file.
	* new-record.png: New file.
	* next-form.png: New file.
	* prev-form.png: New file.
	* recent-form.png: New file.
	* reload-form-state.png: New file.
	* reset-form-state.png: New file.
	* search-incremental.png: New file.
	* search.png: New file.
	* sort-asc.png: New file.
	* sort-desc.png: New file.
	* unfilter.png: New file.

2006-10-11  Tomas Cerha  <cerha@brailcom.org>

	* icons/config-export.png: New file.
	* icons/config-ui.png: New file.
	* icons/link-new-record.png: New file.
	* icons/link.png: New file.
	* icons/close.png: New file.
	* close.png: New file.
	* delete-record.png: New file.
	* edit-cell.png: New file.
	* edit-record.png: New file.
	* export.png: New file.
	* filter-by-cell.png: New file.
	* filter.png: New file.
	* help-book.png: New file.
	* insert-line.png: New file.
	* jump.png: New file.
	* new-record.png: New file.
	* next-form.png: New file.
	* prev-form.png: New file.
	* recent-form.png: New file.
	* reload-form-state.png: New file.
	* reset-form-state.png: New file.
	* search-incremental.png: New file.
	* search.png: New file.
	* sort-asc.png: New file.
	* sort-desc.png: New file.
	* unfilter.png: New file.

2006-10-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._init_sorting): Ignoruj ulo¾ené
	sloupeèky, které nejsou v datovém objektu, nejen ve fields.

	* lib/pytis/form/inputfield.py (CodebookField._on_change_hook): Pokud
	je `display' funkce, pou¾ij ji k výpoètu hodnoty zobrazené displejem.

	* lib/pytis/web/form.py (Form._codebook_user_value_func): Return an
	empty string when the enumerator value is None.

2006-10-09  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/spec.py (BROWSE_FORM, EDIT_FORM,
	INSERT_FORM, SHOW_FORM): Konstanty FormType.
	(run_cb): run_form -> pytis.form.run_form
	(rp_handler): run_procedure -> pytis.form.run_procedure

2006-10-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (run_form_mitem, new_record_mitem)
	(run_procedure_mitem, run_cb, run_any_form): Identifikátory z
	pytis.form pou¾ívej vèetnì názvu modulu.
	(run_any_form, cmd_run_any_form): Definuj pouze pokud je pøítomen
	modul `pytis.form'
	(ASC, DESC): Ukazuj na `pytis.data.ASCENDENT' a
	`pytis.data.DESCENDANT', ne na `LookupForm.SORTING_ASCENDENT' a
	`LookupForm.SORTING_DESCENDANT'.

	* lib/pytis/extensions/help.py (Module): Neimportuj `pytis.form'.

	* lib/pytis/extensions/defs.py (menu_report.make_list) 
	(cmd_menu_report, cmd_check_form, cmd_check_menus_defs):
	Identifikátory z pytis.form pou¾ívej vèetnì názvu modulu.
	(get_default_select.init_select): Namísto konstant
	`pytis.form.LookupForm.SORTING_*' oèekávej ve specifikaci pøídìní
	pøímo konstanty z `pytis.data'. 

	* lib/pytis/extensions/dbconfig.py: Neimportuj pytis.form.

	* lib/pytis/extensions/__init__.py: V¹echny identifikátory z
	pytis.form importuj jen pokud byl ji¾ døíve modul pytis.form
	importován.  Také modul defs importuj jen v tomto pøípadì.

2006-10-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._init_attributes.link_title):
	Namísto formuláøové tøídy pracuj se specifikací `FormType'.
	(BrowseForm._link_mitems): Automaticky urèi typ formuláøe podle
	specifikace `FormType'.

	* lib/pytis/presentation/spec.py: Nová tøída.
	(Link.__init__): Argument `form' nahrazen argumentem `type'.
	(Link.form): Metoda zru¹ena.
	(Link.type): Nová metoda.

	* lib/pytis/util/util.py (deepstr): Pøevádìj objekty na unicode a
	teprve výsledek bezpeènì pøeveï na string.

	* lib/pytis/data/types_.py (_Value.__str__): Pøevedeno na `__unicode__'.

	* lib/pytis/data/dbdata.py (_pypg_query.do_query) 
	(DBDataPostgreSQL.row, DBDataPostgreSQL.select) 
	(DBDataPostgreSQL.select_aggregate) 
	(DBDataPostgreSQL.fetchone.skip, DBDataPostgreSQL.fetchone) 
	(DBDataPostgreSQL.search, DBDataPostgreSQL.insert) 
	(DBDataPostgreSQL.update, DBDataPostgreSQL.update_many) 
	(DBDataPostgreSQL.delete, DBDataPostgreSQL.delete_many) 
	(DBDataPostgreSQL.lock_row): Pøedávej pùvodní výjimku  vèetnì
	ve¹kerých informací a pùvodního tracebacku.

	* lib/pytis/data/data.py (__str__): Pøevedeno na `__unicode__'.

2006-10-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._default_sorting): Pou¾ívej
	`pytis.data.ASCENDENT' a `pytis.data.DESCENDANT' pøi konstrukci
	výchozího tøídìní.
	
	* lib/pytis/form/form.py (LookupForm._init_sorting): Pøevádìj
	specifikaci tøídìní vrácenou metodou `_default_sorting' na
	specifikaci pomocí konstant `pytis.form.LookupForm.SORTING_ASCENDENT' a
	`pytis.form.LookupForm.SORTING_DESCENDANT'.
	
	* lib/pytis/presentation/spec.py (ViewSpec.columns): Oèekávej
	specifikaci tøídìní s pou¾itím konstant `pytis.data.ASCENDENT' a
	`pytis.data.DESCENDANT', ne
	`pytis.form.LookupForm.SORTING_ASCENDENT' a
	`pytis.form.LookupForm.SORTING_DESCENDANT'.
	(Link.__init__): Názvy formuláøù pou¾ívej vèetnì názvu mudulu.
	

2006-09-12  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (InputNumeric._customize_result):
	Zohledni 'decimal_width' pøi sestavení vracené Value.

2006-09-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Umo¾ni pøedat
	¹ablonu øádku jako argument `template'. 
	(DBDataPostgreSQL.row): Zakomentováno logování výsledného øádku.
	(DBDataPostgreSQL.distinct): Nová metoda.
	(DBDataPostgreSQL._PgBuffer.fill, _pypg_new_connection) 
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Neimportuj `config'
	(DBDataPyPgSQL._pg_query): Pou¾ívej `self._db_encoding' namísto `config.db_encoding'.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Vytvoø také ¹ablonu `self._pdbb_command_distinct'.
	(PostgreSQLStandardBindingHandler._pg_distinct): Nová metoda.

	* lib/pytis/form/list.py (BrowseForm._init_attributes): Odkazy s
	explicitnì definovaným `label' zaøaï pøed v¹echny ostatní odkazy a
	tento label pou¾ij namísto výchozího.

	* lib/pytis/presentation/spec.py (Action.__init__): Umo¾ni také
	`context' None.
	(Link.__init__): Nový argument `label'.
	(Link.label): Nová metoda.
	(FieldSpec.__init__): Nový argument `display'.
	(FieldSpec.display): Nová metoda.
	

	* lib/pytis/web/form.py: New file.

	* lib/pytis/web/__init__.py: New file.

2006-09-01  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: New file.

	* translations/Makefile: New file.

2006-09-01  Tomas Cerha  <cerha@brailcom.org>

	* translations/pytis.cs.po: New file.

	* translations/Makefile: New file.

2006-08-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/dbconfig.py (DBConfig.__init__): Nov7
	argument `callback'.
	(DBConfig._on_change): Nová metoda.

	* lib/pytis/extensions/dbutils.py (nextval): Nová funkce.

2006-08-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (_TitledMenuObject.__init__): Nepou¾ívej `gettext_'
	pro konverzi argumentu `title'.

	* lib/pytis/presentation/spec.py (Button.__init__) 
	(GroupSpec.__init__, FieldSpec.__init__, Button.__init__) 
	(LayoutSpec.__init__, ViewSpec.__init__): Nepou¾ívej `gettext_'
	pro konverzi textových argumentù.

	* lib/pytis/util/util.py (gettext_): Funkce zru¹ena.

2006-08-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_group): Sestav správnì také
	horizontální skupinu.

2006-08-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py (DBConnection.__str__): Nová metoda.

2006-08-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Inicializuj
	atribut `_callback_registered'.
	(InputField._register_skip_navigation_callback): Nava¾ wx callback
	pouze jednou.  Poznaè si to v `_callback_registered'.

2006-07-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MItem.help): Nová metoda.

	* lib/pytis/form/list.py (BrowseForm._links.title): Nová metoda.
	(BrowseForm._init_attributes): Nová metoda -- sestav zde statickou
	èást menu a seznam odkazù.
	(BrowseForm._context_menu): Nesestavuj menu a seznam odkazù zde --
	vyu¾ívej atributù nastavených v konstruktoru.
	(BrowseForm._init_attributes): Seskupuj odkazy na stejný defs do
	podmenu.
	(BrowseForm._link_mitems): Nová metoda.
	(BrowseForm._context_menu): Vyu¾ívej ji.
	(BrowseForm._link_mitems): Vynech polo¾ky s NULL hodnotou v
	odkazovaném sloupci..
	(BrowseForm._link_mitems): Pøeveï podmenu s jednou polo¾kou na
	samostatnou polo¾ku.

2006-07-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog._cmd_commit_dialog): Testuj
	`_COMMIT_BUTTON' na None.
	(Question.__init__): Nastav `_COMMIT_BUTTON' podle `default'.  Na
	konstanty odkazuj pøes `self'.

2006-07-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (BrowseDualForm._new_record_hook):
	Nevyvolávej vlo¾ení nového øádku nad sideformem.

2006-06-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._context_menu.link_title): Nová
	funkce.
	(BrowseForm._context_menu): Vyu¾ívej ji.

2006-06-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py
	(InputField._skip_navigation_callback.cb): Namísto vyvolání
	pøíkazu volej pøímo novou wx metodu `Navigate()'.
	(TextField._on_enter_key): Namísto vyvolání pøíkazu volej pøímo
	novou wx metodu `Navigate()'.

	* lib/pytis/form/form.py (EditForm._create_form_controls): Panelu
	nastavuj styl `wx.TAB_TRAVERSAL'.
	(EditForm._cmd_navigate): Namísto vytváøení a spou¹tìní události
	jen volej novou wx metodu `Navigate()'.  Zru¹en argument `object'.

2006-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._post_selection_hook): Namísto
	`self._current_codebook_info()' pou¾ívej `self._codebook_info()'.
	(ListForm._current_codebook_info): Zru¹eno.
	(ListForm._codebook_info): Nová metoda.
	(ListForm._can_show_cell_codebook)
	(ListForm._cmd_show_cell_codebook): Metody zru¹eny.
	(BrowseForm._context_menu): Vytváøej automaticky seznam odkazù
	podle specifikací `link' ve `FieldSpec'.  Namísto pøíkazu
	`ListForm.COMMAND_SHOW_CELL_CODEBOOK' pøidej automaticky odkazy na
	v¹echny èíselniíky.

	* lib/pytis/form/application.py (Application._cmd_run_form): Argument
	`select_row' definuj pøímo a neprovádìj kvùli nìmu hrozné vìci s
	`kwargs'.

	* lib/pytis/form/commands_.py: Zru¹en pøíkaz
	`ListForm.COMMAND_SHOW_CELL_CODEBOOK'.

	* lib/pytis/presentation/spec.py (Link): Nová tøída.
	(FieldSpec.__init__): Nový argument `link'.  Atribut `_id'
	inicializuj hned na zaèátku, aby fungovala metoda `__str__' v
	pøípadném tracebacku bìhem =uvodních assertù.
	(FieldSpec.__str__): Nevypisuj label, ale jen id.
	(FieldSpec.link): Nová metoda.

	* lib/pytis/util/util.py (remove_duplicates): Nový argument
	`keep_order' umo¾òuje zachovávat poøadí za cenu slo¾itìj¹ího
	algoritmu.

2006-06-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb_computer): Funkce zru¹ena.

2006-06-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm._refresh): Buï potomkem
	`Refreshable'.
	(DualForm._refresh): Nová metoda.
	(BrowseDualForm, ShowDualForm, BrowseShowDualForm): Nebuï potomkem
	`Refreshable'.
	(BrowseDualForm._refresh)
	(ShowDualForm._refresh, BrowseShowDualForm._refresh): Metody
	zru¹eny.

	* lib/pytis/form/form.py (Form._create_form): Nevolej `SetAutoLayout'
	ani `Fit'.
	(TitledForm._create_caption): Zru¹en argument `text'.  Argument
	`parent' nech» je nepovinný.  Text nech» je v¾dy `self.title()' a
	`parent' nech» má výchozí hodnotu `self'.
	(TitledForm._create_title_bar): Zru¹eny argumenty `text' a `size'.
	(EditForm) Buï také potomkem `Refreshable'.
	(EditForm.__init__): `self._size' nastavuj podle minimálná
	velikosti top-level sizeru.
	(EditForm._create_form): Metoda zru¹ena.
	(EditForm._create_form_parts): `self._create_title_bar()' volej
	bez arguemntù.  Vyu¾ívej `self._create_form_controls()'.  Pøi
	pøidávání do sizeru nastavuj paremetry tak, aby docházelo ke
	správnému skrollování vnitøní plochy formuláøe.
	(EditForm._create_form_controls): Nová metoda.
	(EditForm._create_button, EditForm._create_group)
	(EditForm._pack_fields): Nový argument `parent'.  V¹echny UI prvky
	umís»uj na `parent', ne pøímo na `self'.
	(PopupEditForm.__init__): Nastavuj velikost okna podle `self.size()'.
	(PopupEditForm._create_form_parts): `self._create_caption()' volej
	bez arguemntù.  Vyu¾ívej `self._create_form_controls()'.  Pøi
	pøidávání do sizeru nastavuj paremetry tak, aby docházelo ke
	správnému skrollování vnitøní plochy formuláøe.
	(ShowForm._init_attributes): Zru¹en callback pøi zmìnì velikosti okna.
	(ShowForm._create_form_parts, ShowForm._on_size): Metody zru¹eny.
	(PopupEditForm.__init__): Omez velikost okna podle velikosti displeje.
	(EditForm._refresh): Nová meotda.

	* lib/pytis/form/screen.py (Window, Window.__init__): Nebuï potomkem
	`wx.ScrolledWindow', ale `wx.Panel'.

	* lib/pytis/form/list.py (ListForm._create_form_parts): Metodu
	`_create_title_bar()' volej bez argumentyu `title'.

	* lib/pytis/form/inputfield.py (Invocable._create_widget) 
	(CodebookField._create_widget, CodebookField._create_widget):
	Zmen¹eno odsazení tlaèítka výbìru na 1px.

	* lib/pytis/presentation/spec.py (BindingSpec.__init__): Výchozí
	layout nech» je vertikální.
	(FieldSpec.__init__): Zru¹en argument `related_codebook_field'.

2006-06-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm._init_attributes): Inicializuj
	atributy `_orientation' a `_splitter_position_initialized'.
	(DualForm._create_view_spec): Pokud název specifikace pou¾ívá
	novou notaci, urèi názvy obou formuláøù pøímo a pøeèti ze
	specifikace hlavního formuláøe pouze `binding_spec'.  Prozatím
	`BindingSpec' pøevádìj na `DualSpec' a dále pracuj s ní.
	(DualForm._create_form): Proveï horizontálná nebo vertikální
	rozdìlení formuláøe podle specifikace.  Nastav vlastnosti
	splitteru pøi zmìnì velikosti okna pomocí `SetSashGravity' v
	závislosti na typu hlavního a vedlej¹ího formuláøe.
	(DualForm._initial_orientation)
	(DescriptiveDualForm._initial_orientation): Nové metody.
	(DualForm._sash_position, ShowDualForm._sash_position)
	(DescriptiveDualForm._sash_position): Metody zru¹eny.
	(DualForm._initial_sash_ratio)
	(DescriptiveDualForm._initial_sash_ratio): Metody zru¹eny.
	(DualForm._initial_sash_position): Nová metoda.
	(DualForm._on_size): Pokud zatím nebyla nastavena poèáteèní pozice
	oddìlovaèe, volej nastav ji pomocí `_initial_sash_position'.
	(BrowseDualForm._create_main_form._MainBrowseForm.title): Ignoguj
	titulek z `DualSpec' i pokud je to prázdný øetìzec.
	(BrowseDualForm._on_main_activation): Pøi vyvolání
	DescriptiveDualForm nastavuj název specifikace podle názvu z
	hlavního formuláøe.
	(DualForm._init_attributes): Nový klíèový argument `orientation'.

	* lib/pytis/presentation/spec.py (BindingSpec): Nová tøída.
	(DualSpec): Buï potomkem `BindingSpec' a zaji¹»uj pouze ty
	parametry, které jsou tøeba ke zpìtné kompatibilitì.
	(FieldSpec.__init__): Pøidán assert na `orientation'.
	(BindingSpec): Doplnìn docstring.
	(BindingSpec.__init__): Doplnìn docstring.

	* lib/pytis/form/application.py (Application._can_run_form): Rozli¹uj
	novou notaci názvu specifikace duálního formuláøe.

	* lib/pytis/form/list.py (ListForm.size): Nová metoda.

	* lib/pytis/form/form.py (EditForm._create_group): Polo¾ky
	horizontální skupiny nesdru¾uj do souvislého sledu.
	(TitledForm._create_title_bar): Kosmetická úprava.
	(EditForm._create_form_parts): Vkládej obsah formuláøe do sizeru
	bez mezery nahoøe a dole.
	(EditForm._create_button.create_handler._handler): Neukládej
	nepou¾itou návratovou hodnotu handleru.
	(PopupEditForm._create_form_parts, ShowForm._create_form_parts):
	Vkládej obsah formuláøe do sizeru bez mezery nahoøe a dole.
	(EditForm._create_group): Oprava podmínky pro rozpoznání
	vertikální skupiny.  Doplò také tlaèítka která nejsou souèástí
	sledu.

2006-06-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.type): Pokud existuje
	datový sloupeèek, pou¾ij jeho typ pøednostnì pøed typem z èíselníku.

	* lib/pytis/form/list.py (BrowseForm._cmd_print): Nenastavuj
	`print_spec_path' na `None'.
	(ListForm._post_selection_hook): Zobrazuj informace z èíselníku
	pouze pokud `enumerator' není None.

2006-06-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (CbComputer._compute): Doplòen assert
	upøesòující pøíèinu chybné definice.
	(FieldSpec.type): Doplòen assert upøesòující pøíèinu chybné
	definice.

2006-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/www.py (BaseDBTable.__init__)
	(form_validate): `data_create()' -> `data_object()'.  Nevytváøej
	`NullAppication'.  Volej `pytis.util.set_resolver()'.

	* lib/pytis/extensions/help.py (ItemNode._create_content)
	(MenuIndex.__init__, DescrNode.__init__): `pytis.form.resolver()'
	-> `pytis.util.resolver()'.
	(_split_menu_descriptions): Funkce odstranìna.
	(MenuIndex.__init__): Nevytváøej `NullAppication'.  Volej
	`pytis.util.set_resolver()'.

	* lib/pytis/extensions/defs.py (flatten_menus, get_menu_defs) 
	(menu_report, get_default_select, check_form, check_defs) 
	(cache_spec): `pytis.form.resolver()' -> `pytis.util.resolver()'.

	* lib/pytis/extensions/dbutils.py (data_object, enum):
	`pytis.form.resolver()' -> `pytis.util.resolver()'.

2006-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._current_key): Vracej klíè z
	`original_row' jen pokud nejde o nový øádek.
	(RecordForm._current_key): Vyu¾ívej `empty_as_none' pøi volání
	`PresentedRow.original_row()'.

	* lib/pytis/presentation/field.py (PresentedRow._set_row): Nenastavuj
	`self._original_row' na None ale v¾dy na výsledný øádek.
	(PresentedRow._set_row): Nastavuj `self._original_row_empty'.
	(PresentedRow.original_row): Nový argument `empty_as_none'.
	Vracej None pokud je pravdivý a pùvodní øádek je prázdný,

	* lib/pytis/presentation/spec.py (FieldSpec.type): Nech» je argument
	`data' nepovinný.
	(FieldSpec.codebook): Nech» je argument `data' nepovinný.

	* lib/pytis/form/application.py (NullApplication): Tøída zru¹ena.
	(run_dialog): Pokud neexistuje aplikace, pokus loguj a pokraèuj,
	jako by nic.
	(recent_forms_menu): Pokud neexistuje aplikace, vra» prázdné menu.

	* lib/pytis/util/resolver.py (set_resolver): Oprava poøadí argumentù
	`isinstance'.

2006-06-08  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/form/commands_.py (FORM_COMMAND_MENU): Doèasné
	zakomentování, nutno updatotovat servery na libwxgtk2.6-0. 

2006-06-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (resolver, set_resolver): Nové funkce.

	* lib/pytis/presentation/spec.py: Neimportuj `pytis.form'.
	(DualSpec.__init__): Nevy¾aduj hodnotu u argumentu
	`side_binding_column'.
	(ViewSpec.columns): Importuj `pytis.form'.
	(DataSpec.__init__): Namísto `pytis.form.resolver()' pou¾ívej
	`resolver()'.

	* lib/pytis/form/list.py (ListForm._cmd_insert_line): Pokud políèko
	není ve fields, nebo pokud je jeho hodnota urèená pomocí
	prefill, nevy¾aduj jeho pøítomnost v columns.

	* lib/pytis/form/inputfield.py (EnumerationField._set_selection): Nová
	metoda.
	(EnumerationField._set_value): Vyu¾ívej ji.
	(ChoiceField._set_selection): Nová metoda.

	* lib/pytis/form/application.py (Application.OnInit): Nevy¾aduj
	specifikaci menu a doplò prázdný seznam jako výchozí hodnotu.
	(run_application): Funkce zru¹ena.
	(NullApplication.__init__): Zru¹en argument `resolver'
	(NullApplication.resolver): Metoda zru¹ena.
	(Application.__init__): Metoda zru¹ena.
	(Application._spec, Application._cmd_run_form)
	(Application._cmd_new_record, Application._cmd_run_procedure):
	Namísto `self.resolver()' èi `self._resolver' pou¾ívej funkci
	`resolver()'.
	(Application.resolver): Metoda zru¹ena.
	(resolver): Funkce zru¹ena.
	(has_access): Namísto `_application.resolver()' pou¾ívej funkci
	`resolver()'.

2006-06-02  Tomas Cerha  <cerha@brailcom.org>

	* bin/pytis (run_application): Namísto funkce `run_application()'
	po¾ívej pøímo `Application().run()'.  Pro nastaven9 resolveru
	pou69vej funkci `set_resolver()'.
	
2006-06-02  Tomas Cerha  <cerha@brailcom.org>

	* bin/pytis (run_application): Namísto funkce `run_application()'
	po¾ívej pøímo `Application().run()'.  Pro nastaven9 resolveru
	pou69vej funkci `set_resolver()'.
	
2006-05-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._on_idle)
	(ListForm._displayed_columns_menu): `COMMAND_RESET_COLUMNS' ->
	`COMMAND_RESET_FORM_STATE'.
	(ListForm._on_label_right_down, ListForm._cmd_context_menu):
	Klávesovou mapu získej pomocí `self._get_keymap()'.
	(ListForm._on_reload_form_state): -> `_on_form_state_change'
	(ListForm._can_reload_form_state): Poèítej také s metodou pøedka.
	(ListForm._can_reset_columns): -> `_can_reset_form_state'.
	(ListForm._can_reload_form_state, ListForm._cmd_reset_columns):
	Metody zru¹eny.
	(ListForm._init_columns): Zru¹en argument `allow_user_settings'.
	(ListForm._update_grid): Argumenty `reset_columns' a
	`soft_reset_columns' nahrazeny argumentem `init_columns'.
	`_init_columns()' volej bez `allow_user_settings'.  Zapamatování
	nastavení sloupcù provádìj pouze pokud `init_columns' není
	pravdivé.  Vyma¾ nastavení sloupcù, pokud je shodné s výchozím
	nastavením.

	* lib/pytis/form/output.py (PrintForm): Buï potomkem `InnerForm', ne
	`Form'.

	* lib/pytis/form/form.py (Form._create_print_menu)
	(Form._on_print_menu): Pøesunuto do `TitledForm'.
	(Form.__init__): Nevolej `_create_print_menu'.
	(Form._on_reload_form_state): Pøejmenováno na
	`_on_form_state_change'.
	(Form._can_reload_form_state): Nová metoda.
	(Form._cmd_reload_form_state): `_on_reload_form_state' ->
	`_on_form_state_change'.  Nakonec volej refresh, pokud jde o
	`Refreshable' formuláø.
	(Form._can_reset_form_state, Form._cmd_reset_form_state): Nové
	metody.
	(TitledForm._create_title_bar): Volej `_create_print_menu'.
	(LookupForm._init_attributes): Neoèekávej návratovou hodnotu z
	`_init_sorting'.
	(LookupForm._init_sorting): Nevracej hodnotu ale pøímo nastavuj
	`self._lf_sorting'.
	(LookupForm._on_reload_form_state): Metoda zru¹ena.
	(LookupForm._on_form_state_change): Nová metoda.

	* lib/pytis/form/commands_.py: `Form.COMMAND_PRINT' ->
	`InnerForm.COMMAND_PRINT'.  `Form.COMMAND_RELOAD_FORM_STATE ->
	`InnerForm.COMMAND_RELOAD_FORM_STATE'.  Nový pøíkaz
	`InnerForm.COMMAND_RESET_FORM_STATE'.  Zru¹en pøíkaz
	`ListForm.RESET_COLUMNS'.
	(DEFAULT_KEYMAP): Nová zkratka pro `COMMAND_RESET_FORM_STATE'.
	(FORM_COMMAND_MENU): Zmìna poøadí polo¾ek.  Vypu¹tìny pøíkazy,
	které jsou dostupné z kontextového menu øádku.  Nové pøíkazy
	`InnerForm.COMMAND_RELOAD_FORM_STATE' a
	`InnerForm.COMMAND_RESET_FORM_STATE'.
	(WX_COMMAND_ICONS): Pøidána ikona pro `Form.COMMAND_HELP'.

	* lib/pytis/form/application.py (Application._create_command_menu): Ve
	`FORM_COMMAND_MENU' oèekávej pøíkaz na prvním místì.
	

2006-05-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog._commit_dialog):
	Pøejmnenováno na `_cmd_commit_dialog'.
	(GenericDialog._close_dialog): Pøejmnenováno na
	`_cmd_close_dialog'.
	(GenericDialog._cmd_help): Nová metoda.
	(GenericDialog.on_command): Metoda zru¹ena. 

	* lib/pytis/form/dualform.py (BrowseDualForm._on_main_activation):
	Neoèekávej argument `key'.

	* lib/pytis/form/search.py (SFDialog.reset_condition): Nová metoda.

	* lib/pytis/form/inputfield.py (CALL_NAVIGATE): Callback zru¹en.
	(InputField._skip_navigation_callback.cb)
	(TextField._on_enter_key): Namísto callbacku `CALL_NAVIGATE'
	vyvolej rovnou pøíkaz `EditForm.COMMAND_NAVIGATE'.

	* lib/pytis/form/command.py (Command.__init__): Aktualizace docstringu.

	* lib/pytis/form/commands_.py: `COMMAND_SORT_COLUMN' ->
	`COMMAND_SORT'.  V definicích pøíkazu `COMMAND_SORT' pou¾ívej nové
	argumenty.  Nový pøíkaz `LookupForm.COMMAND_UNFILTER'.
	Zru¹en pøíkaz `ListForm.COMMAND_SELECT_CELL'.

	* lib/pytis/form/list.py (ListForm._filter_by_cell): Namísto volání
	metody `_on_sort_column' vyvolej pøíkaz `COMMAND_SORT'.
	(ListForm._move_column): -> `_cmd_move_column'.
	(ListForm._on_sort_column): -> `_cmd_sort'.
	(ListForm._can_sort_column): -> `_can_sort'.
	(ListForm._column_context_menu): `COMMAND_SORT_COLUMN' ->
	`COMMAND_SORT'.
	(ListForm._on_label_left_up): `COMMAND_SORT_COLUMN' ->
	`COMMAND_SORT'.
	(ListForm.on_command): Neo¹etøuj zde ``COMMAND_SORT_COLUMN',
	`COMMAND_FILTER' a `COMMAND_MOVE_COLUMN'.
	(ListForm._filter): `filter_flag' pøedávej jako boolean hodnotu.
	(ListForm._find_row_by_values): K vyhledávací podmínce pøidej
	stávající filtrovací podmínku formuláøe.  Pøi nenalezení vracej
	opravdu None.
	(ListForm._on_right_click): Namísto volání `show_context_menu'
	vyvolej pøíkaz `COMMAND_CONTEXT_MENU'.
	(ListForm.show_context_menu): Metoda zru¹ena -- pøesunuto do
	`_cmd_context_menu'.
	(ListForm._cmd_context_menu): Provádìj v¹e pøímo zde.
	(ListForm.on_command): Neo¹etøuj `COMMAND_CONTEXT_ACTION'.
	(ListForm._on_context_action): Pøejmnenováno na
	`_cmd_context_action'.
	(ListForm): Metody pøeskupeny.
	(ListForm._on_idle): Namísto volání `_on_reset_columns' vyvolej
	pøíkaz `COMMAND_RESET_COLUMNS'.
	(ListForm._on_reset_columns): Metoda zru¹ena.
	(ListForm._cmd_reset_columns): Nová metoda.
	(ListForm.on_command): Neo¹etøuj `COMMAND_RESET_COLUMNS'.
	(ListForm.focus, ListForm._post_selection_hook)
	(ListForm._select_cell): `show_position' -> `_show_position'.
	(ListForm.show_position): Pøejmenováno na `_show_position'.
	(ListForm.on_command): Neo¹etøuj `COMMAND_EDIT',
	`COMMAND_COPY_CELL', `COMMAND_CELL_COMMIT',
	`COMMAND_CELL_ROLLBACK', `COMMAND_EXPORT_CSV',
	`COMMAND_SET_GROUPING_COLUMN', `COMMAND_SHOW_CELL_CODEBOOK',
	`COMMAND_INCREMENTAL_SEARCH' a `COMMAND_INSERT_LINE'
	(ListForm._on_show_cell_codebook): Pøejmenováno na
	`_cmd_show_cell_codebook'.
	(ListForm._set_grouping_column): Pøejmenováno na
	`_cmd_set_grouping_column'.
	(ListForm._on_incremental_search): Pøejmenováno na
	`_cmd_incremental_search'.
	(ListForm._on_copy_cell): Pøejmenováno na `_cmd_copy_cell'.
	(ListForm._on_export_csv): Pøejmenováno na `_cmd_export_csv'.
	(ListForm._on_edit): Pøejmenováno na `_cmd_edit'.
	(ListForm._on_insert_line): Pøejmenováno na `_cmd_insert_line'.
	(ListForm._on_cell_commit): Pøejmenováno na `_cmd_cell_commit'.
	(ListForm._on_cell_rollback): Pøejmenováno na `_cmd_cell_rollback.
	(ListForm._cmd_line_commit, ListForm._cmd_line_rollback)
	(ListForm._cmd_finish_editing): Nové metody.
	(ListForm._cmd_cell_commit): Neloguj a vracej návratovou hodnotu
	`_on_line_commit()'.
	(ListForm.on_command): Neo¹etøuj pøíkazy `COMMAND_LINE_COMMIT',
	`COMMAND_LINE_ROLLBACK' a `COMMAND_FINISH_EDITING.
	(ListForm._on_activation): Neoèekávej argument `key'.
	(ListForm._on_toggle_column): Pøejmenováno na
	`_cmd_toggle_column'.
	(on_command): Metoda zcela zru¹ena.
	(ListForm._cmd_activate, ListForm._cmd_first_column)
	(ListForm._cmd_last_column): Nové metody.
	(ListForm._cmd_toggle_column, ListForm._cmd_resize_column)
	(ListForm._cmd_filter_by_cell): Nové metody.
	(CodebookForm.__init__): Namísto volání `_on_activation' vyvolej
	pøíkaz `COMMAND_ACTIVATE'.
	(CodebookForm._on_activation, SelectRowsForm._on_activation):
	Neoèekávej argument `key'.
	(ListForm.can_command): Odstranìn zru¹ený pøíkaz
	`COMMAND_SELECT_CELL'.
	(BrowseForm._on_print): Pøevedeno na `_cmd_print'.
	(BrowseForm.on_command): Metoda zru¹ena.
	(ListForm._select_row): Nový nepovinný argument `quiet'.  Pokud
	po¾adovaný øádek není nalezen a `quiet' není pravda, ohlas chybu a
	výbìr neprovádìj.
	(ListForm._refresh): Pokud není mo¾né vybrat øádak ani podle
	èísla, vyber první øádek.

	* lib/pytis/form/form.py (LookupForm.SORTING_ASCENDENT)
	(LookupForm.SORTING_DESCENDANT)
	(LookupForm.SORTING_DESCENDANT): Aktualizace docstringu.
	(LookupForm._on_jump): -> `_cmd_jump'.
	(LookupForm._on_search): -> `_cmd_search'.
	(LookupForm._on_filter): -> `_cmd_filter'.
	(LookupForm._on_sort_column): -> `_cmd_sort'.
	(LookupForm._can_sort_column): -> `_can_sort'.
	(LookupForm.on_command): Metoda zru¹ena.
	(EditForm._navigate): -> `_cmd_navigate'.
	(EditForm._cmd_commit_record): Nová metoda.
	(EditForm.on_command): Metoda zru¹ena.
	(EditForm._create_form): Nenastavuj callback
	`InputField.CALL_NAVIGATE'.
	(LookupForm._cmd_search): Namísto argumentu `direction' pøebírej
	dva boolean argumenty `next' a `back'.
	(LookupForm._can_unfilter): Nová metoda.
	(LookupForm._cmd_unfilter): Nová metoda.
	(RecordForm._get_row_number): Pokud odpovídaící øádek není
	nalezen, vra» None.
	(EditForm._select_row, BrowsableShowForm._select_row) 
	(RecordForm._select_row): Nový nepovinný argument `quiet'.
	(RecordForm.select_row): Pøedávej `quiet' volání `_select_row'.

2006-05-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: Zru¹eny pøíkazy
	`BrowsableShowForm.COMMAND_PREVIOUS_RECORD' a
	`BrowsableShowForm.COMMAND_FIRST_RECORD'.  Namísto toho nech» mají
	pøíkazy `BrowsableShowForm.COMMAND_NEXT_RECORD' a
	`BrowsableShowForm.COMMAND_LAST_RECORD' argument `back'.

	* lib/pytis/form/form.py (RecordForm.__init__): Metoda zru¹ena.
	(RecordForm._original_key): Metoda zru¹ena.
	(RecordForm._current_key): Pokud je `original_row()' aktuálního
	øádku nenulové, vra» radìji klíè tohoto originálního øádku.
	(LookupForm._on_jump): Pou¾ívej `InputDialog', ne `InputNumeric'.
	(EditForm._commit_form): `self._original_key()' ->
	`self._current_key()'.
	(EditForm.set_row): Metodu pøedka volej ze v¹eho nejdøíve.
	(BrowsableShowForm.__init__): Nevolej `self._set_status()'.
	(BrowsableShowForm._on_next_record): Metoda zru¹ena.
	(BrowsableShowForm._cmd_next_record): Nová metoda.
	(BrowsableShowForm._cmd_last_record): Nová metoda.
	(BrowsableShowForm._set_status): Metoda zru¹ena.
	(BrowsableShowForm.on_command): Metoda zru¹ena.
	(BrowsableShowForm._select_row): Nastav aktuální pozici ve stavové
	øádce.

	* lib/pytis/form/command.py (CommandHandler._command_handler): Pokud
	instance vrácená metodou `_get_command_handler_instance()'
	neodpovídá tøídì pøíkazu, vracej None.

	* lib/pytis/form/list.py (ListForm._find_row_by_number): Pokud je
	èíslo mimo rozsah tabulky, vracej None.
	(ListForm.select_row): Èíselný argument zpracovávej pøímo zde jen
	pokud je v mezích platných øádkù.

	* lib/pytis/presentation/field.py (PresentedRow._set_row): Pokud je
	`row' None, nastavuj také `self._original_row' na None, nikoliv na
		prázdný øádek jako instanci `PresentedRow'.
	(PresentedRow.original_row): Aktualizace docstringu.

2006-05-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (DescrNode): Vyèlenìny pouze
	spoleèné metody.
	(SingleDescrNode): Nová tøída -- metody `DescrNode' specifické pro
	jednoduché náhledy.
	(SingleDescrNode._create_content): Pøidáno generování seznamu akcí
	kontextového menu.
	(DescrIndex._create_children): Pou¾ívej `SingleDescrNode' namísto
	`DescrNode'.

2006-05-25  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Doplnìna mo¾nost
	specifikovat 'tablespace'.
	(_GsqlTable.output): Zohledni 'tablespace'.
	(Select._is_set): Oprava podmínky.
	(Select.set_columns.make_columns): Zohledni neexistující 'alias'.
	(Select.set_columns): Pro SelectSet pou¾ij seznam sloupcù prvního
	selectu. 
	(Select.set_columns): 'include_columns' kontroluj proti seznamu
	aliasù. 
	(_GsqlViewNG._format_rule.relations): V default rulu se nezabývej
	instancemi SelectRelation.

2006-05-25  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Doplnìna mo¾nost
	specifikovat 'tablespace'.
	(_GsqlTable.output): Zohledni 'tablespace'.
	(Select._is_set): Oprava podmínky.
	(Select.set_columns.make_columns): Zohledni neexistující 'alias'.
	(Select.set_columns): Pro SelectSet pou¾ij seznam sloupcù prvního
	selectu. 
	(Select.set_columns): 'include_columns' kontroluj proti seznamu
	aliasù. 
	(_GsqlViewNG._format_rule.relations): V default rulu se nezabývej
	instancemi SelectRelation.

2006-05-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb_computer): Opravena logovací hlá¹ka.

2006-05-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): `Ctrl-m' -> `Alt-Down'.

	* lib/pytis/form/screen.py (Keymap._define_key): Nedovol pøedefinovat
	stávající zkratku prefixem.  Pøedefinování prefixu zkratkou chybu
	jen loguj, nevyvolávej výjimku.

	* lib/pytis/form/list.py (BrowseForm._actions): Metoda zru¹ena.
	(ListForm.__init__): Pou¾ívej `ViewSpec.actions(linear=True)'
	namísto `self._actions()'.
	(BrowseForm._action_mitems): Titulky akcí získávej s `raw=True'.

	* lib/pytis/presentation/spec.py (ViewSpec.actions): Nový argument `linear'.
	(ViewSpec.actions.linearize): Oprava.
	(_ActionItem): Nová tøíáda.
	(Action, ActionGroup): Buï jejím potomkem.
	(Action.title, ActionGroup.title): Metody zru¹eny.
	(Action.__init__, ActionGroup.__init__): Volej konstruktor pøedka.

2006-05-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._actions): Nová metoda.
	(BrowseForm._context_menu.action_mitems): Pøevedeno na samostatnou
	metodu `_action_mitems'.
	(BrowseForm._context_menu): Pou¾ívej ji.
	(ListForm.__init__): Specifikaci akcí pøevádìj pomocí `self._actions'.

2006-05-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._menu):
	`InputField.COMMAND_RESET_FIELD' -> `InputField.COMMAND_RESET'.
	Vracej jen seznam trojic (pøíkaz, titulek, nápovìda), nikoli pøímo
	instance `MItem'.
	(InputField._can_reset_field): -> `InputField._can_reset'
	(InputField._cmd_reset_field): -> `InputField._cmd_reset'
	(InputField._mitem): Nová metoda.
	(InputField._on_context_menu): Vyu¾ívej ji.  Nenastavuj pozici
	menu, kdy¾ je vyvoláno my¹í.
	(TextField._on_kill_focus): Metoda zru¹ena.
	(TextField._menu): Nová metoda.
	(TextField._can_cut, TextField._cmd_cut, TextField._can_copy)
	(TextField._cmd_copy, TextField._can_paste, TextField._cmd_paste)
	(TextField._can_select_all, TextField._cmd_select_all): Nové
	metody.
	(Invocable._INVOKE_SELECTION_MENU_HELP)
	(DateField._INVOKE_SELECTION_MENU_HELP)
	(ColorSelectionField._INVOKE_SELECTION_MENU_HELP)
	(CodebookField._INVOKE_SELECTION_MENU_HELP): Nová konstanta.
	(Invocable._menu, CodebookField._menu, ListField._menu): Vracej
	jen seznam trojic (pøíkaz, titulek, nápovìda), nikoli pøímo
	instance `MItem'.  V¹em polo¾kám doplnìna nápovìda.
	(ListField.on_command): Pøedávej -1 jako první argument
	`wx.ListCrtl.GetNextItem()'.
	(ListField.on_command): Nezpracovávej `COMMAND_INVOKE_BROWSE_FORM'
	(_can_invoke_browse_form): Metoda zru¹ena.
	(ListField._can_select): Nová meoétda.
	(InputField._can_reset): Povol pouze pokud je políèko editovatelné.
	(InputField._mitem): Nastavuj `_command_handler' také pro pøíkazy
	tøídy `Invocable'

	* lib/pytis/form/application.py (Application.OnInit): Pøedávej
	konstruktoru `MenuBar' vlastní klávesovou mapu.

	* lib/pytis/form/commands_.py: Nové pøíkazy `TextField.COMMAND_CUT',
	`TextField.COMMAND_PASTE', `TextField.COMMAND_COPY',
	`TextField.COMMAND_SELECT_ALL'.  Pøíkaz
	`InputField.COMMAND_RESET_FIELD' pøejmenován na
	`InputField.COMMAND_RESET'.  Zru¹en pøíkaz
	`ListField.COMMAND_INVOKE_BROWSE_FORM'.
	(DEFAULT_KEYMAP): Zru¹eny klávesové zkratky s prefixem `Ctrl-x'.
	Definovány nové zkratky pro nové pøíkazy.
	(WX_COMMAND_ICONS): Nová konstanta.
	

	* lib/pytis/form/form.py (Form._on_print_menu): Pøedávej metodì
	`Menu.create()' vlastní klávesovou mapu.
	(PopupEditForm.can_command): Nová metoda.

	* lib/pytis/form/screen.py (Keymap.__init__): Kopíruj klávesovou mapu
	do hloubky.
	(KeyHandler._init_commands): Nepøidávej pøíkazy z klávesové mapy k
	`self._commands'.
	(KeyHandler.define_key): Nepøidávej definovaný pøíkaz k
	`self._commands'.
	(Menu.create): Povinný argument `keyhandler' nahrazen nepovinným
	`keymap'.  Mezeru v klávesové zkratce reprezentuj jako øetìzec
	"Mezerník".
	(MItem.__init__): Výchozí hodnota argumentu `help' nech» je None,
	nikoli prázdný øetìzec.
	(MItem.create): Pokud je help None, pøedávej wx prázdný øetìzec.
	Pokud je ve `WX_COMMAND_ICONS' nalezena ikona pro pøíkaz této
	polo¾ky, nastav pøíslu¹ný obrázek.
	(MItem.set_hotkey): Metoda zru¹ena.
	(MenuBar.__init__): Povinný argument `keyhandler' nahrazen nepovinným
	`keymap'.  Pøedávej jej `Menu.create()'.
	(Menu.__init__): 

	* lib/pytis/form/list.py (ListForm.__init__): Definuj v lokální
	klávesové mapì klávesy pro akce kontextového menu.
	(ListForm._on_label_right_down): Pøedávej metodì `Menu.create()'
	vlastní klávesovou mapu.
	(ListForm.show_context_menu): Nenastavuj horké klávesy polo¾ek
	menu podle klávesové mapy.
	(ListForm.show_context_menu): Pøedávej metodì `Menu.create()'
	vlastní klávesovou mapu.
	(BrowseForm._context_menu.action_mitems): Nenastavuj polo¾kám menu
	klávesové zkratky akcí zde, spolehni se na automatické pøevzetí z
	klávesové mapy -- jinak klávesy stejnì nebudou fungovat.

2006-05-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._edit_menu) 
	(BrowseForm._context_menu): Doplnìny texty nápovìdy polo¾ek menu.
	(BrowseForm._context_menu.action_mitems): Nastavuj text nápovìdy
	polo¾ky menu podle popisu akce.

	* lib/pytis/form/application.py (message): Nový argument `log_'.
	(Application._can_run_form): Neumo¾ni otevøít nemodální formuláø,
	pokud je otevøen modální formuláø.

	* lib/pytis/form/screen.py (Menu._on_highlight_item): Nová metoda.
	(Menu.create): Nava¾ `wx.EVT_MENU_HIGHLIGHT_ALL' na
	`_on_highlight_item'.
	(Menu._on_highlight_item): Zaka¾ logování zobrazovaných zpráv.
	(Menu.create): Kosmetická úprava.

2006-05-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/util.py (XStack): Aktualizován docstring.
	(XStack.__init__): Inicializuj `self._mru'.
	(XStack.pop): Odstraò polo¾ku z `self._mru'.
	(XStack.remove): Namísto `del' pou¾ívej metodu `remove'.  Odstraò
	polo¾ku také z `self._mru'.
	(XStack.activate): Pøesuò aktivovaný prvek na zaèátek `self._mru'.

	* lib/pytis/form/commands_.py: Nový pøíkaz
	`Application.COMMAND_RAISE_RECENT_FORM'.  Pøíkazy
	`Application.COMMAND_NEXT_FORM' a `Application.COMMAND_PREV_FORM'
	pøejmenovány na `Application.COMMAND_RAISE_NEXT_FORM' a
	`Application.COMMAND_RAISE_PREV_FORM'.
	(DEFAULT_KEYMAP): Reflektovány zmìny názvù pøíkazù a pøidán pøíkaz
	`Application.COMMAND_RAISE_RECENT_FORM'.
	(FORM_COMMAND_MENU): Doplnìny nápovìdné øetìzce ke v¹em polo¾kám.
	Reflektovány zmìny názvù pøíkazù a pøidán pøíkaz
	`Application.COMMAND_RAISE_RECENT_FORM'.

	* lib/pytis/form/form.py (Form._get_command_handler_instance)
	(InnerForm._get_command_handler_instance):
	`pytis.form.application._application.current_form' ->
	`current_form'.
	(Form._exit_check): Metoda zru¹ena.
	(Form._cmd_leave_form): Volej `self.close()' namísto
	`self._leave_form()'.
	(Form.close): Metoda zru¹ena.
	(Form._cleanup): Nová meotda.
	(PopupForm._on_frame_close): Kosmetická úprava.
	(PopupForm.close): Nová metoda.
	(PopupForm._leave_form): Metoda zru¹ena.
	(PopupForm.run): Nakonec volej `self.close()'.
	(LookupForm._cleanup): Nová metoda.
	(LookupForm.Close): Nahrazeno metodou `_cleanup'.
	(EditForm._commit_form, PopupEditForm._buttons): Volej
	`self.close()' namísto `self._leave_form()'.
	(PopupEditForm._cleanup): Nová metoda.
	(PopupEditForm.run): Neodemykej záznam zde, ale v `_cleanup().

	* lib/pytis/form/dualform.py (DualForm.close): Nahrazeno metodami
	`_cleanup' a `_exit_check'.
	(SideBrowseDualForm.close): Nahrazeno metodou `_cleanup'.

	* lib/pytis/form/list.py (ListForm.Close): Nahrazeno metodou
	`_cleanup'.

	* lib/pytis/form/output.py (PrintForm.close): Nahrazeno metodou `_cleanup'.

	* lib/pytis/form/application.py (Application._cleanup): Zru¹en
	argument `quietly'.  Otevøené formuláøe uzavírej ve `for' cyklu,
	ne `while', je tím zabránìno nekoneèné smyèce kdy¾ nìkteré okno
	nelze zavøít.  Pøed uzavíráním formuláøe jej vyzvedni, aby mohl
	u¾ivatel reagovat na pøípadné ukonèovací akce.  Pokud je uzavøení
	formuláøe zamítnuto, vracej False.
	(Application._cmd_run_form): Zapamatuj si stringovou reprezentaci
	formuláøe pro logovací hlá¹ku po jeho uzavøení, kdy u¾ je mrtev.
	(Application.run_dialog): Po uzavøení dialogu volej `wx_yield_',
	aby byl správnì pøedán focus oken.
	(Application.OnInit): Remember the window menu as
	`self._window_menu'.
	(Application._create_command_menu): Oèekávej také text nápovìdy v
	`FORM_COMMAND_MENU'.
	(Application._update_window_menu): Pou¾ívej `self._window_menu'.
	(Application._can_raise_recent_form)
	(Application._cmd_raise_recent_form): Nové metody.
	(Application._cmd_next_form): -> `_cmd_raise_next_form'.
	(Application._cmd_prev_form): -> `_cmd_raise_prev_form'.

	* lib/pytis/form/screen.py (Window.__init__): Pøidán assert na
	`parent'.
	(Window._exit_check, Window._exit_check, Window._exit_check): Nové
	metody.
	(Window.close): Nový argument `force'.  Zde jen volej
	`self._close()'.

2006-05-17  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (Select.set_columns.make_columns): Oprava pro
	'*' v exclude_columns.

2006-05-17  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (Select.set_columns.make_columns): Oprava pro
	'*' v exclude_columns.

2006-05-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (run_form_mitem): Vypou¹tìj
	speciální znaky z titulku pøi pou¾ití pro text nápovìdy.

2006-05-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (on_command): Metoda zru¹ena.
	(Application._cmd_break, Application._cmd_raise_form)
	(Application._cmd_next_form, Application._cmd_prev_form)
	(Application._cmd_clear_recent_forms, Application._cmd_refresh)
	(Application._cmd_custom_debug): Nové metody.
	(Application.run_procedure): Transformováno na
	`_cmd_run_procedure'.
	(Application.new_record): Transformováno na `_cmd_new_record'.
	(Application.help): Transformováno na `_cmd_new_record'.
	(Application.refresh): Transformováno na `_cmd_refresh'.
	(Application.exit): Transformováno na `_cmd_exit'.
	(run_procedure, new_record, exit, refresh, help): Namísto volání
	metody aplikace vyvolej pøíslu¹ný pøíkaz.
	(Application._cleanup): Pokud pøíkaz uzavøení formuláøe vrátí
	False, nepokou¹ej se o dal¹í uzavírání formuláøù.

	* lib/pytis/form/form.py (RecordForm._on_new_record): Netestuj
	výsledek `new_record()' pøímo na None, ale v boolean kontextu.
	(EditForm._commit_form): Pass on the return value of `_leave_form'
	(PopupForm._leave_form): Pass on the return value of the frame's
	`Close()' method.

2006-05-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (CommandHandler.on_command): Vracej pøímo
	návratovou hodnotu obslu¾né rutiny.  Pokud není obslu¾ná metoda
	nalezena, vyvolej výjimku `AttributeError'.  Aktualizován
	docstring.
	(CommandHandler.invoke_command): Aktualizován docstring.
	(CommandHandler): Aktualizován docstring.
	(Command.invoke): Pøi pokusu o vyvolání pøíkazu, který není
	aktivní, vypi¹ chybovou zprávu a pípni.
	

	* lib/pytis/form/dialog.py (GenericDialog.on_command): Pokud není
	pøíkaz nalezen, volej metodu pøedka.
	(FileDialog.on_command): Metoda zru¹ena.
	

	* lib/pytis/form/screen.py (KeyHandler._maybe_invoke_command):
	Netestuj návratovou hodnotu pøi pokusu o vyvolání pøíkazu, ale
	testuj zda je pøíkaz dostupný.  Pokud ano, vyvolej jej.

	* lib/pytis/form/application.py (Application.OnInit): Nevolej
	`self.run_form()' ale globální funkci `run_form().
	(Application.on_command): Neo¹etøuj zde
	`Application.COMMAND_RUN_FORM'.
	(Application._can_run_form): Nepøijímej `*args'.
	(Application.run_form): Pøejmenováno na `_cmd_run_form'.
	Nepøijímej `*args'.  Docstring pøesunut do globální funkce
	run_form().
	(run_form): Namísto volání metody `run_form()' aktuální aplikace
	vyvolej pøíkaz `Application.COMMAND_RUN_FORM'.  Pokud je pøíkaz
	nedostupný, vypi¹ chybovou zprávu a vøa» False.  Doplnìn
	docstring.

2006-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._init_ctrl): Menu zobrazuj
	na `wx.EVT_RIGHT_DOWN', ne `wx.EVT_RIGHT_UP' a
	`wx.EVT_COMMAND_RIGHT_CLICK'.
	(InputField._menu): Nastavuj `_command_handler'.
	(on_command): Metoda zru¹ena.
	(show_popup_menu): Metoda zru¹ena.
	(InputField._cmd_reset_field): Nová metoda.
	(InputField._cmd_context_menu): Nová metoda.
	(InputField._on_context_menu): Nová metoda.
	(InputField._on_popup_menu): Metoda zru¹ena.
	(Invocable.on_command): Metoda zru¹ena.
	(Invocable._cmd_invoke_selection): Nová metoda.
	(Invocable._can_invoke_selection_alternate): Metoda zru¹ena.
	(Invocable._on_invoke_selection, DateField._on_invoke_selection)
	(ColorSelectionField._on_invoke_selection)
	(CodebookField._on_invoke_selection): Neakceptuj `**kwargs'.
	(GenericCodebookField.on_command): Metoda zru¹ena.
	(GenericCodebookField._cmd_invoke_codebook_form): Nová metoda.
	(TextField._on_kill_focus): Nová meotda.

	* lib/pytis/form/dualform.py (show_popup_menu): Metoda zru¹ena.
	(DualForm._get_command_handler_instance): Metoda zru¹ena.
	(DualForm.on_command): Metoda zru¹ena.
	(DualForm._cmd_other_form): Nová metoda.

	* lib/pytis/form/commands_.py: Zru¹en pøíkaz
	`Application.COMMAND_SHOW_POPUP_MENU'.  Nové pøíkazy
	`ListForm.COMMAND_CONTEXT_MENU' a `InputField.COMMAND_CONTEXT_MENU'.
	(DEFAULT_KEYMAP): Mapuj `Ctrl-m' na oba nové pøíkazy'.
	(Form.COMMAND_PRINT, Form.COMMAND_RELOAD_FORM_STATE): Nech» jsou
	to pøíkazy tøídy `InnerForm'.

	* lib/pytis/form/_grid.py (ListTable._panic): Namísto `leave_form()'
	vyvolej pøíkaz `COMMAND_LEAVE_FORM'.

	* lib/pytis/form/application.py (_on_frame_close): Nová meotda.
	(Application._cleanup): Namísto `self.leave_form()' vyvolej pøíkaz
	`COMMAND_LEAVE_FORM'.
	(Application._on_form_close): Nová metoda.
	(Application.run_form): Neuzavírej modální formuláø po jeho
	skonèení.  Na nemodální formuláø nava¾ `self._on_form_close()' pøi
	události jeho uzavøení.
	(Application.leave_form): Metoda Zru¹ena.
	(leave_form): Funkce zru¹ena.
	(Application.on_command): Neo¹etøuj
	`Application.COMMAND_HANDLED_ACTION' a
	`Application.COMMAND_SHOW_POPUP_MENU'.
	(_on_handled_action): Pøejmenováno na `_cmd_handled_action'.
	(Application.current_form): Nový argument `inner'.
	(current_form): Nový argument `inner'.

	* lib/pytis/form/command.py (CommandHandler.on_command): Pokud
	tøída definuje metodu `_cmd_*', kde * je název pøíkazu, pou¾it
	tuto metodu rovnou pro obsluhu pøíkazu.

	* lib/pytis/form/form.py (Form.__init__): Nenavazuj
	`_on_parent_close()' na uzavøení formuláøe.
	(Form._on_parent_close): Meotda zru¹ena.
	(Form._leave_form): Provádìj zde `_exit_check()' a vracej pravdu,
	pokud k uzavøení formuláøe skuteènì do¹lo.  Nevyu¾ívej
	`Application.leave_form()', ale rovnou formuláø uzavøi.
	(Form._cmd_reload_form_state): Nová metoda.
	(Form._cmd_help): Nová metoda.
	(Form._cmd_leave_form): Nová metoda.
	(Form.on_command): Metoda zru¹ena.
	(PopupForm._popup_frame): Nava¾ `_on_frame_close()' na událost
	uzavøení popup okna.
	(PopupForm._on_parent_close): Pøejmenováno na `_on_frame_close'.
	Pøed vlastním uzavøením volej `self.defocus()'.  Neuzavírej zde
	formuláø, ten je uzavøen automaticky wx Windows po uzavøení jeho
	rodièovského okna (pokud voláme `event.Skip()').
	(PopupForm.run): Kosmetická úprava.
	(EditForm._commit_form): Namísto pøímého uzavírání okna pou¾ij
	`self._leave_form()'.
	(PopupEditForm._on_cancel_button): Zru¹eno.
	(PopupEditForm._exit_check): Nová metoda nahrazující
	`_on_cancel_button'.
	(PopupEditForm._buttons): Na tlaèítko `Cancel' nava¾
	`self._leave_form()'.
	(EditForm.show_popup_menu): Metoda zru¹ena.
	(Form.show_popup_menu): Metoda zru¹ena.
	(Form._cmd_help): Zru¹en hack o¹etøující vyvolání pøíkazu pro
	duální formuláø.
	(InnerForm): Nová tøída.
	(Form._get_command_handler_instance): Vracej v¾dy top-level
	formuláø, ne vnitøní formuláø duálního formuláøe.
	(RecordForm): Buï potomkem InnerForm.

	* lib/pytis/form/list.py (ListForm.Show): Metoda zru¹ena.
	(ListForm.show_popup_menu): Pøejmenováno na `_cmd_context_menu'.

2006-05-12  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py:
	(SelectSetType): Nová tøída.
	(SelectSet): Nová tøída.
	(Select.__init__): Odebrán argument 'name'.
	(Select): Zaji¹tìno zji¹»ování sloupcù i pro SelectSet.
	(Select._is_set): Nová metoda.
	(Select.set_columns): Pøepsáno.
	(Select.get_columns): Zru¹eno.
	(Select.columns): Pøepsáno.
	(format_select): Pøepsáno pro zohlednìní SelectSet.
	(Select.output): Vracej prázdný øetìzec.
	(_GsqlViewNG.__init__): Zohlednìny zmìny ve tøídì Select.
	(_GsqlViewNG._format_rule.get_default_body): Nová metoda.
        (_GsqlViewNG._format_rule): Pøepsáno.
	(Select.format_select): Oprava chybného pøedání 'group_by'.
	(SelectSet.sort_columns): Nová metoda nahrazuje
	'sort_set_columns'. 
	(Select.sort_set_columns): Odstranìno.
	(Select.format_select): Oprava pøeklepu v ORDER BY.

2006-05-12  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py:
	(SelectSetType): Nová tøída.
	(SelectSet): Nová tøída.
	(Select.__init__): Odebrán argument 'name'.
	(Select): Zaji¹tìno zji¹»ování sloupcù i pro SelectSet.
	(Select._is_set): Nová metoda.
	(Select.set_columns): Pøepsáno.
	(Select.get_columns): Zru¹eno.
	(Select.columns): Pøepsáno.
	(format_select): Pøepsáno pro zohlednìní SelectSet.
	(Select.output): Vracej prázdný øetìzec.
	(_GsqlViewNG.__init__): Zohlednìny zmìny ve tøídì Select.
	(_GsqlViewNG._format_rule.get_default_body): Nová metoda.
        (_GsqlViewNG._format_rule): Pøepsáno.
	(Select.format_select): Oprava chybného pøedání 'group_by'.
	(SelectSet.sort_columns): Nová metoda nahrazuje
	'sort_set_columns'. 
	(Select.sort_set_columns): Odstranìno.
	(Select.format_select): Oprava pøeklepu v ORDER BY.

2006-05-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (CbComputer): Nová tøída.
	(ViewSpec.layout): Netestuj `related_codebook_field', ale
	`CbComputer'.
	(CodebookSpec): Opraven neaktuální docstring.
	(CodebookSpec.__init__): Opraven neaktuální docstring.
	(FieldSpec.__init__): Upraven docstring.  Z
	`related_codebook_field' vytváøej CbComputer (pro zpìtnou
	kompatibilitu).
	(FieldSpec.type): Nepracuj s `related_codebook_field', ale
	zji¹»uj, zda computer není typu `CbComputer'.
	(FieldSpec.related_codebook_field): Metoda zru¹ena.

	* lib/pytis/form/_grid.py (IncrementalSearch._exit): Pøedávej
	argumenty metodì `_run_callback' pøímo.

	* lib/pytis/form/screen.py (CallbackHandler._run_callback): Argumenty
	callbackové funkce pøijímej jako `*args' a `**kwargs'.

	* lib/pytis/form/commands_.py: `ListForm.COMMAND_NEW_LINE' ->
	`ListForm.COMMAND_INSERT_LINE'.

	* lib/pytis/form/dualform.py (BrowseDualForm._new_record_hook): Nová metoda.
	(BrowseDualForm._on_new_record): Metoda zru¹ena.
	(BrowseDualForm._set_main_form_callbacks): Pou¾ívej
	`_new_record_hook' namísto `_on_new_record'.

	* lib/pytis/form/form.py (RecordForm.CALL_NEW_RECORD)
	(RecordForm.CALL_EDIT_RECORD): Callback zru¹en.
	(RecordForm._init_attributes): Nenastavuj callbacky
	`CALL_NEW_RECORD' a `CALL_EDIT_RECORD'.
	(RecordForm._on_new_record): Nakonec volej callback
	`CALL_NEW_RECORD'.
	(RecordForm._on_edit_record): Nevy¾aduj ¾ádné argumenty.  Klíè
	editovaného øádku nech» je v¾dy aktuální klíè.
	(RecordForm._on_delete_record): Nevy¾aduj ¾ádné argumenty.  Klíè
	mazaného øádku nech» je v¾dy aktuální klíè.  Upraveno logování.
	(RecordForm.can_delete_record): Pøejmenováno na
	`_can_delete_record'.
	(RecordForm._can_edit_record): Nová metoda.
	(RecordForm.on_command): Metodám `_on_delete_record' a
	`_on_edit_record' nepøedávej klíè aktuálního záznamu jako
	argument.  Pøedávej obdr¾ené klíèové argumenty.  Pøíkazy
	`COMMAND_NEW_RECORD' a `COMMAND_NEW_RECORD' o¹etøuj pøímo voláním
	`_on_new_record' a `_on_edit_record', nikoliv voláním callbacku.
	(LookupForm.can_search_next): Pøejmenováno na `_can_search_next'.
	(LookupForm.can_search_previous): Pøejmenováno na
	w	`_can_search_previous'.
	(LookupForm.can_sort_column): Pøejmenováno na `_can_sort_column'.
	(EditForm.can_commit_record): Pøejmenováno na
	`_can_commit_record'.
	(RecordForm.CALL_NEW_RECORD): Doplnìn docstring.
	(RecordForm.CALL_SELECTION): Doplnìn docstring.
	(RecordForm._on_new_record, RecordForm.set_row): Pøedávej
	argumenty metodì `_run_callback' pøímo.

	* lib/pytis/form/list.py (ListForm.can_move_column): Pøejmenováno na
	`_'.
	(ListForm.can_sort_column): Pøejmenováno na `_'.
	(ListForm._on_label_left_up): Namísto funkce `invoke_command()'
	pou¾ívej metodu `Command.invoke()'.
	(ListForm.can_reload_form_state): Pøejmenováno na
	`_can_reload_form_state'.
	(ListForm.can_line_rollback): Pøejmenováno na
	`_can_line_rollback'.
	(ListForm.can_cell_commit): Pøejmenováno na `_can_cell_commit'.
	(ListForm.can_cell_rollback): Pøejmenováno na
	`_can_cell_rollback'.
	(ListForm.on_command): `ListForm.COMMAND_NEW_LINE' ->
	`ListForm.COMMAND_INSERT_LINE'.
	(ListForm.can_set_grouping_column): Pøejmenováno na
	`_can_set_grouping_column'.
	(ListForm.can_show_cell_codebook): Pøejmenováno na
	`_can_show_cell_codebook'.
	(ListForm.can_context_action): Pøejmenováno na
	`_can_context_action'.
	(ListForm._on_delete_record): Nevy¾aduj ¾ádné argumenty.  Klíè
	mazaného øádku nech» je v¾dy aktuální klíè.
	(ListForm._on_idle, ListForm.on_command): Pøedávej argumenty
	metodì `_run_callback' pøímo.
	(ListForm._current_codebook_info): Nepou¾ívej
	`related_codebook_field', ale zji¹»uj, zda computer není typu
	`CbComputer'.

	* lib/pytis/form/inputfield.py (InputField.can_reset_field):
	Pøejmenováno na `_'.
	(Invocable.can_invoke_selection): Pøejmenováno na
	`_can_invoke_selection'.
	(Invocable.can_invoke_selection_alternate): Pøejmenováno na
	`_can_invoke_selection_alternate'.
	(ListField.can_invoke_edit_form): Pøejmenováno na
	`_can_invoke_edit_form'.
	(ListField.can_invoke_browse_form): Pøejmenováno na
	`_can_invoke_browse_form'.
	(InputField._skip_navigation_callback.cb, InputField._on_idle)
	(TextField._on_enter_key): Pøedávej argumenty metodì
	`_run_callback' pøímo.

	* lib/pytis/form/command.py (CommandHandler.can_command): Název metody
	pro zji¹tìní dostupnosti pøíkazu nech» zaèíná podtr¾ítkem.
	(invoke_command): Funkce zru¹ena.

	* lib/pytis/form/application.py (Application.OnInit): `can_run_form'
	-> `_can_run_form'.
	(Application.can_run_form): Pøejmenováno na `_can_run_form'.
	(Application.can_new_record): Pøejmenováno na `_can_new_record'.
	(Application.can_handled_action): Pøejmenováno na
	`_can_handled_action'.
	(Application.can_next_form): Pøejmenováno na `_can_next_form'.
	(Application.can_prev_form): Pøejmenováno na `_can_prev_form'.
	(Application.can_clear_recent_forms): Pøejmenováno na
	`_can_clear_recent_forms'.

2006-05-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/event.py (wx_callback.process_event): Vyu¾ívej nové funkce `top_window()'.

	* lib/pytis/form/list.py (ListForm._init_col_attr): Nenastavuj editoru
	callback `InputField.CALL_LEAVE_FIELD' ani `CALL_COMMIT_FIELD'.
	(ListForm._resize_column): Pokud je spu¹tìn editor, zmìò také jeho
	velikost.
	(ListForm.can_reload_form_state, ListForm.can_cell_commit)
	(ListForm.can_cell_rollback, ListForm.can_command): Nové metody.
	(ListForm.on_command): Zpracuj pouze pøíkazy tøídy ListForm.
	Provádìj zpracování nepodmínìnì.  Ve¹keré podmínky pøesunuty do
	`can_command'.  Sjednoceny návratové hodnoty.
	(ListForm.exit_check): Pøejmenováno na `_exit_check'.
	(ListForm.Show): `exit_check' -> `_exit_check'.
	(CodebookForm): Nech» je `PopupForm' první v seznamu pøedkù.
	(CodebookForm.__init__): `super_()' -> `super()'.
	(CodebookForm._init_attributes): `super_()' -> `super()'.
	(CodebookForm.on_command): Metoda Zru¹ena.
	(BrowseForm.on_command): O¹etøuj pouze vlastní pøíkazy a to
	nepodmínìnì.
	(ListForm._dualform): Vyu¾ívej nové funkce `top_window()'.
	(ListForm._displayed_columns_menu): Definuj funkci `state'
	konstruktoru `CheckItem' bez argumentù.

	* lib/pytis/form/dualform.py (DualForm.get_command_handler_instance):
	Pøejmenováno na `_get_command_handler_instance'.
	(DualForm.on_command): Nepøedávej pøíkaz aktuálnímu formuláøi a
	nestarej se o argumenty pro jeho pøesmìrování.
	(DualForm.help_name): Nová metoda.
	(DualForm._get_command_handler_instance): Pou¾ívej
	`top_window()'.  Zru¹en zapomenutý print.

	* lib/pytis/form/dialog.py
	(Dialog.get_command_handler_instance): Pøejmenováno na
	`_get_command_handler_instance'.
	(GenericDialog._on_button, GenericDialog._close_dialog):
	Nenastavuj návratovou hodnotu. 
	(GenericDialog.on_command, FileDialog.on_command): ): Kosmetické
	úpravy.  Sjednoceno nastavení návratové hodnoty.
	(Dialog._get_command_handler_instance): Pou¾ívej novou funkci
	`top_window()'.  
	

	* lib/pytis/form/inputfield.py (InputField.CALL_LEAVE_FIELD)
	(InputField.CALL_COMMIT_FIELD): Callbacky zru¹eny.
	(InputField.CALL_SKIP_NAVIGATION): Pøejmenováno na
	`CALL_NAVIGATE'.
	(InputField.CALL_NAVIGATE): Aktualizace docstringu.
	(InputField.get_command_handler_instance): Pøejmenováno na
	`_get_command_handler_instance'.
	(InputField._skip_navigation_callback.cb): `CALL_SKIP_NAVIGATION'
	-> `CALL_NAVIGATE'.
	(InputField.on_command): Nezpracovávej `COMMAND_LEAVE_FIELD'.
	(TextField._on_enter_key): Namísto `CALL_COMMIT_FIELD' volej
	`CALL_NAVIGATE'.
	(Invocable.get_command_handler_instance): Pøejmenováno na
	`_get_command_handler_instance'.
	(Invocable._menu): Namísto argumentu `originator' nastavuj
	`_command_handler'.
	(Invocable.on_command): Zpracuj pøíkazy nepodmínìnì.
	(CodebookField._menu): Namísto argumentu `originator' nastavuj
	`_command_handler'.
	(ListField._set_value, ListField.on_command): Kosmetické úpravy.

	* lib/pytis/form/form.py (Form.get_command_handler_instance):
	Pøejmenováno na `_get_command_handler_instance'.
	(Form._leave_form, Form._exit_check): Nové metody.
	(Form.on_command): Zpracuj `COMMAND_LEAVE_FORM'.
	(PopupForm._on_parent_close): Netestuj existenci metody
	`_exit_check()'.  Nenastavuj návratovou hodnotu.
	(LookupForm.on_command): Pøepsáno.
	(EditForm._create_form): Nastavuj `InputField.CALL_NAVIGATE'
	namísto `InputField.CALL_SKIP_NAVIGATION'.  Nenastavuj
	`InputField.CALL_COMMIT_FIELD'.
	(EditForm.exit_check): Pøejmenováno na `_exit_check'.
	(EditForm.can_commit_record): Nová metoda.
	(EditForm.on_command): Zru¹en hack s pøeposíláním pøíkazu pøes
	argument `originator'.  Zpracovávej pouze vlastní pøíkazy a to
	bezpodmíneènì.
	(Form.help_name): Nová metoda.
	(Form.on_command): Vyvolávej help aktuálního okna, ne sebe sama
	/kvùli duálním formuláøùm/.

	* lib/pytis/form/commands_.py: Zru¹en pøíkaz
	`Application.COMMAND_LEAVE_FORM'.  Nový pøíkaz
	`Form.COMMAND_LEAVE_FORM'.  Pøíkaz
	`InputField.COMMAND_LEAVE_FIELD' nahrazen
	`InputField.COMMAND__INLINE_EDIT'.
	(DEFAULT_KEYMAP): Nová zkratka `Ctrl-Backspace' pro navrácení
	pùvodní hodnoty políèka bìhem editace.  Respektuj zmìny názvù
	pøíkazù.

	* lib/pytis/form/application.py
	(Application.get_command_handler_instance): Pøejmenováno na
	`_get_command_handler_instance'.
	(Application.on_command): Nepøedávej pøíkazy oknùm ani nepodmiòuj
	jejich zpracování podmínkami.  Nezpracovávej pøíkaz
	`COMMAND_LEAVE_FORM'.
	(Application.can_leave_form): Metoda zru¹ena.
	(top_window): Nová globální funkce.
	(Application._update_window_menu.wmitem): Definuj funkci `state'
	konstruktoru `RadioItem' bez argumentù.

	* lib/pytis/form/command.py (CommandHandler): Doplnìn docstring.
	(CommandHandler.get_command_handler_instance): Pøejmenováno na
	`_get_command_handler_instance'.
	(CommandHandler._command_handler): Nová metoda tøídy.
	(CommandHandler.command_enabled, CommandHandler.invoke_command):
	Nové metody tøídy.
	(CommandHandler.on_command, CommandHandler.can_command): Nové
	metody instance.
	(Command.__init__): Aktualizace docstringu.  Argument `cls'
	pøejmenován na `handler'.
	(Command.cls): Pøejmenováno na `handler'.
	(Command.enabled): Pøijímej argumenty jako klíèové, ne jako
	slovník.  Rovnou vracej výsledek metody
	`CommandHandler.command_enabled()'.
	(Command.invoke): Nová metoda.
	(Command.log_kind): Metoda zru¹ena.
	(invoke_command): Pouze volej `Command.invoke()'.

	* lib/pytis/form/screen.py (Keymap.define_key, Keymap.lookup_key)
	(KeyHandler, KeyHandler.on_key_down): Aktualizace docstringu.
	(KeyHandler.on_command): Metoda zru¹ena / pøesunuta do `command'.
	(KeyHandler._maybe_invoke_command):
	(Menu.create): Metodì `Command.enabled()' pøedávej argumenty jako
	klíèové, ne jako slovník.
	(KeyHandler._maybe_invoke_command): Namísto funkce
	`invoke_command()' pou¾ívej metodu `Command.invoke()'.
	(CheckItem.state): Nepøedávej funkce `state' ¾ádné argumenty

2006-05-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb_computed_field_args): Funkce
	zru¹ena.
	(cb_computer): Loguj pou¾ití.

2006-05-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._on_import_interactive):
	Neprovádìj konverzi podtr¾ítek n názvech políèek.

	* lib/pytis/form/commands_.py: Zru¹en pøíkaz `COMMAND_COMMIT_FIELD'.
	(DEFAULT_KEYMAP): Zru¹eno pøiøazení kláves pro `COMMAND_COMMIT_FIELD'.

	* lib/pytis/form/inputfield.py (InputField.on_command): Neo¹etøuj
	`COMMAND_COMMIT_FIELD'.
	(TextField._create_ctrl): Nepou¾ívej `self._style()'.  Style
	nastavuj pøímo zde a pøidej `wx.TE_PROCESS_ENTER'.  Neo¹etøuj
	`wx.EVT_KEY_DOWN', ale `wx.EVT_TEXT_ENTER' a to u v¹ech políèek.
	(TextField._style): Metoda zru¹ena.
	(TextField._on_set_focus): Metoda zru¹ena.
	(TextField._on_key_down_multiline): Metoda zru¹ena.
	(TextField._on_enter_key): Nová metoda.
	(NumericField._style): Metoda zru¹ena.
	(CheckBoxField._set_value): Volej zde `self._on_change()'.
	(EnumerationField._set_value): Volej zde `self._on_change()'.
	

2006-05-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (RecordForm._on_import_interactive):
	Oprava nahrazení tabulátoru v separátoru.

2006-05-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py: Kosmetické úpravy.

2006-05-03  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (SelectRelation): Nová tøída (pøejmenování
	pùvodní tøídy ViewRelation).
	(SelectRelation.__init__): Argument 'relname' pøejmenován na
	'relation'.
	(Select): Nová tøída.
	(Select.get_columns): Pøepsáno se zohlednìním subselectù.
	(Select.format_select): Nový argument 'indent'.
	(_GsqlViewNG): Odstranìny argumenty a metody, které byly pøesunuty
	do nové tøídy Select.

2006-05-03  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (SelectRelation): Nová tøída (pøejmenování
	pùvodní tøídy ViewRelation).
	(SelectRelation.__init__): Argument 'relname' pøejmenován na
	'relation'.
	(Select): Nová tøída.
	(Select.get_columns): Pøepsáno se zohlednìním subselectù.
	(Select.format_select): Nový argument 'indent'.
	(_GsqlViewNG): Odstranìny argumenty a metody, které byly pøesunuty
	do nové tøídy Select.

2006-05-02  Ales Bublik  <bublik@asellus.cz>

	* lib/pytis/extensions/spec.py (cmd_run_any_form): Argument xx
	vymazán. 

2006-04-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (cb_computer): Argument `codebook'
	pøejmenován na `codebook_field'.  Doplnìn docstring.
	(cb_computed_field_args): Nová funkce.

2006-04-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (DataEnumerator.type): Nová metoda.

	* lib/pytis/form/form.py (EditForm._create_form): Vytváøej políèko
	pouze pokud není jeho ¹íøka nulová.
	(EditForm._create_group): Ka¾dý identifikátor nejprve pøeveï na
	instanci InputField a potom ji¾ pracuj s ní.  Ignoruj
	identifikátory políèek, která mají nulovou ¹íøku.
	(EditForm._pack_fields): Nepøevádìj `gap' a `space' na pixely,
	hodnoty ji¾ jsou v pixelech.  Oèekávej pøímo instance InputField,
	ne identifikátor.  Neo¹etøuj HiddenField.

	* lib/pytis/form/list.py (ListForm._current_codebook_column):
	Pøejmenováno na `_current_codebook_info'.
	(ListForm._current_codebook_info): Vracej trojici column,
	codebook, enumerator.
	(ListForm._on_show_cell_codebook) 
	(ListForm.can_show_cell_codebook) 
	(ListForm._post_selection_hook): Pou¾ívej `_current_codebook_info'.

	* lib/pytis/form/inputfield.py (InputField.create): Neo¹etøuj nulovou
	¹íøku políèka.
	(HiddenField): Tøída zru¹ena.

	* lib/pytis/presentation/spec.py (ViewSpec.recourse_group): Loguj
	políèka s nulovou ¹íøkou v layoutu.
	(FieldSpec.__init__): Pokud je jako `related_codebook_field'
	pøedána dvojice, je druhý identifikátor pova¾ován za identifikátor
	sloupce v èíselníku, ze kterého má být brána hodnota tohoto
	sloupce a je automaticky vytvoøen pøíslu¹ný computer.
	Aktualizován docstring.
	(FieldSpec.type): Automaticky doplò typ podle typu sloupce v
	navázaném èíselníku, pokud byl urèen `related_codebook_field'.

2006-04-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (JoinType): Nová tøída.
	(ViewRelation): Nová tøída.
	(_GsqlViewNG): Nová tøída.
	(_format_rule): Nepou¾ívej 'table_column_names' a 'colnames'.
	(_GsqlView.columns): Nová metoda.
	(_GsqlDefs.__init__): Nový atribut 'self._relation_columns'. 
	(_GsqlDefs._add_resolved): Pro tabulky a view zjisti jejich
	sloupce a vlo¾ je do 'self._relation_columns'.
	(viewng): Nová funkce.

2006-04-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (JoinType): Nová tøída.
	(ViewRelation): Nová tøída.
	(_GsqlViewNG): Nová tøída.
	(_format_rule): Nepou¾ívej 'table_column_names' a 'colnames'.
	(_GsqlView.columns): Nová metoda.
	(_GsqlDefs.__init__): Nový atribut 'self._relation_columns'. 
	(_GsqlDefs._add_resolved): Pro tabulky a view zjisti jejich
	sloupce a vlo¾ je do 'self._relation_columns'.
	(viewng): Nová funkce.

2006-04-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/defs.py: Nový modul.
	(get_default_select, flatten_menus, get_menu_defs, menu_report)
	(cmd_menu_report, check_form, cmd_check_form, check_defs)
	(check_menus_defs, cmd_check_menus_defs, cache_spec): Pøesunuto z
	`misc'.
	(cmd_menu_report, cmd_check_form, cmd_check_menus_defs): Pøepsáno
	s pou¾itím `Application.COMMAND_HANDLED_ACTION'.

	* lib/pytis/extensions/spec.py (user_cmd, _user_cmd_caller):
	Zru¹eno.
	(printdirect, cmd_run_any_form, run_any_form, help_window)
	(run_cb, cb2strvalue, cb2colvalue, cb_computer): Nové funkce
	pøesunuté z `misc'.
	(context_rp): Zru¹eno.
	(enum): Pøesunuto do 'dbutils'.
	(cmd_run_any_form): Pøepsáno s pou¾itím
	`Application.COMMAND_HANDLED_ACTION'.

	* lib/pytis/extensions/misc.py: Zru¹eny v¹echny divoké importy.
	Spoléhej na importy v `__init__.py'.
	(cb_computer, cb2colvalue, cb2strvalue, printdirect, run_cb) 
	(help_window, run_any_form, cmd_run_any_form): Pøesunuto do `spec'.
	(constraints_email_many, constraints_email): Opraven docstring.
	(cmd_help_window): Zru¹eno.
	(get_default_select, flatten_menus, get_menu_defs, menu_report) 
	(cmd_menu_report, check_form, cmd_check_form, check_defs) 
	(check_menus_defs, cmd_check_menus_defs, cache_spec): Pøesunuto do
	nového modulu `defs'.
	
	* lib/pytis/extensions/dbutils.py (enum): Pøesunuto ze `spec'.

	* lib/pytis/extensions/__init__.py: Importuj zde v¹e z
	`pytis.form'.  Importuj také nový modul `defs'.

2006-04-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.on_command): Neo¹etøuj pøíkazy
	s handlerem.

	* lib/pytis/form/command.py (Command.__init__): Zru¹eny argumenty
	`handler', `enabled' a `access_groups'.
	(Command.handler, Command.has_access): Metody zru¹eny.
	(Command.enabled): Nepracuj s atributy `_enabled' a `_has_access'.

	* lib/pytis/form/screen.py (Menu.create): Nepou¾ívej zru¹enou metodu
	`Command.has_access()'.

	* lib/pytis/form/commands_.py: Nový pøíkaz
	`Application.COMMAND_HANDLED_ACTION'.

	* lib/pytis/form/application.py (Application.on_command): Namísto
	pøíkazu s handlerem o¹etøuj pøíkaz `COMMAND_HANDLED_ACTION'.
	(Application._on_handled_action, Application._on_handled_action):
	Nové metody.

	* lib/pytis/form/list.py (BrowseForm._context_menu): Nepou¾ívej
	`ViewSpec.popup_menu()'.
	(ListForm.on_command): Neo¹etøuj pøíkazy s handlerem.
	(ListForm._on_handled_command)
	(ListForm._context_menu_handler_args): Metody zru¹eny.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Zru¹en argument
	`popup_menu'.
	(ViewSpec.popup_menu): Metoda zru¹ena.

2006-04-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec, Column): Tøídy pøesunuty
	do Pytisu.

2006-04-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.create): Urèi výchozí
	hodnotu `selection_type' podle toho, zda políèko má enumerátor a
	je znám název èíselníku.  Pøedávej metodì `FieldSpec.codebook()'
	datový objekt.
	(InputField.__init__): `fspec' -> `spec'.
	(GenericCodebookField.__init__): Pøedávej metodì
	`FieldSpec.codebook()' datový objekt.  Ukládej název specifikace
	èíselníku do `self._codebook_name'.
	(GenericCodebookField._run_codebook_form)
	(CodebookField._on_codebook_insert, ListField._create_ctrl)
	(ListField.on_command, ListField.on_command): Vyu¾ívej
	`self._codebook_name'.

	* lib/pytis/form/list.py (ListForm._post_selection_hook): Èást
	zobrazující hodnotu èíselníku podstatnì pøepsána.
	(ListForm._on_show_cell_codebook)
	(ListForm.can_show_cell_codebook): Pøedávej metodì
	`FieldSpec.codebook()' datový objekt.
	(ListForm._on_export_csv): Kosmetická úprava.
	(ListForm._on_show_cell_codebook)
	(ListForm.can_show_cell_codebook): Pracuj zatím pouze se sloupci,
	které mají enumerátor.
	(ListForm._current_codebook_column): Nová metoda.
	(ListForm._on_show_cell_codebook,
	ListForm.can_show_cell_codebook): Vyu¾ívej ji.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Významnì
	aktualizován docstring.  Neprovádìj ¾ádné doplòování výchozí
	hodnoty `selection_type' a asserty.
	(FieldSpec.codebook): Nový argument `data'.
	(DataSpec): Nová tøída.
	(Column): Nová tøída.
	(ViewSpec): Pøidány asserty na hodnotu `related_codebook_field'.
	(FieldSpec.__init__): Nový argument `related_codebook_field'.
	Aktualizován docstring.
	(FieldSpec.codebook): Hodnotu specifikovanou argumentem
	konstruktoru `codebook' pøedávej pouze pokud není mo¾né zjistit
	název èíselníku z enumerátoru.
	(FieldSpec.related_codebook_field): Nová metoda.

	* lib/pytis/data/types_.py (DataEnumerator.iter): Doplnìn docstring a
	komentáø.
	(DataEnumerator.data_factory): Nová metoda.
	(DataEnumerator.get): Opraven docstring.
	(DataEnumerator.value_column): Doplnìn docstring.

2006-04-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (Column.id, Column.column)
	(Column.enumerator, Column.type, Column.kwargs): Doplnìny
	dokumntaèní øetìzce.
	(DataSpec): Aktualizován dokumentaèní øetìzec.
	

2006-04-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._secondary_context): Oprava chyby
	/identifikátor/.

2006-04-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Zru¹en argument
	`description_format'.
	(ViewSpec.description_format): Metoda zru¹ena.

	* lib/pytis/form/form.py (TitledForm._on_show_description): Nepou¾ívaj
	`ViewSpec.description_format()'.  Formát popisu je v¾dy
	`TextFormat.PLAIN'.
	(TitledForm._create_title_bar): Ukazuj popis formuláøe také jako
	tooltip tlaèítka vyvolávajícího okno, které popis zobrazí.

2006-04-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec.make): Metoda zru¹ena.
	(DataSpec.columns): Nová metoda.
	(Column.__init__): Doplnìny docstringy.
	(DataSpec.__init__): Zru¹en argument `ignore_enumerators'.

2006-04-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Zru¹en argument
	`check'.
	(FieldSpec.check): Metoda zru¹ena.

	* lib/pytis/presentation/field.py (check): Metoda zru¹ena.
	(PresentedRow._Column.__init__): Zru¹en argument `check'.
	(PresentedRow._process_fieldspec): Nepøedávej jej.

	* lib/pytis/form/form.py (RecordForm._check_record): Nevyu¾ívej ji¾
	metodu `PresentedRow.check()'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Pøidáno
	mapování pro `float4'.

2006-04-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._context_menu.action_mitems):
	Nová funkce.
	(BrowseForm._context_menu): Podporuj vnoøené
	seznamy a instance `ActionGroup' ve `ViewSpec.actions()'.

	* lib/pytis/presentation/spec.py (ActionGroup): Nová tøída.
	(ViewSpec.__init__): Aktualizace docstringu.  Povol vnoøené
	seznamy a instance `ActionGroup' v `actions'.

	* lib/pytis/form/application.py (Application): Aktualizace docstringu.

2006-04-06  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application.OnInit): Pou¾ívej logo z
	konfiguraèního souboru.

	* lib/pytis/util/util.py (ipython): Úprava volání ipython.

	* lib/pytis/util/configuration.py (Configuration._Option_logo): Nová
	konfiguraèní volba.

2006-03-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (run_cb): Doplnìn argument 'sort' a
	'multirow'.
	(check_form): Pøi kontrole popup_menu pøeskakuj MSeparator.
	(get_default_select): Nová funkce.

	* lib/pytis/extensions/dbutils.py (data_object): Specifikace mù¾e
	být i unicode.

2006-03-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._commit_form): Reinicializuj
	políèka v pøípadì vkládání nového záznamu.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Instanci Value pro prefill vytváøej pøímo, bez validace.

2006-03-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application.new_record): Nový
	argument 'block_on_new_record'.

2006-03-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Action.__init__): Oprava pøeklepu.

2006-03-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/www.py (BrowsableDBTable.__init__): Oprava
	pøedání parametrù "condition", "sort".
	(BrowsableDBTable.table): Vytvoø kontrolní li¹tu jen, pokud je k
	dispozici 'uri'.

2006-03-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (Action.__init__): Opraven assert pro
	`hotkey'.

2006-03-11  Tomas Cerha  <cerha@brailcom.org>

	* doc/Pytis.wiki (Module): Vymazáno v¹e, co bylo pøesunuto do
	nápovìdy pytisu.

	* lib/pytis/extensions/spec.py (context_mitem): Upraven
	docstring.  Namísto `COMMAND_CURRENT_ROW_ACTION' vyvolávej
	`COMMAND_CONTEXT_ACTION' a vytváøej pøíslu¹nou instanci `Action'.
	(context_rp): Pøejmenováno na `rp_handler'.
	(context_rp): Nový alias pro `rp_handler'.

2006-03-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (_check_perm): Metoda zru¹ena.
	(has_access): Nová metoda.
	(Application.can_run_form): Pou¾ívaj `has_access()' namísto
	`self._check_perm()'.
	(Application.can_new_record): Pou¾ívaj `has_access()' namísto
	`self._check_perm()'.

	* lib/pytis/form/commands_.py: Zru¹eny pøíkazy
	`COMMAND_CURRENT_ROW_ACTION' a `COMMAND_SELECTED_ROWS_ACTION'.
	Nový pøíkaz `COMMAND_CONTEXT_ACTION'.


	* lib/pytis/form/dualform.py (DualForm.inactive_form): Nová metoda.

	* lib/pytis/form/form.py (set_scrollbars): Metoda zru¹ena.
	(ShowForm._on_size): Nastavuj scrollbary pøímo zde.

	* lib/pytis/form/list.py (ListForm.on_command): Namísto
	`COMMAND_CURRENT_ROW_ACTION' a `COMMAND_SELECTED_ROWS_ACTION'
	o¹etøuj `COMMAND_CONTEXT_ACTION'.
	(ListForm._on_current_row_action)
	(ListForm._on_selected_rows_action): 
	(ListForm.can_selected_rows_action): 
	(ListForm.can_current_row_action): Metody zru¹eny.
	(ListForm._on_context_action, ListForm._on_context_action) 
	(ListForm.can_context_action, ListForm._context_action_args) 
	(ListForm._secondary_context): Nové metody.
	(BrowseForm._context_menu): Pøidávej do menu také polo¾ky
	vytvoøené z `ViewSpec.actions()'.
	(ListForm._on_context_action): Neoèakávej ¾ádné klíèové
	argumenty.  Klíèové arumenty handleru získávej ze specifikace akce.
	(ListForm.can_context_action): Neoèakávej ¾ádné klíèové
	argumenty.  Klíèové arumenty handleru získávej ze specifikace akce.
	(BrowseForm._context_menu): Pøíkazu `COMMAND_CONTEXT_ACTION'
	pøadávej pouze jediný argument -- `action'.

	* lib/pytis/presentation/spec.py (ActionContext): Nová tøída.
	(Action): Nová tøída.
	(ViewSpec.__init__): Nový argument `actions'.
	(ViewSpec.actions): Nová metoda.
	(DualSpec.__init__): Doplnìn docstring.
	(FieldSpec.__init__): Loguj potlaèenou funkci `check' s prioritou
	`OPERATIONAL'.

2006-03-10  Pavel Hanak  <hanak@asellus.cz>

	* INSTALL: Added 'requirements' section.

2006-03-10  Pavel Hanak  <hanak@asellus.cz>

	* INSTALL: Added 'requirements' section.

2006-03-09  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (user_cmd): Zru¹ena pøedchozí
	úprava s nahrazením dvojteèek.

2006-03-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/www.py (BaseDBTable): Nová tøída.
	(BrowsableDBTable): Nová tøída.
	(base_db_table): Nová funkce.
	(browsable_db_table): Nová funkce.

2006-03-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_rp): Argumenty pøedávej
	proceduøe jako pozièní.  Navíc také pøedávej libovolné klíèové
	argumenty.
	(user_cmd): Nahrazuj dvojteèky v názvu specifikace podtr¾ítky.

2006-03-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (Command.__init__): V assertové hlá¹ce
	uveï také typ argumentu 'name'.

	* lib/pytis/form/application.py (Application.run_procedure): Volané
	proceduøe pøadávej jak klíèové, tak pozièní argumenty.

2006-03-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_rp): Pøedávej proceduøe
	argumenty jako pozièní.

2006-03-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._init_row.genval):
	Pøidán komentáø.	

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Aktualizace
	docstringu.

	* lib/pytis/form/application.py (Application.new_record): Zru¹en
	argument `key'.
	(Application.can_new_record): Zru¹en argument `key'.

	* lib/pytis/form/list.py (ListForm._on_insert_line): Pou¾ívej
	`_row_copy_prefill()'.	

	* lib/pytis/form/form.py (RecordForm._row_copy_prefill): Nová metoda.
	(RecordForm._on_new_record): Kopírovaný øádek pøedávej jako
	prefill, ne jako `row'.

2006-03-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (ItemNode._menu_node_path) 
	(ItemNode._menu_node_path): Nová metoda.
	(ItemNode.menu_path): Vyu¾ívej ji.
	(ItemNode.menu_path_title): Nová metoda.
	(ItemNode._create_content): Uvádìj náhled také u pøíkazu New Record.
	(DescrNode._descr): Nová metoda.
	(_split_menu_descriptions): Nová funkce.

2006-03-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._find_help_files): Loguj,
	pokud není nápovìda nalezena.

2006-02-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/types_.py (Inet._validate): Úprava chybových hlá¹ek.
	(Macaddr._validate): Úprava chybových hlá¹ek.

	* lib/pytis/form/form.py (RecordForm._original_key): Nová metoda.
	(EditForm._commit_form): Pro update pou¾ij pùvodní klíè.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Doplnìn typ
	'inet' a 'macaddr'.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	V pøíkazech 'select count' nahraï 'count(*)' pomocí 'count(key)'. 

	* lib/pytis/data/types_.py (Inet): Nový typ.
	(Macaddr): Nový typ.

2006-02-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_mitem): Vytváøej pøíkaz
	`COMMAND_CURRENT_ROW_ACTION', ne `COMMAND_CONTEXT_MENU_ACTION'.

	* lib/pytis/extensions/__init__.py: Aktualizováno.

	* lib/pytis/extensions/dbutils.py: Nový modul.
	(dbfunction): Netoleruj ¾ádné klíèové argumenty, kromì
	`proceed_with_empty_values'.
	(dbupdate_many): Vyu¾ívej `data_object()'.
	(row_update): Pøejmenováno na `dbupdate'.  Ponechán alias pro
	zpìtnou kompatibilitu.
	(dbinsert): Vyu¾ívej `data_object()'.
	(dbselect): Vyu¾ívej `data_object()'.  Netoleruj ¾ádné klíèové argumenty, kromì `condition' a
	`sort'.
	(dbfunction): Oprava zpracování argumentù.

	* lib/pytis/extensions/misc.py (data_create, dbfunction) 
	(dbselect, dbupdate_many, dbinsert, row_update, is_in_groups):
	Funkce pøesunuty do nového modulu `dbutils'.

	* lib/pytis/extensions/configuration.py: Pøejmenováno na `dbconfig.py'.

	* lib/pytis/extensions/dbconfig.py: Nový soubor.
	(DBConfig.__init__): Vyu¾ívej funkce `data_object()'.

2006-02-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: Pøíkaz `COMMAND_CONTEXT_MENU_ACTION'
	pøejmenován na `COMMAND_CURRENT_ROW_ACTION'.  Nový pøíkaz
	`SELECTED_ROWS_ACTION'.

	* lib/pytis/form/list.py (ListForm._context_menu): Nová metoda.
	(ListForm._context_menu, ListForm._context_menu): Nové metody.
	(ListForm.on_command): Namísto `COMMAND_CONTEXT_MENU_ACTION'
	o¹etøuj `COMMAND_CURRENT_ROW_ACTION' a
	`COMMAND_SELECTED_ROWS_ACTION'.
	(ListForm._on_context_menu_action): Pøevedeno na
	`_on_current_row_action'.
	(ListForm.can_context_menu_action): Pøevedeno na
	`can_current_row_action'.  Nedovol akci, pokud aktuálnì vybraný
	øádek není øádek, na kterém je kurzor.
	(ListForm._on_selected_rows_action)
	(ListForm.can_selected_rows_action): Nové metody.
	(ListForm.can_current_row_action): Nezkoumej argumenty handleru
	pøes inspect.
	(ListForm._on_context_menu): Nepøenastavuj výbìr.
	(SelectRowsForm): Nová tøída.
	(ListForm._create_grid): `self._on_context_menu()' ->
	`self._on_right_click()'.
	(ListForm._on_context_menu): Pøejmenováno na `_on_right_click'.
	Zobrazuj menu pouze pokud je aktivní øádek jediným vybraným øádkem.

2006-02-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (data_create): Vra» jen data. 
	(dbinsert): Argument 'row' je pozièní.
	(dbinsert): Upraveno s mo¾ností pøedání pytis.data.Row.

	* lib/pytis/extensions/www.py (form_validate): Pou¾ij
	'data_create'. 
	(PopupCB): Doplnìn argument 'selected'.

2006-02-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_dbpass._DESCR): Doplnìno.

	* lib/pytis/data/dbdata.py (_pypg_new_connection): Pokud dojde k chybì
	a chybová zpráva obsahuje øetìzec 'authentication failed', pova¾uj
	chybu také za DBLoginException.

2006-02-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/util/configuration.py (Configuration._Option_dbpass):
	Nová konfiguraèní volba.
	(Configuration._Option_dbconnection.default): Doplò i novou
	konfiguraèní volbu 'dbpass'.

2006-02-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (TableRowIterator): Nová tøída.

	* lib/pytis/form/command.py (Command.__init__): Vyu¾ívej
	`pytis.data.is_in_groups()'.

	* lib/pytis/data/access.py (is_in_groups): Nová funkce.

	* lib/pytis/form/search.py (SFDialog._create_content.condition):
	O¹etøi pøípad, kdy `self._field_id' ji¾ není v `self._columns'.

	* lib/pytis/form/screen.py (wx_text_view): Pøedávej argument `id'
	konstruktoru `lcg.WikiNode'.

	* lib/pytis/form/application.py (Application.OnInit): S èíslem portu
	db spojení pracuj jako s øetìzcem.

	* lib/pytis/data/dbdata.py (_pypg_new_connection): Pøevádìj èíslo
	portu na øetìzec.

2006-02-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py: Neimportuj 'pytis.output'.
	(data_create): Nová funkce.
	(printdirect): Importuj 'pytis.output'.

	* lib/pytis/extensions/www.py: Pou¾ívej 'NullApplication'.
	(DBTable): Doplnìn dokumentaèní øetìzec.
	(form_validate): Nová funkce.
	(PopupCB): Nová funkce.

2006-02-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py
	(DescrNode._default_description_text): Pokud není definováno
	`description', pou¾ij `help'.

	* lib/pytis/extensions/misc.py (ConfigDB): Tøída zru¹ena.
	(DBConfig, saved_config_reader.reader) 
	(saved_config_writer.writer, cfg_param): Pøesunuto do nového modulu
	`configuration'.

	* lib/pytis/extensions/__init__.py: Importuj nový modul
	`configuration'.

	* lib/pytis/extensions/configuration.py: Nový soubor.
	(cfg_param): Odstranìn zapomenutý print.

2006-02-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application.OnInit): O¹etøi situaci,
	kdy není definován port.

2006-02-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (RefSpec): Tøída zru¹ena.
	(FieldSpec.__init__): Zru¹en argument `references'.
	(ViewSpec.__init__): Zru¹en argument `enable_inline_insert'.
	(CodebookSpec.__init__): Zru¹en argument `insert_unknown_values'.
	(ViewSpec.__init__): Nový argument `help'.
	(ViewSpec.help): Nová meotda.
	(ViewSpec.__init__): Aktualizován docstring.

	* lib/pytis/presentation/field.py (PresentedRow.refvalue): Metoda zru¹ena.

	* lib/pytis/form/screen.py (KEY_ANY): Konstanta zru¹ena.
	(Window.ACT_WINDOW, Window.ACTIVATIONS): Konstanty zru¹eny.
	(_MenuObject): Nová tøída.
	(MSeparator): Buï jejím potomkem.
	(_TitledMenuObject): Nová tøída.
	(MenuBar._append_menu, MenuBar._replace_menu)
	(MenuBar._remove_menu, MenuBar.add_menu, MenuBar.activate)
	(MenuBar.save, MenuBar.restore): Metody zru¹eny.
	(Menu): Buï potomkem `_TitledMenuObject'.
	(Menu.__init__): Zru¹en argument `activation'.  Zru¹ena mo¾nost
	pøedávat v items funkci, vytváøející menu dynamicky.
	(Menu.activation, Menu.dynamic, Menu.title): Metody zru¹eny.
	(Menu.create): Zru¹en argument `form'.  Kosmetické úpravy.  Wx
	metodám pøedávej "raw" titulek.
	(MItem): Buï potomkem `_TitledMenuObject'.
	(MItem.__init__): Kosmetické úpravy assertù.  Volej konstruktor
	pøedka.
	(MItem._on_ui_event): Nepøedávej argument `application' metodì
	`Command.enabled()'.
	(MItem.title): Metoda zru¹ena.
	(MItem.create): Wx metodám pøedávej "raw" titulek.
	(ButtonSpec, ButtonBar, Help, HelpFrame): Tøídy zru¹eny.

	* lib/pytis/form/command.py (Command.__init__): Zru¹eny argumenty
	`key' a `static'.  Argument `name', nech» je pozièní.  Zru¹en hack
	upravující po staru pøedané argumenty.
	(Command.enabled): Zru¹en argument `application'.  Neke¹uj
	výsledky volání `enabled()' funkce.
	(Command.__setattr__): Metoda zru¹ena.
	(invoke_command): Nepøedávej argument `application' metodì
	`Command.enabled()'.

	* lib/pytis/form/application.py (Application._update_window_menu):
	Zru¹en argument `recreate'.
	(Application._activate): Metoda zru¹ena.
	(Application.run_form): Nevolej `_activate()'.
	(Application.restore): Nevolej `_activate()' ani
	`_update_window_menu()'.
	(Application.run_form): Pokud jde o PrintForm, nepøidávej jej do
	recent_forms.
	(Application.OnInit): Zobraz v titulku aplikace informace o
	databázovém spojení.

	* lib/pytis/form/form.py (Form.ACT_FORM, Form.ACTIVATIONS): Konstanty
	zru¹eny.

	* lib/pytis/form/output.py (PrintForm.ACT_PRINT_FORM) 
	(PrintForm.ACTIVATIONS): Konstanty zru¹eny.
	(PrintForm._menus): Metoda zru¹ena.
	(PrintForm.DESCR): Nová konstanta.
	(PrintForm._create_controls): Pou¾ívej stock buttons.

2006-02-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/www.py: Upraveny importy.

2006-02-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_rp): Nová funkce.

2006-02-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._on_context_menu_action): Nový
	arguemnt `access_groups'.  Nezkoumej argumenty handleru pomocí
	`inspect'.  V¾dy pøedej aktuální øádek a v¹echny klíèové
	argumenty.
	(ListForm.can_context_menu_action): Nový arguemnt
	`access_groups'.  Provìøuj nejprve pøítomnost v `access_groups',
	teprve potom funkci `enabled'.

	* lib/pytis/form/commands_.py: Aktualizován popis pøíkazu
	`BrowseForm.COMMAND_CONTEXT_MENU_ACTION'.  

2006-02-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (NullApplication.recent_forms_menu):
	Nová metoda.

	* lib/pytis/form/command.py (Command.__init__): Pøidány hlá¹ky k assertùm.

2006-02-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (_menu_items): Nová globální
	promìnná.
	(ItemNode.menu_path): Nová metoda.
	(ItemNode._create_content): Vytváøej seznam polo¾ek menu pro ka¾dý
	defs `_menu_items'.
	(DescrNode._info): Nová metoda.
	(DescrNode._create_content): Vyu¾ívej ji.  `_specific_info()' ->
	`_access_rights'.
	(DescrNode._specific_info): Pøejmenováno na `_access_rights'.
	(DescrNode._info): Nová metoda.
	(DualDescrNode._specific_info): Pøejmenováno na `_access_rights'.
	Vracej prázdný seznam.
	(DescrNode._p): Metoda zru¹ena.
	(DescrNode._create_content): Nepou¾ívej `_p', ale vytváøej pøímo
	`lcg.Paragraph'.

2006-02-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._find_help_files): Pokud
	adresáø nápovìdy neexistuje, rovnou vra» prázdný seznam.

2006-02-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py (ItemNode._create_content):
	Upravena podmínka rozeznání duálního formuláøe.
	(DualDescrNode._specific_info): Nad tabulku pøidej horizontální
	separátor.

2006-02-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer.show_page): O¹etøeno
	dìlení nulou pøi výpoètu nastavení scrollbarù.

	* lib/pytis/util/log.py (Module, Logger._retrieve_info): Pou¾ívej
	`positive_id()' namísto `id()'.

	* lib/pytis/util/util.py (positive_id): Nová funkce.

	* lib/pytis/form/screen.py (MItem.__init__): Umo¾ni pøedat namísto
	argumentu `command' pøímo dvojici (COMMAND, ARGS), urèující jak
	pøíkaz, tak jeho argumenty.

	* lib/pytis/form/form.py (Form.on_command): O¹etøuj pøíkaz
	`Form.COMMAND_HELP'.
	(Form.on_command): Název topicu sestav pøímo zde.

	* lib/pytis/form/dualform.py (DualForm.on_command): O¹etøuj pøíkaz
	`Form.COMMAND_HELP'.
	(DualForm.on_command): O¹etøuj `Form.COMMAND_HELP' jen pokud jde
	duální formuláø vytvoøený nad DualSpec.
	

	* lib/pytis/form/configui.py (ConfigForm.DESCR): Nová konstanta. 

	* lib/pytis/form/application.py (Application.OnInit): Naèítej hned pøi
	startu seznam dostupných souborù nápovìdy.  Vytváøení menu pøíkazù
	pøesunuto do `_create_command_menu()'.  Pøidávej také menu
	nápovìdy s vyu¾itím `_create_help_menu()'.
	(Application._create_help_menu, Application._create_command_menu)
	(Application._find_help_files): Nové metody.
	(Application.help): Vyu¾ívej seznam dostupných souborù nápovìdy
	`self._help_files'.  Pokud nejsou dostupné ¾ádné soubory, zobraz
	v¾dy jen informaèní dialog.  Jako výchozí topic vyu¾ívej index
	prvního nalezeného souboru nápovìdy.
	(Application.on_command): Pøedávej argumenty pøíkazu
	`Application.HELP' metodì `help()'.
	(Application.can_run_form): Netoleruj neexistující specifikace.
	(Application.OnInit): Po naètení ulo¾eného `recent_forms'
	zkontroluj, zda dané specifikace stále existují.

	* lib/pytis/form/commands_.py: Nový pøíkaz `Form.COMMAND_HELP'.
	Popisky pøíkazù upraveny, aby neobsahovaly argumenty a teèku na konci.
	(DEFAULT_KEYMAP): Nová zkratka `Ctrl-F1' pro `Form.COMMAND_HELP'.
	Pøíkazu `Application.HELP' na `F1' pøedávej arguemnt `topic' s
	hodnotou `pytis'.

2006-02-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/help.py: Nový modul.

2006-02-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (dbselect): Pou¾ij novou instanci
	Resolveru.

	* lib/pytis/extensions/__init__.py: 	

	* lib/pytis/extensions/www.py (DBTable): Nová funkce.

2006-02-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm.DESCR, CodebookForm.DESCR): Nová konstanta.

	* lib/pytis/form/application.py (NullApplication): Nová tøída.

	* lib/pytis/form/dualform.py (DualForm, BrowseShowDualForm): `_DESCR'
	-> `DESCR'.

	* lib/pytis/form/form.py (Form._DESCR): Pøejmenováno na `DESCR'.
	(PopupEditForm, ShowForm, Form.descr): `_DESCR' -> `DESCR'.

2006-02-07  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GviewsqlRaw): Nová tøída.
	(view_sql_raw): Nová funkce.
	(_GviewsqlRaw.output): Umo¾ni pøedání columns jako tuple.

2006-02-07  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GviewsqlRaw): Nová tøída.
	(view_sql_raw): Nová funkce.
	(_GviewsqlRaw.output): Umo¾ni pøedání columns jako tuple.

2006-02-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm.__init__): Volej
	`self._init_inserted_row()' namísto výbìru `self._inserted_row()'
	zde.
	(EditForm._inserted_row, PopupEditForm._inserted_row): Metody
	zru¹eny.
	(EditForm._init_inserted_row, PopupEditForm._init_inserted_row):
	Nové metody.
	(PopupEditForm._on_next_button, PopupEditForm._on_skip_button):
	Volej `self._init_inserted_row()' namísto výbìru
	`self._inserted_row()' zde.

	* lib/pytis/form/list.py (ListForm._displayed_columns_menu): Zobrazuj
	v menu `column_label', ne `label'.
	(ListForm._init_col_attr): Pokud je editovatelnost urèena
	computerem, nastav sloupec jako editovatelný.

2006-01-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SearchDialog._HELP_TOPIC)
	(FilterDialog._HELP_TOPIC, SortingDialog._HELP_TOPIC): Nové
	konstanty.

	* lib/pytis/form/dialog.py (GenericDialog._HELP_TOPIC): Nová
	konstanta.
	(GenericDialog._create_dialog): Nevytváøej dialog se stylem
	`wx.STAY_ON_TOP'.
	(GenericDialog.on_command): O¹etøuj pøíkaz `Dialog.COMMAND_HELP'.

	* lib/pytis/form/commands_.py: Nový pøíkaz `Dialog.COMMAND_HELP'.

	* lib/pytis/form/application.py (Application._cleanup): Uzavírej také
	okno nápovìdy.
	(Application.help): V adresáøi nápovìdy vyhledej v¹echny dostupné
	soubory s nápovìdou v zazipované podobì a pou¾ij je.

2006-01-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration._Option_doc_dir):
	Doèasnì vráceno.

2006-01-26  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (constraints_email): Nový povolený znak
	na konci textu pøed zavináèem "-".
	(smssend): Úprva kontroly tvaru èísla, tak aby ¹lo posílat SMS i
	na pøedvolby do zahranièí.

2006-01-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._commit_form): 'original_row'
	pøedávej do cleanupu jako novou instanci.

2006-01-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._create_content.condition): Pokud
	nebyl pøedán výchozí sloupeèek, vyber první sloupec.

	* lib/pytis/form/application.py (Application.run_form):
	`self._post_init_form()' volej a¾ po zobrazení formuláøe.
	(Application.help): Roz¹íøena chybová zpráva pøi nenalezení manuálu.

2006-01-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.help): Nech» je argument
	`topic' nepovinný.  Pou¾ívej konfiguraèní volbu `help_dir' a
	zobraz varování, pokud soubor nápovìdy není nalezen.  Doplnìn
	docstring.
	(help): Nech» je argument `topic' nepovinný. Doplnìn docstring.
	(Application.on_command): O¹etøuj pøíkaz `Application.COMMAND_HELP'.

	* lib/pytis/util/configuration.py (Configuration._Option_help_dir):
	Nová volba.
	(Configuration._Option_doc_dir): Volba zru¹ena.

	* lib/pytis/form/commands_.py: Nový pøíkaz `Application.COMMAND_HELP'
	a klávesová zkratka.

2006-01-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (Warning.__init__): Roz¹íøeno o argumenty
	'report' a 'report_init'.
	(Error.__init__): Roz¹íøeno o argumenty 'report' a 'report_init'.

2006-01-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Aktualizace
	docstringu.

	* lib/pytis/form/list.py (ListForm._update_grid): Provádìj
	pøenastavení velikosti gridu i pokud do¹lo ke zmìnì poètu sloupcù,
	nejen øádkù, a provádìj jej v¾dy a¾ úplnì nakonec.

2006-01-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Importuj `wx.html'.
	(Application.OnInit): Inicializuj atribut `self._help_controller'.
	(Application._cleanup): Mezi ukládané konfiguraèní volby zahrnuj
	pouze volbu z konfiguraèních formuláøù a nìkteré explicitnì
	vyjmenované volby.
	(Application.help): Nová metoda.
	(help): Nová funkce.

	* lib/pytis/form/list.py (ListForm._on_sort_column): Aktualizuj také
	grouping.
	(ListForm._on_label_left_up): Vypoèti nový smìr tøídìní a pøedej
	konkrétní smìr, nikoli konstantu `SORTING_CYCLE_DIRECTION'.  Pokud
	není stisknut Shift, proveï primární tøídìní i pokud sloupec ji¾
	je setøídìn (sekundárnì).

	* lib/pytis/form/form.py (LookupForm.SORTING_CYCLE_DIRECTION):
	Konstanta zru¹ena.
	(LookupForm._on_sort_column): Aktualizace docstringu.  Neøe¹
	cyklické pøepínání smìru zde.
	(LookupForm.can_sort_column): Neuva¾uj s `SORTING_CYCLE_DIRECTION'.

	* lib/pytis/form/configui.py (configurable_options): Nová funkce.

2006-01-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._commit_form): Do cleanupu pøedávej
	skuteènì pùvodní hodnotu 'original_row'.

2006-01-20  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._commit_form): Do cleanupu pøedávej
	i pùvodní øádek.

2006-01-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (ListTable.GetAttr): Zru¹en zapomenutý print.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Loguj pou¾ití
	potlaèeného argumentu `enable_inline_insert'.
	(ViewSpec.enable_inline_insert): Metoda zru¹ena.

	* lib/pytis/form/list.py (ListForm._on_label_left_down): Nevolej
	`event.Skip()'.
	(ListForm._on_insert_line): Ignoruj `enable_codebook_insert' a
	namísto toho kontroluj, zda jsou zobrazeny v¹echny not_null
	sloupce.
	(ListForm._init_attributes): Neinicializuj
	`self._enable_inline_insert'.
	(ListForm._update_grid.notify): Zavírej editory je¹tì pøed ru¹ením
	sloupcù.
	(ListForm._update_grid): Nezavírej editory zde.
	(ListForm._init_col_attr): Pokud existují nìjaké editory, napøed
	je zavøi.
	(BrowseForm._formatter_parameters): `_lf_translated_sorting' ->
	`_data_sorting'.

	* lib/pytis/form/application.py (Application.on_command): Testuj
	existenci aktivního formuláøe v boolean kontextu, ne jen na None
	hodnotu.  To by mìlo zachytit i mrtvé formuláøe.

2006-01-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/spec.py (TextFormat): Tøída pøesunuta 'vý¹'.
	(ViewSpec.__init__): nový argument 'description_format'.
	(ViewSpec.description_format): Nová metoda.

	* lib/pytis/form/form.py (TitledForm._on_show_description): Nová
	metoda. 
	(TitledForm._create_title_bar): Doplnìn button pro description.

2006-01-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (ListTable.__init__): Výchozí hodnotou pro
	`grouping' nech» je prázdný tuple.  Pøidán assert.
	(ListTable._group): Poèítej s vícesloupcovým seskupováním.
	(ListTable._cached_value): Ke¹uj v¹echny sloupce z `grouping'.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Aktualizace
	docstringu.  Povol sekvenci, jako hodnotu pro `grouping' a pokud
	jde jen o jeden identifikátor sloupce, pøeveï jej na jednoprvkový
	tuple.  Provádìj kontrolu na existenci sloupcù z `grouping' a
	`sorting'.
	(ViewSpec.grouping): Aktualizace docstringu.

	* lib/pytis/form/list.py (ListForm._on_sort_column): Nekontroluj zde
	pøítomnost sloupce v datech, dìlá to pøedek.
	(ListForm._on_label_left_up): Pokud není stisknutá klávesa
	`Shift', nastav tøídící sloupec jako primární.
	(ListForm._refresh): Neukládej nastavení tøídìní zde.
	(ListForm._on_label_paint, CodebookForm._on_idle): Nepracuj s
	promìnnou `self._lf_sorting' pøímo.  Pou¾ívej nové metody.
	(ListForm._init_grouping): Pracuj s groupingem jako s tuple.
	(ListForm._column_context_menu): Roz¹íøeny pøíkazy pro práci s
	groupingem.
	(ListForm._on_label_paint): Pracuj s groupingem jako s tuple.
	(ListForm._set_grouping_column, can_set_grouping_column): Nové
	arguemnty `reset' a `remove'.  Pracuj s groupingem jako s tuple.
	(ListForm._set_grouping_column): Zru¹eny argumenty `reset' a
	`remove'.  Nastavuj seskupování jen podle tøídících sloupcù, a¾ po
	`col'.
	(ListForm._column_context_menu): Pro seskupování pou¾ij jen dva
	pøíkazy, respektující tøídìní.
	(ListForm._on_label_paint): Seskupování indikuj barvou tøídícího
	trojúhelníèku.
	(ListForm.can_set_grouping_column): Zru¹eny argumenty `reset' a
	`remove'.  Umo¾ni seskupování jen podle tøídících sloupcù.

	* lib/pytis/form/form.py (LookupForm.SORTING_NONE) 
	(LookupForm.SORTING_CYCLE_DIRECTION) 
	(LookupForm.SORTING_ASCENDENT, LookupForm.SORTING_DESCENDANT):
	Aktualizace docstringu.
	(_lf_translated_sorting): Pøejmenováno na `self._data_sorting()'.
	(LookupForm._data_sorting): Nová metoda.
	(LookupForm._sorting_columns): Nová metoda.
	(LookupForm._sorting_position): Nová metoda.
	(LookupForm._sorting_direction): Nová metoda.
	(LookupForm._on_sort_column): Výraznì pøepsáno.
	(LookupForm.can_sort_column): Výraznì pøepsáno.
	(LookupForm._init_sorting): Nová metoda.
	(LookupForm._init_attributes): Pou¾ívej ji.
	(_user_defined_sorting): Metoda zru¹ena.

2006-01-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (ListTable.GetAttr): Pøeci jen pou¾ívej
	providera k zji¹tìní výchozích atributù buòky (obsahují atributy
	sloupce).

	* lib/pytis/form/list.py (ListForm._create_form_parts): Neoèekávej
	návratovou hodnotu od `self._create_grid()'.
	(ListForm._create_grid): Pøiøazuj rovnou zde do `saelf._grid'.
	Nevracej ¾ádnou návratovou hodnotu.  Neinicializuj atributu
	sloupcù zde.  Vyu¾ívej k tomu `self._init_col_attr()'.
	(ListForm._update_grid): Pokud do¹lo ke zmìnám sloupcù, volej
	`self._init_col_attr()'.
	(ListForm._init_col_attr): Nová metoda.
	(ListForm._edit_cell): Loguj radìji identifikátor sloupce.
	(ListForm.on_command): Netestuj
	(ListForm._close_editors): Nová metoda.
	(ListForm.Close): Vyu¾ívej ji.

2006-01-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._create_content.condition):
	Pou¾ij pou¾ij v¾dy `self._field_id' jako pøednastavený sloupec pro
	novou podmínku.
	(SFDialog._save_values): Neukládej nastavení, pokud máme pouze
	jednu nevyplnìnou podmínku.
	(SFDialog.run, SearchDialog.run, FilterDialog.run): Arguemnt `col'
	zmìnìn na `fiald_id'.

	* lib/pytis/form/_grid.py (ListTable.GetAttr): Nepokou¹ej se získat
	instanci `wx.grid.GridCellAttr' od providera, rovnou vytvoø
	vlastní.
	(ListTable.GetValue, ListTable.GetTypeName, ListTable.GetAttr):
	O¹etøuj situaci, kdy èíslo sloupce neodpovídá poètu zobrazených
	sloupcù.

	* lib/pytis/form/commands_.py (DEFAULT_KEYMAP): Klávesová zkratka pro
	pøíkaz `Application.COMMAND_CUSTOM_DEBUG' zmìnìna na `Ctrl-x d'

	* lib/pytis/form/form.py (LookupForm._init_attributes): Zru¹en
	argument `grouping'.  Zjisti a pøípadnì uplatni u¾ivatelské
	nastavení tøídìní.
	(LookupForm._default_grouping): Metoda zru¹ena.
	(LookupForm._on_reload_form_state): Nová metoda.
	(LookupForm._on_sort_column): Zapamatuj si tøídìní jako
	u¾ivatelské nastavení.
	(LookupForm._default_sorting): Urèi výchozí tøídìní a vra»
	specifikaci.
	(Form._get_state_param): Nový argument `cls'.
	(LookupForm._init_attributes): Pou¾ívej metodu
	`self._user_defined_sorting()'.
	(LookupForm._user_defined_sorting): Nová metoda.
	(RecordForm.current_field): Nová metoda.
	(LookupForm._on_search): Pøedávej metodì `run()' dialogu
	identifikátor aktuálního políèka.
	(LookupForm._on_filter): Zru¹eny argumenty `row' a `col'.
	Pøedávej metodì `run()' dialogu identifikátor aktuálního políèka.

	* lib/pytis/form/list.py (ListForm.can_set_grouping_column): Nová
	metoda.
	(ListForm.can_set_grouping): Metoda zru¹ena.
	(ListForm._init_attributes): Nový argument `grouping'.
	Inicializuj `self._grouping'.
	(ListForm._default_grouping): Metoda zru¹ena.
	(ListForm._default_sorting): Metoda zru¹ena.
	(ListForm._update_grid): Pou¾ívej `self._grouping' namísto
	`self._lf_grouping'.
	(ListForm._on_label_right_down): Pøíkazu
	`ListForm.COMMAND_SET_GROUPING_COLUMN' pøedávej èíslo, ne id
	sloupce jako argument.
	(ListForm._on_label_paint): Pou¾ívej `self._grouping' namísto
	`self._lf_grouping'.
	(ListForm._on_reload_form_state): Reinicializuj `self._grouping'.
	Volej metodu pøedka.
	(ListForm.on_command): Pøíkaz
	`ListForm.COMMAND_SET_GROUPING_COLUMN' obsluhuj voláním
	`self._set_grouping_column()', ne `self._refresh()'.
	(ListForm._set_grouping_column): Nová metoda.
	(ListForm._refresh): Nestarej se zde vùbec o grouping.  Zapamatuj
	si tøídìní jako u¾ivatelské nastavení.
	(ListForm._init_attributes): Neinicializuj sloupce ani grouping
	zde, volej `self._init_columns()', `self._init_grouping(grouping)'
	a také `self._init_column_widths()'.  Inicializuj
	`self._check_default_columns'.
	(ListForm._init_columns, ListForm._init_column_widths)
	(ListForm._init_grouping): Nové metody.
	(ListForm._column_width): Pou¾ívej slovník ulo¾ený v
	`self._column_widths'.
	(ListForm._update_grid): Pou¾ívej `self._init_columns()'.
	(ListForm._on_idle): Pokud je nastaveno
	`self._check_default_columns', zkontroluj zmìnu pøímo zde.
	(ListForm._remember_column_size): Pou¾ívej slovník ulo¾ený v
	`self._column_widths'.
	(ListForm._on_reload_form_state): Pou¾ívej `self._init_grouping()'
	a `self._init_column_widths()'.
	(ListForm._set_grouping_column): Ukládej nastavenou hodnotu jako
	u¾ivatelské nastavení.
	(ListForm._update_grid): Ujisti se, ¾e `inserted_column_index' je
	v rozumných mezích.
	(ListForm._displayed_columns_menu): Nová meotda.
	(ListForm._column_context_menu): Nová meotda.
	(ListForm._on_label_right_down): Vyu¾ívej tyto metody.  Pokud jsme
	mimo sloupce, zobrazuj pouze menu pro zobrazení/skrytí sloupcù
	(ListForm._on_label_left_down, ListForm._on_label_left_up):
	O¹etøuj situaci, kdy bylo kliknuto mimo sloupce.
	(ListForm._on_toggle_column): Umo¾ni skrýt sloupec, by» je
	posledním zobrazeným sloupcem v gridu.
	(ListForm._resize_columns): U¹etøi nulovou celkovou ¹íøku pøi
	skrytí v¹ech sloupcù.
	(ListForm.current_row): Nová metoda.
	(ListForm._on_filter): Metoda zru¹ena.

2006-01-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_application_state): Nová volba.

	* lib/pytis/form/form.py (RecordForm._on_import_interactive): Nová
	metoda.
	(RecordForm.on_command): O¹etøuj pøíkaz
	`BrowseForm.IMPORT_INTERACTIVE'.
	(EditForm._inserted_row, EditForm.__init__): Vyu¾ívej ji.
	(PopupEditForm._init_attributes): Nový argument `inserted_data'.
	Inicializuj `self._inserted_data' a `self._inserted_data_pointer'.
	(PopupEditForm._create_status_bar_field): Nová metoda.
	(PopupEditForm._create_status_bar): Vyu¾ívej ji.
	(PopupEditForm._inserted_row): Nová metoda.
	(PopupEditForm._on_cancel_button): Nová metoda.
	(PopupEditForm._on_next): Pøejmenováno na `_on_next_button'.
	(PopupEditForm._on_next_button): Vyu¾ívej `self._inserted_row()'.
	(PopupEditForm._buttons): Vyu¾ívej `self._on_cancel_button'.
	`_on_next' -> `_on_next_button'.
	(PopupEditForm.set_status): Vyu¾ívej v¹echna políèka stavového
	øádku.
	(PopupEditForm._init_attributes): Doplnìn docstring.  Zru¹en
	argument `disable_next_button'.
	(PopupEditForm._create_status_bar_field): Nový arguemnt `descr'
	(PopupEditForm._create_status_bar): Pou¾ívej ho.  Vytváøej políèko
	`progress' pouze pokud máme `inserted_data'.
	(PopupEditForm._inserted_row): Úprava zprávy v dialogu.
	(PopupEditForm._on_skip_button): Nová metoda.
	(PopupEditForm._buttons): Nepou¾ívej `self._disable_next_button'.
	Pokud máme `inserted_data', pøidávej také tlaèítko "Pøeskoèit".
	(Form._init_attributes): Nastavuj `self._form_state' podle
	konfigurace a kopíruj poèáteèní hodnotu do `self._initial_form_state'.
	(Form._get_state_param, Form._set_state_param) 
	(Form._unset_state_param): Pracuj jen s `self._form_state'.
	(Form._on_reload_form_state): Nová metoda.
	(Form.on_command): O¹etøuj pøíkaz `Form.COMMAND_RELOAD_FORM_STATE'.

	* lib/pytis/form/list.py (BrowseForm._on_import_interactive): Metoda
	zru¹ena.
	(BrowseForm.on_command): Neo¹etøuj pøíkaz
	`BrowseForm.IMPORT_INTERACTIVE'.
	(ListForm._on_label_drag_size): Pøenastav velikost gridu.
	(ListForm._column_width, ListForm._remember_column_size): Ulo¾ené
	¹íøky sloupcù pøevádìj pøed pou¾itím na slovník.
	(ListForm._update_grid): Nový argument `soft_reset_columns'.
	(ListForm._remember_column_size): Ukládej ¹íøky jako tuple dvojic
	pøevoditelný na slovník.
	(ListForm._on_reset_columns): Nová metoda.

	* lib/pytis/form/commands_.py: `BrowseForm.COMMAND_IMPORT_INTERACTIVE'
	-> `RecordForm.COMMAND_IMPORT_INTERACTIVE'.  Nový pøíkaz
	`Form.COMMAND_RELOAD_FORM_STATE'.
	

	* lib/pytis/form/application.py (Application.new_record): Nový
	argument `inserted_data'.
	(Application.OnInit): Ulo¾ seznam poslednì otevøených formuláøù do
	`self._recent_forms'.  Neneèítel je z `config.form_state', ale
	`config.application_state'.
	(Application._recent_forms_menu_items, Application.on_command)
	(Application.can_clear_recent_forms)
	(Application._update_recent_forms): Zde pracuj u¾ pouze se
	`self._recent_forms', ne s konfiguraèní volbou.
	(Application._set_form_state): Pøejmenováno na
	`Application._post_init_form'.
	(Application._write_config): Nepokou¹ej se vyøadit volby, které
	pøedtím nebyly ulo¾eny.
	(Application.run_form): `state_kwargs' -> `post_init_kwargs',
	`self._set_form_state' -> `self._post_init_form'.

2006-01-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.CALL_SKIP_NAVIGATION):
	Update docstringu.
	(InputField._skip_navigation_callback.cb): Hodnotu argumentu pro
	callback `CALL_SKIP_NAVIGATION' pøedávaj jako `back', ne
	`forward'.
	(Invocable.on_command): Namísto o¹etøování
	`COMMAND_INVOKE_SELECTION_ALTERNATE' pøedávej argumenty pro
	`COMMAND_INVOKE_SELECTION'.

	* lib/pytis/form/dualform.py
	(BrowseDualForm._set_main_form_callbacks): Nastavuje callback
	`CALL_ACTIVATION' na `self._on_main_activation()'.
	(BrowseDualForm._on_show_record): Metoda zru¹ena.
	(BrowseDualForm._on_main_activation): Nová metoda.

	* lib/pytis/form/screen.py (CallbackHandler._run_callback): Nový
	argument `kwargs' pøedávej callbackové funkci jako klíèové argumenty.

	* lib/pytis/form/form.py (LookupForm._on_search): Zru¹en argument
	`show_dialog'.  Výchozí hodnota `direction' nech» je None.  Zobraz
	dialog jen pokud není urèen smìr, nebo nebyla zadána podmínka.
	(LookupForm.on_command): Neo¹etøuj zru¹ené pøíkazy
	`COMMAND_SEARCH_NEXT' a `COMMAND_SEARCH_PREVIOUS' a pøi vyvolání
	`COMMAND_SEARCH' pøedávej v¹echny argumenty.
	(RecordForm.on_command): Neo¹etøuj `COMMAND_NEW_RECORD_COPY'.  Pøi
	o¹etøování `COMMAND_NEW_RECORD' pøedávej callbacku arguemnty.
	(EditForm._navigate): Arguemnt `forward' nahrazen argumentem `back'.
	(EditForm.on_command): Namísto o¹etøování `COMMAND_NAVIGATE_BACK'
	pøedávej argumenty pøi vyvolání `COMMAND_NAVIGATE'.

	* lib/pytis/form/command.py (Command.__call__): Nová metoda.

	* lib/pytis/form/dialog.py (GenericDialog.__init__): `self._buttons'
	pøejmenováno na
	(GenericDialog._create_buttons): `self._button_labels' ->
	`self._button_label_dict'.  `self._buttons' ->
	`self._button_labels'.  Ukládej talèítka do `self._buttons'.
	(GenericDialog._can_commit): V¾dy vracej `False'.
	(GenericDialog._button_label): `self._button_labels' ->
	`self._button_label_dict'.
	(GenericDialog._commit_dialog): Pokud jde o tlaèítko, simuluj jeho
	stisk i kdy¾ `force' není pravda.
	(GenericDialog.on_command): Neo¹etøuj zru¹ený pøíkaz
	`COMMAND_FORCE_COMMIT_DIALOG'.  Pøedávej volání
	`self._commit_dialog()' argumenty.

	* lib/pytis/form/list.py (ListForm._resize_column): Zru¹en argument
	`col' - pracuj automaticky s aktuálním sloupcem.
	(ListForm._move_column): Nová metoda.
	(ListForm.can_move_column): Nová metoda.
	(ListForm.on_command): O¹etøuj nový pøíkaz `MOVE_COLUMN'.  Namísto
	pøíkazù `ENLARGE_COLUMN' a `CONTRACT_COLUMN' nyní o¹etøuj pouze
	`RESIZE_COLUMN'.
	(ListForm.can_show_cell_codebook): Kosmetická zmìna.
	(ListForm.on_command): Zde neo¹etøuj ¾ádné vyhledávací pøíkazy.
	(BrowseForm._on_import_interactive): Oprava èíslování øádkù.
	(ListForm.CALL_ALTERNATE_ACTIVATION): Konstanta zru¹ena.
	(ListForm.__init__): Nastavuj callback `CALL_ACTIVATION' na
	`self._on_activation()'.
	(ListForm._on_activation): Nová metoda.
	(ListForm.on_command): Namísto o¹etøování
	`COMMAND_LINE_SOFT_ROLLBACK' pøedávej argumenty pøi volání
	`COMMAND_LINE_ROLLBACK.  Namísto o¹etøování
	`COMMAND_ACTIVATE_ALTERNATE' pøedávej argumenty pøi volání
	`COMMAND_ACTIVATE'.  `COMMAND_ACTIVATE' o¹etøuj vyvoláním
	callbacku s pøíslu¹nými argumenty.  Namísto o¹etøování
	`COMMAND_FULL_INCREMENTAL_SEARCH' pøedávej argumenty pøi volání
	`COMMAND_INCREMENTAL_SEARCH'.  Namísto o¹etøování
	`COMMAND_NEW_LINE_AFTER', `COMMAND_NEW_LINE_AFTER_COPY',
	`COMMAND_NEW_LINE_BEFORE' a `COMMAND_NEW_LINE_BEFORE_COPY' o¹etøuj
	`COMMAND_NEW_LINE' a pøedávej arguemnty.
	(ListForm._on_activation): Metoda zru¹ena.
	(ListForm._on_alternate_activation): Metoda zru¹ena.
	(ListForm._on_incremental_search): Nech» je arguemnt `full'
	klíèový.
	(ListForm._on_insert_line): Argumnet `after' nahrazen argumentem
	`before'.
	(CodebookForm.__init__): Nenastavuj callback `CALL_ACTIVATION'.
	(CodebookForm._on_activation): Definuj klíèové argumenty `key' a
	`alternate'.
	(BrowseForm.__init__): Metoda zru¹ena.
	(BrowseForm._context_menu): Namísto `COMMAND_ACTIVATE_ALTERNATE'
	pou¾ívej `COMMAND_ACTIVATE' s argumentem `alternate'.

	* lib/pytis/form/application.py (Application): Název i formát
	specifikaèní funkce `command_keys' zmìnìn.  Nový název je `keymap'
	a polo¾ky definují navíc také argumenty pøíkazu, pøièem¾ definice
	klávesy je nyní na prvním místì.
	(Application.OnInit): Pokud je pøíkaz definovaný v
	`DEFAULT_KEYMAP', nebo `FORM_COMMAND_MENU' sekvencí, pova¾uj tuto
	sekvenci za dvojici (COMMAND, ARGS).

	* lib/pytis/form/commands_.py: Pøíkazy `ENLARGE_COLUMN' a
	`CONTRACT_COLUMN' nahrazeny jedním `RESIZE_COLUMN'.  Nový pøíkaz
	`MOVE_COLUMN'.  Zru¹eny pøíkazy `FORCE_COMMIT_DIALOG',
	`SEARCH_PREVIOUS' a `SEARCH_NEXT'.
	Pøíkazy `NEW_LINE_AFTER', `NEW_LINE_AFTER_COPY', `NEW_LINE_BEFORE'
	a `NEW_LINE_BEFORE_COPY' nahrazeny jendím `NEW_LINE' a argumenty
	`before' a `copy'.  Pøíkaz `NEW_RECORD_COPY' nahrazen arguemntem
	`copy' pøíkazu `NEW_RECORD'.  `ACTIVATE_ALTERNATE' nahrazen
	argumentem `alternate' pøíkazu
	`ACTIVATE'. `FULL_INCREMENTAL_SEARCH' nahrazeno arguemntem `full'
	pøíkazu `INCREMENTAL_SEARCH'. `LINE_SOFT_ROLLBACK' nahrazeno
	arguemntem `soft' pøíkazu `LINE_ROLLBACK'.  `NAVIGATE_BACK'  nahrazeno
	arguemntem `back' pøíkazu `NAVIGATE'.
	`INVOKE_SELECTION_ALTERNATE'  nahrazeno
	arguemntem `alternate' pøíkazu `INVOKE_SELECTION'.
	(DEFAULT_COMMAND_KEYS): Konstanta zru¹ena.
	(DEFAULT_KEYMAP): Nová konstanta s novým formátem podle zmìn v
	`application.py' a s vyu¾itím argumentù pøíkazù.
	(FORM_COMMAND_MENU): Vyu¾ívej definice pøíkazù vèetnì argumentù.
	

2006-01-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (DBConfig.__init__): Ukládej datový
	objekt do cache pouze pokud se ho skuteènì podaøilo vytvoøit.

2006-01-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._lf_sfs_columns): Nepøedávej
	funkci `sfs_columns()' `labelfunc' ani `widthfunc'.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Nový argument
	`row_style'.
	(ViewSpec.row_style): Nová metoda.
	(FieldSpec.__init__): Výchozí hodnotou argumentu `style' nech» je
	`None'.

	* lib/pytis/form/configui.py (_LAYOUT): Pøidána také volba
	`grouping_background_downgrade'.

	* lib/pytis/form/list.py (ListForm._GROUPING_BACKGROUND_DOWNGRADE):
	Konstanta zru¹ena.
	(ListForm._init_attributes): Pokud do¹lo ke zmìnì sloupcù ve
	specifikaci, nastav `self._default_columns_changed'.  Inicializuj
	atribut `self._mouse_dragged' na `False'.
	(ListForm._create_grid): Pøedávej konstruktoru `ListTable'
	argument `row_style'.
	(ListForm._update_grid): Pøi `reset_columns' ma¾ zapamatované
	u¾ivatelské nastavení sloupcù.
	(ListForm._on_idle): Pokud je nastaveno
	`self._default_columns_changed', zobraz dialog s upozornìním na
	zmìny ve specifikaci sloupcù a zeptej se, zda u¾ivatel chce
	sloupce resetovat.
	(ListForm._on_label_left_down): Poèni pøetahování sloupce pouze
	pokud u¾ivatel kliknul dostateènì daleko od rozhraní sloupcù.
	Nuluj `self._mouse_dragged'.
	(ListForm._on_label_left_up): Proveï tøídìní pouze pokud nedo¹lo k
	popota¾ení my¹i.
	(ListForm._on_label_mouse_move): Netestuj `event.Dragging()'.
	(ListForm._on_label_mouse_move): Nastavuj `self._mouse_dragged'.
	(SideBrowseForm._default_columns): Vracej tuple.
	(ListForm._scroll_x_offset): Nová metoda.
	(ListForm._on_label_right_down, ListForm._on_label_left_down) 
	(ListForm._on_label_left_up, ListForm._on_label_mouse_move) 
	(ListForm._on_label_paint): Vyu¾ívej ji.
	(ListForm._lf_sfs_columns): Nová metoda.

	* lib/pytis/form/_grid.py (ListTable.__init__): Nový argument
	`row_style'.  Inicializuj `self._grouping_background_downgrade'.
	(ListTable._group_bg_downgrade): Nová metoda.
	(ListTable.update): Pøepoèítej
	`self._grouping_background_downgrade'.
	(ListTable.close): Nuluj také `self._current_row',
	`self._row_style' a `self._grouping_background_downgrade'.
	(ListTable._cached_value): Pokud grouping column není v columns,
	stejnì nacachuj jeho hodnotu.  Vypoèti také `row_style' pokud jde
	o funkci.
	(ListTable.GetAttr): Pokud je styl None, zkus pou¾ij `row_style'.
	Pou¾ívej `self._grouping_background_downgrade' namísto
	`ListForm._GROUPING_BACKGROUND_DOWNGRADE'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_grouping_background_downgrade._DEFAULT):
	Pozmìnìna výchozí hodnota.

	* lib/pytis/form/search.py (SFDialog._selected_condition): Nezji¹»uj
	sloupec podle labelu, ale podle poøadí.
	(SFDialog._on_suck): Urèuj sloupec podle poøadí, ne podle labelu.
	(sfs_columns): Zru¹en argument `widthfunc'.  Vynechávej sloupeèky
	bez labelu.

	* lib/pytis/form/dialog.py (GenericDialog._commit_dialog): Don't end
	the dialog.  Rather simulate a button click.

2006-01-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (get_menu_defs): Vynechávej polo¾ky
	týkající se konfigurace.

2006-01-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Inicializuj
	klávesovou mapu pøed naèítáním konfigurace.

2006-01-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._selected_condition): Validuj
	hodnoty s nastavením `strict=False'.  Pokud do¹lo k validaèní
	chybì, vyvolej výjimku.
	(SearchDialog._search, FilterDialog._on_filter): O¹etøuj výjimky v
	`_selected_condition()'.  Vracej pravdu, pokud k výjimce nedo¹lo.
	(SearchDialog._on_button): Nová metoda.
	(SearchDialog._customize_result): Neprovádìj search zde, ponech to
	na `_on_button()'.
	(FilterDialog._on_filter): O¹etøuj výjimky v
	`_selected_condition()'.  Vracej pravdu, pokud k výjimce nedo¹lo.
	(FilterDialog._on_button): Nová metoda.
	(FilterDialog._customize_result): Neprovádìj filtrování zde,
	ponech to na `_on_button()'.

	* lib/pytis/form/form.py (LookupForm._lf_sfs_columns): Vracej úplnì
	v¹echny definované sloupce.
	(Form._unset_state_param): Nová metoda.

	* lib/pytis/form/application.py (Application._stored_options): Nová
	metoda.
	(Application._read_config): Vyu¾ívej ji.
	(Application._write_config): Pøed zapsáním vyma¾ v¹echny
	existující volby.
	(Application.OnInit): Vyluèuj 'dbconnection' z naètených
	konfiguraèních voleb.
	(Application._cleanup): Vyluèuj 'dbconnection' z ukládaných
	konfiguraèních voleb.
	(Application._write_config): Na konci volej je¹tì `wxconfig.Flush()'.
	(Application._write_config): Ma¾ pouze polo¾ky, které nebyly nastaveny.

	* lib/pytis/form/list.py (ListForm._column_width): Nevy¾aduj argument
	`grid'.
	(ListForm._create_grid): Neinicializuj `self._total_width'.
	Nenastavuj zde vùbec velikosti sloupcù.
	(ListForm._update_grid): Nakonci volej `self._resize_columns()'.
	(ListForm._modify_column_width): Pøejmenováno na
	`_resize_column()'.  Na konci volej `self._remember_column_size()'
	(ListForm._resize_column): Nová metoda.
	(ListForm._on_idle): Volej callback a hook pouze pokud øádek není
	None.
	(ListForm._on_label_left_up): Nevolej zde `self._on_size()'.
	(ListForm._on_label_drag_size): Nezapamatovávej ¹íøku zde, volej
	`self._remember_column_size()'.
	(ListForm._remember_column_size): Nová metoda.
	(ListForm._on_toggle_column, ListForm._on_reset_columns): Nevolej
	zde `self._on_size()'.
	(ListForm.on_command): `_modify_column_width()' ->
	`_resize_column()'.
	(ListForm._resize_columns): Nová metoda.
	(ListForm._on_size): Vy¾aduj argument event.  Vlastní pøepoèítání
	sloupcù pøesunuto do `_resize_columns()' a algoritmus pozmìnìn.
	Zde pouze obstarej v¹e co souvisí s eventem.
	(CodebookForm.__init__): Namísto atributu `self._total_width'
	pou¾ívej metodu `self._total_width()'.

	* lib/pytis/util/configuration.py: 
	(Configuration._Option_stretch_tables): Nová volba.

	* lib/pytis/form/configui.py (_LAYOUT, _LABELS): Pøidána polo¾ka pro
	`stretch_tables'.
	(ConfigForm._buttons): Metodu _on_apply() skuteènì volej.

2006-01-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (context_mitem): Nová funkce.

	* lib/pytis/extensions/misc.py (DBConfig.__init__): Vytváøej
	datový objekt pomocí `db_operation'.

2006-01-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/configui.py (ConfigForm._create_view_spec): Metodì
	`Configuration.description()' pøedávej nový argument `full'.

	* lib/pytis/util/configuration.py
	(Configuration.Option._DOC, Configuration.Option._DESCR): Nové
	konstanty.
	(Configuration.Option.__init__): Ujisti se, ¾e je definován popis
	volby.
	(Configuration.Option.description) Nová metoda.
	(Configuration.description): Nový argument `full'.  Namísto
	dokumentaèního øetìzce vyu¾ívej nové metody
	`Configuration.Option.description()'.
	(Configuration._Option_*): Namísto dokumentaèního øetìzce definuj
	konstanty `_DOC' a `_DESCR'.

	* lib/pytis/form/list.py (ListForm._context_menu_handler_args):
	O¹etøuj pøípad, kdy handler nemá ¾ádné klíèové argumenty.

	* lib/pytis/form/application.py (Application.OnInit): Vytvoø stack
	oken a stavovou øádku je¹tì pøed naèítáním konfigurace.

2005-12-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py
	(Command.__init__): Update docstringu.  Pamatuj si dokumentaèní
	øetìzec pøíkazu.
	(Command.doc): Nová metoda.

	* lib/pytis/form/list.py (ListForm._on_insert_line): O¹etøuj pøípad
	prázdné tabulky.
	(ListForm.__init__): Na konci nevolej `_select_cell()'.
	(ListForm._is_editable_cell): Pokud se nacházíme v editaci, pracuj
	s editovaným øádkem.
	(ListForm._find_next_editable_cell): Kosmetická úprava.
	(ListForm.on_command): O¹etøuj nový pøíkaz
	`COMMAND_CONTEXT_MENU_ACTION'.
	(ListForm._context_menu_handler_args): Nová metoda.
	(ListForm._on_handled_command): Vyu¾ívej ji.
	(ListForm._on_context_menu_action): Nová metoda.
	(ListForm.can_context_menu_action): Nová metoda.

	* lib/pytis/form/application.py
	(Application._RECENT_FORMS_MENU_TITLE): Nová konstanta.
	(Application.OnInit): Read the stored configuration before
	creating the menu.  Nenastavuj aktivace menu oken a pøíkazù -
	nech» jsou vidìt v¾dy.  Po sestavení menu se pokus vyhledat menu
	poslednì otevøených formuláøù a zapamatuj jej v atributu
	`self._recent_forms_menu'.
	(Application._recent_forms_menu_items): Nová metoda.
	(Application._update_window_menu.wmitem): Vyu¾ívej ji.
	(Application._update_window_menu): Pøedávej volání `wmitem()' jen
	èíslo a formuláø.
	(Application._update_recent_forms): Nová metoda.
	(Application._recent_forms_menu_items): Nová metoda.
	(Application.run_form): Aktualizuj menu poslednì spu¹tìných
	formuláøù.
	(Application.recent_forms_menu): Nová meotda.
	(recent_forms_menu): Nová funkce.
	(Application.on_command): O¹etøuj pøíkaz `COMMAND_CLEAR_RECENT_FORMS'.
	(Application.can_clear_recent_forms): Nová metoda.

	* lib/pytis/form/commands_.py: Nový pøíkaz `COMMAND_CLEAR_RECENT_FORMS'.
	Nový pøíkaz `COMMAND_CONTEXT_MENU_ACTION'.
	

2005-12-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._STATUS_FIELDS): Nová polo¾ka
	'data-changed'.
	(ListForm._show_data_status): Nová metoda.
	(ListForm.on_data_change, ListForm._refresh, ListForm.focus):
	Volej ji.

	* lib/pytis/form/form.py (PopupEditForm._create_form_parts): Povol
	horizontální expanzi obsahu formuláøe v sizeru.

	* lib/pytis/form/configui.py (_LABELS): Pøidány popisky pro volby exportu.
	(_ConfigData): Nová tøída.
	(_MemData): Tøída zru¹ena.
	(ConfigForm.__init__): Nastavuj `mode' v¾dy na `MODE_EDIT'.
	Inicializuj select a vyber první øádek z datového objektu.
	(ConfigForm._commit_form): Metoda zru¹ena/
	(ConfigForm._on_apply): Nová metoda.
	(ConfigForm._buttons): Vyu¾ívej ji.  Vytváøej výsledek skládáním
	tuplù a u¹etøi tak pøevod na list.

2005-12-23  Tomas Cerha  <cerha@brailcom.org>

	* config/config.py: Aktualizováno.

2005-12-23  Tomas Cerha  <cerha@brailcom.org>

	* config/config.py: Aktualizováno.

2005-12-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (PopupForm._on_parent_close): Testuj, zda ji¾
	okno není po smrti.

	* lib/pytis/form/configui.py: Update docstringu.
	(_LAYOUT): Definuj jako tuple dvojic, ne jako slovník.
	(config_menu_items, ConfigForm._layout): Respektuj to.

	* lib/pytis/form/application.py (Application.run_form): Pokud není
	Editformu pøedán argument select_row, nastavuj `mode' na
	`MODE_INSERT'.
	(Application.new_record): Nenastavuj EditFormu afgument `new', ale
	`mode'.

2005-12-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._create_form_parts): Po vytvoøení
	gridu volej self._update_colors()
	(ListForm._update_colors): Nová metoda.
	(ListForm._create_grid): Nenastavuj barvy zde, dìlej to v
	`_update_colors()'.
	(ListForm._update_grid): Namísto `_update_label_colors()' volej
	`_update_colors()'.
	(ListForm._update_label_colors): Zru¹en argument `grid'.  Pou¾ívej
	`self._grid'.

	* lib/pytis/form/inputfield.py: Importuj `wx.lib.colourselect'.
	(ColorSelectionField._create_button):
	Namísto obuyèejného 'wx.Button' vytváøej
	`wx.lib.colourselect.ColourSelect'.
	(ColorSelectionField._set_value): Namísto `SetBackgroundColour()'
	volej `SetColour()'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_row_focus_bg_color): Update docstringu.
	(Configuration._Option_grouping_background_downgrade): Nová
	konfiguraèní volba.
	(Configuration._Option_export_directory) 
	(Configuration._Option_export_encoding): Update docstringu.

	* lib/pytis/form/form.py (PopupEditForm._init_attributes): Arguemnt
	`disable_new_button' pøejmenován na `disable_next_button'.
	(PopupEditForm._create_buttons): `self._disable_new_button' ->
	`self._disable_next_button'.
	(PopupEditForm._buttons): Nová metoda.
	(PopupEditForm._create_buttons): Nenastavuj tlaèítkùm labely.  Tím
	budou vytvoøena "Stock Buttons", která mají label automaticky a
	navíc ikonu.  Vytváøej tlaèítka podle informací ze `self._buttons()'.
	(PopupEditForm._create_additional_buttons): Nová metoda.
	(TitledForm._create_title_bar): Tiskové tlaèítko vytváøej bez okraje.
	(PopupEditForm._create_additional_buttons): Zru¹eno.
	(_on_submit): Zru¹eno.
	(_on_cancel): Zru¹eno.
	(PopupEditForm._buttons): Nevyu¾ívej zru¹ené metody a volej
	handler rovnou pomocí `lambda'.

	* lib/pytis/form/application.py (Application.run_form): Nenastavuj
	`mode' na MODE_INSERT, pokud není konstruktoru EditForm pøedán
	argument `select_row'.

	* lib/pytis/form/configui.py (ConfigForm._create_view_spec)
	(ConfigForm._create_data_object): Kosmetické úpravy.
	(ConfigForm.__init__): Nová metoda.
	(ConfigForm._create_view_spec.cleanup): Zru¹eno,
	(ConfigForm._create_view_spec): Nenastavuj políèkùm `default'.
	(ConfigForm._commit_form): Nová metoda.
	(config_menu_items): Nová funkce.
	(ConfigForm._buttons): Nová metoda.
	(config_menu_items): Doplnìn docstring.
	(_LAYOUT): Doplnìn layout `export'.

2005-12-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (ConfigDB): Nová tøída (pøesunuto z
	pytis).
	(DBConfig): Nová tøída.
	(ConfigDB): Buï potomkem `DBConfig'.  Pozor, rozhraní je lehce
	pozmìnìno.
	(saved_config_reader, saved_config_writer): Nové funkce.
	(cfg_param): Nechachuj datové objekty zde, ale vyu¾ívej `DBConfig'.
	(ConfigDB.__setitem__): Nová metoda.
	(DBConfig): Buï potomkem `object'.
	

2005-12-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/__init__.py (Module): Importuj `configui'.

	* lib/pytis/form/configui.py (Module): Nový modul.

	* lib/pytis/form/list.py (CodebookForm._on_idle): Pokud po¾adovaný
	sloupec pro `begin_search' není v columns, nepokou¹ej se
	nastartovat inkrementální vyhledávání a tuto skuteènost loguj.
	(ListForm._init_attributes): Pokus se naèíst seznam sloupcù z
	upo¾ených parametrù.
	(ListForm._column_width): Pokus se zjistit ¹íøku sloupce z
	ulo¾ených parametrù.
	(ListForm._update_grid): Pokud do¹lo ke zmìnì poøadí nebo poètu
	sloupcù, ukládej seznam sloupcù do stavových parametrù.
	(ListForm._on_label_drag_size): Ukládej novou velikost sloupce do
	stavových parametrù.
	(ListForm._on_size): Neignoruj sloupce s nulovou velikostí ve
	specifikaci.
	(ListForm._on_label_paint): Titulek sloupce zji¹»uj pøes
	`column_label', nikoli `label'.

	* lib/pytis/form/application.py: Importuj `cPickle' jako `pickle'.
	(Application): Aktualizován docstring.
	(Application.OnInit): Událost uzavøení hlavního okna aplikace
	o¹etøuj voláním `self._on_frame_close()'.  Naèítej a obnovuj
	konfiguraci z externího zdroje.
	(Application._spec): Argument `default_value' pøejmenován na
	`default'.  V¹echny pøípadné klíèové argumenty pøedávej metodì
	`get()' resolveru.
	(Application._config_name, Application._on_frame_close)
	(Application._read_config, Application._write_config)
	(Application._cleanup): Nové metody.
	(Application.exit): Ve¹keré ukonèovací akce pøesunuty do
	`_cleanup()'.  Zde pouze zavøi hlavní okno.
	

	* lib/pytis/form/form.py (Form._form_state_key) 
	(Form._get_state_param, Form._set_state_param): Nové metody.

	* lib/pytis/util/resolver.py (ResolverModuleError.__init__): Zprávu
	pøedávej pøedkovi jako øetìzec, ne tuple.
	(ResolverSpecError): Úprava docstringu.
	(ResolverSpecError.__init__): Zprávu pøedávej pøedkovi jako
	øetìzec, ne tuple.

	* lib/pytis/util/configuration.py (Configuration.Option.init_value):
	Nastavuje také `self._initial_value'.
	(Configuration._Option_form_state): Buï potomkem `Option', nikoli
	`_StringOption'.
	(Configuration._Option_startup_forms._DEFAULT): Výchozí hodnotou
	nech» je prázdný slovník, nikoli None.
	(print_options): Zru¹eno.
	(Configuration.options, Configuration.description) 
	(Configuration.type, Configuration.changed): Doplnìn docstring.
	(ConfigDB): Zru¹eno (pøesunuto do pytis-extensions).
	(Configuration.Option.init_value, Configuration.Option.set_value):
	Do `self._initial_value' ukládej v¾dy kopii hodnoty.

2005-12-20  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_body): Místo 'plpython'
	pou¾ívej 'plpythonu'.

2005-12-20  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_body): Místo 'plpython'
	pou¾ívej 'plpythonu'.

2005-12-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (HGroup, VGroup, LHGroup, LVGroup):
	Tøídy zru¹eny (zahrnuty do Pytis).

2005-12-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	`pytis.data.Value' -> `Value'.
	(DBColumnBinding.__init__): Aktualizován docstring.

	* lib/pytis/presentation/spec.py: 
	(HGroup, VGroup, LHGroup, LVGroup): Nové tøídy.
	(ViewSpec.__init__): Aktualizován docstring.  Pøi výpoètu výchozí
	hodnoty pro `columns' vynechávej sloupce s `column_width' rovným nule.
	(ViewSpec.field): Aktualizován docstring.

	* lib/pytis/util/configuration.py (Configuration.Option._OPTION):
	Konstanta zru¹ena.
	(Configuration.Option._CMDLINE): Nová konstanta.
	(Configuration.Option._LONG_OPTION): Nová konstanta.
	(Configuration.Option.__init__): Inicializuj také
	`self._initial_value'.
	(Configuration.Option.name): Nová metoda.
	(Configuration.Option.set_value): Nový nepovinný argument
	`initialization'.  Pokud je pravdivý, pøenastav také
	`self._initial_value'.
	(Configuration.Option.changed): Nová metoda.
	(Configuration.Option.long_option): Pokud není definováno
	`_LONG_OPTION', vytváøej argument pro 'getopt' automaticky podle
	typu.
	(Configuration.Option.type): Nová metoda.
	(Configuration._StringOption, Configuration._BooleanOption)
	(Configuration._ColorOption, Configuration._NumericOption): Nové
	tøídy.
	(Configuration._FileOption): Buï potomkem `_StringOption'.
	(Configuration._HiddenOption, Configuration._CommandlineOption):
	Nové tøídy.
	(Configuration._Option_*): Vyu¾ívej nových tøíd k urèení typu
	ka¾dé volby a dal¹ích parametrù.
	(Configuration._Option_form_state): Nová konfiguraèní volba.
	(Configuration._parse_command_line_options): Pou¾ívej "list
	comprehension" namísto map a filter.
	(Configuration._read_configuration_file): Pøi volání
	`Option.set_value()' nastavuj `initialization' na True.
	(Configuration.serial_number): Metoda zru¹ena.
	(Configuration.options, Configuration.description, Configuration.type) 
	(Configuration.changed): Nové metody.

	* lib/pytis/form/inputfield.py (CodebookField._on_invoke_selection):
	Pokud je `alternate' True, nastavuj `begin_search' na
	`value_column' enumerátoru.

2005-12-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.Option.HIDDEN)
	(Configuration.Option.VISIBLE,
	Configuration.Option.COMMENTED_OUT): Konstanty zru¹eny.
	(Configuration.Option._DEFAULT) 
	(Configuration.Option._DEFAULT_STRING) 
	(Configuration.Option._OPTION, Configuration.Option._ENVIRONMENT) 
	(Configuration.Option._VISIBLE): Nové konstanty.
	(Configuration.Option.long_option): Jako výchozí hodnotu pou¾ívej
	konstantu `_OPTION'.
	(Configuration.Option.environment): Jako výchozí hodnotu pou¾ívej
	konstantu `_ENVIRONMENT'.
	(Configuration.Option.default): Jako výchozí hodnotu pou¾ívej
	konstantu `_DEFAULT'.
	(Configuration.Option.default_string): Jako výchozí hodnotu pou¾ívej
	konstantu `_DEFAULT_STRING', pokud není `None'.
	(Configuration.Option.visible): Jako výchozí hodnotu pou¾ívej
	konstantu `_VISIBLE'.
	(Configuration._Option_*): Pokud to lze, pøedefinovávej pouze
	pøíslu¹né konstanty namísto metod `default', `default_string',
	`visible', `long_option' a `environment'.
	(Configuration.dump_config_template): S návratovou hodnotou
	`Option.visible()' pracuj jako s boolean pøíznakem.  Volby které
	nejsou skryté jsou v¾dy zakomentované.

	* lib/pytis/form/dialog.py (Calendar._COMMIT_BUTTON)
	(BugReport._COMMIT_BUTTON): Nové konstanty.
	(GenericDialog._can_commit): Testuj zda jde o tlaèítko pomocí
	`self._button_label()'.

2005-12-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: Nový pøíaz `COMMAND_FORCE_COMMIT_DIALOG'.
	(DEFAULT_COMMAND_KEYS): Nová klávesa pro `COMMAND_FORCE_COMMIT_DIALOG'.

	* lib/pytis/form/search.py (_COMMIT): Konstanta zru¹ena.
	(SFDialog._commit_dialog): Metoda zru¹ena.
	(SearchDialog._COMMIT): Pøejmenováno na `_COMMIT_BUTTON'.
	(FilterDialog._COMMIT): Pøejmenováno na `_COMMIT_BUTTON'.
	(SortingDialog._COMMIT): Pøejmenováno na `_COMMIT_BUTTON'. 
	(SortingDialog._commit_dialog): Metoda zru¹ena.

	* lib/pytis/form/dialog.py (BugReport._close_dialog): Nevy¾aduj ¾ádné
	argumenty.
	(Dialog._COMMIT_BUTTON): Nová konstanta.
	(GenericDialog._can_commit): Testuj rovnou pøítomnost widgetu v
	`self._buttons', ne jeho wx id ve slovníku id.
	(_commit_dialog): Nový argument 'force'.
	(GenericDialog.on_command): O¹etøuj pøíkaz
	`COMMAND_FORCE_COMMIT_DIALOG'.
	(InputDialog._COMMIT_BUTTON): Nová konstanta.

	* lib/pytis/util/configuration.py
	(Configuration._Option_config_file.environment): `EBASCONFIG' ->
	`PYTISCONFIG'.
	(Configuration._Option_def_dir.environment): `EBASDEFDIR' ->
	`PYTISDEFDIR'.
	(Configuration._Option_doc_dir.environment): `EBASDOCDIR' ->
	`PYTISDOCDIR'.

	* lib/pytis/form/list.py (ListForm._on_toggle_column): Kontroluj
	mazání posledního sloupce pouze pokud jde skuteènì o mazání...

2005-12-15  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Doplnìn argument 'with_oids'.
	(_GsqlDefs.get_connection): Nová metoda.
	(_GsqlDefs.update_view): Nová metoda.

2005-12-15  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Doplnìn argument 'with_oids'.
	(_GsqlDefs.get_connection): Nová metoda.
	(_GsqlDefs.update_view): Nová metoda.

2005-12-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/commands_.py: Nový pøíkaz `COMMAND_RESET_COLUMNS'.

	* lib/pytis/form/screen.py (MItem.create): Kosmetické úpravy.
	(CheckItem.state): Nová metoda.
	(CheckItem._on_ui_event): Vyu¾ívej ji.
	(Menu.create): Pøednastav `state' polo¾ek typu `RadioItem',
	`CheckItem'.

	* lib/pytis/form/_grid.py (ListTable.__init__): Neinicializuj
	`self._TYPE_MAPPING' zde.
	(ListTable.__init__): Namísto procházení sloupcù zde volej
	`self._update_columns()'.
	(ListTable._wx_type): Nová metoda.  Zde inicializuj
	`self._TYPE_MAPPING'.
	(ListTable._update_columns): Nová metoda.  Namísto `self._column_info'
	inicializuj `self._columns'.
	(ListTable.update): Nový argument `columns'.  Aktualizuj poka¾dé
	mno¾inu sloupcù.
	(ListTable._cached_value, ListTable.column_id) 
	(ListTable.column_label, ListTable.GetValue, ListTable.GetValue) 
	(ListTable.SetValue, ListTable.GetTypeName, ListTable.GetAttr):
	namísto `self._column_info' pou¾ívej `self._columns'.

	* lib/pytis/form/dualform.py
	(PostponedSelectionDualForm._on_main_selection): Skuteènì o¹etøuj
	pøíkpad, kdy `row' je None.
	
	* lib/pytis/form/list.py (ListForm._init_attributes): Nenastavuj zde
	`_orig_columns' ale rovnou `_columns'.  Do `_columns' dej pouze
	viditelné sloupce.  Inicializuj atributy `_column_to_move' a
	`_column_move_target'.
	(ListForm._create_grid): Nenastavuj zde `_columns'.  Pøedávej
	`_columns' konstruktoru `ListTable'.  Nastav mód výbìru v gridu na
	výbìr øádkù.  Namísto `wx.grid.EVT_GRID_LABEL_LEFT_CLICK' o¹etøuj
	`wx.EVT_LEFT_DOWN' a `wx.EVT_LEFT_UP'.  Názvy handlerù událostí
	pøejmenovány podle konzistentìj¹ího schematu - viz dále.  O¹etøuj
	také `wx.grid.EVT_GRID_COL_SIZE' a `wx.EVT_MOTION'.
	(ListForm._update_grid): Nové argumenty `delete_column',
	`insert_column' a `inserted_column_index'.
	(ListForm._update_grid.notify): Nová funkce.
	(ListForm._update_grid): Vyu¾ívej ji.  Provádìj také skrývání a
	zobrazování sloupcù a související úpravy v `_columns'.
	(_on_label_left): Zru¹eno.  Øazení je nyní provádìno v rámci
	`_on_label_left_up', ale jen pokud nejde o pøesun sloupce.
	(_on_column_header_paint): Pøejmenováno na `_on_label_paint'.
	(_on_label_paint): Nová metoda.  Kromì toho, co bylo døíve v
	`_on_column_header_paint' také vykresluj ¹ipeèku pøi pøesunu
	sloupce a trojúhelník indikující tøídìní kresli o kousek vìt¹í.
	(ListForm._on_label_right_down): Nové polo¾ky pro skrývání a
	zobrazování sloupcù.  Nenastavuj pozici menu ruènì -- pøenech to
	na wx.  Respektuj zmìnu typu o¹etøovaného eventu
	`wx.grid.EVT_GRID_LABEL_LEFT_CLICK' -> `wx.EVT_LEFT_DOWN'.
	(ListForm._on_label_left_down): Nová metoda.
	(ListForm._on_label_left_up): Nová metoda.
	(ListForm._on_label_mouse_move): Nová metoda.
	(ListForm._on_label_drag_size): Nová metoda.
	(ListForm._on_toggle_column): Nová metoda.
	(ListForm.on_command): O¹etøuj `ListForm.COMMAND_TOGGLE_COLUMN'.
	(ListForm._on_delete_record): Úprava komentáøe.
	(ListForm._on_size): Nevy¾aduj arguemnt `event'.  Pokud není
	pøedán, pøepoèítej v¹e bez ohledu na to, zda se zmìnila celková
	velikost.
	(ListForm.Close): Zavírej editor, pouze pokud je¹tì ¾ije.
	(CodebookForm): Upraven docstring.
	(SideBrowseForm._init_attributes): Nenastavuj `_orig_columns'.
	Zapamatuj si vazební sloupec v atributech.
	(SideBrowseForm._default_columns): Nová metoda.  Zde provádìj
	skrytí vazebního sloupce.
	(ListForm._on_label_right_down): V menu sloupcù zobrazuj úplnì
	v¹echna políèka z fields.
	(ListForm._update_grid): Nový argument `reset_columns'.
	(ListForm._on_label_right_down): Pøidána polo¾ka pro vrácení
	výchozích sloupcù.
	(ListForm._on_reset_columns): Nová metoda.
	(ListForm.on_command): O¹etøuj pøíkaz `COMMAND_RESET_COLUMNS'.

2005-12-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_grid.py (ListTable.__init__): Pødán assert na
	argument `columns' a ka¾dý jeho prvek.  Naopak odebrán assert na
	styl získaný z FieldSpec().

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Pøidán assert
	na `style'.

	* lib/pytis/form/application.py (Application.refresh): Pracuj s
	aktivním oknem, nikoli s posledním oknem na zásobníku.

2005-12-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.__init__): Neinicializuj
	atribut `self._window_menu_item'.
	(Application._update_window_menu): Neukládej polo¾ky menu do 
	`self._window_menu_item' a vyu¾ívej funkce `state' pøedané
	konstruktoru `RadioItem'.

	* lib/pytis/form/screen.py (MItem): Buï potomkem `object'.
	(MItem._WX_KIND): Nová konstanta.
	(MItem._wx_kind): Metoda zru¹ena
	(MItem.create): Pou¾ívej `_WX_KIND' namísto `_wx_kind()'.
	(RadioItem): Buï potomkem CheckItem.
	(CheckItem): Nová tøída.

	* lib/pytis/form/command.py: Update docstringu.

	* lib/pytis/form/__init__.py: `_commands' -> `commands_'.

	* lib/pytis/form/_commands.py: Pøejmenováno na `commands_.py'.

	* lib/pytis/form/dualform.py
	(PostponedSelectionDualForm._on_main_selection): O¹etøuj také
	pøíkpad, kdy `row' je None.

	* lib/pytis/presentation/field.py (PresentedRow.__getitem__): Nastav
	dirty na False je¹tì pøed voláním pøepoèítávací funkce a umo¾ni
	tak zji¹tìní pùvodní hodnoty (pøed pøepoèítáním) v jejím prùbìhu.

	* lib/pytis/form/list.py (ListForm._modify_column_width): Aktualizuj
	také velikost celého gridu a tím i scrollbary.  Pokud je vypoètná
	nová ¹íøka záporná, nedìlej nic.
	(ListForm._filter_by_cell): Filtruj pouze pokud se zdaøí pøidání
	podmínky do dialogu.  Pokud ne, zobraz chybovou zprávu.
	

	* lib/pytis/form/search.py (SFDialog.append_condition): Pokud sloupec
	není v sfs_columns, vra» False, jinak vracej True.
	(SFDialog.append_condition): Testuj pøítomnost v sfs_columns hned
	na zaèátku.  Nastavuj správnì hodnoty urèující typ spojovacího
	operátoru pøi konstrukci widgetù.  Zru¹en argument `and_'.
	

2005-12-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._on_delete_record): Pøedávej
	výsledek 'on_delete_record' pøes návratovou hodnotu funkce
	'blocked_code'.

2005-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (user_cmd): Nový argument
	`block_refresh_'.

2005-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py
	(GenericCodebookField._run_codebook_form): Nepøedávej formuláøi
	argument 'columns'.
	(GenericCodebookField.__init__): Neo¹etøuj `AttributeError' pøi
	získávání specifikace èíselníku.

	* lib/pytis/form/list.py (ListForm._modify_column_width): Nová metoda.
	(ListForm.on_command): O¹¹etøuj pøíkazy `COMMAND_ENLARGE_COLUMN' a
	`COMMAND_CONTRACT_COLUMN'.
	(ListForm._default_columns): Nová metoda.
	(ListForm._init_attributes): Pou¾ívej ji.
	(CodebookForm._init_attributes): Naèítej specifikaci
	`CodebookSpec' a ukládej ji do atributu `_cb_spec'.
	(CodebookForm._default_columns): Nová metoda.
	(CodebookForm._default_sorting): Vyu¾ívej `self._cb_spec'.

	* lib/pytis/form/_commands.py: Nové pøíkazy `COMMAND_ENLARGE_COLUMN' a
	`COMMAND_CONTRACT_COLUMN'.

	* lib/pytis/form/search.py (FilterDialog.__init__): Zru¹eno.
	(SFDialog.run): Nové argumenty `data' a `filter'.

	* lib/pytis/form/form.py (LookupForm.can_sort_column): Pro cyklické
	pøepínání smìru tøídìní vracej v¾dy pravdu.
	(LookupForm._lf_sf_dialog): Konstruktoru FilterDialog nepøedávej
	datový objekt ani aktuální podmínku.
	(LookupForm._on_filter): Pøedávej datový objekt a aktuální
	podmínku volání `run_dialog()'.

	* lib/pytis/form/application.py (Application.run_procedure): Argumett
	`block_refresh' pøejmenován na `block_refresh_'.

2005-12-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_commands.py: Nové pøíkazy `ListField.COMMAND_SELECT' a
	`ListField.COMMAND_SHOW_SELECTED'.

	* lib/pytis/form/application.py (Application.run_procedure): Nový
	argument `block_refresh'.
	(block_refresh): Pøedávej v¹echny argumenty.

	* lib/pytis/form/inputfield.py (ListField._create_ctrl): Neu¹etøuj
	událost zru¹ení výbìru.  O¹etøuj aktivaci polo¾ky.  Nenastavuj
	`self._last_deselected_item'.
	(ListField._on_deselect): Zru¹eno.
	(ListField._on_select): Výbìr hned zase zru¹.
	(ListField._on_activation): Nová metoda.  Zde provádìj výbìr
	aktivivané polo¾ky.
	(ListField._load_list_data): Pokud v nových datech není minulá
	polo¾ka, nevybírej nic.
	(ListField._selected_item): Metoda zru¹ena.  Nyní vystaèíme se
	stejnojmenným atributem.
	(ListField._set_selection): Namísto nastavování výbìru prostøedky
	ListCtrl pouze zmìò barvu pozadí vybraného políèka zapamatuj si
	jeho index v `self._selected_item' a nastav mu focus.  Tím
	umo¾níme nezávislost aktuální buòky (na které je focus) a
	vybrané/zvýraznìné buòky.
	(ListField._set_value): Pokud jsou data dirty, pøenaèti je.
	Zpøehlednìno.
	(ListField.get_value, ListField.can_invoke_edit_form): Namísto
	metody `self._selected_item' pou¾ívej stejnojmenný atribut.
	(ListField._menu): Pøidej nové pøíkazy `COMMAND_SELECT' a
	`COMMAND_SHOW_SELECTED'.
	(ListField.on_command): O¹etøuj nové pøíkazy `COMMAND_SELECT' a
	`COMMAND_SHOW_SELECTED'.

	* lib/pytis/form/form.py (Refreshable._block_refresh): Nech» je èíslo
	urèující úroveò vnoøení blokace.
	(Refreshable.block_refresh): Nastavuj atribut `_block_refresh'
	v¾dy tøídì `Refreshable', ne tøídì, pro kterou je metoda volána.
	(Refreshable.refresh): Vyvolej výjimku, pokud se `_block_refresh'
	dostane do záporné hodnoty.
	(LookupForm._on_search): Pou¾ij `block_refresh' namísto ruèního
	blokování refreshe zde.

	(Form._create_print_menu): Odstranìn zapomenutý print.
	(Refreshable.block_refresh): Pøedávej volané funkci v¹echny
	argumenty. Pøi ka¾dém volání hodnotu atributu `_block_refresh'
	inkrementuj a nakonec zase dekrementuj.

	* lib/pytis/form/list.py (ListForm._on_select_cell): Volej callback
	`CALL_USER_INTERACTION' pouze pokud není grid uvnitø
	BeginBatch/EndBatch, co¾ jsou zmìny provádìné v rámci
	`_update_grid()' a ty nejsou interaktivní.
	(ListForm._init_attributes): Neinicializuj atribut
	`_block_refresh'.
	(ListForm._on_delete_record): Pou¾ij `block_refresh' namísto
	ruèního blokování refreshe zde.
	(ListForm._refresh): Netestuj blokování refreshe zde.

	* lib/pytis/form/dualform.py (DualForm.focus): Nová metoda.
	(DualForm._on_focus): Metoda zru¹ena.
	(DualForm.__init__): Pøi události `EVT_SET_FOCUS' volej
	`self.focus()'.

2005-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (block_refresh): Nová funkce.

	* lib/pytis/form/search.py (SFSDialog._create_choice) 
	(SFSDialog._create_button, SFSDialog._create_text_ctrl): Pou¾ívej
	`SetMinSize' nam9sto `SetSize'.

	* lib/pytis/form/form.py (Form._on_print_menu): Zobrazuj menu pod
	tlaèítkem.
	(Refreshable._block_refresh): Nová konstanta.
	(Refreshable.block_refresh): Nová metoda tøídy.
	(Refreshable.refresh): Volej `self._refresh', pokud není refresh
	blokován.
	(Refreshable._refresh): Nová metoda.

	* lib/pytis/form/dialog.py (GenericDialog.focus): Nová metoda.
	(GenericDialog._finish_dialog): (Staro)nová metoda.
	(GenericDialog._end_modal): Volej `self._finish_dialog()'

	* lib/pytis/form/dualform.py (DualForm.on_command): Nevy¾aduj argument
	`form' u pøíkazu COMMAND_PRINT.
	(ShowDualForm.refresh, BrowseShowDualForm.refresh)
	(BrowseDualForm.refresh): Pøejmenováno na `_refresh'.
	(ShowDualForm._refresh, BrowseShowDualForm._refresh)
	(BrowseDualForm._refresh): Pøedávej argument `when'.

	* lib/pytis/form/list.py (BrowseForm.on_command): Proveï pøíkaz
	COMMAND_PRINT i pokud pokud není nastaven argument `form'.
	(ListForm._on_handled_command): Definuj argument `norefresh' pøímo
	a nevybírej jej z kwargs.
	(ListForm.refresh): Pøejmenováno na `_refresh'.
	(FilteredBrowseForm.filter, ListForm._filter)
	(ListForm._on_sort_column, ListForm.on_command): Pou¾ívej
	`self._refresh', ne `self.refresh
	

2005-12-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog._on_idle): Focus nastavuj
	pouze pokud je dialog ji¾ zobrazen.

	* lib/pytis/form/dualform.py (DualForm.on_command): Pøíkaz
	`COMMAND_PRINT' nepøedávej aktivnímu formuláøi, ale pou¾ij jeho
	argument `form'.

	* lib/pytis/form/form.py (Form.__init__): Nevytváøej tiskové menu v
	menubaru aplikace.  Vytvoø jej jen jako PopupMenu.
	(Form._create_print_menu): Nová metoda.
	(Form._print_menu): Metoda zru¹ena.
	(Form._on_print_menu): Nová metoda. 
	(TitledForm._create_title_bar): Pøidej tlaèítko tisku.
	(Form._on_print_menu): Zobrazuj menu uprostøed tlaèítka.

	* lib/pytis/form/application.py (Application.add_menu, add_menu): Zru¹eno.

	* lib/pytis/form/list.py (BrowseForm.on_command): O¹etøuj
	`COMMAND_PRINT' pouze pokud je argument `form' tohoto pøíkazu
	roven `self'.

	* lib/pytis/form/screen.py (MenuBar.add_menu): Zru¹en argument
	`form'.  Nepøedávej jej volání `_replace_menu'.

2005-12-01  Tomas Cerha  <cerha@brailcom.org>

	* icons/warning.xpm: Soubor odstranìn.

	* icons/tip.xpm: Soubor odstranìn.

	* icons/question.xpm: Soubor odstranìn.

	* icons/info.xpm: Soubor odstranìn.

	* icons/error.xpm: Soubor odstranìn.

2005-12-01  Tomas Cerha  <cerha@brailcom.org>

	* icons/warning.xpm: Soubor odstranìn.

	* icons/tip.xpm: Soubor odstranìn.

	* icons/question.xpm: Soubor odstranìn.

	* icons/info.xpm: Soubor odstranìn.

	* icons/error.xpm: Soubor odstranìn.

2005-11-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/_commands.py (DEFAULT_COMMAND_KEYS): Nastav
	`Dialog.COMMAND_COMMIT_DIALOG' na `Enter', ne `Ctrl+Enter'.

	* lib/pytis/form/dialog.py (GenericDialog.__init__): Neinicializuj
	atribut `self._default_button'.  Inicializuj `self._want_focus'.
	(GenericDialog._create_buttons): Namísto `self._default_button'
	nastavuj `self._want_focus'.  Namísto `wx.EVT_SET_FOCUS' o¹etøuj
	`wx.EVT_IDLE'.  Nevolej `dialog.SetDefaultItem()'.
	(GenericDialog._create_icon): Namísto jména souboru ber jako
	argument wx identifikátor ikony.  Získávej ikonu pøes
	`wx.ArtProvider'.
	(GenericDialog._finish_dialog): Metoda zru¹ena
	(GenericDialog._can_commit): Nová metoda.
	(GenericDialog._end_modal): Nevolej `_finish_dialog'.
	(GenericDialog._on_set_focus): Metoda zru¹ena.
	(GenericDialog._on_idle): Nová metoda.
	(GenericDialog._navigate): Nová metoda.
	(GenericDialog._commit_dialog): Zji¹»uj zda aktivní widget mù¾e
	ukonèit dialog pomocí `self._can_commit()'.  Pokud ne, vyvolej
	navigaèní událost.
	(Message.ICON_INFO, Message.ICON_QUESTION, Message.ICON_WARNING)
	(Message.ICON_ERROR, Message.ICON_TIP): Pøiøaï konstantám hodnoty
	wx identifikátorù ikon.
	(Login._create_content): Neo¹etøuj `wx.EVT_KEY_DOWN' na vstupních
	políèkách.  Pou¾ívej `self._want_focus' namísto pøímého
	nastavování focusu.
	(Login._on_key_down): Metoda zru¹ena.
	(Login._navigate): Metoda zru¹ena.
	(Login._on_show): Zru¹eno.
	(OperationDialog._on_show): Volej `wx_yield_()'.
	(Calendar._create_content): Nastavuj `self._want_focus'.
	(Calendar._on_set_focus): Metoda zru¹ena.
	(Calendar._can_commit): Nová metoda.
	(RunFormDialog._customize_result): O¹etøuj také pøípad odeslaného
	dialogu na widgetu kalendáøe.
	(BugReport._create_content): Nastavuj `self._want_focus'.
	(_on_set_focus): Metoda zru¹ena.

	* lib/pytis/form/_grid.py (ListTable._get_row): Update docstringu.
	(ListTable.row): Pokud je øádek vrácený z `_get_row()' instancí
	PresentedRow, vra» jej pøímo.

	* lib/pytis/form/list.py (ListForm._is_editable_cell): Update komentáøe.

2005-11-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (Calendar._create_content): Upravuj
	velikost pouze pokud je verze wxWidgets men¹í ne¾ 2.6.

	* lib/pytis/form/list.py (CodebookForm._default_sorting): O¹etøi
	výjimku resolveru.

	* lib/pytis/form/inputfield.py (GenericCodebookField.__init__):
	Nespoléhej na `self.spec()' pøed voláním rodièovského
	konstruktoru.  Radìji vyber odkaz na FieldSpec pøímo z argumentù.

2005-11-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_dbhost.long_option): Nová metoda.
	(Configuration._Option_dbport): Nová konfiguraèní volba.
	(Configuration._Option_dbconnection.default): Pou¾ívej novou volbu
	`dbport'.

	* lib/pytis/form/list.py (ListForm._post_selection_hook): Na
	`DataAccessException' se odkazuj celým jménem.
	(ListForm.on_command): Neignoruj výjimky pøi volání metody
	on_command aktivního vstupního políèka.

	* lib/pytis/form/inputfield.py (ListField._set_selection): Pøidán
	komentáø.
	(ListField._create_ctrl): O¹etøuj události koleèka my¹i.
	(GenericCodebookField._select_row_arg): Vracej None, pokud je
	Pythonová hodnota instance Value nepravdivá.
	(InputField.CALL_FIELD_CHANGE, InputField.CALL_SKIP_NAVIGATION):
	Aktualizace docstringu.
	(ListField._on_change): Pøejmenováno na `_on_select'.  Pokud je
	pole needitovatelné, vra» výbìr na pøedchozí vybranou polo¾ku.
	(ListField._create_ctrl): O¹etøuj wx událost výbìru volámím
	`_on_select' a zru¹ení výbìru volámím `_on_deselect'.
	(ListField._disable): Nenastavuj widget nako needitovatelný, pouze
	zmìò barvu.
	(ListField._set_selection): Nový argument `make_visible'.
	(GenericCodebookField._read_cb_spec): Metoda zru¹ena.
	(GenericCodebookField.__init__): Naèítej `CodebookSpec' zde.
	(CodebookField._create_widget, ListField._create_ctrl): Nevolej
	`self._read_cb_spec()'.

2005-11-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._init_row.genval):
	Odstranìn hack umo¾òující pou¾ití computer namísto default.

	* lib/pytis/form/inputfield.py (__getattr__): Zru¹eno.
	(_on_enumerator_change): Nepøenaèítej data hned, pouze nastav
	pøíznak.
	(ListField._set_value): Pøedávej v¹echny potøebné argumenty metodì
	`ListCtrl.SetItemState()'.  Zru¹ výbìr i v pøípadì nenalezení
	po¾adované hodnoty.
	(ListField._create_ctrl): Nastavuj pøíznak `self._data_dirty'.
	(ListField._on_idle): Nová metoda.
	(ListField._load_list_data): Nuluj pøíznak `self._data_dirty'.
	(ListField._set_selection, ListField._set_value): Pøi nastavování
	výbìru zaka¾ zpracování událostí listu.

2005-11-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._load_list_data): Zachovávej
	aktuální hodnotu i po pøenaètení dat.

	* lib/pytis/form/list.py (CodebookForm._default_sorting): Nová metoda.

	* lib/pytis/form/form.py (EditForm.__init__): Volej
	`self._select_row()' opìt jen pøi inicializaci novéhho záznamu.
	Problém neinicializovaných runtime filtrù byl vyøe¹en dne¹ní
	opravou `DescriptiveDualForm._do_selection'.

	* lib/pytis/form/dualform.py (DescriptiveDualForm._do_selection):
	Nepøedávej pøímo PresentedRow -- namísto `set_row()' volej radìji
	`select_row()' a datovým øádkem jako argumentem.

2005-11-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (enum): Nová funkce.

2005-11-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._init_row.genval):
	Inicializuj hodnotu voláním 'default' funkce pouze pokud jde o
	nový øádek.  Pøidán HACK, který doèasnì pova¾uje computery s
	prázdným depends za default funkce a volá je tedy také jen pøi
	inicializaci nového záznamu.

	* lib/pytis/form/form.py (EditForm.__init__): Volej
	`self._select_row()' v¾dy kvùli inicializaci PresentedRow a
	pota¾mo runtime filtrù.
	(EditForm._select_row): Odstranìn neaktuální komentáø.

	* lib/pytis/presentation/spec.py (CodebookSpec.__init__): Nový
	arguemnt `sorting'.
	(CodebookSpec.sorting): Nová metoda.

	* lib/pytis/form/inputfield.py (ListField._load_list_data): Spojuj
	víceøádkové hodnoty.

2005-11-23  Tomas Cerha  <cerha@brailcom.org>

	* NEWS: Slouèeno s BUGFIXES.

	* BUGFIXES: Soubor zru¹en.  V¹e je nyní v NEWS.

2005-11-23  Tomas Cerha  <cerha@brailcom.org>

	* NEWS: Slouèeno s BUGFIXES.

	* BUGFIXES: Soubor zru¹en.  V¹e je nyní v NEWS.

2005-11-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField.__getattr__): Nevolej zde
	`_load_list_data()'.
	(ListField.__getattr__): Nová metoda.
	(ListField._on_enumerator_change): Nedìlej nic, pokud je list ji¾
	po smrti.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.__init__): Kosmetická
	úprava (nepøedávej lokální promìnné do lambda funkce pøes klíèové
	arguemnty).

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Kosmetická úprava.

	* lib/pytis/presentation/field.py (PresentedRow.__getitem__): Pro
	virtuální políèko, které je¹tì nebylo nastaveno a nemá computer
	dosazuj automaticky hodnotu None.
	(PresentedRow.__setitem__): Nastavuj správnì i virtuální políèka.

	* lib/pytis/data/types_.py (DataEnumerator._retrieve): Pøedávej
	konstruktoru výjimky øetìzcovou reprezentaci filtrovací podmínky.
	(MutableEnumerator.__init__): Inicializuj atribut `_running_hooks'.
	(MutableEnumerator._update): Blokuj vnoøená volání.

	* lib/pytis/form/form.py (RecordForm.select_row): Akceptuj také
	'position' 'None'.

2005-11-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.create): Zprùhlednìno
	mapování typu pøes 'selection_type'.
	(InputField._set_disabled_color): Nová metoda.
	(InputField._set_value): Pøijímej argument 'value'.
	(TextField._set_value): Namísto nastavování barvy pozadí zde
	pou¾ívej `self._set_disabled_color()'.
	(Invokable): Podìï také `object'.
	(Invocable.on_command): Pøedka volej pomocí `super()'.
	(GenericCodebookField): Nová tøída.
	(CodebookField): Podìï také `GenericCodebookField'.
	(CodebookField._create_widget): Vyu¾ívej `_read_cb_spec()' z `GenericCodebookField'.
	(CodebookField._on_invoke_selection): Vyu¾ívej `_run_codebook_form()' z `GenericCodebookField'.
	(ListField): Kompletnì pøepsáno.  Zru¹eny v¹echny hacky s
	`refvalue', `choose_key' apod.

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Neinicializuj `self._refvalues'.
	(PresentedRow.listfield_choose): Metoda zru¹ena.
	(PresentedRow.refvalue): Pou¾ití této potlaèené metody loguj a
	vracej v¾dy None.

	* lib/pytis/form/form.py (EditForm.on_command): Nestarej se zde o
	`ListField.COMMAND_CHOOSE_KEY'.

	* lib/pytis/form/command.py: Úprava docstringu.

	* lib/pytis/form/_commands.py: Nový pøíkaz
	`GenericCodebookField.INVOKE_CODEBOOK_FORM'.  Zru¹en pøíkaz
	`ListField.CHOOSE_KEY'.
	
	* lib/pytis/data/types_.py (DataEnumerator.values): Kosmetická úprava.
	(DataEnumerator.iter): Nová metoda.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Loguj pou¾ití
	potlaèeného argumentu `references'.
	(FieldSpec.references): Metoda zru¹ena.
	(RefSpec): V¹e zru¹eno, ponechán jen konstruktor pro zpìtnou
	kompatibilitu.
	(SelectionType.LIST): Nová konstanta.
	(FieldSpec.__init__): Nastavuj výchozí hodnotu `selection_type'
	podle pøítomnosti `codebook'.  Aktualizován docstring.  Pøidán
	assert na kombinaci 'selection_type' a 'codebook'.

2005-11-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._find_row_by_values): Není-li k
	dispozici ¾ádný øádek, vracej None.	

2005-11-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm.select_row): Pøedávej argument `quiet'.
	(ListForm.refresh): Volej `select_row' s nastaveným `quiet=True'.

	* lib/pytis/form/form.py (EditForm.set_row): Nastavuj také
	editovatelnost políèek.
	(EditForm.__init__): Inicializuj editovatelnost políèek zde.
	(EditForm._init_fields): Pøejmenováno na `_set_focus_field'.
	Nestarej se zde o editovatelnost políèek, pouze nastav focus.
	(PopupEditForm._on_next): Nevolej zde `self._init_fields()'.
	(EditForm.__init__): `self._init_fields()' ->
	`self._set_focus_field()'.
	(ShowForm._create_form_parts): Pøidávej titulek do sizeru s
	nastaveným `wx.FIXED_MINSIZE'.
	(RecordForm.select_row): Instanci Value pova¾uj za klíè.
	(RecordForm._find_row_by_key): Umo¾ni tak pøedat jako `key' také
	pøímo instanci `Value' a pøedádìj ji automaticky na tuple.
	(RecordForm.select_row): Nový argument `quiet'.  Zobraz chybový
	dialog, pokud øádek nebyl nalezen a `quiet' není nastaveno.
	(LookupForm._on_sort_column, RecordForm.on_command): Pou¾ívej
	`self._current_key()' namísto `self.current_key()'.
	(LookupForm._filter): Pou¾ívej `self._current_key()', ne
	`self._row.row()', jako argument `select_row'.

	* lib/pytis/form/inputfield.py (CodebookField._create_widget):
	Pøebírej `display_size' z `cb_spec' jen pokud je None (ne pøi
	jakékoliv nepravdivé hodnotì).
	(CodebookField._create_widget): Vytváøej display jen pokud je
	¹íøka nenulová.

	* lib/pytis/presentation/spec.py (CodebookSpec.__init__): Úprava
	docstringu.  Loguj pou¾ití potlaèeného argumentu
	`insert_unknown_values'.
	(CodebookSpec.insert_unknown_values): Metoda zru¹ena.

2005-11-18  Tomas Cerha  <cerha@brailcom.org>


	* BUGFIXES: Nový soubor.

	* bin/pytis: Kosmetické úpravy.

2005-11-18  Tomas Cerha  <cerha@brailcom.org>


	* BUGFIXES: Nový soubor.

	* bin/pytis: Kosmetické úpravy.

2005-11-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (RecordForm.select_row): Doèasnì o¹etøi
	pøípad, kdy se pøedá jako position instance Value.
	(LookupForm._on_sort_column): Jako argument self.select_row()
	pou¾ij self.current_key().

2005-11-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (KeyHandler.__init__): Inicializuj
	`_prefix_key_sequence' zde, nikoliv jako atribut tøídy.
	(Keymap._define_key): Namísto pouhého assertu vyvolávej
	`ProgramError', pokud jde o kolidující definici prefixové klávesy.

2005-11-16  Tomas Cerha  <cerha@brailcom.org>

	* NEWS: Nový soubor.

2005-11-16  Tomas Cerha  <cerha@brailcom.org>

	* NEWS: Nový soubor.

2005-11-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Pøidáno
	o¹etøení zru¹ených argumentù `key' a `new' a jejich pøevedení na
	nové `select_row' a `mode'.

	* lib/pytis/form/dualform.py (BrowseShowDualForm._create_side_form)
	(BrowseDualForm._on_show_record): Pøedávej funkci `run_form'
	argument `select_row' nikoliv `key'.
	(BrowseShowDualForm._create_side_form): Nepøedávaj konstruktoru
	`ShowForm' argument `editable=True'.

	* lib/pytis/form/inputfield.py (ListField.on_command): Pøedávej funkci
	`run_form' argument `select_row' nikoliv `key'.

	* lib/pytis/form/form.py (RecordForm._init_attributes): Zru¹en
	argument `key'.  Nenastavuj `self._key'.
	(RecordForm._select_row): Argument `new' konstruktoru
	`PresentedRow' nastavuj podle `self._new', nikoliv `self._key'.
	(RecordForm._run_form): Pøi vytváøení formuláøe v¾dy nastavuj
	argument `select_row', ne `key'.
	(LookupForm._filter, LookupForm._on_sort_column): Jako argument
	pro `select_row()' pou¾ívej aktuální datový øádek, ne `self._key'.
	(EditForm): Aktualizace docstringu.
	(EditForm.MODE_INSERT, EditForm.MODE_EDIT, EditForm.MODE_VIEW)
	(EditForm.__init__): Nevolej `self.select_row()', pouze v re¾imu
	vkládání záznamù inicializuj formuláø prázdným øádkem.
	(EditForm.init): Pøejmenováno na `_init_fields'.
	(EditForm.__init__, PopupEditForm._on_next): `init' ->
	`_init_fields'.
	(EditForm._init_fields): Neber v potaz editovatelnost políèka v
	PresentedRow, nastavuj editovatelnost pouze podle módu formuláøe.
	(EditForm._create_form): Pou¾ívej `self._mode' k urèení typu
	pøístupových práv.  Urèi typ práv pouze jednou na zaèátku cyklu.
	(EditForm._commit_form): Jako argument pro `data.update()'
	pou¾ívej `self._current_key()', ne `self._key'.  Pou¾ívej
	`self._mode' k zji¾dìní typu operace.
	(PopupEditForm.run): Klíè zjisti pøes `self._current_key()', ne
	`self._key'.  Zamykej pouze v editaèním re¾imu.
	(RecordForm._select_row): Zde pouze vyvolej výjimku --
	implementace pøesunuta do `EditForm'.
	(EditForm._select_row): Nová metoda.
	(EditForm._navigate): Pou¾ívej `self._mode' namísto
	`self._editable'.
	(PopupEditForm._create_buttons): Pou¾ívej `self._mode' namísto
	`self._new.
	(ShowForm._init_attributes): Namísto `editable' pøedávej `mode'.
	

2005-11-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._find_row_by_number): Nová
	meotda.
	(RecordForm._get_row_number): Nová metoda.
	(RecordForm.select_row): Pøijímej na vstupu také integer, jako
	èíslo øádku.  K vlastnímu nastavení pou¾ívej `self._select_row()'
	(LookupForm._select_row): Nová metoda.
	(LookupForm._on_jump): Namísto vracení hodnoty rovnou proveï jump.
	(LookupForm._on_sort_column, EditForm.__init__)
	(EditForm.__init__, PopupEditForm._on_next)
	(BrowsableShowForm._on_next_record)
	(BrowsableShowForm._select_row, LookupForm._filter): Namísto
	`self._set_row()' pou¾ívej `self._select_row()'.
	(BrowsableShowForm.on_command): Namísto
	`self._on_set_row()' pou¾ívej `self.select_row()'.
	(BrowsableShowForm._on_next_record): Kosmetické úpravy.
	(BrowsableShowForm._on_set_row): Metoda zru¹ena.
	(RecordForm._find_row_by_key): Nová metoda.
	(RecordForm.select_row): Pou¾ívej ji.
	(_find_row): Metoda zru¹ena.
	(LookupForm._filter, LookupForm._on_sort_column) 
	(EditForm.__init__): Namísto kombinace `self._find_row()' a
	`self._select_row()' pou¾ívej `self.select_row()'.

	* lib/pytis/form/list.py (ListForm.__init__, ListForm._update_grid)
	(ListForm.refresh): Namísto `self.select_row()' pou¾ívej
	`self._select_cell()'.
	(_on_jump): Metoda zru¹ena.
	(_find_row_by_values): Vracej instanci `Row', ne èíslo øádku.
	(ListForm._find_row_by_number): Nová metoda.
	(ListForm.select_row): O¹etøi pouze speciální pøílady a jinak
	volej metodu pøedka.
	(ListForm._select_row): Nová metoda.

2005-11-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	Pøi sestavování podmínky o¹etøuj dùkladnìji mo¾nost výskytu NULL
	hodnot v tøídících sloupcích.
	

2005-10-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/screen.py (Menu.create): Pokud k pøíkazu nejsou
	pøístupová práva, pou¾ij jako hotkey "(N/A)".

	* lib/pytis/form/command.py (Command.has_access): Nová veøejná metoda.

2005-10-18  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail): Kosmetická úprava.

2005-10-18  Pavel Hanak  <hanak@asellus.cz>

	* doc/todo: Nový dokument.

2005-10-18  Pavel Hanak  <hanak@asellus.cz>

	* doc/todo: Nový dokument.

2005-10-12  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail): Nový parametr html -
	urèuje jestli se PGP mail po¹le jako multipart GPG message.

2005-10-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._commit_form): Pokud je odeslání
	neúspì¹né a je vrácen textový popis pøíèiny, zobraz ho.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.insert): Pokud je známa
	pøíèina neúspìchu, vracej ji v první polo¾ce výstupního tuple.
	(DBDataPostgreSQL.update): Pokud je známa
	pøíèina neúspìchu, vracej ji v první polo¾ce výstupního tuple.

	* lib/pytis/data/data.py (Data.insert): Oprava dokumentaèního øetìzce.
	(Data.update): Oprava dokumentaèního øetìzce.

2005-10-07  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki: Update nápovìdy.

2005-10-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/_grid.py (ListTable._retrieve_row): Pøidána
	zapomenutá specifikace modulu.

	* lib/pytis/form/list.py (ListForm._on_delete_record): Proveï refresh
	celého formuláøe na vrcholu zásobníku oken.

2005-09-29  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail): GnuPGInterface
	importuj jen pokud máme klíè.
	(send_mail): O¹etøení UNICODE v adresách.

2005-09-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (send_mail):
	Nová funkce.

2005-09-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/_grid.py (IncrementalSearch._exit): O¹etøi uzavøení
	okna listformu pøed ukonèením vyhledávání.

2005-09-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._select_cell): Nevoláme
	'self.show_position'. 
	(ListForm._post_selection_hook): Voláme 'self.show_position'.

2005-09-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (dbinsert): Nová funkce.

2005-09-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.on_command): Pokud jde o
	u¾ivatelský pøíkaz tøídy `Application', o¹etøuj jej v¾dy zde
	voláním u¾ivatelského handleru.

	* lib/pytis/form/command.py (Command.__init__): Nová metoda.

2005-09-07  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki (Pøíklad): Updatovana vseobecna napoveda.

2005-09-06  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki: Updatovana vseobecna napoveda.

2005-09-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (RecordForm._on_edit_record) 
	(RecordForm._on_new_record): Zru¹eny doèasné refreshe.

	* lib/pytis/form/dualform.py (BrowseDualForm.refresh): Volej také refresh
	sideformu.
	(BrowseDualForm.refresh): Pøidán komentáø.

	* lib/pytis/form/list.py (ListForm._update_grid): Obejití chyby
	wxWidgets: po zmìnì poètu øádkù gridu vyvolej SizeEvent, aby byly
	pøípadnì skryty, èi zobrazeny scrollbary.

2005-09-05  Peter Herich  <herich@asellus.cz>

	* doc/Pytis.wiki: Updatovana vseobecna napoveda.

2005-09-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/__init__.py: Zohledni nahrazení 'commands.py' modulem
	'_commands.py'.	

	* lib/pytis/form/_commands.py: Nový modul (nahrazuje commands.py).

	* lib/pytis/form/commands.py: Zru¹en (tluèe se s pythonovským modulem
	commands).

	* lib/pytis/form/search.py (SFSDialog._create_choice):
	Po vytvoøení 'wx.Choice' zavolej je¹tì 'SetSelection' pro
	nastavení implicitní volby.		

2005-09-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (user_cmd): Pøidán klíèový argument
	'spec'. 

2005-09-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py: Kosmetické úpravy.

2005-08-31  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (user_cmd): Zakomentováno logování
	pøejmenování pøíkazu.

2005-08-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (user_cmd): Pou¾ívej nové argumenty
	konstruktoru tøídy Command.  Pøejmenovávej duplicitní pøíkazy.
	Pøi redefinici stejného pøíkazu vracej existující instanci, pokud
	se handler shoduje.
	(user_cmd): Vyvolej výjimku pøi redefinici stejného pøíkazu z
	jiného místa v defsech.

2005-08-31  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py
	(Invocable.get_command_handler_instance): Nová metoda.

2005-08-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/_test.py (DataEnumerator.test_values): Nová metoda.
	(DBDataDefaultClass.setUp): Zru¹eny zakomentované èásti testující
	multi-codebooky.
	(DBDataDefaultClass.test_lock): -> '_test_lock'.
	(DBDataFetchBuffer.setUp): Pou¾ívej konfiguraèní promìnné namísto
	konstang tøídy `DBDataPostgreSQL'.
	(DBDataFetchBuffer.setUp): Vytvoø tabulku `small' a pøíslu¹né
	vazby..
	(DBDataFetchBuffer.tearDown): Dropni tabulku `small'.
	(DBDataFetchBuffer.test_skip_fetch): Pøijímej datový objekt jako
	argument.  Pødáno nìkolik fetchù pro testování nìkterých záludností.
	(DBDataReuse.test_it): Pou¾ívej konfiguraèní promìnné namísto
	konstang tøídy `DBDataPostgreSQL'.
	(TutorialTest.test_it): Pøedávej arguemnty konstruktoru podle
	nových pravidel.
	(TutorialTest.test_it): Zakomentovány problematické testy (doèasnì).

	* lib/pytis/form/__init__.py (_list): Load `command' sooner.  Load
	`commands' at the end.

	* lib/pytis/form/inputfield.py (InputField, Invocable): Buï potomkem
	`CommandHandler'.
	(InputField.get_command_handler_instance): Nová metoda.

	* lib/pytis/form/form.py (Form): Buï potomkem
	`CommandHandler'.
	(Form.get_command_handler_instance): Nová metoda.

	* lib/pytis/form/dualform.py (DualForm.get_command_handler_instance):
	Nová metoda.

	* lib/pytis/form/dialog.py (Dialog): Buï potomkem `CommandHandler'.
	(Dialog.get_command_handler_instance): Nová metoda.
	(GenericDialog._create_dialog_elements): Nastavuj výchozí tlaèítko
	pomocí `SetDefaultItem'.

	* lib/pytis/form/application.py (Application): Buï potomkem
	`CommandHandler'.
	(Application.get_command_handler_instance): Nová metoda.

	* lib/pytis/form/command.py: Pøepis dokumentace.
	(CommandHandler): Nová tøída.
	(Command): Aktualizace docstringu.
	(Command.__init__): Nový povinný argument `cls'.  `id' nahrazeno
	`name'.  Poøadí klíèových arguemntù zmìnìno.  Pøidáno doèasné
	o¹etøení starého zpùsobu pøedání arguemntù s logováním.  Vyvolej
	výjimku, pokud stejný pøíkaz ji¾ byl definován.  Vytváøej
	automaticky konstantu `COMMAND_<name>' tøídy `cls'.
	(Command.enabled): Testuj také, zda aktivní prvek aplikace umí
	zpracovat pøíkaz a zda jeho metoda 'can_<name>' vrací pravdu.
	(define_cmd): Zru¹eno.
	V¹echny definice pøíkazù a pøiøazení kláves pøesunuty z tohoto
	modulu do nového modulu `commands'.
	(FORM_COMMAND_MENU): Také pøesunuto do `commands'.
	(Command.name): Nová metoda.

	* lib/pytis/form/commands.py: Nový modul.

2005-08-30  Tomas Cerha  <cerha@brailcom.org>

	* doc/napoveda.wiki: Drobné opravy, zalamování øádkù.

	* lib/pytis/extensions/spec.py (run_any_form): Funkce zru¹ena.
	(help_mitem): Pou¾ívej `cmd_help_window'.
	(user_cmd): Pøidán kód pro pou¾ití s novou verzí `command.py'
	/zatím zakomentováno/.

	* lib/pytis/extensions/misc.py (check_form): Nepøijímej ¾ádné
	arguemnty.
	(cmd_check_form): Nový pøíkaz.
	(check_menus_defs): Nepøijímej ¾ádné arguemnty.
	(cmd_check_menus_defs): Nový pøíkaz.
	(cmd_help_window): Nový pøíkaz.
	(run_any_form): Nová funkce.
	(cmd_run_any_form): Nový pøíkaz.
	(menu_report): Nepøijímej ¾ádné argumenty.
	(cmd_menu_report): Definuj 'handler', jako klíèový argument.
	(cmd_check_form): Definuj 'handler', jako klíèový argument.
	(cmd_check_menus_defs): Definuj 'handler', jako klíèový argument.
	(help_window): Hledej soubor také v adresáøi 'doc' instalace pytisu.
	(cmd_run_any_form): Definuj 'handler', jako klíèový argument.

2005-08-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._on_handled_command): Oprava
	podmínky pro pøedávání argumentù.

	* lib/pytis/form/command.py (Command.__init__): Doèasnì pøijímej i
	argumenty podle budoucí verze.

2005-08-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (help_window): Definuj klíèové
	argumenty pøímo a nevytahuj je slo¾itì z `**kwargs'.  Pou¾ívej
	`os.path.join()'.  Vypisuj chybové hlá¹ení z výjimky do chybového
	dialogu.

2005-08-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (RecordForm._check_record): Oprava
	'failed_id' na 'field_id'.
	(RecordForm._check_record): Pro chybové políèko pou¾ívej radìji
	v¹ude 'failed_id'. 
	(EditForm._commit_form): Pro chybové políèko pou¾ívej radìji
	v¹ude 'failed_id'. 

2005-08-25  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (RecordForm._on_new_record): Doèasnì pøidán
	refresh.
	(RecordForm._on_edit_record): Doèasnì pøidán
	refresh.

	* lib/pytis/form/output.py (PrintForm._create_controls):
	Pro EVT_SIZE zaregistruj `self._on_size'.
	(PrintForm._on_size): Nová metoda.
	(OnSize): Metoda zru¹ena.

2005-08-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._create_grid): V cyklu pro
	nastavení parametrù sloupcù vyu¾ívej `enumerate()' a jdi pouze
	pøes `visible_columns'.

2005-08-24  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (emailsend): Ode¹le email.

2005-08-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._select_cell): Vracej pravdu, pokud
	má být událost dokonèena.
	(ListForm._finish_editing): Pokud je result None /mapø. opu¹tìní dialogu
	klávesou Esc/, pokraèuj v editaci.
	(ListForm._find_next_editable_cell): Spus» editaci nalezené buòky.
	(ListForm._on_select_cell): Pøedávej událost k dal¹ímu zpracování
	pouze pokud `_select_cell' vrátí pravdu.  Jinak událost vetuj a
	obnov výbìr.
	(ListForm._on_edit): Vyu¾ívej `RecordForm._lock_record'.
	(ListForm._on_line_commit): Vyu¾ívej `RecordForm._check_record',
	`RecordForm._record_data' a `RecordForm._unlock_record'
	(ListForm._on_line_rollback): Vyu¾ívej `RecordForm._unlock_record'

	* lib/pytis/form/form.py (Form._print_menu): Neodkazuj se na
	identifikátory z `lib.form' zbyteènì celým názvem.
	(RecordForm._lock_record, RecordForm._unlock_record)
	(RecordForm._check_record, RecordForm._record_data): Nové metody.
	(LookupForm._on_jump): Neodkazuj se na identifikátory z `lib.form'
	zbyteènì celým názvem.  Obaluj øetìzce voláním gettext.
	(EditForm._lock, EditForm._unlock, EditForm._validate): Metody zru¹eny.
	(EditForm._validate_fields): Nová metoda.
	(EditForm._edit_insert, EditForm._edit_update): Metody zru¹eny.
	(EditForm._commit_form): Vyu¾ívej metod z `RecordForm'.
	Nevyu¾ívej `_edit_insert' a `_edit_update'.  
	(PopupEditForm._create_buttons): Obaluj øetìzce voláním gettext.
	(PopupEditForm.run): Vyu¾ívej `_lock_record'.
	(PopupEditForm.run): Vyu¾ívej `_unlock_record'.
	(RecordForm._record_data): Zahrnuj do øádku pouze sloupce obsa¾ené
	v datovém objektu formuláøe.

2005-08-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (BrowseDualForm.refresh): Refreshuj pouze
	hlavní formuláø.  Vedlej¹í je tím refreshován díky své závislosti...
	(ShowDualForm._on_idle): Nevolej po pøefiltrování `_select_form()'.

2005-08-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Pokud
	není zaostøeno ¾ádné okno, nic si z toho nedìlej a pokraèuj normálnì.
	

	* lib/pytis/form/list.py (BrowseForm._on_import_interactive): Vkládané
	sloupce kontroluj oproti `self._fields', nikoli `self._columns'.

2005-07-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	O¹etøení podmínky pro zji¹tìní vzdálenosti nalezeného øádku tak,
	aby respektovala mo¾ná výskyt NULL hodnot v 'sorting' sloupcích.	

2005-07-25  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (DataSpec.__init__): Pøidávej
	sloupec 'oid', jen pokud je¹tì není v seznamu sloupcù.

2005-07-14  Peter Herich  <herich@asellus.cz>

	* doc/napoveda.wiki: Doplnena vseobecna napoveda.

2005-07-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/event.py (top_level_exception): Pøednastavuj adresu
	'from'.

	* lib/pytis/output/formatter.py (LoutFormatter._lout): Smazáno
	zapomenuté vypisování do 'lout' souboru.

2005-07-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (is_in_groups): Nová funkce.

2005-07-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (CodebookField._create_widget):
	Nový atribut 'self._insert_button'.
	(CodebookField._disable): Pøedefinovaná metoda - pøidáno
	znepøístupnìní 'self._insert_button'.	
	(CodebookField._enable): Pøedefinovaná metoda - pøidáno
	zpøístupnìní 'self._insert_button'.
	
2005-07-13  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.output): Doplnìny triggery pro insert.

2005-07-13  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.output): Doplnìny triggery pro insert.

2005-07-11  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_body): Vynechávej prázdné
	øádky ve funkcích (plpython je nemá rád).

2005-07-11  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlFunction._format_body): Vynechávej prázdné
	øádky ve funkcích (plpython je nemá rád).

2005-07-07  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (RecordForm._on_delete_record): Oprava chyby
	v pøedání øádku do 'on_delete_record'.

	* lib/pytis/output/formatter.py (_INTRO): O¹etøení 'landscape' módu.

2005-07-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application._check_perm): Vypu¹tìno
	podivné úvodní znepøístupnìní pro 'Permission.INSERT'.

	* lib/pytis/data/types_.py (_check_format): Vypu¹tìn omylem zdvojený
	kód. 

2005-07-01  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.output): Doplnìn trigger pro
	logování 'delete'.

2005-07-01  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.output): Doplnìn trigger pro
	logování 'delete'.

2005-06-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._current_row): Zru¹eno.
	(_current_key, current_key): Pøesunuto do `Form'.
	(ListForm.current_row, ListForm._search_adjust_data_position)
	(ListForm.show_position, ListForm._on_edit)
	(ListForm._on_insert_line, ListForm.refresh)
	(BrowseForm._formatter_parameters, BrowseForm._on_edit_record):
	Namísto `_current_row()' pou¾ívej `_current_cell()'.
	(ListForm.is_changed): Pøejmenováno na `_is_changed'.
	(ListForm.can_line_commit, ListForm.can_line_commit): Nové metody.
	(ListForm.on_command): Neo¹etøuj zru¹ený pøíkaz
	`ListForm.COMMAND_LINE_DELETE'.
	(can_show_cell_codebook): Buï metodou instance, nikoli tøídy.
	(ListForm._on_handled_command): `row' -> `the_row'.
	(_on_delete_line): Zru¹eno.
	(ListForm._on_delete_record): Nová metoda.
	(BrowseForm._context_menu): `ListForm.COMMAND_LINE_DELETE' nahraï
	`RecordForm.COMMAND_DELETE_RECORD'.
	(BrowseForm): Callbacky CALL_EDIT_RECORD a CALL_NEW_RECORD
	pøesunuty do `RecordForm'.
	(BrowseForm.__init__): Nenastavuj zru¹ené callbacky.
	(BrowseForm._run_form, BrowseForm._redirected_name)
	(BrowseForm._on_new_record, BrowseForm._on_edit_record): Pøesunuto
	do `RecordForm'.
	(BrowseForm.on_command): Neo¹etøuj pøíkazy `COMMAND_NEW_RECORD',
	`COMMAND_NEW_RECORD_COPY' a `COMMAND_EDIT_RECORD'.
	(ListForm._on_activation, ListForm._on_alternate_activation):
	Volej callback jen pokud je vybrán nìjaký øádek.

	* lib/pytis/form/inputfield.py (InputField.can_reset_field): Nová
	metoda.
	(Invocable.can_invoke_selection, Invocable.can_invoke_selection)
	(ListField.can_invoke_edit_form)
	(ListField.can_invoke_browse_form, ListField.can_choose_key): Nové metody.

	* lib/pytis/form/form.py (Form.__init__): Namísto volání
	`_add_menus()' pøidávej tiskové menu pøímo zde.
	(Form._add_menus): Zru¹eno.
	(Form._menus): Zru¹eno.
	(Form._print_menu): Nová metoda.
	(Form.check_permission): Nový nepovinný argument `quiet'.
	(print_menu): Zru¹eno.
	(RecordForm._init_attributes): Aktualizace docstringu.
	(RecordForm._signal_update): Nová metoda.
	(RecordForm.current_row): Nová metoda.
	(RecordForm._current_key): Nová metoda.
	(RecordForm.current_key): Nová metoda.
	(RecordForm._on_delete_record): Nová metoda.
	(RecordForm.can_delete_record): Nová metoda.
	(RecordForm.on_command): Nová metoda.
	(LookupForm.is_searching): Pøejmenováno na `_is_searching'.
	(LookupForm._is_searching, LookupForm._is_searching): Nové metody.
	(LookupForm.can_sort): Zru¹eno.
	(EditForm.ACT_EDITFORM, EditForm.ACTIVATIONS): Zru¹eno.
	(EditForm._edit_delete): Zru¹eno.
	(EditForm._menus): Zru¹eno.
	(EditForm.on_command): Neo¹etøuj `EditForm.COMMAND_RECORD_INSERT',
	`EditForm.COMMAND_RECORD_UPDATE',
	`EditForm.COMMAND_RECORD_DELETE'.
	`EditForm.COMMAND_RECORD_COMMIT' ->`EditForm.COMMAND_COMMIT_RECORD'.
	(RecordForm.CALL_EDIT_RECORD, RecordForm.CALL_NEW_RECORD): Nové callbacky.
	(RecordForm.__init__): Nová metoda.
	(RecordForm.select_row): Nová metoda /pøesunuto z EditForm/.
	(RecordForm._find_row_by_values): Nová metoda /pøesunuto z EditForm/.
	(RecordForm._redirected_name, RecordForm._run_form) 
	(RecordForm._new_form_kwargs, LookupForm._new_form_kwargs) 
	(RecordForm._on_new_record, RecordForm._on_edit_record): Nové metody.
	(RecordForm.on_command): O¹etøuj pøíkazy
	`RecordForm.COMMAND_NEW_RECORD',
	`RecordForm.COMMAND_NEW_RECORD_COPY' a `COMMAND_EDIT_RECORD'.
	(EditForm._find_row_by_values): Zru¹eno.
	(EditForm.select_row): Zru¹eno.
	

	* lib/pytis/form/command.py: Buï potomkem `object'.
	(_check_perm, _can_run_form, _can_insert)
	(_current_form_can_insert, _current_form_can_update)
	(_current_form_can_delete, _current_form_searching)
	(_current_form_changed, _current_field_enabled)
	(_current_field_modified, _current_field_has_selection): Zru¹eno.
	(FORM_COMMAND_MENU): Nová konstanta.
	(define_cmd): Nová dunkce.  V¹echny pøíkazy nyní definovány s její
	pomocí.  Pøíkazy `EditForm.COMMAND_NEW_RECORD',
	`EditForm.COMMAND_NEW_RECORD_COPY' a
	`EditForm.COMMAND_EDIT_RECORD' pøesunuty do tøídy `RecordForm'.
	`EditForm.COMMAND_RECORD_COMMIT'
	->`EditForm.COMMAND_COMMIT_RECORD'.

	* lib/pytis/form/application.py (Application.OnInit): Pøidávej také
	menu pøíkazù.  Pøejmenována lokální promìnná `spec' -> `name'.
	(Application._check_perm): Nová metoda.
	(Application.can_run_form): Nová metoda.
	(Application.can_new_record): Nová metoda.
	(window_count): Zru¹eno.
	(Application.can_next_form, Application.can_prev_form) 
	(Application.can_leave_form): Nové metody.

2005-06-30  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (RunFormDialog._create_content):
	Po vytvoøení 'wx.Choice' zavolej je¹tì 'SetSelection' pro
	nastavení implicitní volby.	

	* lib/pytis/form/form.py (LookupForm._on_jump): Pro získání èísla
	øádku pou¾ívej 'InputNumeric'.

2005-06-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._total_height): Zji¹»uj vý¹ku
	nultého øádku, ne prvního. 

	* lib/pytis/form/screen.py (Menu.create): Vylep¹en komentáø.

	* lib/pytis/form/command.py: Opraveny identifikátory pøíkazù
	`LookupForm.COMMAND_SEARCH_NEXT' a
	`LookupForm.COMMAND_SEARCH_PREVIOUS'.

2005-06-29  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (ef): Nová zkratka.

2005-06-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_startup_forms.long_option): Nová volba.

	* lib/pytis/form/application.py (Application.OnInit): Otevøi v¹echny
	formuláøe z `config.startup_forms'.
	(Application.__init__): Inicializuj `self._window_menu_item' pøed
	voláním konstruktoru pøedka.

	* lib/pytis/form/list.py (ListForm._column_width): Nová metoda.
	(ListForm._create_grid, ListForm._on_size): Vyu¾ívej ji.

2005-06-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (Application.COMMAND_LEAVE_FORM): Upravena
	`enabled' funkce aby brala v potaz i formuláøe, které nejsou na
	stacku.
	
2005-06-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (ListForm._on_line_commit): Spou¹tìj i check funkci
	z 'ViewSpec'.

2005-06-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._create_grid): Neo¹etøuj
	`EVT_GRID_CELL_LEFT_CLICK'.

2005-06-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Nový argument
	'upd_log_trigger'. 
	(_GsqlTable.output): Pou¾ívej ho.

2005-06-28  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Nový argument
	'upd_log_trigger'. 
	(_GsqlTable.output): Pou¾ívej ho.

2005-06-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (menu_report): Toleruj `None' ve
	výsledku volání `permitted_groups()'.

2005-06-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Pokud je
	`name' callable, pova¾uj za `name' výsledek jeho volání.

	* lib/pytis/form/command.py (_can_run_form): Pokud je `name' callable,
	pova¾uj za `name' výsledek jeho volání.
	(_can_run_form): Pøedchozí úprava zru¹ena.
	(ListForm.COMMAND_SHOW_CELL_CODEBOOK): Nový pøíkaz.
	(BrowseForm.COMMAND_RECORD_EDIT): Pøejmenováno na
	`BrowseForm.COMMAND_EDIT_RECORD'.
	(_can_run_form): Oprava chyby z minulého commitu.

	* lib/pytis/form/inputfield.py (CodebookField._on_codebook_insert):
	Prefill vyplòuj pouze pokud je v políèku zeditovaná hodnota.

	* lib/pytis/form/list.py (ListForm._init_attributes): Inicializuj
	`self._selection_candidate'.
	(ListForm._select_cell): Nenastavuj výbìr zde, pouze nastav
	`self._selection_candidate'.
	(ListForm._on_idle): Pokud je nastaveno
	`self._selection_candidate', nastav výbìr, jeho barvy a zviditelni
	buòku.
	(ListForm.show_context_menu): Kosmetické úpravy.
	(BrowseForm._context_menu, ListForm.show_context_menu): Kosmetické
	úpravy.
	(ListForm.on_command): O¹etøuj
	`ListForm.COMMAND_SHOW_CELL_CODEBOOK' voláním
	`self._on_show_cell_codebook()'.
	(ListForm.can_set_grouping): Zru¹en zapomenutý print.
	(ListForm._on_show_cell_codebook)
	(ListForm.can_show_cell_codebook): Nové metody.
	(BrowseForm._context_menu): Pøidána polo¾ka pro pøíkaz
	`ListForm.COMMAND_SHOW_CELL_CODEBOOK'.  Kosmetické úpravy.
	(ListForm._on_line_commit): Kosmetické úpravy.
	(BrowseForm._context_menu): `BrowseForm.COMMAND_RECORD_EDIT' ->
	`BrowseForm.COMMAND_EDIT_RECORD'.
	(BrowseForm.on_command): `BrowseForm.COMMAND_RECORD_EDIT' ->
	`BrowseForm.COMMAND_EDIT_RECORD'.
	(ListForm._on_select_cell): Callback volej jen pokud nejsme uvnitø
	`_select_cell()'.
	(ListForm._on_context_menu): Volej callback
	`CALL_USER_INTERACTION'.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Namísto
	koncových akcí volej `self._set_row()'.
	(PresentedRow._set_row): Nová metoda.
	(PresentedRow.set_row): Vyu¾ívej `self._set_row()'.

	* lib/pytis/form/_grid.py (IncrementalSearch._on_kill_focus): Nastavuj
	callback pouze pokud listform stále existuje.

	* lib/pytis/form/form.py (LookupForm.can_sort): Oprava pøeklepu.
	(Form._menus): `BrowseForm.COMMAND_RECORD_EDIT' ->
	`BrowseForm.COMMAND_EDIT_RECORD'.

2005-06-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._select_cell): Pøechod na sloupeèek
	provádìj pouze pokud nebyl proveden pøechod na øádek /pøi nìm¾ je
	provádìn i pøechod na sloupeèek/.  Úprava výpoètu sloupeèku.
	(ListForm._on_handled_command): Pokud má handler ménì ne¾ dva
	pozièní arguemnty, pøedávej pouze `row', nebo vùbec nic.
	(ListForm._on_handled_command): Zohledòuj `None' ve výsledku
	volání `inspect.getargspec()'.

	* lib/pytis/form/form.py (Form.check_permission): Vracej pravdu pokud
	je dané právo alespoò k jednomu sloupeèku datového objektu.  Pouze
	pro delete vracej globální právo.
	(LookupForm.can_sort_column): Oprava sémantiky.

2005-06-20  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_make_complex_tables): Odstranìno.
	(_GsqlView._make_tables): Nepou¾ívej '_make_complex_tables'.
	Nepou¾ívej 'remove_duplicates'.
	(_GsqlView._format_rule): Procházej cyklus pøes 'self._tables'
	(kvùli zachování poøadí v generování rules).

2005-06-20  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_make_complex_tables): Odstranìno.
	(_GsqlView._make_tables): Nepou¾ívej '_make_complex_tables'.
	Nepou¾ívej 'remove_duplicates'.
	(_GsqlView._format_rule): Procházej cyklus pøes 'self._tables'
	(kvùli zachování poøadí v generování rules).

2005-06-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/spec.py (help_mitem): Nová funkce.
	(bf, df, ddf, nr, rp): Nové zkratky.

2005-06-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py: 
	(run_procedure_mitem, run_form_mitem, new_record_mitem, user_cmd) 
	(run_any_form): Nové funkce.

2005-06-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm.UI_EDIT_CHANGE)
	(ListForm.UI_EXISTS_CONDITION, ListForm.UI_SORTING)
	(ListForm.UI_GROUPING): Konstanty zru¹eny.
	(ListForm.can_sort_column): Nová metoda.
	(ListForm._on_label_left): `ListForm.SORTING_CYCLE_DIRECTION' ->
	`LookupForm.SORTING_CYCLE_DIRECTION'.  Nepou¾ívej argument
	`uievent_id' konstruktoru `MItem'.
	(on_ui_event): Metoda zru¹ena.
	(ListForm.is_changed): Nová metoda.
	(ListForm.can_set_grouping): Nová metoda.

	* lib/pytis/form/form.py (Form._menus): Nepou¾ívej argument `uievent_id' konstruktoru
	`MItem'.
	(Form.on_ui_event): Metoda zru¹ena.
	(Form.guardian): Nová metoda.
	(RecordForm.UI_ACCESS_INSERT, RecordForm.UI_ACCESS_UPDATE)
	(RecordForm.UI_ACCESS_DELETE): Konstanty zru¹eny.
	(RecordForm.on_ui_event): Metoda zru¹ena.
	(LookupForm.can_sort_column): Nová metoda.
	(LookupForm.sorting, LookupForm.can_sort): Nová metoda.
	(EditForm._menus): Nepou¾ívej argument `uievent_id' konstruktoru
	`MItem'.
	(EditForm.on_ui_event, BrowsableShowForm.on_ui_event): Zru¹eno.

	* lib/pytis/form/dualform.py (on_ui_event): Zru¹eno.
	(DualForm.active_form): Nová metoda.

	* lib/pytis/form/application.py (Application.UI_ALWAYS_DISABLED)
	(Application.UI_OPENED_WINDOW,
	Application.UI_OPENED_MORE_WINDOWS): Konstanty zru¹eny.
	(Application.new_record): Pou¾ívej `self._current_form()' namísto
	`current_form()'.
	(on_ui_event): Metoda zru¹ena.
	(Application.window_count): Nová metoda.
	(Application.current_form): Nová metoda.
	(get_status): Upraven docstring.
	(current_form): Pouze volej `_application.current_form()'.
	(exit): Upraven docstring.

	* lib/pytis/form/command.py (Command.__init__): Nové arguemnty
	`enabled' a `static'.
	(Command.__init__): Pøidány asserty na `handler' a
	`access_groups'.  Zjisti pøítomnost v access groups ji¾ zde a
	zapamatuj.
	(access_groups): Metoda zru¹ena
	(Command.enabled): Nová metoda.
	(invoke_command): Vyvolej pøíkaz pouze pokud je `enabled'.
	(_check_perm, _can_run_form, _can_insert, _can_insert) 
	(_can_insert, _current_form_can_update, _current_form_can_update) 
	(_current_form_can_delete, _current_form_changed) 
	(_current_form_changed, _current_field_modified): Nové funkce.
	Vyu¾ívej tyto funkce v definicích pøíkazù.

	* lib/pytis/form/screen.py (Keymap._define_key): V assertové zprávì
	vypisuj také pøíkaz a jeho argumenty.
	(MenuBar._create_menu): Neinicializuj `self._access_groups'.
	(MenuBar.activate): Neinicializuj `self._access_groups'.
	(Menu.create): Nezji¹»uj zde `access_groups' pøíkazu, radìji
	ponech uøèení na `Command.enabled()'.
	(MItem.__init__): Zru¹en arguemnt `uievent_id'.
	(MItem._on_ui_event): Nová metoda.
	(MItem.create): Namísto volání `Application.on_ui_event()' o¹etøuj
	`wx.EVT_UPDATE_UI' pomocí `self._on_ui_event()'.
	(MItem.uievent_id): Metoda zru¹ena.

	* lib/pytis/form/inputfield.py (InputField.UI_IS_MODIFIED)
	(InputField.UI_IS_ENABLED, ListField.UI_LIST_ITEM_SELECTED):
	Konstanty zru¹eny.
	(InputField.on_ui_event): Metoda zru¹ena.
	(InputField._menu): Nepou¾ívej argument `uievent_id' konstruktoru
	`MItem'.
	(InputField.is_enabled): Nová mentoda.
	(Invocable._menu, CodebookField._menu, ListField._menu):
	Nepou¾ívej argument `uievent_id' konstruktoru `MItem'.
	(ListField.on_ui_event): Metoda zru¹ena.
	(ListField.has_selection): Nová mentoda.


2005-06-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (DEFAULT_COMMAND_KEYS): 

2005-06-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm._create_form): Na konci volej
	`_set_main_form_callbacks()' a `_set_side_form_callbacks()'.
	(DualForm._set_main_form_callbacks)
	(DualForm._set_main_form_callbacks)
	(SideBrowseDualForm._create_side_form)
	(BrowseDualForm._set_main_form_callbacks)
	(ShowDualForm._set_main_form_callbacks)
	(BrowseShowDualForm._set_main_form_callbacks)
	(DescriptiveDualForm._set_side_form_callbacks): Nové metody.
	(SideBrowseDualForm._create_side_form)
	(BrowseDualForm._create_main_form)
	(ShowDualForm._create_main_form)
	(BrowseShowDualForm._create_main_form)
	(DescriptiveDualForm._create_side_form): Nastavovvování callbackù
	pøenech novám metodám.
	(DescriptiveDualForm._init_attributes): Nová metoda.
	(DescriptiveDualForm._do_selection): Nastavuj
	`self._in_mainform_selection'.
	(DescriptiveDualForm._on_side_selection): Nedìlej nic, pokud je
	nastaveno `self._in_mainform_selection'.

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Nový argumert
	`fixed'.
	(FieldSpec.fixed): Nová metoda.

	* lib/pytis/form/list.py (ListForm._on_size): Korekci ¹íøky kvùli
	scrollbarùm provádìj a¾ po kontrole shody nové a pùvodní velikosti.
	(ListForm._on_column_header_paint): Dedopus», aby label pøesahoval
	¹íøku sloupce.
	(ListForm._on_size): Ponech velikost fixních sloupcù nezmìnìnou.

2005-06-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._select_cell): Neprovádìj zde rewind.
	(ListForm._create_grid): Zru¹en hack s initiálním fetchem.

	* lib/pytis/form/dualform.py (DualForm._initial_sash_ratio) 
	(DescriptiveDualForm._initial_sash_ratio): Nová metoda.
	(DualForm._init_attributes): Vyu¾ívej ji.

	* lib/pytis/data/_test.py (DataEnumerator.test_values): Nová metoda.
	(DBDataDefaultClass._test_lock): Test odstaven pro momentální
	nefunkènost.
	(DBDataFetchBuffer.setUp): Pou¾ívej konfiguraèní volby namísto
	zru¹ených konstant.
	(DBDataFetchBuffer.setUp): Vytváøej je¹tì duhou tabulku s malým
	poètem øádkù.
	(_check_skip_fetch): Pøijímej datový objekt jako argument.
	(DBDataFetchBuffer.test_skip_fetch): Pøidány nové testy pracující
	s malou tabulkou.

	* lib/pytis/data/types_.py (Type.export, Type.default_value):
	Odstranìny hrátky pøekladem hodnot sekvence podle `_SPECIAL_VALUES'.
	(Enumerator.values): Nová metoda.
	(DataEnumerator.values): Nová metoda.
	(Value.__init__): Pou¾ívej `super()' k volání metody pøedka.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.fetch):
	Kosmetické úpravy.
	(DBDataPostgreSQL._PgBuffer.fetch): Loguj jen èíslo øádku, ne
	data.
	(DBDataPostgreSQL._PgBuffer.correction): Kosmetické úpravy.
	Pøidán komentáø.
	(DBDataPostgreSQL.__init__): Zru¹en nepou¾itý atribut
	`_cache_size'.  Pøidány nové atributy zrcadlící konfiguraèní
	promìnné (výkonnostní mikro-optimalizace, leè dle profileru
	pomìrnì úèinná).
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Pou¾ívej
	`self._db_encoding', namísto `config.db_encoding'.
	(DBDataPostgreSQL.fetchone): Pou¾ívej
	`self._pg_initial_fetch_size' namísto `config.initial_fetch_size'
	a `self._pg_fetch_size' namísto `config.fetch_size'.
	Odstranìna prazvlá¹tní korekce '-2' pøi urèování poètu
	pøeskoèených øádek pøi zpìtném chodu.
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Postgresový typ
	`float8' mapuj na `Float'.

	* lib/pytis/form/_grid.py (ListTable._retrieve_row): Vypoèti skip tak,
	aby mohl být fetch proveden skuteènì ve smìru pohybu, ne v¾dy
	dopøedu.
	Pøed prvním fetchem provádìj je¹tì fetch prvního øádku dopøedu,
	aby byl naplnìn buffer.
	(ListTable._retrieve_row.fetch): Provádìj fetch ve smìru `direction'.
	(ListTable._retrieve_row): Provádìj také fetch ve smìru pohybu.
	(ListTable._panic): Opravena indentace.

2005-06-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow): Buï potomkem `object'.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	importuj `_grid'.  `ListForm.IncrementalSearch' ->
	`_grid.IncrementalSearch'.
	

	* lib/pytis/form/form.py (LookupForm._init_select): Upravena logovací
	hlá¹ka.

	* lib/pytis/form/inputfield.py: Zru¹en docstring.
	(EnumerationField._values): Oprava pøeklepu.
	(EnumerationField._set_value): Vracej výsledek volání
	`SetStringSelection()'.
	(ChoiceField._create_ctrl): Nepøedávej konstruktoru zbyteèné
	argumenty.
	(ColorSelectionField._set_value): Vracej výsledek volání metody
	pøedka.

	* lib/pytis/form/list.py (ListForm._create_grid): Kosmetické úpravy.
	Hack o¹etøující vyøazený buffer pøi zpìtném naèítání øádkù gridu.
	(ListForm._update_grid, ListForm._update_grid): Nový/vrácený argument
	`data_init'.  Popkud je True, inicializuj datový select, jinak
	volej `rewind()'.
	(ListForm.refresh): Neinicializuj select zde, ale nastavuj
	`data_init' pøi volání `_update_grid()'.
	(ListForm.focus): Neprovádìj refresh.

	* lib/pytis/form/application.py (Application.restore): Pokud je
	aktivní formuláø `Refreshable', volej `refresh()'.

2005-06-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._init_select): Obaluj databázovou
	operaci do `db_operation'.

	* lib/pytis/form/list.py (ListForm._create_grid): Neobaluj volání
	`_init_select()' do `db_operation'.
	(ListForm._create_recreate_grid): Pøejmenováno na
	`_update_label_colors()'.
	(ListForm._recreate_grid): Pøejmenováno na `_update_grid()'.
	(ListForm._create_grid, ListForm._update_grid):
	`_create_recreate_grid' -> `_update_label_colors()'.
	(ListForm._on_insert_line, ListForm._on_line_rollback):
	`_recreate_grid()' -> `_update_grid()'.  Nepøedávej zru¹ený
	argument `data_init'.
	(ListForm.refresh): Neobaluj volání `_init_select()' do
	`db_operation'.  `_create_recreate_grid' ->
	`_update_label_colors()'.

	* lib/pytis/presentation/spec.py (GroupSpec.__init__): Odstranìn
	zapomenutý argument `box'.

2005-06-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Volej
	`Show()' formuláøe bez arguemntu `refresh'.

	* lib/pytis/form/__init__.py: Importuj `_grid' a aktualizuj jeho
	jmenný prostor. 

	* lib/pytis/form/form.py (PopupForm._popup_frame): Zru¹en argument
	`title'.
	(PopupForm._popup_frame): Ke stylu dialogu pøidej také
	`wx.DEFAULT_DIALOG_STYLE'.
	(PopupForm.run): Volej na `frame' `SetTitle()' a `SetClientSize()'.
	(_finish_top_level_sizer): Zru¹eno.
	(Form._create_form): Nevolej `_finish_top_level_sizer()'.
	(Form._finish_top_level_sizer): Zru¹eno.
	(PopupEditForm._finish_top_level_sizer): Zru¹eno.

	* lib/pytis/form/list.py (ListForm._init_attributes): Atribut
	`self._size' zru¹en.
	(ListForm._create_form_parts): Neukládej `self._size'.
	(ListForm._create_grid, ListForm._on_size): Nepou¾ívej
	`self._size'.
	(ListForm._on_size): Zru¹eno `SPECIAL_WX_CORRECTION'.  Zpøehlednìn
	a zjednodu¹en cyklus pøepoèítávání sloupcù.  I pøi pøedèasném
	opu¹tìní volej `Skip()'.  Nenastavuj velikost gridu explicitnì.
	Nepøipoèítávaj velikosti scrollbarù.
	(ListForm._recreate_grid): Neprovádìj
	`self.SetSize(self.GetSize())'.
	(ListForm.total_width): Zru¹eno
	(ListForm.total_height): Pøejmenováno na `_total_height()'.
	(CodebookForm_DEFAULT_WINDOW_HEIGHT): Zvý¹eno na 500.
	(CodebookForm.__init__): Nepøedávej `title' volání
	`_popup_frame()'.  Nastavuj velikost formuláøe, ne rodièovského
	okna/framu.
	(_InputFieldCellEditor, _ListTable, IncrementalSearch.__init__):
	Pøesunuto do nového modulu `_grid'.
	(_create_grid): Zru¹eny nepou¾ité argumenty `data_init',
	`inserted_row_number' a `inserted_row'.
	(ListForm._create_grid): `self._ListTable' -> `_grid.ListTable'.
	`_InputFieldCellEditor' -> `_grid.InputFieldCellEditor'.
	(ListForm._recreate_grid): Zru¹en arguemnt `data_init'.
	Neprovádìj zde inicializaci dat.
	(ListForm._select_cell): Nepøepisuj si `col'.
	(ListForm.on_data_change): Update docstringu.
	(ListForm._on_incremental_search): `self.IncrementalSearch' -> `_grid.IncrementalSearch'.
	(ListForm.refresh): Inicializuj sde datový select.
	(ListForm.Show): Nevolej refresh().
	(ListForm._select_cell): Volej `MakeCellVisible()' dvakrát...

2005-06-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (DualForm._init_attributes): Nastavuj
	'sash_ratio' podle specifikace.

	* lib/pytis/presentation/spec.py (DualSpec.__init__):
	Nový argument 'sash_ratio'.
	(DualSpec.sash_ratio): Nová metoda.

2005-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec): Buï potomkem
	`pytis.data.DataFactory'.
	(DataSpec.__init__): Pokud jsou `access_rights' None, doplòuj
	neomezená `AccessRights'.  Nový argument `data_class_'.
	Transformuj v¹echny argumenty zde a volej konstruktor pøedka.
	(DataSpec.make): Zde nedìlej nic, pouze vracej sebe sama.
	(ASC, ASC, LOWER, UPCASE, ALPHA, NUMERIC, ALPHANUMERIC, ASCII)
	(FLOAT, ALWAYS, ONCE, NEVER): Nové konstanty.
	(LHGroup): Buï potomkem HGroup.
	(LVGroup): Buï potomkem VGroup.
	(LHGroup.__init__, LVGroup.__init__): Nenastavuj `orientation' a
	volej konstruktor pøedka pøes `super()'.
	(HGroup.__init__, VGroup.__init__): Volej konstruktor pøedka pøes
	`super()'.

2005-06-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (run_cb): Zru¹en 'returned_column',
	vrací se celý øádek.

2005-06-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/data.py (Data.row_key): Pou¾ívej "list comprehension"
	namísto 'map()'.

	* lib/pytis/form/application.py (Application.OnInit): V debug re¾imu
	vypisuj verzi wxWidgets.

	* lib/pytis/form/dualform.py (ExtInfoDualForm): Pøejmenováno na
	`BrowseShowDualForm'.
	(DescriptiveDualForm): `ExtInfoDualForm' -> `BrowseShowDualForm'.

	* lib/pytis/form/list.py (total_height): Zji»uj vý¹ku øádku jen pokud
	je zobrazen alespoò jeden øádek.

	* lib/pytis/presentation/spec.py (BorderStyle, Orientation, Button) 
	(GroupSpec, LayoutSpec, ViewSpec, DualSpec, Editable) 
	(SelectionType, Color, TextFormat, FieldStyle, PostProcess) 
	(TextFilter, Computer, RefSpec, FieldSpec): Buï potomkem `object'.
	(Spec): Tøída zru¹ena.
	(SelectionType): Upraveny docstringy.
	(SelectionType.CODEBOOK): Nová konstanta.
	(FieldSpec.__init__): Upraven docstring.

2005-06-07  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (dbselect): Oprava malé chybky.

2005-06-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (Window.resize): Namísto `OnSize(event)'
	volej prostì `SetSize(size)'.

	* lib/pytis/form/dualform.py (DualForm.__init__): Wx callback
	`EVT_SIZE' o¹etøuj pomocí `self._on_size' a `EVT_SET_FOCUS' pomocí
	`self._on_focus'.
	(DualForm._on_size): Nová metoda.
	(DualForm..OnSize): Zru¹eno.
	(DualForm._init_attributes): `self._sash_ratio' nastav na 0.5.
	(DualForm._create_form): `OnSashChanged' -> `_on_sash_changed'.
	(DualForm._sash_position): Neoèekávej None v `self._sash_ratio'.
	(DualForm._on_size_hook): Zru¹eno.
	(DualForm.OnSashChanged): Pøejmenováno na `_on_sash_changed'.
	(DualForm.OnSize): Pøejmenováno na `_on_size'.  V¾dy nakonec volej
	'Skip()'.
	(ShowDualForm._sash_position): Nepou¾ívej nikdy `self._sash_ratio'.
	(ShowDualForm._on_size_hook): Zru¹eno.
	(ExtInfoDualForm): Nová tøída.
	(DescriptiveDualForm): Buï jejím potomkem.
	(DescriptiveDualForm._sash_position)
	(DescriptiveDualForm._on_size_hook, DescriptiveDualForm.refresh)
	(DescriptiveDualForm._create_main_form): Zru¹eno.

	* lib/pytis/form/form.py
	(EditForm._find_row_by_values): Nová metoda.
	(EditForm.size): Doplnìn docstring.
	(EditForm.set_scrollbars):  Kosmetické úpravy.
	(select_row): Argument `key' pøejmenován na `position'.  Umo¾nìno
	pou¾ití slovníku hodnot jako `position'.
	(EditForm._find_row_by_values): Nová metoda.
	(ShowForm._init_attributes): Wx callback
	`EVT_SIZE' o¹etøuj pomocí `self._on_size'.
	(ShowForm._on_size): Nová metoda.
	(ShowForm.OnSize): Zru¹eno.

	* lib/pytis/form/dialog.py (InputDialog.__init__): Pøijímej klíèové
	argumenty 'report' a 'report_format'.
	(FileDialog.__init__): Výchozí hodnota argumentu `wildcards'
	nastavena tak, aby byly zobrazeny v¹echny soubory.

	* lib/pytis/form/command.py (BrowseForm.COMMAND_IMPORT_INTERACTIVE):
	Nový pøíkaz. 
	(DEFAULT_COMMAND_KEYS): Pøiøaï mu klávesu.

	* lib/pytis/form/list.py (BrowseForm.on_command): O¹etøuj
	`COMMAND_IMPORT_INTERACTIVE' voláním
	`self._on_import_interactive()'.
	(BrowseForm._on_import_interactive): Nová metoda.
	(BrowseForm._on_new_record): Upravena chybová hlá¹ka.
	(ListForm.__init__): Wx callback `EVT_SIZE' o¹etøuj pomocí
	`self._on_size'.
	(ListForm.OnSize): Zru¹eno.
	(ListForm.SetSize): Pøejmenováno na `_on_size()'.  Transformováno
	na event handler.  Na konci volej `event.Skip().

2005-06-07  Pavel Hanak  <hanak@asellus.cz>

	* bin/pytis: Doplnìno o mo¾nost pou¾ítí rùzných verzí wxPython.

2005-06-07  Pavel Hanak  <hanak@asellus.cz>

	* bin/pytis: Doplnìno o mo¾nost pou¾ítí rùzných verzí wxPython.

2005-06-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (_select_cell): Eliminuj násobná volání
	`SetGridCursor()', `GetGridCursorCol()' a `GetGridCursorRow()'.
	(BrowseForm._PrintResolver._Spec.body) 
	(BrowseForm._PrintResolver._Spec.doc_header) 
	(BrowseForm._PrintResolver._Spec.doc_footer) 
	(BrowseForm._PrintResolver._Spec.coding): Akcepruj klíèový
	argument `variant'.

2005-06-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.validate): Pøejímej
	(InputField._value): Nová metoda.
	(InputField._is_valid): Nová metoda.
	(DateField._on_invoke_selection): Pou¾ívej `self._value()'.
	Pou¾ívej pøímo metody `value' a `self._type' a ne oklikou pøes
	vytváøení nové instance typu `Date'.
	(CodebookField._on_change_hook): Vyu¾ívej `self._value()'.
	Pødávej metodì `get()' enumerátoru Pythonovou hodnotu, ne stringovou.
	(CodebookField._on_invoke_selection): Vyu¾ívej `self._value()'.
	(CodebookField._on_codebook_insert): Vyu¾ívej `self._is_valid()'.

	**kwargs a pøedávej je metodì `validate()' datového typu.

	* lib/pytis/form/form.py (RecordForm._on_editability_change): Nech»
	metoda pøijímá dva arguemnty.
	(EditForm._on_editability_change): Pøejmenován argument.

2005-06-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._field_change): 
	Pøejmenováno na `_on_field_edit()'.
	(EditForm._create_form): `_field_change()' -> `_on_field_edit()'.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Ukládej vazební sloupce do atributù.  Zapamatuj si typ vazebního
	sloupce v side_formu.
	(SideBrowseDualForm._do_selection): Vyu¾ívej tìchto atributù.

	* lib/pytis/presentation/field.py (_finalize): Pøejmenováno na
	`_resolve_dependencies()'.  Zru¹en argument `invoke_callbacks'.
	Oznaèování dirty políèek provádìj zde.
	(PresentedRow.__setitem__): Namísto `_finalize()' pou¾ívej
	`_resolve_dependencies()' a pøenech mu také oznaèování dirty
	políèek.
	(PresentedRow._recompute_editability): Kosmetické úpravy.
	(PresentedRow._recompute_codebook_runtime_filter): Pøejmenováno na
	`_notify_runtime_filter_change()'.
	(PresentedRow.__setitem__): `_recompute_codebook_runtime_filter'
	-> `_notify_runtime_filter_change()'.
	(PresentedRow.set_row, PresentedRow.listfield_choose)
	(PresentedRow.__init__): : `_finalize()' ->
	`_resolve_dependencies()'.
	(PresentedRow._resolve_dependencies): Oznam zmìnu runtime
	codebookù je¹tì pøed pøepoèítáváním editovatelnosti.

2005-06-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/_test.py: Opraveny importy.  Instance
	 datových typù nezískávej pøes `.make()'.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Argumenty
	`enable_field_callback' a `disable_field_callback' nahrazeny
	jediným `editability_change_callback'.
	(PresentedRow.__init__): Pøidány v¹emo¾né asserty na argumenty.
	Inicializuj cache vypoètených virtuálních hodnot `self._virtual'.
	Vyu¾ívej `_finalize()'.
	(PresentedRow._init_row.genval): Promìnná `id' pøejmenována na
	`key'.
	(PresentedRow.__getitem__): Dopoèítávej dopoèítávané hodnoty pøímo
	zde.  Cachuj vypoèené hodnoty virtuálních sloupcù.  Pokud dojde ke
	zmìnì hodnoty, volej change_callback ihned po dopoèítání nové
	hodnoty.
	(_invoke_callbacks, _needs_recomputation, _compute)
	(_recompute_dependencies): Zru¹eno.
	(PresentedRow._finalize): Nová metoda.
	(PresentedRow._recompute_editability): Namísto `id' pou¾ívej
	promìnnou `key'.
	(PresentedRow._compute_editability): Ukládej vypoøtenou hodnotu do
	`self._editable' a nuluj "dirty" pøíznak.
	(PresentedRow._recompute_codebook_runtime_filter): Kosmetické
	úpravy.
	(PresentedRow.row): Nesna¾ se zde øe¹it, co sem nepatøí.  Hodnotu
	získávej pøes pøístup ke slovníku /__getitem__/.
	(PresentedRow.format): Nesna¾ se zde øe¹it, co sem nepatøí.
	Hodnotu získávej pøes pøístup ke slovníku /__getitem__/.
	(PresentedRow.field_changed): Kosmetická úprava.
	(PresentedRow.editable): Neøe¹ zde co je nyní v
	`_compute_editability'.
	(PresentedRow.listfield_choose): Vyu¾ívej `_finalize()'.
	(PresentedRow.__setitem__): Vyu¾ívej `_finalize()'.
	(PresentedRow.set_row): Vyu¾ívej `_finalize()'.

	* lib/pytis/form/form.py (RecordForm._set_row): Respektuj zmìnu
	argumentù `PresentedRow'.
	(RecordForm._on_row_change, EditForm._on_row_change):
	Pøejmenováno na `_on_field_change'.
	(RecordForm._on_field_enable, RecordForm._on_field_disable)
	(EditForm._on_field_enable, EditForm._on_field_disable): Zru¹eno.
	(RecordForm._on_editability_change)
	(EditForm._on_editability_change): Nové metody.
	():

2005-05-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CodebookField._on_invoke_selection):
	Pøedávej øádek jako slovník s value_column jako klíè.

	* lib/pytis/form/list.py (select_row): Umo¾ni pøedat øádek také jako
	slovník.

2005-05-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.__setitem__):
	Kontroluj typ nastavované hodnoty.

	* lib/pytis/form/application.py
	(Application._WINDOW_MENU_TITLE): Pou¾ij `&' pro klávesovou
	zkratku.
	(Application.OnInit): Vynech v menu oken pøíkazy pro manipulaci s
	okny.
	(Application._window_menu): Zru¹eno.
	(Application._update_window_menu): Nepou¾ívej
	`self._window_menu()'.  Pøidávej do titulku èíslo formuláøe,
	fungující také jako klávesová zkratka.  Popis formuláøe uvádìj
	pouze pokud nejde o BrowseForm.

	* lib/pytis/form/dualform.py (DualForm._DESCR,
	DescriptiveDualForm._DESCR): Nové konstanty.

	* lib/pytis/form/form.py (Form._menus, EditForm._menus): Pøidány pøíkazy pro
	manipulaci s okny.
	(Form.descr): Pokud `self._DESCR' není None, vracej jeho hodnotu.
	(EditForm._validate): Neprovádìj kontrolu datového typu hodnot v
	row zde.
	(ShowForm): Nová konstanta.

2005-05-30  Tomas Cerha  <cerha@brailcom.orWg>

	* lib/pytis/form/dualform.py (DualForm._DESCR) 
	(DescriptiveDualForm._DESCR): Nové konstanty.

	* lib/pytis/form/list.py (_post_selection_hook): O¹etøuj
	`DataAccessException' pøi zji¹»ování hodnoty displeje.

2005-05-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (FieldSpec.__init__): Nové argumenty
	`allow_codebook_insert', `codebook_insert_spec'.
	(FieldSpec.allow_codebook_insert) 
	(FieldSpec.allow_codebook_insert): Nové metody.

	* lib/pytis/form/inputfield.py (InputField._validation_error_handler):
	Zru¹eno.
	(InputField.validate): Zapomeò na `_validation_error_handler'.
	(TextField._create_ctrl): Vý¹ka políèka lehce zvìt¹ena.  Volej
	také `self.SetSize()'.
	(Invocable._create_widget): Nastavuj tlaèítku tooltip.
	(Invocable._create_widget): Mezeru v sizeru vytváøej zleva.
	Nastavuj `wx.FIXED_MINSIZE' pøi vkládání do sizeru.
	(Invocable._create_button): Namísto `SetSize()' pou¾ij
	`SetMinSize()'.
	(CodebookField._create_widget): Pokud bylo ve specifikaci povoleno
	`allow_codebook_insert', vytvoø také pøidávací tlaèítko.  Nastavuj
	`wx.FIXED_MINSIZE' pøi vkládání do sizeru.
	(CodebookField._validation_error_handler): Zru¹eno.
	(CodebookField._on_codebook_insert): Nová metoda.
	(CodebookField._create_widget): Nech» je tlaèítko pro pøidávání
	záznamù pøeskakováno pøi prùchodu formuláøem.

	* lib/pytis/form/list.py (_post_selection_hook): Pokud nejsi
	zaostøeným oknem, nic neprovádìj.

2005-05-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (run_cb): Update docsrtringu.
	Nezískávej resolver, který nepotøebuje¹.
	(row_update): Obal batabázovou operaci voláním `db_operation'.

2005-05-25  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (run_cb): Argument
	'returned_column' je pozièní.

2005-05-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._Column.__init__):
	Zru¹en argument separator.
	(PresentedRow._process_fieldspec): Nepøedávej `separator'.
	(PresentedRow.__setitem__): Pøidán zatím zakomentovaný assert na
	typ nastavované hodnoty.

	* lib/pytis/presentation/spec.py (ViewSpec.__init__): Kosmetická úprava.
	(FieldSpec.__init__): Zru¹en argument `separator'.
	(FieldSpec.separator): Metoda zru¹ena.
	(CodeBookSpec): Tøída zru¹ena.
	(FieldSpec.__init__): Povol pouze øetìzec jako argument `codebook'.

	* lib/pytis/form/inputfield.py (InputField.create): Enumerátor zkoumej
	jak pro typ `String', tak `Number'.
	(CodebookField._maxlen): Pokud dojde k `AttributeError', vracej None.
	(CodebookField._create_widget): Zru¹eny hacky kvùli kompatibilitì
	se starou definicí `codebook'.
	(CodebookField._on_invoke_selection)
	(CodebookField._validation_error_handler): Respektuj to.

	* lib/pytis/form/list.py (ListForm._ListTable.GetColLabelValue):
	Zru¹eno.
	(ListForm._on_column_header_paint.triangle): Nová metoda.
	(_InputFieldCellEditor.BeginEdit): Nezkou¹ej
	`control.SetInsertionPoint()'
	(ListForm._create_grid): Nastav callback `wx.EVT_PAINT' na
	`self._on_column_header_paint()'.
	(ListForm._ListTable.column_id): Nová metoda.
	(ListForm._ListTable.column_label): Nová metoda.
	(ListForm._SELECTION_CALLBACK_DALAY): Pøejmenováno na
	`_SELECTION_CALLBACK_DELAY'.
	(ListForm._select_cell): `_SELECTION_CALLBACK_DALAY' ->
	`_SELECTION_CALLBACK_DELAY'
	(ListForm._post_selection_hook): Nová metoda.
	(ListForm._on_idle): Volej ji.

2005-05-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (cb_computer): Aktualizace docstringu.
	(cb2colvalue): Aktualizace docstringu.
	(cb2strvalue): V assertu testuj `enumerator', ne typ.
	(run_cb): `CodeBook' -> `CodebookForm'.

2005-05-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (DEFAULT_COMMAND_KEYS): Pøehozeny klávesy
	pøíkazù `Application.COMMAND_NEXT_FORM' a
	`Application.COMMAND_PREV_FORM'.

	* lib/pytis/form/application.py (Application.OnInit): Pøehozeno poøadí
	pøíkazù v menu oken.
	(Application._add_window_menu_item)
	(Application._remove_window_menu_item)
	(Application._check_window_menu_item): Metody zru¹eny.
	(Application._update_window_menu): Nová metoda.
	(Application.run_form): Namísto `self._add_window_menu_item()'
	pou¾ívej `self._update_window_menu()'.
	(Application.leave_form): Namísto `self._remove_window_menu_item()'
	pou¾ívej `self._update_window_menu()'.
	(Application.restore): Namísto `self._check_window_menu_item()'
	pou¾ívej `self._update_window_menu()'.
	(Application.on_ui_event): Opravena podmínka pro `UI_OPENED_WINDOW'.

	* lib/pytis/output/resolver.py (OutputResolver.output_parameter):
	Pøebírej klíèové argumenty a pøedávej je metodì `get()'.

	* lib/pytis/form/inputfield.py (CodebookField._on_invoke_selection):
	Hodnotu argumentu `select_row' pøedávej jako tuple.

	* lib/pytis/data/_test.py (Module): Nastav implicitní kódování na
	'iso-8859-2' voláním `sys.setdefaultencoding()'.
	(Color): Nový test.
	(Enumeration): Zru¹eno.
	(Enumerator): Pøejmenováno na `DataEnumerator'.
	(DataEnumerator.test_get): Nový test.
	(FixedEnumerator): Nový test.
	(Sequence): Zru¹eno.
	(Date.test_validation): Netestuj dvouciferný rok jako validní hodnotu.
	(Boolean.test_values): Zru¹eno.

	* lib/pytis/data/types_.py (Type.__cmp__): Porovnávej
	`self._enumerator', nikoliv `self._enumeration'.
	(Color._VALIDATION_REGEX): Oprava.

	* lib/pytis/util/util.py (direct_public_members): Testuj tøídu pomocí
	`isinstance()' Pou¾ívej "list comprehension" namísto `map()' a
	`filter()'.
	(XStack.__init__): Vyu¾ívej `super()' k volání pøedka.
	(XStack.push): Pøidávej prvek za právì aktivní prvek, ne na konec.
	(XStack.pop): Vyu¾ívej `super()' k volání pøedka.
	(XStack.remove): Aktivuj následující, resp. pøedchozí prvek, ne
	vrcholový prvek.

	* lib/pytis/util/test.py (prefix_test): Pou¾ívej "list comprehension"
	namísto `map()' a `filter()'.

	* lib/pytis/presentation/spec.py (CodebookSpec.__init__): Oprava chyby.

2005-05-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (help_window): Opraveno zpracování
	argumentù.

2005-05-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (CodebookSpec): Nová tøída.
	(CodeBookSpec): Buï potomkem `CodebookSpec'.
	(FieldSpec.__init__): Aktualizace docstringu.
	(FieldSpec.__init__): Nový argument `display_size'.
	(FieldSpec.display_size): Nová metoda.
	(FieldSpec.__init__): Povol také øetìzec jako argument `codebook'.

	* lib/pytis/form/dialog.py (RunFormDialog._CODEBOOK_FORM) 
	(RunFormDialog.__init__): `CodeBook' -> `CodebookForm'.

	* lib/pytis/form/list.py (_on_incremental_search): Zapomeò na typ
	`pytis.data.Codebook'.
	(CodeBook): Pøejmenováno na `CodebookForm'.
	(CodebookForm.__init__, CodebookForm._init_attributes) 
	(CodebookForm.on_command): `CodeBook' -> `CodebookForm'.

	* lib/pytis/form/inputfield.py (CodeBookField): Pøejmenováno na
	`CodebookField'.
	(InputField.create): `CodeBookField' ->	`CodebookField'.
	(InputField._init_ctrl): Kosmetické úpravy.
	(EnumerationField): Aktualizace docstringu.
	(Invocable): Aktualizace docstringu.
	(CodebookField): Aktualizace docstringu.
	(CodebookField._create_widget): Specifikaci èíselníku získávej
	pøes resolver zde, pokud je self.spec().codebook() øetìzec.  Ulo¾
	ji do `self._cb_spec' a název do `self._cb_name'.
	(CodebookField._on_invoke_selection): Pou¾ívej `self._cb_spec'.
	(CodebookField._validation_error_handler): Pou¾ívej
	`self._cb_spec' a `self._cb_name'.
	(CodebookField._on_invoke_selection): `CodeBook' -> `CodebookForm'.

2005-05-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm.print_menu): Odstranìno.

2005-05-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.leave_form): Neloguj
	ukonèení dialogu.

	* lib/pytis/form/screen.py (wx_text_view): Drobná oprava.

2005-05-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (cfg_param, cb2colvalue): Namísto
	typu `Codebook' pracuj s enumerátorem.

	* lib/pytis/extensions/types.py (CodebookNull) 
	(ValueColumnCodebook, ValidityColumnCodebook): Zru¹eno.

2005-05-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (help_window): Pou¾ij 'InfoWindow'.
	(menu_report): Pou¾ij 'InfoWindow'.

2005-05-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (wx_text_view): Odhaduj velikost okna i pro
	WIKI formát ze zdrojového textu.

	* lib/pytis/data/__init__.py: Neimportuj `xtypes'.  Aktualizuj jmenný
	prostor modulu `types_'.

	* lib/pytis/data/_test.py (Boolean.test_values): Oèekávej vnitøní
	hodnoty, nikoli u¾ivatelské. 
	(Boolean.test_noncmp): Porovnávej s typem `String', ne `Enumeration'.
	(Codebook): Zru¹eno.
	(Enumerator): Nový test.

	* lib/pytis/data/types_.py (Type.VM_NULL_VALUE): Nová konstanta.
	(Type._VALIDATION_MESSAGES): Pøidána zpráva pro `VM_NULL_VALUE'.
	(Type.__init__): Nový argument `enumerator'.
	(Type._complete): Zru¹eno.
	(Type.__cmp__): Porovnávej také enumerátory.
	(Type.__getattr__): Nevolej `self._complete()'.
	(Type._check_constraints): Pokud je value None a typ není "NOT
	NULL", vracej True bez dal¹ích kontrol.  Pokud je definován
	enumerátor, kontroluj hodnotu jeho prostøednictvím.
	(Type.enumerator): Nová metoda.
	(Type.constraints): Zru¹eno.
	(MutableType): Tøída zru¹ena.
	(Enumeration): Tøída zru¹ena.
	(Boolean): Buï rovnou potomkem `Type' s vyu¾itím `enumerator'.
	(FixedEnumeration): Tøída zru¹ena.
	(Enumerator, FixedEnumerator, MutableEnumerator, DataEnumerator): Nové tøídy.
	(Sequence): Tøída zru¹ena.
	(_Value.__cmp__): Pokud dojde na porovnávání hodnot, pou¾ij
	`cmp()', ne `compare_objects()'.
	(Boolean.__init__): Pøedávej argument `not_null'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_codebook_cache):
	Zru¹eno.
	(DBDataPostgreSQL._pg_query): Nevytváøej `_pg_codebook_cache'.
	(DBDataPostgreSQL._pg_create_make_row_template): Odstranìno
	zpracování typù `Codebook' a `Sequence'.  `DateTime' a `Time'
	zpracovávej spoleènì.  Neøe¹ `icount', je nyní v¾dy 1.
	(DBDataPostgreSQL._pg_validate_codebook): Metoda zru¹ena.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Neoèekávej `icount'
	v `self._pg_make_row_template'.  Zapomeò na typy typy `Codebook' a
	`Sequence'.  `DateTime' a `Time' zpracovávej spoleènì.
	(DBDataPostgreSQL._pg_value): Namísto `Enumeration' pracuj s `Boolean'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Zru¹eny v¹echny hacky se zpracováním `Codebook' a `Sequence'.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Zapomeò na typy typ `Codebook'.

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Pracuj s enumerátorem, ne pøímo s typem.
	(PresentedRow.__str__): Volej metodu pøedka, pokud je¹tì
	neexistuje `self._row'.
	(PresentedRow._recompute_codebook_runtime_filter): Pracuj s
	enumerátorem, ne pøímo s typem.

	* lib/pytis/form/inputfield.py (InputField.create): Èíselníková
	políèka rozpoznávej podle enumerátoru, ne podle typu.
	(EnumerationField._values): Pracuj s enumerátorem.
	(EnumerationField._set_value, EnumerationField.get_value): Zru¹en
	neaktuální docstring.
	(ListBoxField._create_ctrl): Kosmetické úpravy.
	(CodeBookField._on_change_hook):
	(CodeBookField._on_invoke_selection): Zru¹en hack s validací podle
	typu sloupce èíselníku.  Pracuj s enumerátorem.  Nepou¾ívej
	`returned_column'.
	(CodeBookField._validation_error_handler): Validuj typ pøímo, ne
	pøes sloupce èíselníku.
	(CodeBookField._validation_error_handler): Nepou¾ívej
	`returned_column'.

	* lib/pytis/form/list.py (CodeBook.__init__): O¹etøuj Double-click
	voláním `_on_activation()'.
	(CodeBook._init_attributes, CodeBook._init_attributes): Argument
	`ctype' nahrazen argumentem `condition'.
	(BrowseForm._context_menu): Kosmetické úpravy.

	* lib/pytis/form/application.py (Application.run_form): Po uzavøení
	formuláøe volej `busy_cursor(False)'.
	(Application.run_dialog): Po uzavøení dialogu volej
	`busy_cursor(False)'.

	* lib/pytis/data/xtypes.py: Removed.

	* lib/pytis/data/data.py (MemData.select): `cond' není nikdy None.
	Vracej poèet nalezených øádek.

2005-05-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (Form.print_menu): Zohledni vrácení 'None' z
	'print_spec'. 

2005-05-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (menu_report): Upraveno pro
	'report' a 'report_format'. Doplnìn odskok zpìt na menu.
	(check_form): Upraveno pro 'report' a 'report_format'.
	(check_defs): Upraveno pro 'report' a 'report_format'.
	(help_window): Nová funkce.

2005-05-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/util/configuration.py (Configuration._Option_doc_dir):
	Nová konfiguraèní volba.

2005-05-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (wx_text_view): Pou¾ívej `lcg.WikiNode', ne
	pøímo `lcg.wiki.Parser'.
	(wx_text_view): Výstup Wiki parseru také obaluj HTML kódem.

	* lib/pytis/form/dialog.py (GenericDialog._create_dialog_elements):
	Vkládej report do sizeru bez okrajù.

2005-05-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/spec.py (TextFormat.PLAIN): Nová tøída.

	* lib/pytis/form/screen.py (wx_text_view): Nová funkce.
	(InfoWindow._create_content): Vyu¾ívej ji.
	(wx_html_view): Nová funkce.
	(HtmlWindow._create_content): Vyu¾ívej ji.
	(InfoWindow.__init__): Nepøedáven argument `title' volání
	`_create_content()'.
	(InfoWindow.__init__): Nový argument `format'.  Vytváøej widget
	pøímo zde voláním `wx_text_view()'.  Pøidány asserty na typy arguemntù.
	(InfoWindow._create_content): Metoda zru¹ena.
	(HtmlWindow): Tøída zru¹ena.
	(wx_html_view): Funkce zru¹ena.
	(wx_text_view): Nový argument `format'.  Vytváøej odpovídající
	widget podle tohoto argumentu.

	* lib/pytis/form/dialog.py (GenericDialog.__init__): Nové arguemnty
	`report' a `html'.
	(GenericDialog._create_dialog): Pokud byl specifikován `report',
	pøidej do dialogu pøíslu¹ná prvek.
	(Message.__init__, MultiQuestion.__init__, Question.__init__):
	Nové arguemnty `report' a `html'.
	(GenericDialog.__init__): Argument 'html' nahrazen argumentem
	'report_format'.
	(GenericDialog._create_dialog_elements): Pøedávaj `report_format'
	volání `wx_text_view()'.  Nepou¾ívej ji¾ `wx_html_view()'.
	(Message.__init__, MultiQuestion.__init__, Question.__init__):
	Argument 'html' nahrazen argumentem 'report_format'.

	* lib/pytis/util/log.py (SyslogLogger.FACILITY_LOCAL0) 
	(SyslogLogger.FACILITY_LOCAL1, SyslogLogger.FACILITY_LOCAL2)
	(SyslogLogger.FACILITY_LOCAL3, SyslogLogger.FACILITY_LOCAL4)
	(SyslogLogger.FACILITY_LOCAL5, SyslogLogger.FACILITY_LOCAL6)
	(SyslogLogger.FACILITY_LOCAL7): Nové konstanty.
	(SyslogLogger.__init__): Pøidán assert na hodnotu `facility'.
	
2005-05-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._commit_form): Cleanup provádìj
	pouze pokud projde 'check'.

2005-05-10  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (constraints_email): Doplnìn re
	výraz. Povoluje výskyt èíslic a znakù "-", "_" v emailu.

2005-05-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (Module): V¹echna volání `log(DEBUG, ...)'
	uvozena podmínkou `if __debug__: ...'.

	* lib/pytis/form/list.py (Module): V¹echna volání `log(DEBUG, ...)'
	uvozena podmínkou `if __debug__: ...'.

	* lib/pytis/form/screen.py (Module): V¹echna volání `log(DEBUG, ...)'
	uvozena podmínkou `if __debug__: ...'.

	* lib/pytis/form/output.py (Module): V¹echna volání `log(DEBUG, ...)'
	uvozena podmínkou `if __debug__: ...'.

	* lib/pytis/remote/data.py (_DataChangesWatcher._watcher)
	(_DataChangesWatcher.register_callback)
	(_DataChangesWatcher.unregister_callback): Volání 
	`log(DEBUG, ...)'  uvozeno podmínkou `if __debug__: ...'.

	* lib/pytis/util/util.py (copy_stream): Volání
	`log(DEBUG, ...)'  uvozeno podmínkou `if __debug__: ...'.

	* lib/pytis/util/resolver.py (FileResolver._get_module): Odstranìna
	debug hlá¹ka.

	* lib/pytis/output/formatter.py (LoutFormatter._resolve)
	(LoutFormatter._lout, LoutFormatter._lout, LoutFormatter._lout):
	Volání `log(DEBUG, ...)'  uvozeno podmínkou `if __debug__: ...'.

	* lib/pytis/form/form.py (Form._on_parent_close): Volání
	`log(DEBUG, ...)'  uvozeno podmínkou `if __debug__: ...'.

	* lib/pytis/form/event.py (wx_callback.process_event): Volání
	`log(DEBUG, ...)'  uvozeno podmínkou `if __debug__: ...'.

	* lib/pytis/data/dbdata.py (Module): V¹echna volání `log(DEBUG, ...)'
	uvozena podmínkou `if __debug__: ...'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_application_name.default): Vracej `Pytis'.
	(Configuration._Option_log_logger.default_string): Vracej hodnotu
	korespondující s `default' hodnotou.

	* lib/pytis/form/application.py (Application.OnInit): titulek aplikace
	získávej pøímo z konfiguraèní volby `application_name', nikoliv ze
	specifikace.
	(set_status): Volání `log(DEBUG, ...)'  uvozeno podmínkou 
	`if __debug__: ...'.
	(Application.OnInit, Application.run_dialog): Zmìnìna logovací
	priorita.

	* lib/pytis/util/log.py (StreamLogger): Buï potomkem `object'.
	(StreamLogger.__init__): Pou¾ívej `super()'.
	(SyslogLogger._prefix): Loguj také jméno u¾ivatele.
	(LoggingInterface.__call__): Kosmetické úpravy.
	(SyslogLogger.__init__): Nová metoda.
	(SyslogLogger._send): Zakóduj pøedanou `facility' do `priority'.

2005-05-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/misc.py (flatten_menus): Nevracej slovníky,
	pouze linearizuj polo¾ky.
	(get_menu_defs): Pracuj pøímo s polo¾kami menu vrácenými funkcí
	`flatten_menu()'.
	(menu_report): Nepou¾ívej `flatten_menus()'.  Vytváøej
	hierarchický seznam v HTML.  Prolinkuj defsy s informacemi o
	právech.  Pou¾ívej `HtmlWindow'.
	(check_form): Pou¾ivej `InfoWindow' namísto `InputDialog'.
	(check_defs): Pou¾ivej `InfoWindow' namísto `InputDialog'.
	(cache_spec): Seznam vytváøej pøedem pomocí `get_menu_defs()'.

2005-05-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (HtmlWindow, InfoWindow): Nové tøídy.

	* lib/pytis/form/application.py (Application.wx_frame): Nová metoda.
	(wx_frame): Nová funkce.

2005-05-06  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template): Doplò o testování
	instance 'Time'.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): O¹etøi typ 'Time'.

2005-05-06  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/presentation/spec.py, pytis/form/screen.py (init_colors):
	Doplnìní konstant:
        BLANCHETALMOND:(255, 235, 205),
        LIGHTYELLOW:(255, 255, 224),
        PEACHPUFF2:(238, 203, 173),
        SLATEGRAY2:(185, 211, 238),
        LIGHTSALMON:(255, 160, 122)	

2005-05-05  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (dbselect): Doplnìna mo¾nost zadat
	název specifikace (pøedtím jen instanci 'DataFactory').
	(flatten_menus.flatten): Do slovníku ukládej pro 'form' pøímo
	'form_class'. 
	(get_menu_defs): Nová funkce.
	(menu_report): Testuj duální formuláøe podle pøedané 'form_class'.
	(check_form): Doplnìno '*args' a '**kwargs'.
	(check_defs): Doplnìno '*args' a '**kwargs'.
	(check_defs.check_spec): Pøepsáno. Testuje se i vytváøení
	'PresentedRow'. Upraven vzhled ProgressBaru.
	(check_all_defs): Odstranìno.
	(check_menus_defs): Vyu¾ívej 'get_menu_defs'.
	(cache_spec): Doplnìno '*args' a '**kwargs'.
	(cache_spec.do): Cachuj i defsy získané z VARIANTS.

2005-05-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec.make): Pøenech vytváøení
	èíselníkù datovému rozhraní, pouze pøedávej argumenty.
	(Column.__init__): Zdokumentovány podrobnosti o pøedávání
	argumentù datovým typùm.  Pøidány dal¹í asserty na integritu argumentù.

2005-05-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/xtypes.py (Codebook.validity_condition): Povol None,
	jako hodnotu vrácenou providerem.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Nový
	argument `type_kwargs'.  Pøedávej jej volání
	`self._pdbb_get_type()'
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Nový argument
	`type_kwargs'.  Nech» je argument `ctype' nepovninný.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Nepodporuj ji¾ specifikaci typu ani enumerátoru obsahující tuple.
	Pøedávej klíèové argumenty z DBColumnBinding do volání
	`self._pdbb_get_table_type()' a konstruktorùm typù.
	(DBBinding.__init__): Pøidán assert na typ argumentu `id'.
	(DBColumnBinding.__init__): Nový argument `**kwargs'.
	Zdokumentovány zmìny v chápání argumentù `enumerator' a `type_'.
	Pøidány asserty an datové typy v¹ech arguemntù.
	(DBColumnBinding.kwargs): Nová metoda. 

2005-05-04  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (cache_spec): Cachování specifikací
	pøi startu; provádí se podle specifikací v menu.

2005-05-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/spec.py (DataSpec.__init__): Nový argument `oid'.
	(DataSpec.make): Pøidávej OID sloupce v závislosti na jeho hodnotì.

2005-05-04  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/extensions/misc.py (constraints_email,
	constraints_email_many): Kontroluje
	string podle re výrazu. Pokud odpovídá nebo je None funkce vrací
	None. Jinak vrací string s chybovou hlá¹kou. 

2005-05-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (flatten_menus): Nová funkce.
	(menu_report): Nová funkce.
	(check_form): Nová funkce.
	(check_defs): Nová funkce.
	(check_all_defs): Nová funkce.
	(check_menus_defs): Nová funkce.

2005-05-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	`begin_search' condition fixed.

	* lib/pytis/form/list.py (CodeBook._on_idle): `begin_search' handling
	simplified.  Report invalid `begin_search' argument.

	* lib/pytis/form/search.py: Import everything from `pytis.presentation'.

2005-04-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/extensions/types.py: `lib.*' nahrazeno `pytis.*'.

	* lib/pytis/extensions/spec.py: `lib.*' nahrazeno `pytis.*'.

	* lib/pytis/extensions/misc.py: `lib.*' nahrazeno `pytis.*'.

2005-04-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (cb2colvalue): Pro validaci pou¾ij
	exportovanou (stringovou) podobu pøedaného 'value'.
	(run_cb): Doplnìny argumenty 'columns' a 'returned_column'

2005-04-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.get): Pokud je v názvu modulu
	dvojteèka, pova¾uj za název modulu pouze èást pøed dvojteèkou a co
	je za ní pøedej jako argument `variant'.

2005-04-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/extensions/misc.py (run_cb): Nová funkce.
	(row_update): Nová funkce.

2005-04-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (Type.validate): Doplnìn komentáø.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Kosmetické úpravy.

	* lib/pytis/form/inputfield.py
	(CodeBookField._validation_error_handler): Pøedpokládej jedinou
	hodnotu v 'returned_column'.

2005-04-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (CodeBook._init_attributes): Zru¹eny argumenty
	'returned_column' a 'returned_columns'.
	(CodeBook._on_activation): Vracej instanci 'PresentedRow' pro
	aktuální øádek.

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Zohledni, ¾e vyvolaný Codeboook vrací 'PresentedRow'.

	* lib/pytis/data/data.py (DataFactory.create): Cachování objektù zatím
	nelze pou¾ít, proto¾e nará¾íme na problém udr¾ovaných konexí.

2005-04-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/__init__.py: Importuj `spec'.  O¹etøi cyklické
	závislosti.

	* lib/pytis/presentation/field.py Importuj lib.data a v¹e z lib.util.
	(Editable, SelectionType)
	(Orientation, Color, FieldStyle, PostProcess, TextFilter)
	(Computer, CodeBookSpec, RefSpec, Editable)
	(SelectionType, Orientation, Color, FieldStyle, PostProcess)
	(FIELD_STYLE_EMPHASIS, FIELD_STYLE_WARNING, FIELD_STYLE_DEFAULT)
	(TextFilter, Computer, CodeBookSpec, RefSpec, FieldSpec):
	Everything moved to the `spec' module.
	(PresentedRow.format): Odstranìn hack exportem codebookù, které
	mají runtime condition.
	(PresentedRow.format): Odchytávej výjimky pøi exportu vypoèítané
	hodnoty.  Odmítej víceprvkové hodnoty.

	* lib/pytis/presentation/spec.py: New module.

	* lib/pytis/form/__init__.py (list): Don't import `spec'.

	* lib/pytis/form/spec.py: Moved to `lib.presentation'.

	* lib/pytis/form/search.py (SFDialog._selected_condition): Validuj
	boolean hodnoty s argumentem `extended', nikoliv `strict'.
	Odstranìn hack na validaci codebookù.

	* lib/pytis/form/list.py (ListForm._on_line_commit): Nezískávej
	view_spec pøes resolver, ale pou¾ij `self._view'.
	(CodeBook._init_attributes): Nový argument 'returned_column'.
	(CodeBook._on_activation): Pracuj s 'self._returned_column'.
	(CodeBook): Odstranìna zakomentovaná metoda `select_row()'.
	(BrowseForm._redirected_name): Pøidán assert na typ vrácené
	hodnoty.  Pokud není funkce definována, vracej None.

	* lib/pytis/form/inputfield.py (InputField.create): Namísto typu
	`_Codebook' pracuj s `Codebook'.  Vytváøej v¾dy jen jeden control
	voláním metody `self._create_ctrl()'.  Namísto
	`self._init_controls()' volej `self._init_ctrl()'.
	(InputField._init_controls): Pøejmenováno na `_init_ctrl()'.
	Zru¹en cyklus -- máme jen jeden control.
	(InputField._create_controls): Pøejmenováno na `_create_ctrl()'.
	(InputField._create_widget): Netrap se s pakováním controls, máme
	jen jeden.
	(InputField.show_popup_menu, InputField._enable_event_handlers)
	(InputField._disable_event_handlers)
	(InputField._register_skip_navigation_callback)
	(InputField._unregister_skip_navigation_callback)
	(InputField._alive): Pracuj se `self._ctrl' namísto
	`self._controls'.
	(InputField._enable, InputField._disable InputField._set_focus):
	Implementováno implicitní chování.
	(GenericField): Tøída zru¹ena.
	(TextField): Odvozeno z `InputField', ne 'GenericField'.
	(TextField._create_controls, TextField._create_text_control):
	Zru¹eno.
	(TextField._text_control_style): Pøejmenováno na `_style()'.
	(TextField._create_ctrl): Nová metoda.
	(TextField._on_kill_focus): Zru¹eno.
	(TextField._filter_func): Pøejmenováno na `_filter()'.
	(TextField.get_value, TextField._enable, TextField._disable)
	(TextField._disable.call_on_idle, TextField._set_value): Pracuj se
	`self._ctrl' namísto `self._controls'.
	(NumericField._text_conterol_style): Pøejmenováno na `_style()'.
	(CheckBoxField): Odvozeno z `InputField', ne 'GenericField'.
	(CheckBoxField._create_controls, ChoiceField._create_controls)
	(RadioBoxField._create_controls, ListBoxField._create_controls)
	(ListField._create_controls): Pøejmenováno na `_create_ctrl()'.
	(CheckBoxField.get_value, CheckBoxField._set_value): Pracuj se
	`self._ctrl' namísto `self._controls'.
	(EnumerationField): Odvozeno z `InputField', ne 'GenericField'.
	(EnumerationField._values): Namísto typu `_Codebook' pracuj s
	`Codebook'.
	(EnumerationField.get_value): Zru¹eno v¹e týkající se
	MultiCodebook.
	(Invocable._INVOKE_SELECTION_MENU_TITLE)
	(ColorSelectionField._INVOKE_SELECTION_MENU_TITLE)
	(CodeBookField._INVOKE_SELECTION_MENU_TITLE)
	(Invocable._INVOKE_SELECTION_MENU_TITLE): Nová konstanta.
	(Invocable._create_widget, CodeBookField._create_widget): Pracuj
	se `self._ctrl' namísto `self._controls'.
	(Invocable._menu): Nová metoda.
	(ColorSelectionField._menu, CodeBookField._menu): Zru¹eno.
	(InlineMultiTextField, MultiTextField): Zru¹eno.
	(CodeBookField): Odvozeno z `TextField;, nikoliv `MultiTextField'.
	(CodeBookField._menu): Vyu¾ívej `_menu()' pøedka.
	(CodeBookField._number_of_fields): Zru¹eno.
	(CodeBookField._on_change_hook): Vyu¾ívej `Codebook.export()'
	namísto `Codebook.data_value()'.
	(CodeBookField._set_value): Zru¹eno
	(CodeBookField._on_invoke_selection): Výraznì pøepsáno pro pou¾ití
	s novými Codebooky.
	(CodeBookField._validation_error_handler): Pracuj s hodnotou jako
	s øetìzcem, ne tuplem.  Pou¾ívej `CodeBookSpec.returned_column()'
	(HiddenField, ListField): Odvozeno z `InputField', nikoliv
	`GenericField'.
	(ListField._create_controls): Pøejmenováno na `_create_ctrl()'.
	(ListField._menu): Pou¾ívej `RefSpec.returned_column()'.

	* lib/pytis/data/xtypes.py (_Codebook): Pøejmenováno na `Codebook'.
	(Codebook): Aktualizace docstringu.
	(Codebook.VM_PARTIAL_VALIDATION): Zru¹eno.
	(Codebook._SPECIAL_VALUES): Nová konstanta.
	(Codebook.__init__): Zru¹eny argumenty `value_columns' a `strict'.
	Nové argumenty `value_column', `not_null', `use_key'.  Zru¹eno v¹e
	kolem MultiCodebookù.
	(Codebook.value_columns, Codebook.number_of_columns): Zru¹eno.
	(Codebook.maxlen): Zru¹eno v¹e kolem MultiCodebookù.
	(Codebook.strict): Zru¹eno.
	(Codebook._validate_retrieve, Codebook._value_retrieve): Zru¹eno.
	(Codebook._retrieve): Zru¹en argument `strict'.  Zjednodu¹eno.
	(Codebook._row_values, Codebook.values): Zru¹eno.
	(Codebook._validate): Zru¹en argument `strict'.  Kompletnì
	pøepsáno.
	(Codebook.wm_validate): Zru¹eno.
	(Codebook._export): Zru¹en argument `strict'.  Kompletnì pøepsáno.
	(Codebook.data_value): Pou¾ívej `self._retrieve()' namísto
	`self._value_retrieve()'.
	(SingleCodebook, MultiCodebook): Zru¹eno.

	* lib/pytis/data/types_.py (Type.VM_NULL_VALUE): Nová zpráva.
	(Type._VALIDATION_MESSAGES): Pøidáno `VM_NULL_VALUE'.
	(Type.__init__): Nový argument `not_null'.
	(Type.__cmp__): Porovnávej také `self._not_null'.
	(Type.validate): Nový argument `strict'.  Neu¹etøuj TypeError pøi
	výbìru z cache.  To by mìlo být provádìno cache samotnou.  Pøidej
	`strict' jako souèást klíèe chache.
	(Type._validating_provider): Získávej z klíèe také hodnotu
	`strict'.  Kontroluj `constraints' pouze pokud je strict pravdivé.
	(Type.wm_validate): Pou¾ívej kontrolu typu namísto
	`is_anystring()'.
	(Type._check_constraints): Kontroluj také `not_null'.
	(Type.not_null): Nová metoda.
	(Type.default_value): Vracej pøímo `Value(self, None).
	(Integer._validate, Float._validate): Pou¾ívej kontrolu typu
	namísto `is_anystring()'.
	(String._validate_maxlen): Pøejmenováno na `_check_maxlen()'
	(String._check_constraints): `_validate_maxlen' ->
	`_check_maxlen'.
	(String._validate, String._export, DateTime.__init__)
	(Boolean._validate): Pou¾ívej kontrolu typu namísto
	`is_anystring()'.
	(DateTime._check_format): Nová metoda.
	(Date._validate): Kontroluj, zda je èas nulový.
	(FixedEnumeration.default_value): Pou¾ívej `super()' namísto
	`super_()'.
	(Boolean._validate): Argument `strict' pøejmenován na `extended'.
	(Value._init): Opraven nefunkèní nebezpeèný hack s 

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template): Namísto typu
	`_Codebook' pracuj s `Codebook'.  Zru¹eno v¹e, co se týká
	MultiCodebookù.
	(DBDataPostgreSQL._pg_validate_codebook): Zru¹eno v¹e, co se týká
	MultiCodebookù.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Zru¹eno v¹e, co se
	týká MultiCodebookù.  Provádìj v¾dy pouze nestriktní validaci
	naètených dat.
	(DBDataPostgreSQL._pg_value): Zru¹eno v¹e, co se týká
	MultiCodebookù.
	(_validate_not_null): Zru¹eno.
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Vyu¾ívej pøímo
	asgument 'not_null', namísto obecného 'constraints'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Namísto typu `_Codebook', `SingleCodebook' a `MultiCodebook'
	pracuj v¾dy s `Codebook'.  Nepøedávej `constraints', jen
	`not_null'
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Namísto
	typu `_Codebook' pracuj s `Codebook'. `_Codebook.value_columns()'
	-> `Codebook.value_columns()'.
	(PostgreSQLUserGroups._pgg_retrieve_access_groups): O¹etøi pøípad
	prázdné mno¾iny skoupin.

	* lib/pytis/data/data.py (MemData.__init__): Nový argument 'data'.
	(MemData._condition2pyfunc): Nová metoda.
	(MemData.select): Vytvoø data selectu odpovídající podmínce.
	(MemData.close): Vyprázdni data selectu.
	(MemData._mem_find_index): Pou¾ívej data selectu.

	* lib/pytis/data/_test.py: V¹echny testovací metody pøejmenovány z
	'check_*' na 'test_*'.
	(_TypeCheck._test_validity): Vupisuj stringovou reprezentaci
	hodnoty v assertu.
	(Date.test_validation): Testuj, zda dvouciferný letopoèet skuteènì
	neprojde.
	(Codebook.setUp): Pøedávej data konstruktoru tøídy 'MemData'.
	(Codebook._test_validate): Nová metoda.
	(Codebook.test_validate): Vyu¾ívej ji.
	(Codebook.test_validate_invalid): Nová metoda.
	(Codebook.test_validity_column): Nová metoda.
	(Codebook.test_export): Pøidány nové testy.
	(Codebook.test_export_column): Nová metoda.
	(tests): Pøidej tøídu 'Codebook'.

2005-04-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (db_operation): Pokud je definována také
	obalená databázová výjimka, vypi¹ jí do dialogu.

2005-04-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (Calendar.__init__): Do styly pøidán flag pro
	zobrazení sousedních týdnù.
	(Calendar._create_content): Roz¹iø dialog natvrdo o 150 pixelù.

	* lib/pytis/data/types_.py (DateTime.__init__): Inicializuj
	`self._check_matcher'.
	(DateTime._check_format): Namísto metání výjimky vracej pravdu èi
	nepravdu.
	(DateTime._validate): Testuj návratovou hodnotu
	`self._check_format()'.

2005-04-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/data.py (DataFactory.__init__): Implementována cache
	pro datové objekty.
	(DataFactory._data_object_cache): Nová statická metoda.

2005-04-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/types_.py (DateTime._check_format): Nová metoda.
	(DateTime._validate): Vyu¾ívej ji.  Namísto `is_anystring()'
	rovnou porovnávej tøídu datového typu.

2005-04-20  Tomas Cerha  <cerha@brailcom.org>

	* config/config.py: Odstranìn import * z `lib.util'.

2005-04-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._validate): Kontrolu zmìny provádìj
	pomocí 'f.is_modified'.

2005-04-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.last_select_condition_sql):
	Nová metoda.

	* lib/pytis/form/form.py (EditForm._validate): Pro 'insert' provádìj
	validaci v¾dy.

2005-04-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (Form.__init__): Pøedávej klíèové argumenty
	'spec_args' do 'self._create_view_spec' a
	'self._create_data_object'. 
	(Form._init_attributes): Zru¹en assert a pøejímej pouze 'spec_args'.
	(Form._create_view_spec): Pøedávej '**kwargs' resolveru.
	(Form._create_data_object): Pøedávej '**kwargs' resolveru.

2005-04-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Provádìj refresh
	je¹tì pøed focusem.
	(Application.new_record): Provádìj zde refresh horního formuláøe
	aplikace.

	* lib/pytis/form/list.py (BrowseForm._on_edit_record): Provádìj refresh
	jen pokud je provìdìna u¾ivatelská proceduda `on_edit_record' z view.
	(BrowseForm._on_new_record): Neprovádìj refresh.
	

2005-03-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application.run_procedure):
	O¹etøení ztráty focusu.

2005-03-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_export_csv): Provádìj export, jen kdy¾
	jsou k tomu práva.

	* lib/pytis/data/access.py: Nová konstanta 'Permission.EXPORT'.	

2005-02-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Filtrování provádìj a¾ po nastavení prefillu.

2005-02-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/xtypes.py (_Codebook.data_value): Pøi získávání
	data_value pou¾ívej 'strict=True'.

2005-02-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/xtypes.py (_Codebook._retrieve): Neprovádìj databázový
	select, pokud není nastaveno 'strict'.

	* lib/pytis/presentation/field.py (PresentedRow.field_changed): O¹etøi
	výskyt 'key' v datovém øádku.

	* lib/pytis/data/xtypes.py (_Codebook._export): Nepou¾ívej 'strict'.

2005-02-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow.field_changed): Nová metoda.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Pøidán argument
	'description'.
	(ViewSpec.description): Nová metoda.

	* lib/pytis/form/list.py (_create_form_parts): Zohledni argument
	'description'.

	* lib/pytis/form/form.py (Form.__init__): Oprava pøeklepu.
	(TitledForm._create_title_bar): Doplnìn argument
	'description'.
	(EditForm._validate): Validuj jen zmìnìná políèka.

2005-02-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow._init_row.genval):
	O¹etøi pøedání instance 'Value' v 'prefill' pro Codebooky.

	* lib/pytis/data/dbdata.py (DBData.table): Nová metoda.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Hodnotu
	pro 'side_binding_column' ber z metody 'export'.

2005-02-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_export_csv._process_table): Upraveno s
	pou¾itím 'ProgressDialog'.	
	(_filter): Zakomentováno nepou¾ívané roz¹íøení podmínky.
	(_on_insert_line): Pøedávej do 'prefill' instance 'Value'.

2005-02-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (GenericDialog.focus): Doplnìna metoda 'focus'.

	* lib/pytis/form/search.py (SFDialog._selected_condition):
	Zohledni 'non-strict' validaci pro codebooky.

2005-02-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Do 'prefill' pøedávej instanci 'Value' odpovídající typu
	v 'SideForm'.

2005-02-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Do
	'prefill' pøedávej instanci 'Value'.

2005-01-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (InputDialog._create_content) 
	(InputDialog.__init__): Pøidán argument 'input_height'.
	(InputDialog._create_content): Zohlednìno pøidání 'input_height'.

2005-01-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._pack_fields): Oprava zapomenutého style.

2005-01-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py
	(EditForm._create_group.create_handler._handler):
	Pokud handler vrací 'True' zajisti refresh formuláøe.
	(EditForm._create_button): Nová metoda.
	(EditForm._create_group): 'Button' pøidávej do 'pack' a zpracuj
	metodou '_pack_fields'.
	(EditForm._pack_fields): Argument 'fields' pøejmenován na 'items'.
	Zohledni 'field' a 'Button'.
	(EditForm._create_button.create_handler._handler): Refresh
	formuláøe provádìj v¾dy.

2005-01-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_group.create_handler): Nová funkce.
	(EditForm._create_group): Vyu¾ívej ji.

2005-01-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (InputNumeric): Nová tøída.

2005-01-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql):
	Zohlednìna zmìna v pou¾ívání ValueCodeBookù.

2005-01-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/screen.py (microsleep): Místo 'wx.Usleep' pou¾ívej 'wx.Microsleep'.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm._on_idle):
	Úprava microsleep.

	* lib/pytis/form/list.py (_on_idle): Úprava microsleep.

	* lib/pytis/form/search.py (SortingDialog._create_content): O¹etøi
	pøípad tøídìní podle "neviditelného" sloupce.

2004-12-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_select_cell): Oprava reakce na 'HOME' a 'END'.

2005-01-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (_update_selection_colors): Nastavuj barvy
	popøedí a pozadí pouze pokud nejsou None.
	(ListForm.Show): Nový klíèový argument `refresh'.  Provádìj refresh jen
	pokud je pravdivý.

	* lib/pytis/form/dualform.py: Buï potomkem `PostponedSelectionDualForm'.
	(DescriptiveDualForm._do_selection): Volej `ListForm.Show()' s
	`refresh=False'.

2004-12-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Pøed vyhledáním pøedvyplnìné hodnoty zvaliduj typy `value_columns'.

2004-12-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._validate): Provádìj `check()' jen
	není-li None.

2004-12-21  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._validate): Oprava nepøedaného parametru.

2004-12-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._validate): Nejprve volej `check' z
	`ViewSpec', teprve potom `PresentedRow.check()' kvùli doèasné zpìtné
	kompatibilitì.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): V dokumentaci
	oznaèen argument `check' jako potlaèený.
	(FieldSpec.__init__): Loguj pou¾ití potlaèeného argumentu `check'.
	(PresentedRow.check): Pøidáno TODO.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nový argument `check'.
	Kosmetické úpravy.
	(ViewSpec.check): Nová metoda.
	(DualSpec.__init__): Kosmetické úpravy.

2004-12-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._validate): Nepou¾ívaný argument
	`omit_read_only' zru¹en.  Zkonstruuj data a¾ po volání `check()' a
	to pøímo z row.

2004-12-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Vyhledání øádku dìlej podle `internal_columns'.

2004-12-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (IncrementalSearch.__init__): Kosmetická úprava.
	(IncrementalSearch._exit): Nakonec, pokud byl výbìr potvrzen,
	volej zde callback `CALL_SELECTION'.
	(IncrementalSearch._search): Smazán zapomenutý print.

2004-12-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_copy_cell): Pro zkopírování
	do clipboardu vyu¾ívej i utilitu 'xclip'.
	(_on_copy_cell): Pro zkopírování do clipboardu pou¾ij hack
	s vyu¾itím metody wxTextCtrl.Copy().

2004-12-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (ImmediateSelectionDualForm): Nová tøída.
	(PostponedSelectionDualForm): Nech» je odvozena
	`ImmediateSelectionDualForm'.
	(SideBrowseDualForm): Nech» je odvozena
	`ImmediateSelectionDualForm'.
	(DescriptiveDualForm): Nech» je odvozena
	`ImmediateSelectionDualForm'.

	* lib/pytis/form/list.py (ListForm._ListTable.GetAttr): Nenastavuj
	atributy, pokud se nepodaøí získat providera.
	(IncrementalSearch._search): Volej nakonec `l.select_row()' pouze
	v pøípadì nutnosti korekce vyplývající z posunutého `start_row'.
	(ListForm._on_editor_shown): Nová metoda.
	(ListForm._create_grid): O¹etøuj callback
	`wx.grid.EVT_GRID_EDITOR_SHOWN' voláním `self._on_editor_shown()'.


	* lib/pytis/form/dialog.py (ProgressDialog._run_dialog): Nech»
	aktualizaèní funkce pøijímá i klíèový argument 'newmsg' pro
	aktualizaci textu dialogu.
	(ProgressDialog.__init__): Aktualizován docstring.
	(ProgressDialog): Aktualizován docstring.
	(RepeatedOperationDialog): Nová tøída.

2004-12-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm._ListTable.GetAttr): Nastavuj
	paramerty `attr' jen pokud `attr' není None.
	(ListForm._SELECTION_CALLBACK_DALAY): Nová konstanta.
	(ListForm._CELL_SELECTION_TICK): Zru¹eno.
	(ListForm.__init__): Nevolej zde `select_row()' ani
	`MakeCellVisible()', na to je `refresh()'...
	(ListForm._init_attributes): Neinicializuj `self._changed',
	`self._cached_position', `self._cell_to_select' a
	`self._cell_selection_tick'.  Inicializuj
	`self._selection_callback_candidate' a
	`self._selection_callback_tick'.
	(ListForm._recreate_grid): Pokud je nový poèet øádkù roven nule,
	nastavuj `current_row' na -1.
	(ListForm._recreate_grid): Nestarej se o `self._cached_position',
	ani nepøenastavuj `self._position'.  Také nevolej
	`self._select_cell()', která tu bylo z neznámých dùvodù...
	Nevolej ani `self._update_selection_colors()'.
	(ListForm._set_position): Metoda zru¹ena.
	(ListForm._select_cell): Nevolej odsud `self.select_row()', ale
	opaènì.  Kód výbìru øádku pøesunut pøímo sem a `select_row()'
	nech» volá `self._selcect_cell(row=...)'.  To v¹e zejména kvùli
	respektování `self._in_select_cell', zbyteènému vícenásobnému
	volání `self._update_selection_colors()' apod.
	(ListForm._update_selection_colors): Zru¹en argument `sideform'.
	Fuj!!!  Pøekresluj selection jen pokud existuje.  K tomu v¹ak
	nepou¾ívej `self.select_row()', ale `self._grid.SelectRow()'.
	(ListForm._on_idle): Namísto zpo¾dìného volání `_select_cel()'
	provádìj pouze zpo¾dìné volání callbacku `CALL_SELECTION'.
	(ListForm._on_select_cell): Volej `self._select_cell()' rovnou.
	(ListForm.show_position): Zru¹en argument `row'.  Pou¾ívej
	`self._current_row()'.
	(ListForm._select_cell_command): Zru¹eno.
	(ListForm.on_command): Namísto `self._select_cell_command()'
	pou¾ívej `self._select_cell()'. Pøíkazy `COMMAND_FIRST_COLUMN' a
	`COMMAND_LAST_COLUMN' o¹etøuj pouze mimo editaci.
	(ListForm._on_delete_line): Nevolej self._set_position().
	(ListForm._on_line_commit): Nenastavuj `self._position'.
	(ListForm.select_row): Zru¹eno pøebírání libovolných kwargs Fuj!!!
	Zde pouze pøeveï argument na èíslo øádku a volej
	`self._select_cell()'.
	(ListForm._find_row_by_values): Nová metoda.
	(ListForm.refresh): Nenastavuj `self._changed'.  Pøenastavení
	pùvodního rádky pøepsáno.
	(CodeBook._init_attributes): Neinicializuj `self._search_cols'.
	(CodeBook.select_row): Zru¹eno.
	(BrowseForm): Zru¹en neaktuální docstring.
	(SideBrowseForm._update_selection_colors): Neovlivòuj metodu
	pøedka vlastními argumenty, ale øe¹ problém zde.

	* lib/pytis/form/dualform.py (DualForm._init_attributes): Inicializuj
	`self._active_form'.
	(DualForm._create_form): Namísto inicializace `self._active_form'
	volej `self._select_form()'
	(DualForm.on_command): Pøidán komentáø.
	(BrowseDualForm.__init__): Zru¹eno.

2004-12-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/access.py (AccessRights.permitted_groups): Nová metoda.

	* lib/pytis/form/application.py (Application.on_ui_event): O¹etøuj
	`UI_ALWAYS_DISABLED'.  Zru¹eno vyu¾ívání callable eventù.
	Kosmetické úpravy.
	(Application.UI_ALWAYS_DISABLED): Nová konstanta.

2004-12-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/output/flibdata.py (P_NAME): Nová konstanta.

	* lib/pytis/form/screen.py (MItem.__init__): Zohledni mo¾nost pøedání
	funkce v 'uievent_id'.

	* lib/pytis/form/application.py (Application.on_ui_event): O¹etøeno
	pøedání funkce.	

	* lib/pytis/data/data.py (DataFactory.access_rights): Nová metoda.

2004-11-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/util.py (stack_info): Nová funkce.

	* lib/pytis/form/screen.py (StatusBar.__init__): O¹etøen krajní pøípad
	prázdného seznamu stavových políèek.

	* lib/pytis/form/dialog.py: Importuj Pythonove `types'.
	(GenericDialog.__init__, InputDialog.__init__)
	(ColorSelector.__init__, FileDialog.__init__): Namísto
	`is_any_string()' pou¾ívej rovnou `isinstance(x,
	types.StringTypes)'
	(GenericDialog._create_dialog): Nevracej ¾ádnou hodnotu.
	(GenericDialog.run): Neoèenávaj návratovou hodnotu.
	(InputDialog.__init__): Zru¹eno pøebírání libovolných klíèových
	arguemntù pomocí `**kwargs'.  Nový klíèový argument `allow_empty'.
	Inicializuj atributy `self._allow_empty', `self._mask', a
	`self._autoformat'.
	(InputDialog._create_content): Neoperuj se zru¹eným
	`self._kwargs'.  Explicitnì pøedávej políèku argumenty
	`emptyInvalid', `mask' a `autoformat'.
	(InputDate.__init__): Metodu pøedka volej jako první.  Poté pouze
	pøenastav `self._autoformat'.  
	(ProgressDialog): Nová tøída.
	(PBOperationDialog): Zru¹eno.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm._on_idle):
	Nastavuj hodnoty `self._selection_candidate' a
	`self._selection_data' zde.  Pøedpokládej booleanovskou návratovou
	hodnotu metody `_do_selection()' a pøedávej jí argument `row'.
	(PostponedSelectionDualForm._on_main_selection): Do
	`self._selection_candidate' ukládej kopii pøedaného øádku, nikoliv
	také data.
	(PostponedSelectionDualForm._do_selection): Nový argument `row'.
	V této tøídì nedìlej vùbec nic, jen vracej `True'.
	(SideBrowseDualForm._do_selection): Nový argument `row'.  Nevolej
	metodu pøedka.  Data filtru pøebírej z pøedaného `row'.
	(DescriptiveDualForm._do_selection): Nový argument `row'.  Nevolej
	metodu pøedka.

2004-11-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (delete_record_question): Pøejmenováno z
	'delete_record'. 

	* lib/pytis/form/form.py (EditForm._edit_delete): 'delete_record'
	pøejmenováno na 'delete_record_question'.	

	* lib/pytis/form/list.py (_on_insert_line): Pro signalizace
	needitovatelnosti pou¾ívej 'message'.
	(_on_delete_line): O¹etøi pøístupová práva. Oprava refreshe.

2004-11-25  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (PBOperationDialog.__init__): Doplnìn
	argument 'step'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_cache_spec_onstart): Nová volba.

	* lib/pytis/form/dialog.py (PBOperationDialog): Nová dialogová tøída.

	* config/config.py: Pøegenerováno.

2004-11-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._init_attributes): Úprava komentáøe.	

2004-11-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (show_context_menu): Nastav polo¾kám menu
	klávesové zkratky, pokud je najde¹ v globální klívesové mapì.

	* lib/pytis/form/screen.py (MItem.set_hotkey): Nová metoda.

	* lib/pytis/form/spec.py (Button): Doplnìn docstring.
	(Button.__init__): Doplnìn docstring.  Nový argument `width'.
	(Button.width): Nová metoda.

	* lib/pytis/form/dualform.py (DualForm._create_form): Nová metoda.
	(DualForm.__init__): Pøesuò vytváøení formuláøù do metody
	`self._create_form()' a nastavování atributù do
	`self._init_attributes()'.
	(DualForm._init_attributes): Inicializuj atribut
	 `self._sash_ratio'.  Volej metodu pøedka.  Doplnìn docstring.

	* lib/pytis/form/form.py (Form.__init__): Loguj èasy vytváøení formuláøe
	a naèítání specifikací.
	(EditForm._create_group): Nastavuj ¹íøku políèka, pokud
	specifikace tlaèítka definuje parametr `width'.

2004-11-24  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/form/screen.py (init_colors): Oprava pøeklepu.

2004-11-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (init_colors): Definuj v¹echny barvy jako
	instance `WxColor'.

	* lib/pytis/form/list.py (ListForm._ListTable._DisplayCache.__init__):
	Výchozí velikost cache zvý¹ena na 100 øádek.
	(ListForm._ListTable.__init__): Zru¹ena cache
	`self._column_styles'.  Nová cache `self._attr_cache'.
	(ListForm._ListTable._group): Namísto `self.row()' pou¾ívej
	`self._cached_value()'.
	(ListForm._ListTable._make_attr): Zru¹eny argumenty `row', `col' a
	`_something'.  Vracej trojici (foregreound, background, font),
	namísto instance `wx.CellAttr'
	(ListForm._ListTable.close): Namísto `self._column_styles' nuluj
	`self._attr_cache'.
	(ListForm._ListTable._cached_value): Nová metoda.
	(ListForm._ListTable.row): Necachuj instance `PresentedRow'.
	(ListForm._ListTable.GetValue): Pokud nejde o editovaný øádej,
	pou¾ívej `self._cached_value()'.
	(ListForm._ListTable.GetAttr): Pou¾ívej `self._cached_value()'.
	Cachuj také výsledky volání `self._make_attr()' v
	`self._attr_cache'.  Pøevádìj výsledek volání `self._make_attr()'
	na instanci `wx.CellAttr'.
	(ListForm._CELL_SELECTION_TICK): Nová konstanta.
	(ListForm._init_attributes): Inicializuj `self._cell_to_select' a
	`self._cell_selection_tick'.
	(ListForm._on_idle): Provádìj zpo¾dìný výbìr øádku, po uplynutí
	"selection tick".
	(ListForm._on_context_menu): Namísto `self.on_select_cell' volej
	`self._select_cell()'.
	(ListForm.on_command): O¹etøuj také pøíkaz
	`ListForm.COMMAND_SET_GROUPING_COLUMN'.
	(ListForm._run_form): Zru¹en nepou¾ívaný klíèový argument
	`redirect_name'.  Nastavuj kwargs podle typu fromuláøe.

2004-11-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (Button): Nová tøída.
	(GroupSpec.__init__): Povol mezi prvky také instance `Button'.
	(LayoutSpec.__init__.find_fields): Ignoruj prvky typu `Button'.
	(ViewSpec.__init__.recourse_group): Ignoruj prvky typu `Button'.
	

	* lib/pytis/form/form.py (EditForm._create_group): Vytváøej tlaèítko,
	pokud najde¹ instanci 'Button' ve specifikaci.

	* lib/pytis/form/list.py (SideBrowseForm._init_attributes): Oprava
	metody sluèování podmínek.

2004-11-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm._init_attributes): Nová metoda.
	(DualForm.__init__): Konstruktoru hlavního formuláøe pøedávej jen
	ty klíèové arguenty, které pro¹ly a¾ do
	`DualForm._init_attributes()'.
	(BrowseDualForm.__init__, BrowseDualForm._create_main_form)
	(ShowDualForm.__init__, ShowDualForm._create_main_form)
	(DescriptiveDualForm._create_main_form): Nestarej se o klíèové
	argumenty a pøedávej je jak jsou (nech jejich zpracování na novém
	mechanismu).
	(ShowDualForm._on_idle): Odstranìn hack na nastavení øádku
	hlavního formuláøe.
	(DescriptiveDualForm.__init__): Metoda zru¹ena.
	

	* lib/pytis/form/form.py (Form.__init__): Zpracovávej také klíèový
	argument `guardian'.  Doplnìna dokumentace nového zpùsobu
	zpracování klíèvých argumentù a inicializace formuláøù.  Volej
	`_init_attributes()' pro zpracování klíèových argumentù a
	inicializaci atributù.
	(Form._init, RecordForm._init, LookupForm._init): Zru¹eno.
	(Form._init_attributes, RecordForm._init_attributes)
	(LookupForm._init_attributes, EditForm._init_attributes)
	(PopupEditForm._init_attributes, ShowForm._init_attributes): Nové
	metody.
	(EditForm.__init__): Provádìj pouze nezbytné akce, zbytek pøesunut
	do `_init_attributes()'.  Argumenty pøedávej jen jako *args, **kwargs.
	(PopupEditForm.__init__): Provádìj pouze nezbytné akce, zbytek pøesunut
	do `_init_attributes()'.
	(ShowForm.__init__): Zru¹eno.
	

	* lib/pytis/form/search.py (SFDialog.append_condition): Nastavuj správnì
	konstantu logického operátoru pøi ukládání do `defaults'.

	* lib/pytis/form/list.py (ListForm._select_cell): Nech» je argument
	`row' také klíèový.  Pøi výchozí hodnotì `None' pou¾ij aktuální
	øádek.
	(ListForm._recreate_grid, ListForm._search_skip)
	(ListForm._on_select_cell, ListForm._on_insert_line)
	(ListForm._on_line_commit, ListForm._on_delete_line)
	(ListForm._on_line_rollback, CodeBook._on_idle): Pou¾ívej v¾dy
	identifikátory v¹ech klíèových argumentù pøi volání
	`self._select_cell()'
	(ListForm.on_command): O¹etøuj nové pøíkazy
	`ListForm.COMMAND_FIRST_COLUMN' a `ListForm.COMMAND_LAST_COLUMN'.
	(ListForm.__init__): Zru¹en argument `select_row'.  V¾dy vysvi»
	první øádek a pøípadnou zmìnu pøenech na volání metody
	`select_row()'.
	(ListForm._init_attributes, CodeBook._init_attributes)
	(FilteredBrowseForm._init_attributes)
	(SideBrowseForm._init_attributes): Nové metody.
	(SideBrowseForm._init, ListForm._init): Zru¹eno.
	(ListForm._create_grid): self._orig_columns je nyní jen seznam id.
	Mapuj jej tedy na specifikace sloupcù.
	(CodeBook.__init__): Provádìj zde jen to, co nepatøí do
	`_init_attributes()'.
	(BrowseForm._run_form): Volej `run_form()' s arguentem
	`select_row' namísto `key'.
	(FilteredBrowseForm__init__): Argumenty pøedávej jen jako *args a
	(SideBrowseForm.__init__): Zru¹eno.

	**kwargs.

	* lib/pytis/form/application.py (Application.OnInit): Pou¾ívej
	DEFAULT_COMMAND_KEYS k pøednastavení klávesové mapy.
	(Application._set_form_state): Nová metoda.
	(Application.run_form): Odstraò stavové atributy z klíèových
	argumentù konstruktoru a po vytvoøení nebo znovuvyta¾ení instance
	ze zásobníku volej `_set_form_state()' s tìmito stavovými
	atributy.

	* lib/pytis/form/command.py: Nové pøíkazy
	`ListForm.COMMAND_FIRST_COLUMN' a `ListForm.COMMAND_LAST_COLUMN'.
	(DEFAULT_COMMAND_KEYS): Nová konstanta.

2004-11-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm.__init__): Namísto volání
	`self._create_context_menu()' jen nastavuj klávesové zkratky z
	polo¾ek kontextového menu.  Neukládej vytvoøená kontextová menu
	jako atributy.
	(ListForm._create_grid): Nastavuj barvy pouze nejsou-li None.w
	(ListForm._create_context_menu): Zru¹eno.
	(ListForm.show_context_menu): Menu poka¾dé znovu vytváøej.
	(ListForm.on_command): O¹etøi pøíkaz
	`ListForm.COMMAND_FILTER_BY_CELL' voláním
	`self._filter_by_cell()'.
	(ListForm._on_filter): Nový argument `show_dialog' (pøedávej
	nadøazené metodì).
	(BrowseForm._context_menu): Zmìnìno poøadí polo¾ek a pøidána
	polo¾ka pro pøíkaz `ListForm.COMMAND_FILTER_BY_CELL'.

	* lib/pytis/form/command.py: Nový pøíkaz
	`ListForm.COMMAND_FILTER_BY_CELL'.

	* lib/pytis/form/form.py (LookupForm._on_filter): Nový argument
	`show_filter'. Pokud je nepravdivý, nezobrazuj dialog, ale jen
	pou¾ij jeho aktuální podmínku. 

	* lib/pytis/form/search.py (SFDialog._save_values): Nová metoda.

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Respektuj zmìnu argumentù pøi volání
	`_Codebook.set_runtime_filter_provider()'.
	(PresentedRow.format): Pro codebook s runtime-condition nastavuj
	pøi exportu `strict' na `False'.
	(PresentedRow.set_row): Doplnìn docstring.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Namísto
	`self._runtime_filter_row' initializuj `self._runtime_filter_args'
	(_Codebook._export): Nový klíèový argument `strict'.  Pokud není
	None, rozhoduj o striktní validaci podle nìj.
	(_Codebook.set_runtime_filter_provider): Namísto argumentu `row'
	pøijímej obecný argument `args'.  Ukádej jej do
	`self._runtime_filter_args'.  Docstring aktualizován.
	(_Codebook.validity_condition): Docstring aktualizován.  V
	promìnné `self._runtime_filter_provider' oèekávej pøímo funkci, ne
	`Computer'.  Pøedávej této funkci `self._runtime_filter_args'.
	(SingleCodebook._export): Pøedávej v¹echny pozièní i klíèové
	argumenty.

2004-11-12  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (CodeBookSpec.__init__): Pøidán
	argument 'begin_search'.	
	(CodeBookSpec.begin_search): Nová metoda.

	* lib/pytis/form/list.py (CodeBook.__init__): Upraven popis argumentu
	'begin_search'. 
	(CodeBook._on_idle): Zohledni pøímé pøedání id sloupce v
	'begin_search'. 

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Zohlednìna mo¾nost pøejímání 'begin_search' ze specifikace
	'CodeBookSpec'.

2004-11-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow.set_row): Doplnìn
	argument 'reset'.	

	* lib/pytis/form/form.py (EditForm._edit_insert): Aktualizuj
	stávající instanci PresentedRow a formuláø.
	(EditForm._edit_update): Aktualizuj
	stávající instanci PresentedRow a formuláø.

	* lib/pytis/presentation/field.py (PresentedRow.__init__):
	Upraven popis argumentu 'prefill'.
	(PresentedRow._init_row.genval): 'prefill' mù¾e být i instance
	'Value'.
	(PresentedRow._init_row): Zohledni 'prefill' pro existující øádek.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nový argument
	'on_line_commit'. 
	(ViewSpec.on_line_commit): Nová metoda.

	* lib/pytis/form/list.py (_on_line_commit): Pøidána obsluha
	user handleru `on_line_commit'.

	* lib/pytis/form/application.py (Application.run_form):
	Zru¹en hack se `set_row'.

2004-11-05  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (current_row): Nová metoda.
	(_on_handled_command): Vyu¾ij modul 'inspect' ke zji¹tìní
	argumentù handleru a podle toho pøedej handleru i 'kwargs'.
	Volej 'self.refresh()' jen pokud není pøedán klíèový argument
	'norefresh'.

	* lib/pytis/form/dualform.py (DualForm.on_command): Je-li volán
	u¾ivatelský pøíkaz, pøedej handleru aktivního formuláøe
	i klíèové argumenty 'mainform', 'sideform' a 'norefresh'.
	Po zavolání 'refresh' nastav je¹tì zpátky fokus aktivnímu
	formuláøi.

2004-11-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (DualForm.__init__): Zaregistruj callback
	pro `wx.EVT_SPLITTER_SASH_POS_CHANGED'. Nový atribut
	`self._sash_ratio'. 
	(DualForm._sash_position): Pou¾ívej `self._sash_ratio'.
	(ShowDualForm._sash_position): Pou¾ívej `self._sash_ratio'.
	(DescriptiveDualForm._sash_position): Pou¾ívej `self._sash_ratio'.
	(DualForm.OnSashChanged): Nová metoda.

2004-10-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/screen.py (CallbackHandler.get_callback): Nová metoda.

	* lib/pytis/form/list.py (IncrementalSearch.__init__): Ulo¾
	`ListForm.CALL_SELECTION' callback a nastav ho na `None'.
	(IncrementalSearch._on_kill_focus): Obnov nastavení
	`ListForm.CALL_SELECTION'.

2004-10-26  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/spec.py (DualSpec.__init__): Pøidán argument
	`append_condition'. 
	(DualSpec.append_condition): Nová metoda.

	* lib/pytis/form/list.py (_on_jump): Nová metoda.
	(SideBrowseForm.__init__): Pøidán argument `append_condition'.

	* lib/pytis/form/form.py (LookupForm._on_jump): Nová metoda.
	(LookupForm.on_command): O¹etøi pøíkaz `LookupForm.COMMAND_JUMP'.
	(BrowsableShowForm._on_jump): Nová metoda.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Pøidán argument `append_condition'.

	* lib/pytis/form/command.py: `LookupForm.COMMAND_JUMP' - Nový pøíkaz.

2004-10-26  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._make_tables): O¹etøi výskyt `None'.	

2004-10-26  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._make_tables): O¹etøi výskyt `None'.	

2004-10-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow.row): Pøed sestavením
	datového øádku je¹tì aktualizuj hodnoty v¹ech `dirty' políèek.

	* lib/pytis/form/list.py (ListForm._ListTable.EditInfo.__init__):
	Ukládej ve tøídì i instanci PresentedRow.
	(ListForm._ListTable.editing): Pøedej konstruktoru `EditInfo' i
	instanci PresentedRow.
	(_on_line_commit): Pou¾ívej ulo¾ený PresentedRow v instanci
	`EditInfo'. Nevaliduj codebooky pøed ulo¾ením.
	(BrowseForm._on_new_record): Pøi opu¹tìní volej `self.refresh'.
	(BrowseForm._on_edit_record): Pøi opu¹tìní volej `self.refresh'.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): ValueCodebooky nastavuj
	jako `strict'.
	(_Codebook._value_retrieve): Metodì `_retrieve' pøedávej argument
	`strict'. 
	(_Codebook._retrieve): Pokud se `select' vrací více øádkù nahoï výjimku.
	(_Codebook._validate): Pro získání values pøedávej `self._value_columns'.
	(_Codebook._export): Pro získání `row' pøedávej `self._value_columns'.
	(_Codebook._export): Pro mapování `subtypes' pøedávej
	`self._value_columns_types'. 
	(_Codebook.data_value): Pro získání `row' pøedávej `self._value_columns'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_value): Pro
	`SingleCodebook' jednodu¹e proveï export.

2004-10-20  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_line_commit): Zvaliduj `value codebooky'
	pøed odesláním øádku a nastav focus na aktuální list.

2004-10-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Funkci `set_runtime_filter_provider' pøedávej funkci a instanci
	PresentedRow. 
	(PresentedRow._recompute_codebook_runtime_filter): Nenastavuj
	znovu `runtime_filter_provider'.
	(PresentedRow.keys): Oprava docstringu.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Nový atribut
	`self._runtime_filter_row'.
	(_Codebook.set_runtime_filter_provider): Pøidán argument `row'.
	(_Codebook.validity_condition): Zohledni pou¾ití
	`self._runtime_filter_row'.

2004-10-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_insert_line): Pøi kopii øádku nenastavuj
	políèko s klíèem.
	(BrowseForm._on_new_record): Pokud je návratovou hodnotu
	PresentedRow, nastav na nìj pozici.

	* lib/pytis/form/application.py (Application.new_record): Vracej
	návratovou hodnotu formuláøe.

2004-10-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py
	(PresentedRow._recompute_codebook_runtime_filter):
	Kosmetická úprava vytváøení seznamu `id'.
	(PresentedRow._recompute_codebook_runtime_filter):
	Poslat notifikaci o zmìnì funkce nestaèí, je tøeba funkci
	opìtovnì nastavit pomocí `set_runtime_filter_provider'.

2004-10-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/caching.py (_Cache.reset): Namísto `self.dict'
	reinicializuj `self.data'.

	* lib/pytis/util/_test.py (Module): Importuj `caching'.  Volej
	`unittest.main()' bez argumentù.
	(tests): Nech» je instancí `test.TestSuite'.
	(Caching): Nová testovací tøída.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Aktualizace
	docstringu.
	(PresentedRow._process_fieldspec.runtime_filter_provider): Zru¹eno.
	(PresentedRow._process_fieldspec): Neinicializuj atributy pro
	zapamatování stavu runtime filtru coodebookù.  Kosmetické úpravy v
	definici runtime filter providera pro èíselníkový datový typ.
	(PresentedRow._recompute_codebook_runtime_filter): Namísto
	oznaèování podmínky jako dirty pouze notifikuj potenciální zmìnu
	nadøazenému typu.
	(_codebook_runtime_filter_provider): Metoda zru¹ena.

	* lib/pytis/form/inputfield.py (RadioBoxField._create_controls):
	Kosmetická úprava.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Inicializuj atributy
	`self._runtime_filter' a `self._runtime_filter_dirty'.
	(_Codebook.notify_runtime_filter_change): Nová metoda.
	(_Codebook.validity_condition): Zapamatuj si hodnotu runtime
	filtru od providera a po¾aduj ji od nìho pouze pokud byla
	oznámena zmìna.  Potom také v¾dy volej `self._update()'.

2004-10-14  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (TextField): Doplnìno `DECIMAL_POINTS' a
	`SIGNS'.

	* config/config.py: Pøegenerována nová podoba.

	* lib/pytis/util/configuration.py
	(Configuration._Option_fetch_size.default): Zmìna hodnoty.
	(Configuration._Option_initial_fetch_size.default): Zmìna hodnoty.

	* lib/pytis/presentation/field.py (PresentedRow._compute_editability):
	Pøedávej funkci i `key'.

	* lib/pytis/data/types_.py (DateTime.__init__): Doplnìny argumenty
	`mindate' a `maxdate'.
	(DateTime._validate): Zohledni nové argumenty.

2004-10-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Opravena
	dokumentace k argumentùm.

2004-10-12  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (BrowseDualForm._on_new_record): Oprava
	chybné podmínky.

	* lib/pytis/form/dialog.py (InputDate._customize_result): Pokud není
	datum vlo¾en, vracuj lib.data.Value s hodnotou `None'.

2004-10-08  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_insert_line): Pøi neúspìchu editace vracej
	`False'.

	* lib/pytis/form/dualform.py (BrowseDualForm._on_new_record): Testuj
	úspìch v editaci `self._main_form' i na návratovou hodnotu `False'.

2004-10-06  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Pokud je `width'
	nula, nastav editovatelnost na `NEVER'.
	
	* lib/pytis/form/spec.py (ViewSpec.__init__): Nový argument `focus_field'.
	(ViewSpec.focus_field): Nová metoda.

	* lib/pytis/form/form.py (EditForm.__init__): 
	(EditForm.init): Zohledni pøípadné
	nastavení `focus_field' ve `ViewSpec'.

	* lib/pytis/output/formatter.py (LoutFormatter._process):
	Defaultním fontem je opìt "FIXED_FONT".

2004-10-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSequence.output): doplnìny argumenty
	pøíkazu `create sequence'.

2004-10-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSequence.output): doplnìny argumenty
	pøíkazu `create sequence'.

2004-10-05  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (EnumerationField._set_value): Zru¹
	testování nastavení hodnoty.

	* config/config.py: Pøegenerována nová podoba.

	* lib/pytis/util/configuration.py (Configuration._Option_cache_size):
	Nová konfiguraèní volba.
	(Configuration._Option_initial_fetch_size): Nová konfiguraèní volba.
	(Configuration._Option_fetch_size): Nová konfiguraèní volba.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL): Nastavení `cache' a
	`fetch' je konfigurovatelné.	

2004-10-04  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (on_key_down): Zru¹eno (ve
	wxPythonu-2.5.2.8 u¾ to funguje správnì - hack není tøeba).

	* lib/pytis/form/form.py (PopupEditForm._on_next): Pro nový formuláø
	nastavuj øádek na None.

2004-10-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py
	(PresentedRow._process_fieldspec.runtime_filter_provider): Nová
	funkce.
	(PresentedRow._process_fieldspec): Vyu¾ívej ji.
	(PresentedRow._codebook_runtime_filter_provider): Odstranìn
	zapomenutý print.

2004-09-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Argument
	`codebook_runtime_condition' pøejmenován na
	`codebook_runtime_filter'.
	(FieldSpec.codebook_runtime_condition): Pøejmenováno na
	`codebook_runtime_filter'.
	(PresentedRow._Column.__init__): Nový argument
	`codebook_runtime_filter'.
	(PresentedRow._recompute_dependencies): Nová metoda.
	(PresentedRow.__init__, PresentedRow._codebook_dependent)
	(PresentedRow.set_row): Pou¾ívej `_recompute_dependencies()'
	namísto `_recompute_editability()'.
	(PresentedRow._process_fieldspec): Inicializuj Vnitøní promìnné
	potøebné pro výpoèet runtime filtrovací podmínky èíselníku.
	Registruj run-time filtr metodou `set_runtime_filter_provider()'
	pro èíselníkové sloupce s nastaveným `cedebook_runtime_filter'.
	(PresentedRow._recompute_editability): Zru¹en klíèový argument
	`invoke_callbacks', nebo» nebyl nikde vyu¾it.
	(PresentedRow._recompute_codebook_runtime_filter): Nová metoda.
	(PresentedRow._codebook_runtime_filter_provider): Nová metoda.

	* lib/pytis/form/inputfield.py
	(CodeBookField._validation_error_handler): Odstranìn hack s
	nastavováním runtime filtrovací podmínky èíselníku.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Zru¹
	`self._appended_validity_condition'.  Inicializuj
	`self._runtime_filter_provider'
	(_Codebook.set_runtime_filter_provider): Nová metoda
	(_Codebook.append_validity_condition): Zru¹eno.
	(_Codebook.validity_condition): Namísto
	`_appended_validity_condition' vyu¾ívej `_runtime_filter_provider'.

2004-10-01  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/presentation/field.py (PresentedRow.data): Nová metoda.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Pøidány argumenty
	`on_edit_record' a `on_delete_record'.
	(ViewSpec.on_edit_record): Nová metoda.
	(ViewSpec.on_delete_record): Nová metoda.

	* lib/pytis/form/screen.py (MenuBar.add_menu): Pøedávej i argument `form'.
	(MenuBar.add_menu): Pøi hledání shody menu porovnávej nejen
	`title', ale i `activation'.
	(MenuBar.activate): Úprava podmínky pro volání `self._replace_menu'

	* lib/pytis/form/list.py (_create_grid): Zaregistruj `wx.EVT_MOUSEWHEEL'.
	(_on_wheel): Nová metoda.
	(_on_delete_line): Zohledni pøípadnou definici funkce `on_delete_record'.
	(BrowseForm._on_edit_record): Nová metoda.
	(BrowseForm.__init__): Pou¾ívej ji.

	* lib/pytis/form/form.py (Form._add_menus): Pøedávej i instanci formuláøe.
	(EditForm.ACT_EDITFORM): `EditForm' má vlastní aktivaci.
	(EditForm._menus): `EditForm' má vlastní podobu menu `Pøíkazy'.

	* lib/pytis/form/dialog.py (delete_record): Pøidán volitelný argument
	`msg'.

	* lib/pytis/form/application.py (Application.add_menu): Pøedávej i
	argument `form'.
	(add_menu): Pøedávej i argument `form'.

	* lib/pytis/data/types_.py (String._validate): V¾dy vracej `unicode'.
	(String._export): V¾dy vracej `unicode'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL): Pokusnì nastaveny vìt¹í
	hodnoty pro `_PG_CACHE_SIZE' a `_PG_INITIAL_FETCH_SIZE'.

2004-09-28  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_value): Kosmetická
	úprava. 

	* lib/pytis/form/form.py (EditForm._edit_update): Pro update pou¾ívej
	zvalidovanou podobu `row'.

2004-09-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dialog.py (InputDate._customize_result):
	Není-li vstup validní vracej None.

	* lib/pytis/form/application.py (Application.run_form):
	Místo metody `set_row' volej `_set_row', aby se inicializoval
	nový PresentedRow.

2004-09-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_create_form_parts): O¹etøi inicializaci
	`self._size'.

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	O¹etøi správné nastavení vysvíceného øádku.

	* lib/pytis/data/xtypes.py (SingleCodebook.value_columns): Nová metoda.
	(SingleCodebook._validate): Nová metoda.
	(MultiCodebook.value_columns): Nová metoda.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template):
	Id sloupcù ber v¾dy z `value_columns'.
	(DBDataPostgreSQL._pg_value): V èíselnících zohledni
	`value_columns' pro vytvoøení exportované hodnoty.	

2004-09-21  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._format_rule): Zohledni pou¾ití
	`table_alias'.

2004-09-21  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._format_rule): Zohledni pou¾ití
	`table_alias'.

2004-09-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Zji¹»uj typy sloupcù i
	pro `value_columns'.
	(_Codebook.__init__): Nenastavuj `strict' pro nastavené
	`value_columns'.
	(_Codebook._export): Zohledòuj nastavení `value_columns'.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template):
	Pøi zji¹»ování typù zohledòuj `value_columns'.

2004-09-16  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_create_grid): Zohlednìní povolení editace
	políèka pro editable jako instanci Computeru.
	(_on_cell_commit): Oprava chybného odkazu na `g.SetGridCursor'
	místo správného `self._grid.SetGridCursor'.
	(refresh): Pokud nelze nastavit pozici na pozici pøedchozího
	klíèe, zkus nastavit pozici na pøedchozí èíslo øádku gridu.	
	(SetSize): I kdy¾ se velikost nezmìnila, proveï SetSize u gridu a
	pøedka (aby se správnì zobrazovaly scrollbary u sideform).
	(refresh): Oprava chybné podmínky pøi nastavování na pøedchozí
	pozici gridu.
	
	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Oprava ¹patného pøedávání stavájící hodnoty políèka pro
	`select_row'. 

2004-09-15  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/output/markup.py (Euro): Nová tøída.
	(Pound): Nová tøída.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pøidány znaèky pro `Euro' a `Pound'.
	(LoutFormatter._format_euro): Nová metoda
	(LoutFormatter._format_pound): Nová metoda.

	* lib/pytis/form/dialog.py (InputDialog._create_content):
	Nepou¾ívej defaultní masku 'X'*13.
	(RunFormDialog.__init__): Roz¹íøení vstupního pole na 25 znakù.

	* lib/pytis/form/list.py (ListForm._ListTable._retrieve_row.fetch):
	Nepou¾ívej manévr se stahováním dat pro cache ve smìru `BACKWARD'.
	(show_popup_menu): Nová metoda.

	* lib/pytis/form/event.py (_is_user_event): Výbìr polo¾ky z menu
	nepova¾uj za `user_event'.

2004-09-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/xtypes.py (_Codebook.append_validity_condition):
	Oprava assert s umo¾nìním podmínky `None'.

	* lib/pytis/form/form.py (Form._menus):
	Oprava chyby pro `Editovat záznam'.
	Pøidáno volání náhledù na záznam.
	(EditForm.__init__): Nastavení øádku pomocí `self._set_row'
	pøesuò ze self.init() sem.

	* lib/pytis/form/dialog.py (InputDialog.__init__)
	(InputDialog._create_content): 
	Upraveno s vyu¾itím `masked.TextCtrl'. Zaji¹tìn mechanismus
	kontroly vstupního pole pøi ztrátì focusu.
	(InputDialog._on_kill_control_focus): Nová metoda.
	(InputDate): Nová tøída.

	* lib/pytis/form/application.py (Application.run_form):
	Pøidán hack pro mo¾nost volání metody `set_row' u vytvoøeného
	formuláøe.

2004-08-27  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/application.py (Application.restore): Na konci
	nastav formuláøi fokus.

	* lib/pytis/form/list.py (SetSize): Pokud nedo¹lo ke zmìnì
	velikosti gridu, neprovádìj pøepoèítání ¹íøky sloupcù.

	* lib/pytis/form/dialog.py (Login._create_content): Zaregistruj callback
	pro stisk klávesy u `self._login' a `self._passwd'.	
	(Login._on_key_down): Nová funkce.
	(Login._navigate): Nová funkce.
	(Calendar._create_content): Roz¹iø widget tak, aby se správnì
	zobrazoval rok.

2004-08-24  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/output.py (PostscriptViewer.DoDrawing): Nepøedávej
	souøadnice jako tuple.

2004-08-23  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (TextField._create_text_control):
	Pøidávej k ¹íøce widgetu automaticky jeden znak.

	* lib/pytis/form/form.py (PopupEditForm._create_buttons): Upraveno
	poøadí tlaèítek.

	* lib/pytis/form/dialog.py (Login.__init__): Pøedávej dialogu øetìzce
	jako unicode.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm):
	`_SELECTION_TICK' nastaveno na 2.

	* lib/pytis/form/inputfield.py (TextField._create_text_control)
	(ColorSelectionField._create_button, CodeBookField._create_widget)
	(Invocable._create_button, ListField._create_controls): 
	Místo control.SetSize() pou¾ívej control.SetMinSize()
	(viz Migration Guide wxPython-2.5.2.7).	

	* lib/pytis/form/list.py (_create_form_parts): Do metody `sizer.ADD'
	pøidej flag `wx.FIXED_MINSIZE' (viz Migration Guide pro
	wxPython-2.5.2.7).

2004-08-20  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_export_csv): Zohledòuj config.db_encoding.

2004-08-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/types_.py (Float._export): Vracej exportovanou hodnotu
	jako unicode.

2004-08-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CheckBoxField._create_controls):
	Registruj self._on_key_down
	(CheckBoxField.on_key_down): Nová metoda.

2004-08-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/output/formatter.py (LoutFormatter._process):
	Jako základní font pou¾ívej SANS_SERIF.
	* lib/pytis/data/types_.py (Float._export): Vracej exportovanou hodnotu
	jako unicode.

2004-08-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (DateField._menu) 
	(ColorSelectionField._menu, CodeBookField._menu) 
	(ListField._menu): Nastavuj argument `originator' na `self' u
	jako argument v¹ech pøíkazù v menu.
	(ListField.on_command): Pokud je otevøen modální formuláø pøi
	pøíkazu `COMMAND_INVOKE_BROWSE_FORM', nedìlej nic, jen zobraz
	zprávu, ¾e to nejde...

	* lib/pytis/form/application.py (Application.__init__): Inicializuj
	slovník `self._window_menu_item'.
	(Application._window_menu_item_title): Metoda zru¹ena.
	(Application._add_window_menu_item): K za¹krtnutí menu pou¾ívej
	radìji `self._check_window_menu_item()'.  Pøidej polo¾ku do
	slvníku `self._window_menu_item'.
	(Application._remove_window_menu_item): Namísti vyhledávání
	polo¾ky v menu pomocí wx metod pou¾ívej slovník
	`self._window_menu_item'.  Polo¾ku nakonec zniè voláním
	`Destroy()'.
	(Application._check_window_menu_item): Nejprve v¹echny polo¾ky
	oznaè jako neaktivní.  Aktivní polo¾ku nehledej v menu pomocí wx
	metod, ale pou¾ívej slovník `self._window_menu_item'.

	* lib/pytis/form/list.py (__init__): Nestarej se zde o nastavování statusbaru.
	(ListForm.show_position): Nová metoda.
	(ListForm._select_cell_command, ListForm.focus): Vyu¾ívej ji.

	* lib/pytis/form/form.py (LookupForm._lf_sf_dialog): Pøi vytváøení
	`FilterDialog' pøedávej také filtrovací podmínku.
	(EditForm.on_command): Je-li nastaven argument `originator' a ten
	je jedním z políèek formuláøe, zpracuj událost tímto políèkem.

	* lib/pytis/form/search.py (SFDialog._create_content): Oprava zaji¹tìní
	rozestupu tlaèítek pøi pøidávání do sizeru.
	(FilterDialog.__init__): Nový argument `filter'.
	(FilterDialog._on_compute_aggregate): K filtrovací podmínce
	pøidávej také podmínku z konstreuktoru.

	* lib/pytis/form/screen.py (init_colors): Definuj, ¾e nastavované
	konstanty jsou globální.
	(RadioItem._wx_kind): Vracej `wx.ITEM_CHECK' namísto
	`wx.ITEM_RADIO' (ten zpùsobuje segfaulty pøi pøidávání do menu).

	* lib/pytis/form/dialog.py (Calendar._on_set_focus): První argument
	nech» se jmenuje `event'.

2004-08-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration._Option_filter_color):
	Oprava docstringu.

	* lib/pytis/form/list.py (ListForm._GROUPING_BACKGROUND_DOWNGRADE):
	Lehce zvý¹eno ztmavení.
 
	* lib/pytis/form/application.py (Application.run_dialog): Pokud má 
	aplikace nìjaké modální okno, nech» je toto rodièem dialogu.
	(Application.run_form): Kosmetické úpravy.
	(Application.run_dialog): Nakonec vra» focus nejvy¹¹ímu oknu.

	* lib/pytis/form/dialog.py (GenericDialog._on_set_focus): Nakonec v¾dy
	proveï `event.Skip()'.
	(GenericDialog._create_dialog): Volej `self._handle_keys()' pro
	vytvoøený dialog.
	(GenericDialog._finish_dialog): Nová metoda.
	(GenericDialog._on_button, GenericDialog._close_dialog) 
	(GenericDialog._commit_dialog, InputDialog._commit_dialog) 
	(OperationDialog._on_show, Calendar._on_calendar) 
	(BugReport._close_dialog, FileDialog.on_command): Vyu¾ívej
	`self._end_modal()' namísto pøímého ukonèování dialogu.
	(GenericDialog.rebuild): Nakonec dialogu nastav focus.
	(Calendar._on_set_focus): Nakonec volej `event.Skip()'.
	(BugReport._on_set_focus): Nakonec volej `event.Skip()'.

	* lib/pytis/form/search.py (SFDialog._create_button)
	(SFDialog._create_choice, SFDialog._create_text_ctrl): Nové
	metody.
	(SFDialog._FIELD_HEIGHT): Nová konstanta.
	(SFDialog._create_content.condition): Nepøebírej lokální promìnné
	jako klíèové argumenty.  Nevytváøej vstupní prvky pøímo, ale
	vyu¾ívej nové metody `_create_*()'.
	(SFDialog._create_content, FilterDialog._create_content)
	(SortingDialog._create_content): Nevytváøej vstupní prvky pøímo,
	ale vyu¾ívej nové metody `_create_*()'.
	(SFSDialog): Nová tøída
	(SFDialog._create_button, SFDialog._create_choice)
	(SFDialog._create_text_ctrl): Metody pøesunuty do `SFSDialog'.
	(SFDialog._FIELD_HEIGHT): Pøesunuto do `SFSDialog'.
	(SortingDialog, SFSDialog): Buï potomkem `SFSDialog'.
	(SortingDialog._customize_result_sorting): Vracej konstanty
	`LookupForm.SORTING_ASCENDENT' a `LookupForm.SORTING_DESCENDANT'
	namísto `lib.data.ASCENDENT' a `lib.data.DESCENDANT'.
	(SFDialog._create_content): Nevytváøej atributy `_and_button_id' a
	`_or_button_id' a namísto toho pou¾ívej `self._on_add()' a
	`self._on_add_or_()'.  Kosmetické úpravy.  Nepou¾ívej
	`wx.StaticText' pro vytvoøení mezery, ale specifikuj border v sizeru.
	(SortingDialog._on_add): Nový nepovinný argument
	logical_selection.  Nerozhoduj se posle id tlaèítka, ale podle
	argumentu `logical_selection'.
	(SFDialog._on_add_or_): Nová metoda.
	(SFDialog._on_remove): V¹e dìlej pouze pokud je
	`self._number_of_conditions' vìt¹í ne¾ 1.
	(SFSDialog._create_button, SFSDialog._create_choice)
	(SFSDialog._create_text_ctrl): Nový argument tip.  Pokud není
	None, nastav vytváøenému widgetu tooplip.
	(SFDialog._create_content.condition, SFDialog._create_content) 
	(SortingDialog._create_content): Nastavuj v¹em vytváøeným
	ovládacím prvkùum tooltip.
	(SFDialog._LABEL): Pøejmenováno na `_TITLE'. 
	(SFDialog.__init__): Konstruktoru pøedka pøedávej také argument default.
	(SFDialog._COMMIT): Nová konstanta.
	(SearchDialog._COMMIT): Nová konstanta.
	(SearchDialog._LABEL): Pøejmenováno na `_TITLE'. 
	(FilterDialog._COMMIT): Nová konstanta.
	(FilterDialog._LABEL): Pøejmenováno na `_TITLE'. 
	(SFDialog._commit_dialog): Nová metoda.
	(SortingDialog._commit_dialog): Nová metoda.
	(SortingDialog): Oprava docstringu.
	(SortingDialog._create_content): Namísto tøídících konstant z
	`lib.data' pou¾ívej konstanty `LookupForm'.

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection): S
	`codebook_runtime_condition' pracuj pouze pokud není None...
	(InputField.__init__): Inicializuj nový atribut
	`self._unregistered_widgets'.
	(InputField._skip_navigation_callback.cb): V callbacku kontroluj,
	zda widget není v `self._unregistered_widgets' v kterém¾to pøípadì
	proveï pouze Skip.
	(InputField._register_skip_navigation_callback): Pokud je widget v
	`self._unregistered_widgets', sma¾ je odtamtud.
	(InputField._unregister_skip_navigation_callback): Pøidej widget
	do `self._unregistered_widgets'.  Disconnect neprovádìj, stejnì to
	nefunguje...

2004-08-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Upraven výpoèet ¹íøky políèka.
	(CodeBookField._on_invoke_selection): Pøidán rychlý hack pro
	aktualizaci mno¾iny èíselníku podle `codebook_runtime_condition'.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Nový argument
	`codebook_runtime_condition'.
	(FieldSpec.codebook_runtime_condition): Nová metoda.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Inicializuj atribut
	`self._appended_validity_condition'.
	(_Codebook._retrieve): Pou¾ívej metodu `validity_condition()'
	namísto atributu `_validity_condition'.
	(_Codebook.append_validity_condition): Nová metoda.
	(_Codebook.validity_condition): Zohlední také
	`self._appended_validity_condition'

	* lib/pytis/form/list.py (ListForm._create_grid): Vylep¹en vypoèet ¹íøky sloupcù.
	(ListForm.SetSize): Vylep¹en vypoèet ¹íøky sloupcù.
	(CodeBook.__init__): Vylep¹en docstring.  Kosmetické úpravy.

	* lib/pytis/form/form.py (PopupEditForm.set_status): Pøevádìj zprávu na
	unicode.

	* lib/pytis/form/output.py (PrintForm._create_controls): Vzezøení
	tlaèítkové li¹ty vylep¹eno.

	* lib/pytis/output/formatter.py (LoutFormatter._lout): Pro streamování
	nacachovaného loutového zdrojáku pou¾ívej StringIO namísto cStringIO.

2004-08-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer.DoDrawing): Pøedávej metodì
	`DrawBitmap()' souøadnice jako dvouprvkovou sekvenci.
	(PrintForm._create_controls.make_widget): Nepou¾ívej `expand' pøi
	pøidávání do ziseru.
	(PrintForm._create_controls): Názvy tlaèítek zmìnìny s pou¾itím
	¹ipek (znaky '<' a '>').

	* lib/pytis/output/formatter.py (LoutFormatter._format): Pou¾ívej
	`is_anystring()' namísto porovnání s type('').
	(LoutFormatter._unit): Replace comma by a dot in the formatted
	string (to avoid problems with locale dependent float formatting).
	

	* lib/pytis/form/list.py (ListForm._create_grid): Zmen¹i vý¹ku øádkù v
	gridu.

2004-08-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (_IncrementalSearch): Pøejmenováno na
	`IncrementalSearch'.
	(IncrementalSearch.TEXT_CONTROL_NAME): Nová konstanta.
	(IncrementalSearch.__init__): Pou¾ívej ji k nastavení jména
	vstupního textovìho políèka.
	(_on_incremental_search): `_IncrementalSearch' -> `IncrementalSearch'.

	* lib/pytis/form/inputfield.py (TextField._on_set_focus): Provádìj výbìr
	textu pouze je-li políèko editovatelné.
	(TextField._on_kill_focus): Výbìr textu neøe¹ vùbec...

	* lib/pytis/form/form.py (EditForm._navigate): V needitovatelném
	formuláøi nedìlej vùbec nic.
	(BrowsableShowForm.on_command): Pouívej `super()' namísto `super_()'.
	(BrowsableShowForm._set_row): Pouívej `super()' namísto `super_()'.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm._on_idle):
	Pokud je `self._side_form' None, nedìlej nic (vyèkej na dal¹í
	idle).
	(PostponedSelectionDualForm._on_main_selection): Nehleï na
	existenci `self._side_form' (mìlo by být o¹etøeno úpravou vý¹e).
	(SideBrowseDualForm._do_selection): Test na TextCtrl
	inkrementálního vyhledávání roz¹íøen o test na název widgetu.
	(ShowDualForm.__init__): Nevolej `self._side_form.refresh()'.
	Inicializuj atribut `self._initialization_done' na False.
	(ShowDualForm._on_idle): Nová metoda (o¹etøení prvotní
	inicializace formuláøe).

2004-08-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: Namísto `grid' importuj `wx.grid'.  V¹ude
	pou¾ívej Pythonové konstanty `True' a `False' namísto na¹ich
	`TRUE' a `FALSE' a wx `wx.TRUE' a `wx.FALSE'.  V¹echna `wx.wx*'
	jména nahraï jejich ekvivalenty v novém namespace (`wx.*').
	Vyu¾ívej funkci `is_anystring()' namísto porovnávání s type('').
	(_scrollbar_width): Zru¹eno.
	(ListForm._ListTable._make_attr): Odvozuj velikost fontu od
	v7choz9ho fontu.
	(_update_selection_colors): Pokud je zkonfigurovaná barva pozadí
	aktivního øádku None, pou¾ij systémovou barvu zvýraznìní.
	(ListForm.label_font, ListForm.cell_font): Metody zru¹eny.
	(ListForm.total_height): Novíá metoda.
	(ListForm.SetSize): Vyu¾ívej `self.total_height()' k zji¹tìní, zda
	zapoèítat scrollbar.  Pou¾ívej
	`wx.SystemSettings.GetMetric(wx.SYS_VSCROLL_X)' ke zji¹tìní ¹íøky
	scrollbaru.
	(CodeBook): `_WINDOW_HEIGHT' -> `_DEFAULT_WINDOW_HEIGHT'.
	(CodeBook.__init__): Pokud je seznam kratt¹í ne¾
	`_DEFAULT_WINDOW_HEIGHT', zmen¹i okno na vý¹ku seznamu.  Nastavuj
	titulek okna.
	(ListForm._create_context_menu): Nová metoda.
	(ListForm._create_popup_menu): Pøejmenováno na `_context_menu'.
	(ListForm._create_edit_popup_menu): Pøejmenováno na `_edit_menu'.
	(BrowseForm._create_popup_menu): Pøejmenováno na `_context_menu'.
	(CodeBook._create_popup_menu): Pøejmenováno na `_context_menu'.
	(ListForm.show_popup_menu): Pøejmenováno na `show_context_menu'.
	(ListForm.show_context_menu): `self._edit_popup_menu' -> `menu =
	(ListForm._on_popup_menu): Pøejmenováno na `_on_context_menu'.
	self._edit_menu_'.  `self._popup_menu' -> `self._context_menu_'
	(ListForm.__init__): Pou¾ívej `ListForm._create_context_menu()' k
	vytváøení kontextových menu.  Nová jména atributù:
	`self._edit_popup_menu' -> `menu = self._edit_menu_'.
	`self._popup_menu' -> `self._context_menu_'.
	`self._on_popup_menu()' -> `self._on_context_menu()'

	(BrowseForm._context_menu): `_create_popup_menu()' ->
	`_context_menu'.

	* lib/pytis/form/form.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  V¹echna `wx.wx*' jména nahraï jejich ekvivalenty v
	novém namespace (`wx.*').  Vyu¾ívej funkci `is_anystring()'
	namísto porovnávání s type('').
	(_class_name): Metoda zru¹ena.
	(Form.__str__): Pou¾ívej `self.__class_.__name__' namísto
	`self._class_name()'.
	(Form.__repr__): Nová metoda.
	(EditForm.on_command): O¹etøi pøíkaz
	`EditForm.COMMAND_NAVIGATE_BACK' voláním `self._navigate()'.
	(EditForm._navigate): Argument `dir' pøejmenován na `forward'.

	* lib/pytis/form/dialog.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  V¹echna `wx.wx*' jména nahraï jejich ekvivalenty v
	novém namespace (`wx.*').  Vyu¾ívej funkci `is_anystring()'
	namísto porovnávání s type('').  `wxPython.claendar' ->
	`wx.calendar'.
	(Message.__init__): Pøevádìj `message' do unicode.
	(Calendar._customize_result): Pøed voláním `DT.DateTimeFrom()'
	pøeveï argument na prostý øetìzec.
	(BugReport._create_content): Velikost fontu odvozuj od výchozího
	fontu.
	(BugReport._create_content): Text do políèka vkládej po øádcích.
	(BugReport._create_content): Nová (zatím zakázaná) mo¾nost
	zobrazit traceback v HTML widgetu.
	(BugReport._customize_result): Pokud `self._display' není
	`wx.TextCtrl' vracej text tracebacku.
	(BugReport._on_set_focus): `self._text' -> `self._display'.

	* lib/pytis/form/inputfield.py: V¹ude pou¾ívej Pythonové konstanty
	`True' a `False' namísto na¹ich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  V¹echna `wx.wx*' jména nahraï jejich ekvivalenty v
	novém namespace (`wx.*').
	(InputField._class_name): Metoda zru¹ena.
	(InputField.__str__): Pou¾ívej `self.__class_.__name__' namísto
	`self._class_name()'.
	(TextField._set_value): Vyu¾ívej funkci `is_anystring()' namísto
	porovnávání s type('').

	* lib/pytis/form/spec.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE'.  Vyu¾ívej funkci
	`is_anystring()' namísto porovnávání s type('').
	(GroupSpec.__init__): Pøevádìj `label a `caption' pomocí
	`gettext_()'.
	(DualSpec.__init__): Pøevádìj `title' pomocí `gettext_()'.

	* lib/pytis/form/screen.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  V¹echna `wx.wx*' jména nahraï jejich ekvivalenty v
	novém namespace (`wx.*').
	(init_colors): Nová funkce.
	(set_clipboard_text): Vyu¾ívej funkci `is_anystring()' namísto
	porovnávání s type('').
	(color_dictionary): `wxPython.lib' -> `wx.lib'.
	(WxKey.is_event_of_key): Pøi porovnání wx tøíd pou¾ívej pøímo
	název tøídy, nikoliv `*Ptr' tøídu.
	(WxKey.event_key): Umo¾ni také kombinace Ctrl, Alt a Shift.
	Písmena se shiftem pøevádìj na velká a pro ostatní klávesy
	pøidávej `Shift-' prefix.  Zpracuj také Enter na numerické
	klávesnici jako `Enter'.
	(_WX_COLORS, _WX_COLORS_DATABASE): Inicializace pøesunuta do
	`init_colors()'.
	(Keymap.define_key): Klíèové argumenty pøíkazu pøebírej jako jeden
	argument typu slovník, ne jako vlastní klíèové argumenty.
	(Keymap.define_key): Aktualizován docstring.
	(KeyHandler.on_key_down): Nové debug logovací hlá¹ky.
	(Menu.__init__): Vyu¾ívej funkci `is_anystring()' namísto
	porovnávání s type('').
	(Menu.create): Klíèové argumenty pøíkazu pøedávej jako slovník, ne
	jako klíèové argumenty volání `Keymap.define_key()'.
	(MItem.__init__): Vyu¾ívej funkci `is_anystring()' namísto
	porovnávání s type('').
	(MItem.__init__): Pøevádìj `title' a `help' pomocí `gettext_()'.
	(field_width): Poslední políèko zvìt¹uj o 22px kvùli rohovému
	"dr¾átku" v nových wx.
	(StatusBar.message): Text zprávy pøevádìj do unicode.
	(KeyHandler.__init__): Initialize the attriburte
	`self._temporary_keymap'.
	(KeyHandler._init_commands): Removed processing of `Command.key'
	attributte.
	(KeyHandler._init_commands): Process the `self._temporary_keymap'.
	(KeyHandler.define_key): New method.

	* lib/pytis/form/search.py: V¹ude pou¾ívej Pythonové konstanty `True'
	a `False' namísto na¹ich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  V¹echna `wx.wx*' jména nahraï jejich ekvivalenty v
	novém namespace (`wx.*').

	* lib/pytis/form/output.py: V¹ude pou¾ívej Pythonové konstanty `True'
	a `False' namísto na¹ich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  V¹echna `wx.wx*' jména nahraï jejich ekvivalenty v
	novém namespace (`wx.*').

	* lib/pytis/form/grid.py: Module removed. 

	* lib/pytis/form/dualform.py: V¹ude pou¾ívej Pythonové konstanty `True'
	a `False' namísto na¹ich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  V¹echna `wx.wx*' jména nahraï jejich ekvivalenty v
	novém namespace (`wx.*').

	* lib/pytis/form/command.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE'.
	(EditForm.COMMAND_NAVIGATE_BACK): Nový pøíkaz.
	(Command.__init__): Vyu¾ívej funkci `is_anystring()' namísto
	porovnávání s type('').

	* lib/pytis/form/event.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  V¹echna `wx.wx*' jména nahraï jejich ekvivalenty v
	novém namespace (`wx.*').  Pøi porovnání wx tøíd pou¾ívej pøímo
	název tøídy, nikoliv `*Ptr' tøídu.
	(_system_callback_pid): Pøejmenováno na
	`_system_callback_thread_ident'.
	(wx_callback.process_event.system_callback):
	`_system_callback_pid' -> `_system_callback_thread_ident'.  `pid'
	-> `ident'.  Namísto PID procesu rozli¹uj thready pomocí
	`thread.get_ident()'.
	(wx_callback.process_event): `_system_callback_pid' ->
	`_system_callback_thread_ident'.
	(yield_): Namísto PID procesu rozli¹uj thready pomocí
	`thread.get_ident()'.
	(interrupt_watcher.watcher): Namísto microsleep pou¾ívej
	`time.sleep(0.1)'.
	(interrupt_init): Namísto PID procesu rozli¹uj thready pomocí
	`thread.get_ident()'.  `*pid*' -> '*thread_ident*'.
	(_is_user_event): `grid' -> `wx.grid'.

	* lib/pytis/form/application.py: V¹ude pou¾ívej Pythonové konstanty
	`True' a `False' namísto na¹ich `TRUE' a `FALSE' a wx `wx.TRUE' a
	`wx.FALSE'.  V¹echna `wx.wx*' jména nahraï jejich ekvivalenty v novém
	namespace (`wx.*').
	(Application.run_form): Po uzavøení modálního formuláøe nad
	prázdným oknem aplikace nastav focus na `self._panel'.  Pøi
	logování volej na formuláøe `str()'

	* lib/pytis/form/wx.py: Module removed.

	* lib/pytis/output/markup.py (PageNumber.__init__, Group.KWARGS):
	Pou¾ívej Pythonové konstanty `True' a `False' namísto na¹ich
	`TRUE' a `FALSE'.

	* lib/pytis/output/formatter.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE'.

	* lib/pytis/output/flibdata.py (data_table.table_row): Pou¾ívej
	Pythonové konstanty `True' a `False' namísto na¹ich `TRUE' a
	`FALSE'.

	* lib/pytis/presentation/field.py: V¹ude pou¾ívej Pythonové konstanty
	`True' a `False' namísto na¹ich `TRUE' a `FALSE'.  V¹ude vyu¾ívej
	funkci `is_anystring()' namísto porovnávání s type('').
	(RefSpec.__init__): Pøevádìj `name' pomocí `gettext_()'.
	(FieldSpec.__init__): Pøevádìj `label' a `descr' pomocí
	`gettext_()'.

	* lib/pytis/remote/server.py: V¹ude pou¾ívej Pythonové konstanty `True'
	a `False' namísto na¹ich `TRUE' a `FALSE'.

	* lib/pytis/remote/data.py (_DataChangesWatcher._watcher): Pou¾ívej
	Pythonové konstanty `True' a `False' namísto na¹ich `TRUE' a
	`FALSE'.

	* lib/pytis/util/_test.py (BooleanConstants): Zru¹eno.
	(ListUtils.check_some): Pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE'.

	* lib/pytis/util/configuration.py (Configuration.dump_config_template):
	Vytváøej na zaèátku generovaného souboru také hlavièku Pythonového
	kódování.

	* lib/pytis/util/log.py (Module): V¹ude pou¾ívej Pythonové konstanty
	`True' a `False' namísto na¹ich `TRUE' a `FALSE'.
	(Logger.log): Vyu¾ívej funkci `is_anystring()' namísto porovnávání
	s type('').

	* lib/pytis/util/util.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE'.
	(gettext_): Nová funkce.
	(is_string, is_unicode, is_anystring): Nové funkce.

	* lib/pytis/util/test.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE'.

2004-08-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/_test.py:  V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE'.

	* lib/pytis/data/dbdata.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE'.  V¹ude vyu¾ívej funkci
	`is_anystring()' namísto porovnávání s type('').
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Øetìzcové hodnoty
	pøevádìj do unicode.
	(_pg_encoding): Nová metoda.
	(_pypg_new_connection): Nastavuj `client_encoding' podle
	konfigurace.
	(DBDataPyPgSQL._pg_query): Konvertuj unicode øetìzce do
	`client_encoding'.

	* lib/pytis/data/data.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE'.  V¹ude vyu¾ívej funkci
	`is_anystring()' namísto porovnávání s type('').

	* lib/pytis/data/types_.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE'.  V¹ude vyu¾ívej funkci
	`is_anystring()' namísto porovnávání s type('').

	* lib/pytis/data/xtypes.py: V¹ude pou¾ívej Pythonové konstanty `True' a
	`False' namísto na¹ich `TRUE' a `FALSE'.

	* config/config.py: Pøegenerováno.

	* lib/pytis/util/configuration.py: V¹ude pou¾ívej Pythonové konstanty
	`True' a `False' namísto na¹ich `TRUE' a `FALSE'.
	(Configuration._Option_db_encoding): Nová konfigruraèní volba.
	(Configuration._Option_row_focus_bg_color.default): Vracej `None'.

	* ebas: Pøidán hack s voláním `sys.setdefaultencoding()'.

2004-08-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/*.py: Added Python source encoding tag to all files.

2004-07-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._make_tables):
	Pøi vytváøení seznamu `tables_from' a `tables' zohledni
	`self._complexp'.

2004-08-11  Petr Malivanek  <malivanek@asellus.cz>

	* tools/gensql.py (): Nahrazení TRUE -> True, FALSE -> False

2004-07-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._make_tables):
	Pøi vytváøení seznamu `tables_from' a `tables' zohledni
	`self._complexp'.

2004-08-11  Petr Malivanek  <malivanek@asellus.cz>

	* tools/gensql.py (): Nahrazení TRUE -> True, FALSE -> False

2004-07-16  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): Pøedávej `key_columns'
	v rámci kwargs.	
	(_GsqlView.__init__): Nový argument `table_alias'.
	(_GsqlView._make_tables): Vytváøej dva seznamy tabulek `tables_from'
	a `tables'.
	(_GsqlView.output): Pro klauzuli `from' pou¾ívej seznam
	`tables_from', zatímco pro generování rules pou¾ívej `tables'.	

2004-07-16  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): Pøedávej `key_columns'
	v rámci kwargs.	
	(_GsqlView.__init__): Nový argument `table_alias'.
	(_GsqlView._make_tables): Vytváøej dva seznamy tabulek `tables_from'
	a `tables'.
	(_GsqlView.output): Pro klauzuli `from' pou¾ívej seznam
	`tables_from', zatímco pro generování rules pou¾ívej `tables'.	

2004-07-01  Pavel Hanak  <hanak@asellus.cz>

	* templates/template.py: Pøidáno kódování.

	* tools/gensql.py (_GsqlView.__init__): Zpøehlednìní kódu.
	(_GsqlView._split_columns): Pøejmenování funkce `separate_complex_columns'.
	(_GsqlView._make_tables): Nová funkce.
	(_GsqlView._format_complex_columns): Místo `c.name' testuj `c.sql'.	

2004-07-01  Pavel Hanak  <hanak@asellus.cz>

	* templates/template.py: Pøidáno kódování.

	* tools/gensql.py (_GsqlView.__init__): Zpøehlednìní kódu.
	(_GsqlView._split_columns): Pøejmenování funkce `separate_complex_columns'.
	(_GsqlView._make_tables): Nová funkce.
	(_GsqlView._format_complex_columns): Místo `c.name' testuj `c.sql'.	

2004-06-17  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): Nevytváøej sám seznam
	`key_columns'.
	(_GsqlTable.key_columns): Nová metoda.
	(_GsqlView.output): Pøidán argument `table_keys' a zaji¹tìno
	nastavení `self._key_columns' podle skuteèných `PrimaryColumns'.
	(_GsqlDefs.__init__): Nový atribut `self._table_keys'.
	(_GsqlDefs.add): Pøidej klíèové sloupce tabulek do
	`self._table_keys'. 
	(_GsqlDefs.gensql.process): Pokud je objekt view, pøedávej metodì
	`output' i seznam klíèových sloupcù.

2004-06-17  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): Nevytváøej sám seznam
	`key_columns'.
	(_GsqlTable.key_columns): Nová metoda.
	(_GsqlView.output): Pøidán argument `table_keys' a zaji¹tìno
	nastavení `self._key_columns' podle skuteèných `PrimaryColumns'.
	(_GsqlDefs.__init__): Nový atribut `self._table_keys'.
	(_GsqlDefs.add): Pøidej klíèové sloupce tabulek do
	`self._table_keys'. 
	(_GsqlDefs.gensql.process): Pokud je objekt view, pøedávej metodì
	`output' i seznam klíèových sloupcù.

2004-05-25  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._format_column_doc): O¹etøi
	mo¾né tvary jména sloupce.

2004-05-25  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._format_column_doc): O¹etøi
	mo¾né tvary jména sloupce.

2004-05-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSpec.outputall): Nová metoda.
	(_GsqlTable.outputall): Nová metoda.
	(_GsqlDefs.gensqlall): Nová metoda.
	(_GSQL_OPTIONS): Doplnìna volba 'create-all'.

2004-05-06  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlSpec.outputall): Nová metoda.
	(_GsqlTable.outputall): Nová metoda.
	(_GsqlDefs.gensqlall): Nová metoda.
	(_GSQL_OPTIONS): Doplnìna volba 'create-all'.

2004-03-12  Petr Malivanek  <malivanek@asellus.cz>

	* lib/pytis/presentation/field.py (Color.WHITE): Nová barva LRED.

	* lib/pytis/form/screen.py (_WX_COLORS): Nová barva LRED.

2004-03-11  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): O¹etøi uvedení
	`exclude' sloupce ve tvaru `table.column'.

2004-03-11  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable._make_view): O¹etøi uvedení
	`exclude' sloupce ve tvaru `table.column'.

2004-03-04  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (PopupEditForm.__init__):
	Pøidáno o¹etøení klíèového argumentu `disable_new_button'.

2004-02-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type):
	Oprava testu hodnoty `not_null'.

2004-02-17  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/xtypes.py (_Codebook._validate_retrieve): Neprojde-li
	nìjaké pole validací, vracej `None'.	

	* lib/pytis/data/types_.py (Type._validating_provider): Kosmetická úprava.

2004-02-13  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/types_.py (Type.__cmp__): Oprava chybnì zadané podmínky
	`self._constraints == self._constraints'.
	(Type._validating_provider): Provádìj `self._check_constraints' i
	pro hodnoty ze `_SPECIAL_VALUES'.

2004-02-11  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_on_delete_line): Neprovìøuj záznam
	podle `self.editable'.

2004-02-10  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Pøedávej argument `hide_binding_column'.

	* lib/pytis/form/list.py (SideBrowseForm.__init__): Doplnìn argument
	`hide_binding_column'.
	(SideBrowseForm._init): Vypus» vazební sloupec, pokud je
	nastaveno `hide_binding_column'.

2004-02-09  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/dualform.py (ShowDualForm._create_main_form):
	Nenastavuj atribut `self._sash_position'.

2004-02-02  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Ukládej i atribut `name'.

2004-02-02  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlTable.__init__): Ukládej i atribut `name'.

2004-01-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._on_new_record): Namísto pøímého
	spou¹tìní formuláøe volej novou funkci `new_record().

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nový argument
	`on_new_record'.  Inicializuj `self._on_new_record'.
	(ViewSpec.on_new_record): Nová metoda.

	* lib/pytis/form/application.py (Application.run_procedure): Nová
	metoda.
	(Application.on_command): O¹etøuj pøíkaz
	`Application.COMMAND_RUN_PROCEDURE'.
	(run_procedure): Nová funkce.
	(Application.new_record): Nov metoda.
	(new_record): Nová funkce.
	(Application.on_command): O¹etøuj pøíkaz
	`Application.COMMAND_NEW_RECORD'.

	* lib/pytis/form/command.py: Nový pøíkaz
	`Application.COMMAND_RUN_PROCEDURE'.  Nový pøíkaz
	`Application.COMMAND_NEW_RECORD'.
	

	* lib/pytis/form/dialog.py (RunFormDialog.__init__): Mapuj
	`self._EDIT_FORM' na `PopupEditForm'.

	* lib/pytis/form/form.py (EditForm._create_form): Zji¹»uj pøístupová
	práva k políèkùm pro danou operaci a nastavuj argument
	`accessible' pøi volání `InputField.create()'.

	* lib/pytis/form/inputfield.py (InputField.__init__): Nový argument
	`accessible'.  Nastavuj práva a ediovatelnost podle nìj.
	(InputField.create): Nový argument `accessible'.  Pøedávej jej
	konstruktoru.

2004-01-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._on_change): Prozatím vyøazen
	hack s resetem disabled políèek.

2004-01-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Pokud není
	`self._enabled' volej nakonec také `self._disable()'.
	(InputField._init_controls, InputField._init_controls): Nestarej
	se zde o zakazování èi povolování controlù.
	(InputField._on_idle): Pokud je nastaveno `self._call_on_idle',
	zavolej danou funkci a atribut opìt nastav na None.
	(InputField._on_change): V¹e provádìj pouze pokud je
	`self._enabled'.  Jinak namísto toho provádìj `reset()'.
	(InputField.disable): Nový argument `change_appearance'.  Pou¾ij
	jej pøi volání `self._disable()'.  Update dokumentace.
	(InputField._disable): Nový argument `change_appearance'.
	(GenericField._disable): Nový argument `change_appearance'.
	Zneaktivni políèko jen pokud je `change_appearance' pravda.
	(TextField._create_text_control): Nevytváøej neaktivní políèko ani
	kdy¾ není `self._accessible'.
	(TextField._create_text_control): Validátor vytváøej v¾dy (by» jen
	`wx.wxDefaultValidator') a pøiøaï jej do atributu
	`self._validator'.
	(TextField._enable): Nastavuj také pùvodní validátor.
	(TextField._disable): Nový argument `change_appearance'.  Pokud je
	pravdivý, nastav `self._call_on_idle' na funkci nastavující barvu
	pozadí.  Zru¹ validátor (nastav na `wx.wxDefaultValidator').
	(Invocable._create_widget): Vytváøej tlaèítko v¾dy (i pokud
	políèko není aktivní).
	(Invocable._disable): Nový argument `change_appearance'.  Pou¾ij
	jej pøi volání `self._call_next_method()'.
	(CodeBookField._DISPLAY_COLOR): Zru¹eno.
	(CodeBookField._create_widget): Pou¾ij svìtlej¹í barvu pozadí pro
	display.
	(HiddenField._disable): Nový argument `change_appearance'.
	(ListField._disable): Nový argument `change_appearance'.
	(_TextValidator._on_char): O¹etøuj pøípad, kdy je `self._filter'
	None.  Opravena chyba v podmínce zji¹tìní platné klávesy.
	(TextField._create_text_control): Vytváøej `_TextValidator' i
	pokud je `filter' None.
	(TextField._filter): Nová metoda.
	(TextField._disable): Vytváøej nový `_TextValidator' pro ka¾dý
	control.

	* lib/pytis/form/form.py (Form._menus): Vyu¾ívejvej
	`RecordForm.UI_ACCESS_*'.
	(RecordForm.UI_ACCESS_INSERT, RecordForm.UI_ACCESS_UPDATE)
	(RecordForm.UI_ACCESS_DELETE): Nové konstanty.
	(RecordForm.on_ui_event): Nová metoda.  O¹etøuj
	`RecordForm.UI_ACCESS_*'.
	(EditForm.init): Volání enable/disable na políèka provádìj i v
	závislosti na editovatelnosti celého formuláøe.  Pro
	needitovatelný formuláø pøedávej `change_appearance=TRUE' pøi
	volání `field.disable()'.
	(EditForm._create_form): Neøe¹ nic kolem
	editovatelnisti/needitovatelnosti políèek/formuláøe.
	(EditForm._commit_form): Proveï v¹e i pokud je formuláø nezmìnìn.

	* lib/pytis/form/list.py (on_ui_event): Nakonec volej metodu pøedka.

	* lib/pytis/util/configuration.py
	(Configuration._Option_row_focus_bg_color.default): Vracej
	systémovou barvy zvýraznìní výbìru.
	(Configuration._Option_field_disabled_color)
	(Configuration._Option_field_inaccessible_color): Nové
	konfiguraèní volby.

	* lib/pytis/presentation/field.py (PresentedRow.accessible): Nová
	metoda, která v¹ak nakonec není zatím nikde vyu¾ita, tak¾e je
	zatím zakomentována.

2004-01-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/wx.py: Pøidán copyright 2004 a nastaveno kódování jako
	pøíznak pro Pythonový parser.

	* lib/pytis/util/configuration.py
	(Configuration._Option_row_focus_bg_color.default): Pou¾ij
	systémovou barvu (získamou pøes
	`wxPython.misc2.wxSystemSettings_GetColour()'.
	(Configuration._Option_grid_line_color.default): Nová volba.
	(Configuration._Option_grid_line_color.default): Nová volba.

	* lib/pytis/form/inputfield.py (InputField.__init__): Nastavuj
	`self._accessible' a `self._editable' s ohledem na pøístupová
	práva.  Pokud není accessible, volej nakonec
	`self._register_skip_navigation_callback()'.
	(InputField._init_controls): Pokud není `self._enabled' zaka¾ vstup.
	(InputField.enable): V¹e provádìj jen pokud je accessible.
	(InputField.disable): V¹e provádìj jen pokud je accessible.
	(TextField._text_control_style): Pokud není accessible, nastavuj
	také `wx.wxTE_READONLY'.

	* lib/pytis/data/access.py: Pøidán copyright 2004.
	(RestrictedData.accessible): `self._rights' ->
	`self._access_rights'.  `self._acccess_groups' ->
	`self.access_groups'.

2004-01-19  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/types_.py (DateTime._validate): Zru¹ omezení na data,
	která mají rok men¹í ne¾ 1000.	
	(Time.SQL_FORMAT): Nová konstanta.
	(Time._validate): Nastavuj "kwargs['local']" na FALSE.
	(Time._export): Nastavuj "kwargs['local']" na FALSE.

	* lib/pytis/form/application.py (Application.__init__): Konstruktor
	'KeyHandler' volej pøed konstruktorem 'wx.wxApp'.

2004-01-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py: Pøidán copyright 2004.  Na zaèátku
	souboru uvádìj kódování jako pøíznak pro Pythonový parser.
	(PresentedRow._process_fieldspec): Inicializuj
	`self._editability_dirty'.
	(PresentedRow._compute_editability): Nová metoda.
	(PresentedRow._recompute_editability): Pokud není tøeba volat
	callbacky, pouze oznaè hodnotu jako "dirty".  Vyu¾ívej metodu
	`_compute_editability()'.
	(PresentedRow.editable): Pokud je editovatelnost políèka "dirty",
	pøepoèítej ji.

	* lib/pytis/presentation/_test.py: Run `unittest.main()' without
	arguments.
	(PresentedRow): All methods with `check_' prefix renemed to use
	the `test_' prefix.  Why does `check_*' no longer work?
	(PresentedRow.test_editable): New test.
	(PresentedRow.test_editability_callbacks): New Test.

	* lib/pytis/form/inputfield.py: Pøidán copyright 2004.  Na zaèátku
	souboru uvádìj kódování jako pøíznak pro Pythonový parser.
	
	* lib/pytis/form/form.py: Pøidán copyright 2004.
	(EditForm.init): Pokud je políèko editovatelné, volej `enable()'.

	* lib/pytis/data/dbdata.py: Na zaèátku souboru uvádìj kódování jako
	pøíznak pro Pythonový parser.  Pøidán copyright 2004.
	(PostgreSQLStandardBindingHandler._pg_skip): O¹etøuj zmìnìný typ
	návratové hodnoty `_pg_query' po pøechodu na PostgreSQL 7.4.

2003-12-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (show_popup_menu): Pøepoèítávej pozici po
	scrollování.

	* lib/pytis/form/application.py (Application.run_form): Hack: pøejdi na
	po¾adovaný øádek, pokud formuláø podporuje metodu `select_row()'.

	* lib/pytis/form/dualform.py (DualForm.select_row): Nová metoda.
	(SideBrowseDualForm.title): Oddìluj názvy øetìzcem ' :: ' namísto
	lomítka, se kterým jsou problémy.
	(DualForm.show_popup_menu): Nová metoda.

2003-12-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.show_popup_menu): Nová metoda.
	(InputField._on_popup_menu): Vyu¾ívej ji.

	* lib/pytis/form/command.py: Nový pøíkaz
	`Application.COMMAND_SHOW_POPUP_MENU'.

	* config/config.py: Pøegenerován.

	* lib/pytis/form/form.py: Na zaèátku souboru uvádìj kódování jako pøíznak pro
	Pythonový parser.
	(EditForm.__init__): Nastavuj `self._new' je¹tì pøed voláním
	konstruktoru pøedka.
	(EditForm._commit_form): Nový nepovinný argument `close'.  Pokud
	je pravdivý, nezavírej okno formuláøe.
	(PopupEditForm._on_next): Nová metoda.
	(PopupEditForm._create_buttons): Pokud jde o formuláø pro
	vytvoøení nového záznamu, vytváøej také tlaèítko pro vlo¾ení
	dal¹ího záznamu.
	(PopupEditForm._create_buttons): Nastav tlaèítkùm tooltipy.
	(Form.show_popup_menu): Nová metoda.
	(EditForm.show_popup_menu): Nová metoda.

	* lib/pytis/form/application.py (Application.refresh): Nová metoda.
	(refresh): Nová funkce.
	(_application): Pøíkaz `Application.COMMAND_REFRESH' o¹etøuj
	voláním self.refresh().
	(Application.on_command): Zpracuj
	`Application.COMMAND_SHOW_POPUP_MENU'.

	* lib/pytis/form/list.py (ListForm._CELL_HIGHLIGHT_COLOR): Zru¹eno.
	(ListForm._GRID_LINE_COLOR): Zru¹eno.
	(ListForm._FILTER_COLOR): Zru¹eno.
	(ListForm._create_grid): Namísto `self._CELL_HIGHLIGHT_COLOR' a
	`self._GRID_LINE_COLOR' vyu¾ívej `config.cell_highlight_color' a
	`config.grid_line_color'.
	(ListForm._create_recreate_grid): Namísto `self._FILTER_COLOR'
	vyu¾ívej `config.filter_color'.
	(ListForm._on_export_csv): Neimportuj `config'.
	(ListForm._FOCUS_COLORS, ListForm._NOFOCUS_COLORS)
	(ListForm._EDIT_COLORS): Zru¹eno
	(Module): Na zaèátku souboru uvádìj kódování jako pøíznak pro
	Pythonový parser.
	(ListForm._change_selection_colors): Pøejmenováno na
	`_update_selection_colors'.  Argument `colors' zru¹en.  Vyu¾ívej
	konfiguraèních voleb, namísto konstant.
	(ListForm._on_select_cell, ListForm._on_edit)
	(ListForm._on_insert_line, ListForm._on_line_rollback)
	(ListForm._recreate_grid, ListForm.focus, ListForm.defocus):
	Namísto metody `_change_selection_colors()' vyu¾ívej
	`_update_selection_colors()'.
	(ListForm._select_cell): Vracej nepravdu, pokud je políèko
	needitovatelné, pravdu v ostatních pøípadech.
	(ListForm._on_edit): Odejdi z editace pokud `self._edit_cell()'
	vrátí nepravdu.
	(ListForm.show_popup_menu): Nová metoda.
	(ListForm._on_popup_menu): Vyu¾ívej ji.

	* lib/pytis/util/configuration.py
	(Configuration._Option_grid_line_color): Nová tøída.
	(ConfigDB.__init__): Uzavírej po sobì select.
	(Configuration._Option_filter_color): Nová tøída
	(Configuration._read_configuration_file): Ignoruj None hodnoty ve
	zdrojovém slovníku.
	(Configuration._Option_row_nofocus_bg_color.default): Zmìna hodnoty.

2003-12-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pro `declare cursors' doplnìno klíèové slovo `scroll' kvùli
	kompatibilitì s Postgresql7.4.

2003-12-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (Calendar): Oprava docstringu.
	(Calendar._customize_result): Zru¹en neaktuální docstring.
	(ColorSelector): Nová tøída.

	* lib/pytis/data/types_.py (Color): Nová tøída.

	* lib/pytis/presentation/_test.py (PresentedRow.check_keys): Nový test.

	* lib/pytis/presentation/field.py (PresentedRow.keys): Nová metoda.

	* lib/pytis/util/configuration.py:
	(Configuration._Option_show_tooltips)
	(Configuration._Option_show_splash)
	(Configuration._Option_row_focus_fg_color) 
	(Configuration._Option_row_focus_bg_color) 
	(Configuration._Option_row_nofocus_fg_color) 
	(Configuration._Option_row_nofocus_bg_color) 
	(Configuration._Option_row_edit_fg_color) 
	(Configuration._Option_row_edit_bg_color) 
	(Configuration._Option_cell_highlight_color): Nové volby.
	

	* lib/pytis/form/inputfield.py (InputField._init_controls): Nastav
	tooltip, pouze pokud to povoluje konfigurace.
	(ColorSelectionField): Nová tøída.
	(InputField.create): Pro datový typ `lib.data.Color' vytváøej pole
	typu `ColorSelectionField'.

	* lib/pytis/form/list.py (Module): Odstranìn zapomenutý print.
	(_create_grid): Vyu¾ívej `config.cell_highlight_color'.
	(ListForm._CELL_HIGHLIGHT_COLOR): Zru¹eno.

2003-12-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.merge): Nová metoda.
	(ConfigDB): Nová tøída.

	* lib/pytis/form/list.py (ListForm._TITLE_BACKGROUND_COLOR): Zru¹eno.

2003-12-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.__init__): Nenastavuj
	`self._sash_position'.
	(DualForm._sash_position): Nová metoda.
	(DualForm._on_size_hook): Nová metoda.
	(DualForm.OnSize): Namísto promìnné `self._sash_position' vyu¾ívej
	stejnojmennou funkci.  Volej `self._on_size_hook()'.
	(ShowDualForm._sash_position): Nová metoda.
	(ShowDualForm._on_size_hook): Nová metoda.
	(DescriptiveDualForm._create_side_form): Nenastavuj
	`self._sash_position'.
	(DescriptiveDualForm._sash_position): Nová metoda.
	(DescriptiveDualForm._on_size_hook): Nová metoda.

	* lib/pytis/form/screen.py (Window): Namísto `wx.wxPanel' buï
	potomkem `wx.wxScrolledWindow'.
	(Window.__init__): Respektuj to.

	* lib/pytis/form/form.py (EditForm.set_scrollbars): Nová metoda.
	(ShowForm.OnSize): Vyu¾ívej ji.

	* lib/pytis/form/inputfield.py (InputField._init_controls): Nastav
	tooltip, pokud je definov8no `descr' ve specifikaci'

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Nový argument
	`descr'.
	(FieldSpec.column_label): Nová metoda.

2003-12-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (ListForm): Zmìny konstant barev.
	(ListForm._GRID_LINE_COLOR): Nová konstanta.
	(ListForm._CELL_HIGHLIGHT_COLOR): Nová konstanta.
	(_create_grid): Vyu¾ívej nové konstanty k nastavení barev.

	* lib/pytis/form/screen.py (MenuBar._create_menu): Nová metoda.
	(MenuBar._append_menu): Nová metoda.
	(MenuBar._replace_menu): Nová metoda.
	(MenuBar._remove_menu): Nová metoda.
	(MenuBar.add_menu): Pokud menu ji¾ existuje, nahraï jej.
	(MenuBar.activate): Vykonej v¹e i pokud je nová aktivace stejná
	jako pùvodní.  Vyu¾ívej `_append_menu()' a `_remove_menu'.
	Dynamická menu vytváøej poka¾dé znovu.
	(Menu.__init__): Inicializuj `self._dynamic'.
	(Menu.dynamic): Nová metoda.

	* lib/pytis/form/output.py (PrintForm._menus): Pøejmenováno menu `Tisk'
	-> `Vytisknout'.

	* lib/pytis/form/form.py (Form._menus): Definuj tiskové podmenu jako
	hlavní menu.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Povol pro polo¾ky
	`popup_menu' také `MSeparator' a `Menu'.

	* lib/pytis/form/dualform.py (SideBrowseDualForm.title): Nová metoda.

2003-12-08  Tomas Cerha  <cerha@brailcom.org>

	All files without general significance removed.

2003-12-08  Tomas Cerha  <cerha@brailcom.org>

	All files without general significance removed.

2003-12-03  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Vytváøej správný seznam `Values' pro `select_row' CodeBooku.

2003-12-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Pøedávej konstruktoru `CodeBook' hodnotu `begin_search' pouze jako boolean.

	* lib/pytis/form/list.py (ListForm._on_incremental_search): Akceptuj také sloupce
	typu `Codebook'.
	(CodeBook.__init__): Nech» je hodnotou argumentu `begin_search'
	pouze boolean.
	(CodeBook._on_idle): Urèi vyhledávací sloupeèek automaticky podle tøídìní.

2003-11-18  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/list.py (_change_selection_colors): Kvùli zamezení
	rekurze pou¾ij pro metodu select_row() èíslo aktuálního øádku.

2003-09-23  Petr Malivanek  <malivanek@akont.cz>

	* lib/pytis/presentation/field.py (TextFilter): Nová konstanta FLOAT.

	* lib/pytis/form/inputfield.py (TextField): Nová konstanta FLOAT.
	(TextField._filter_func): Doplnìno do slovníku mapping:
	"TextFilter.FLOAT: self.FLOAT" 

2003-12-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (CodeBook.__init__): Kosmetické úpravy zpùsobu
	zpracování kwargs.  Nový argument `begin_search'.
	(CodeBook._on_idle): Nová metoda.

	* lib/pytis/form/inputfield.py (Invocable._create_widget): Pro o¹etøení
	`EVT_BUTTON' volej `self._on_invoke_selection()' bez argumentù.
	(Invocable._on_invoke_selection, DateField._on_invoke_selection)
	(DateField._on_invoke_selection): Definuj argumenty obecnì jako
	`**kwargs'.
	(Invocable.on_command): O¹etøuj pøíkaz
	`Invocable.COMMAND_INVOKE_SELECTION_ALTERNATE'.
	(CodeBookField._on_invoke_selection): Nový argument `alternate' a
	implementace pøíkazu
	`Invocable.COMMAND_INVOKE_SELECTION_ALTERNATE' vyvoláním èíselníku
	s nastartovaným inkrementálním vyhledáváním.
	(CodeBookField._menu): Nová polo¾ka pro pøíkaz
	`Invocable.COMMAND_INVOKE_SELECTION_ALTERNATE'.

	* lib/pytis/form/command.py (Module): Nový pøíkaz
	`Invocable.COMMAND_INVOKE_SELECTION_ALTERNATE'.

2003-10-22  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/inputfield.py (ListField._menu): Opravena chyba pro
	generování menu bez urèených `returned_columns'.

2003-10-07  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/presentation/field.py (RefSpec.__init__): Nový parametr
	`returned_columns'.
	(RefSpec.returned_columns): Nová metoda.
	(PresentedRow._process_fieldspec): Nový atribut `self._refvalues'.
	(PresentedRow.refvalue): Nová metoda.
	(PresentedRow.listfield_choose): Nová metoda. 

	* lib/pytis/form/inputfield.py (ListField._create_controls): Nové
	atributy `self._colspec', `self._get_item'.
	(ListField._choose_returned_column): Nová metoda.
	(ListField.get_item): Nová metoda.
	(ListField._menu): Vytváøej `user_popup'.
	(ListField.on_command): O¹etøi volání pøíkazu
	`ListField.COMMAND_CHOOSE_KEY'.

	* lib/pytis/form/form.py (EditForm.on_command): O¹etøi volání pøíkazu
	`ListField.COMMAND_CHOOSE_KEY'.

	* lib/pytis/form/command.py: Nový pøíkaz `ListField.COMMAND_CHOOSE_KEY'.

2003-10-02  Pavel Hanak  <hanak@asellus.cz>

	* lib/pytis/form/form.py (EditForm._on_field_enable): Volej `enable'
	pouze na políèka, která jsou v layoutu.
	(EditForm._on_field_disable): Volej `disable' pouze na políèka,
	která jsou v layoutu.

2003-09-23  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/inputfield.py (InputField._on_change): Pro volání
	`self._post_process()' znepøístupni event handlery (aby
	nedocházelo k rekurzi).
	(TextField._post_process): Nová funkce.
	(InlineMultiTextField._post_process): Nová funkce.

2003-09-18  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Zohledòuj mo¾nost, ¾e v `returned_columns' nejsou pouze stringy.

2003-08-26  Petr Malivanek  <malivanek@akont.cz>

	* tools/gensql.py (_GsqlView._format_rule): Podmínka pøi vytváøení
	WHERE podmínky pro UPDATE a DELETE rule se neporvnává se sting
	'table', ale s promìnou table.
	(_GsqlView.output): Seznam tabulek z kerých se vytváøí view se
	bere jako seznam unikátních prvkù seznamu self._tables. Seznam
	se vytvoøí do promìné tables_unique.

2003-10-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (ViewColumn.__init__): Pøidán argument `type'.
	(_GsqlView._make_complex_tables): O¹etøena mo¾nost výskytu `None'
	v `c.name[i]'.
	(_GsqlView._format_complex_columns): Vyu¾ívej `c.type' pro
	zji¹tìní typu sloupce.

2003-10-22  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._format_rule): Negeneruj `insert'
	ev. `update' rule pro prázdný seznam `insert' a `update' sloupcù.
	(ViewColumn.__init__): Opraven chybný assert.
	(_GsqlView._complex_columns_length): Opraveno chybné zji¹»ování
	`_complex_columns_length' pro `name=None'.

2003-10-02  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView.__init__): Nové atributy
	`self._complexp', `self._simple_columns', `self._complex_columns'
	`self._complex_len'.
	(_GsqlView._separate_complex_columns): Nová metoda pro zji¹»ování
	`complex_columns'.
	(_GsqlView._complex_columns_length): Nová metoda zji¹»ující
	velikost `complex_columns'.
	(_GsqlView._make_complex_tables): Nová metoda zji¹»ující tabulky
	pou¾ité pro jednotlivé selecty v unionu.
	(_GsqlView._format_column): Zohledni mo¾nost výskytu sekvence
	nejen v `column.name', ale i v `column.sql'.
	(_GsqlView._format_complex_columns): Upraveno s vyu¾itím nových
	atributù a opraveno chybné generování èárky na zaèátku seznamu
	sloupcù.
	(_GsqlView._format_rule): Zji¹»uj sloupce pro defaultní rules jen
	u  view, kde nejsou `complex_columns', jinak generuj rule
	'NOTHING' nebo explicitnì uvedený.
	(_GsqlView.output): Nezji¹»uj `tables_unique' - u¾ ho máme v
	`self._tables'. Generuj správnì klauzuli `where' pro jednotlivé
	selecty `union all'.

2003-09-23  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._make_view): Umo¾ni pøedat vlastní
	seznam `key_columns'.
	(_GsqlView._format_rule): Doplnìna podpora pro defaultní rules,
	které v pøípadì `insert' vkládají do pøíslu¹ných tabulek, a v
	pøípadì `update' aktualizují pøíslu¹né tabulky.	
	(ViewColumn.__init__): Nová argumenty `insert', `update'.
	(_GsqlView._format_rule): Doplnìna podpora pro defaultní delete
	rule. Úpravy ve formátování. Vyu¾ívej podporu pro specifikaci
	`insert' a `update' u `ViewColumn'.	

2003-09-16  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (ViewColumn.__init__): Doplnìn atribut `sql' pro
	specifikaci sql výrazu jako view sloupce.
	(_GsqlView.__init__): Seznam tabulek `self._tables' tvoø v¾dy na
	základì seznamu sloupcù.
	(_GsqlView._format_column): Existuje-li specifikace `column.sql'
	pou¾ij ji jako `cname'.

2003-09-02  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._grant_command): Pøedefinuj metodu
	kvùli generování práv pro sekvence.
	(_GsqlTable._make_view): Jméno tabulky pøidávej v¾dy do 'depends'.
	(_GsqlTable.output): Pro políèka `SERIAL' generuj 'GRANT' pøíkaz
	na sekvenci.
	(_GsqlTable.__init__): V `self._init_columns' uvádìj v¾dy jen
	jméno sloupce bez tabulky.

2003-08-28  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._column_column): Nová metoda.
	(_GsqlTable._make_view): Pou¾ívej ji pro filtrování sloupcù
	uvedených v `exclude'.
	(_GsqlTable._format_column): Pou¾ívej ji pro pøípadné odstranìní
	jména tabulky ze jména sloupce.
	(_GsqlTable.output): Nezapisuj výstup pro `self._views' (kvùli
	poøadí v závislostech).
	(_GsqlDefs.add): Je-li pøidávaná specifikace `_GsqlTable',
	pøidávej i pøípadná definovaná `view' ze `self._views'.

2003-08-27  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._full_column_name): Nová funkce.
	(_GsqlTable._make_view): Pou¾ívej jméno sloupce v¾dy ve tvaru
	TABULKA.SLOUPEC.
	(_GsqlView.__init__): Pokud není název tabulky v columns,
	ulo¾ do `self._tables' `name'.
	(_GsqlView._format_rule): Sestavuj správnì podmínky ve `WHERE'.

2003-08-26  Petr Malivanek  <malivanek@akont.cz>

	* tools/gensql.py (_GsqlView._format_rule): Podmínka pøi vytváøení
	WHERE podmínky pro UPDATE a DELETE rule se neporvnává se sting
	'table', ale s promìnou table.
	(_GsqlView.output): Seznam tabulek z kerých se vytváøí view se
	bere jako seznam unikátních prvkù seznamu self._tables. Seznam
	se vytvoøí do promìné tables_unique.

2003-10-27  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (ViewColumn.__init__): Pøidán argument `type'.
	(_GsqlView._make_complex_tables): O¹etøena mo¾nost výskytu `None'
	v `c.name[i]'.
	(_GsqlView._format_complex_columns): Vyu¾ívej `c.type' pro
	zji¹tìní typu sloupce.

2003-10-22  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView._format_rule): Negeneruj `insert'
	ev. `update' rule pro prázdný seznam `insert' a `update' sloupcù.
	(ViewColumn.__init__): Opraven chybný assert.
	(_GsqlView._complex_columns_length): Opraveno chybné zji¹»ování
	`_complex_columns_length' pro `name=None'.

2003-10-02  Pavel Hanak  <hanak@asellus.cz>

	* tools/gensql.py (_GsqlView.__init__): Nové atributy
	`self._complexp', `self._simple_columns', `self._complex_columns'
	`self._complex_len'.
	(_GsqlView._separate_complex_columns): Nová metoda pro zji¹»ování
	`complex_columns'.
	(_GsqlView._complex_columns_length): Nová metoda zji¹»ující
	velikost `complex_columns'.
	(_GsqlView._make_complex_tables): Nová metoda zji¹»ující tabulky
	pou¾ité pro jednotlivé selecty v unionu.
	(_GsqlView._format_column): Zohledni mo¾nost výskytu sekvence
	nejen v `column.name', ale i v `column.sql'.
	(_GsqlView._format_complex_columns): Upraveno s vyu¾itím nových
	atributù a opraveno chybné generování èárky na zaèátku seznamu
	sloupcù.
	(_GsqlView._format_rule): Zji¹»uj sloupce pro defaultní rules jen
	u  view, kde nejsou `complex_columns', jinak generuj rule
	'NOTHING' nebo explicitnì uvedený.
	(_GsqlView.output): Nezji¹»uj `tables_unique' - u¾ ho máme v
	`self._tables'. Generuj správnì klauzuli `where' pro jednotlivé
	selecty `union all'.

2003-09-23  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._make_view): Umo¾ni pøedat vlastní
	seznam `key_columns'.
	(_GsqlView._format_rule): Doplnìna podpora pro defaultní rules,
	které v pøípadì `insert' vkládají do pøíslu¹ných tabulek, a v
	pøípadì `update' aktualizují pøíslu¹né tabulky.	
	(ViewColumn.__init__): Nová argumenty `insert', `update'.
	(_GsqlView._format_rule): Doplnìna podpora pro defaultní delete
	rule. Úpravy ve formátování. Vyu¾ívej podporu pro specifikaci
	`insert' a `update' u `ViewColumn'.	

2003-09-16  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (ViewColumn.__init__): Doplnìn atribut `sql' pro
	specifikaci sql výrazu jako view sloupce.
	(_GsqlView.__init__): Seznam tabulek `self._tables' tvoø v¾dy na
	základì seznamu sloupcù.
	(_GsqlView._format_column): Existuje-li specifikace `column.sql'
	pou¾ij ji jako `cname'.

2003-09-02  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._grant_command): Pøedefinuj metodu
	kvùli generování práv pro sekvence.
	(_GsqlTable._make_view): Jméno tabulky pøidávej v¾dy do 'depends'.
	(_GsqlTable.output): Pro políèka `SERIAL' generuj 'GRANT' pøíkaz
	na sekvenci.
	(_GsqlTable.__init__): V `self._init_columns' uvádìj v¾dy jen
	jméno sloupce bez tabulky.

2003-08-28  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._column_column): Nová metoda.
	(_GsqlTable._make_view): Pou¾ívej ji pro filtrování sloupcù
	uvedených v `exclude'.
	(_GsqlTable._format_column): Pou¾ívej ji pro pøípadné odstranìní
	jména tabulky ze jména sloupce.
	(_GsqlTable.output): Nezapisuj výstup pro `self._views' (kvùli
	poøadí v závislostech).
	(_GsqlDefs.add): Je-li pøidávaná specifikace `_GsqlTable',
	pøidávej i pøípadná definovaná `view' ze `self._views'.

2003-08-27  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlTable._full_column_name): Nová funkce.
	(_GsqlTable._make_view): Pou¾ívej jméno sloupce v¾dy ve tvaru
	TABULKA.SLOUPEC.
	(_GsqlView.__init__): Pokud není název tabulky v columns,
	ulo¾ do `self._tables' `name'.
	(_GsqlView._format_rule): Sestavuj správnì podmínky ve `WHERE'.

2003-08-22  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (CodeBook.select_row): O¹etøi prázdné Codebooky
	testem, zda `result > 0'.

2003-08-22  Miroslav Macek  <macek@asellus.cz>

	* ebas-server: Dokumentace je v iso-8859-2 (Python2.3)

	* ebas: Dokumentace je v iso-8859-2 (Python2.3)

2003-08-22  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs.check_db): Oprava chybného pøedání
	jména metodì `db_remove'.

2003-08-22  Miroslav Macek  <macek@asellus.cz>

	* tools/gensql.py: Dokumentace je v iso-8859-2 (Python2.3)

2003-08-22  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs.check_db): Oprava chybného pøedání
	jména metodì `db_remove'.

2003-08-22  Miroslav Macek  <macek@asellus.cz>

	* tools/gensql.py: Dokumentace je v iso-8859-2 (Python2.3)

2003-08-21  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs._add_resolved): Nová metoda.
	(_GsqlDefs.add): Pou¾ívej ji.
	(_GsqlDefs._update_unresolved): Pou¾ívej ji.
	(_GsqlSpec._revoke_command): Skupiny uvozuj klíèovým slovem "GROUP".

2003-08-21  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs._add_resolved): Nová metoda.
	(_GsqlDefs.add): Pou¾ívej ji.
	(_GsqlDefs._update_unresolved): Pou¾ívej ji.
	(_GsqlSpec._revoke_command): Skupiny uvozuj klíèovým slovem "GROUP".

2003-08-20  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs._update_unresolved): Oprava chyby,
	kdy se metodì `self._resolvedp' pøedávalo pouze jméno.
	(_GsqlRaw.__init__): Doplnìna mo¾nost zadat "name" pro _GsqlRaw
	objekt.

2003-08-20  Pavel Hanak  <hanak@brailcom.cz>

	* tools/gensql.py (_GsqlDefs._update_unresolved): Oprava chyby,
	kdy se metodì `self._resolvedp' pøedávalo pouze jméno.
	(_GsqlRaw.__init__): Doplnìna mo¾nost zadat "name" pro _GsqlRaw
	objekt.

2003-07-01  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Pokud je aktivován IncrementalSearch, neprovádìj aktualizaci
	`side_form', aby nedo¹lo k likvidaci widgetu.

2003-06-25  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (ListForm._ListTable._EditedRow.__init__):
	Importuj `lib.data'.

2003-06-19  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (DescriptiveDualForm._on_side_selection):
	Metodì `select_row' pøedávej instanci Row.

	* lib/pytis/form/form.py (RecordForm.set_row): Revert pøedchozí úpravy
	(tedy pøedávej instanci PresentedRow).

2003-06-18  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/application.py: Zkou¹ej import `Pyro.util' jen, je-li k
	dispozici `config.server'.

2003-06-13  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (RecordForm.set_row): Pomocí volání metody
	row.row() zajisti pøedání instance Row nikoli PresentedRow.
	(BrowsableShowForm.__init__): Volej self._init_select() a nastav
	status bar.
	(BrowsableShowForm._set_row): Nastavuj status bar.
	(BrowsableShowForm._set_status): Nová metoda.

	* lib/pytis/form/dualform.py (DescriptiveDualForm._do_selection):
	Metodì `self._side_form.set_row' pøedávej instanaci PresentedRow
	nikoli instanci Row.

2003-06-11  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (Form._create_data_object): O¹etøi import
	`lib.data'.

	* lib/pytis/form/list.py (ListForm._ListTable._EditedRow.__init__):
	`lib.remote' importuj, jen kdy¾ existuje `server'.
	
	* lib/pytis/form/form.py (Form._create_data_object): `lib.remote'
	importuj, jen kdy¾ existuje `server'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLUserGroups._pgg_retrieve_access_groups): Pøi zji¹»ování
	pøíslu¹nosti ke skupinám je tøeba místo `regepx.match' pou¾ít
	`regexp.search'.

2003-06-06  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py: `lib.remote' importuj jen pou¾ívá-li se proxy.

2003-05-27  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm): Konstanta
	`_SELECTION_TICK' nastavena na 1.

2003-05-26  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLUserGroups._pgg_retrieve_access_groups): Regulární
	výraz pro u¾ivatele obsahuje uid, nikoli jméno.

2003-05-07  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (EditForm._on_row_change): Políèko zji¹»uj sám
	(ne pomocí self._field, kde Computery ztroskotají na assert).

2003-04-25  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/output/formatter.py (LoutFormatter.printdirect): Nová metoda.

2003-04-04  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (): Pøidán parametr 'lc_numeric'.

2003-04-04  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (BrowseForm._formatter_parameters): Pøidán i
	parametr `P_ROW'.

2003-04-02  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (BrowseForm._formatter_parameters): Pøidán i
	parametr `P_KEY'.

2003-04-01  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.last_select_condition):
	Vra» poslední pou¾itou podmínku.

2003-03-21  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (_on_export_csv._process_table): Pøi exportu
	víceøádkových textových políèek nahraï konce øádkù støedníkem.

2003-03-20  Pavel Hanak  <hanak@brailcom.cz>

	* config/config.py: Pøegenerován.

	* lib/pytis/util/configuration.py
	(Configuration._Option_export_encoding): Nová volba.

	* lib/pytis/form/list.py (_on_export_csv): Pøi exportu float polo¾ek
	nepou¾ívej `locale' formát. U textových polo¾ek zohledni
	konfiguraèní parametr `export_encoding'. Wildcards roz¹iø o
	`*.txt'.
	(select_row): Metoda nyní akceptuje i `**kwargs'. Existuje-li
	kwarg `_search_cols', zohledni ho pøi sestavování podmínky pro
	nalezení øádku.
	(CodeBook.__init__): Zohledni `_search_cols'.
	(CodeBook.select_row): Pøedefinování metody zohledòuje to, ¾e
	`_returned_columns' Codebooku nemusí být klíèovými sloupci.

	* lib/pytis/form/inputfield.py (InputField.create): Pøi testování typu
	pou¾ij místo `Codebook' pøedka `_Codebook'.
	(EnumerationField._values): Pøi testování typu pou¾ij místo
	`Codebook' pøedka `_Codebook'.
	(MultiTextField._set_value): Místo testu `values' na prázdný
	øetìzec, provádìj test na prázdnou sekvenci.
	(CodeBookField._set_value): Pøedefinování metody - pøedkovi
	pøedává jako argument v¾dy tuple.
	(CodeBookField._on_invoke_selection): Pøi vytváøení instance
	String u¾ nepou¾ívej `make'. Metodì `set_value' pøedávej tuple.

	* lib/pytis/data/xtypes.py (SingleCodebook.internal_columns): Nová
	metoda vrací interní sloupec i jako tuple.
	(SingleCodebook._validate): Doplnìn keyword argument `strict'.
	(SingleCodebook._export): Pøedefinovaná metoda u¾ nevrací tuple.
	(Codebook): Je nyní SingleCodebook.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template): Pøi testování
	typu pou¾ij místo `Codebook' pøedka `_Codebook'.
	(DBDataPostgreSQL._pg_create_make_row_template): Pro zji¹tìní
	`internal_columns' u SingleCodebooku pou¾ij také metodu
	`type.internal_columns()'.
	(DBDataPostgreSQL._pg_value): Pøi zji¹»ování hodnoty `exported'
	zohledni rozdíl mezi `SingleCodebook' a `MultiCodebook'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pøi testování typu pou¾ij místo `Codebook' pøedka `_Codebook'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pøi vytváøení `btype' zohledni rozdíl mezi `SingleCodebook' a
	`MultiCodebook'.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Pøi testování typu pou¾ij místo `Codebook' pøedka `_Codebook'.	

2003-03-14  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (date_time_format): Upraven.

2003-03-11  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/util/configuration.py
	(Configuration._Option_export_directory): Nová volba.

	* lib/pytis/form/list.py (_on_export_csv): Exportní adresáø èti z configu.

	* config/config.py: Pøegenerován.

2003-03-10  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/util/configuration.py (Configuration._Option_lc_numeric):
	Nová volba.

	* lib/pytis/form/list.py (on_command): O¹etøi nový pøíkaz.
	(_on_export_csv): Obslu¾ná rutina pro nový pøíkaz. 

	* lib/pytis/form/form.py (Form._menus): Doplnìn pøíkaz
	`ListForm.COMMAND_EXPORT_CSV'.

	* lib/pytis/form/command.py: Nový pøíkaz `ListForm.COMMAND_EXPORT_CSV'.

	* lib/pytis/data/types_.py (Float._validate): Získej value ze stringu
	s vyu¾itím modulu `locale'.
	(Float._export): Zohledòuj locales.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_value): Je-li value
	instancí Float, zohledòuj nastavení locales pro export.

	* config/config.py: Pøegenerován.

	* ebas (run_application): Zru¹eno nastavení LC_NUMERIC na `C',
	místo toho se nastavuje podle konfigurace.

2003-03-07  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (): Pøidán printing_command.

2003-03-06  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/inputfield.py (InputField._init_controls): Nenastavuj
	EVT_NAVIGATION_KEY callback.
	(InputField._register_skip_navigation_callback): Nová metoda.
	(InputField._unregister_skip_navigation_callback): Nová metoda.
	(InputField.enable): Volej `_unregister_skip_navigation_callback'.
	(InputField.disable): Volej `_register_skip_navigation_callback'.
	(_register_skip_navigation_callback): Testuj `control' na `None'.
	(_unregister_skip_navigation_callback): Testuj `control' na `None'.

2003-03-04  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/screen.py (color_dictionary): Nová funkce.
	(_WX_COLORS_DATABASE): Nová konstanta.
	(color2wx): Hledej barvu i ve _WX_COLORS_DATABASE.

2003-02-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (_TypeCheck._test_validity): V pøípadì
	neúspìchu uveï i oèekávanou hodnotu.  Validaci po exportu volej
	s kwargs.
	(_test_instance): Konstruktoru pøidán argument `format'.
	(DBDataDefaultClass.check_lock): None testuj operátorem `is'.
	(DateTime.check_validation): Volej validaci s argumentem `local'.
	(_TypeCheck._test_validity): Nový argument `ekwargs'.
	(DateTime.check_export): Volej validace a exporty s argumenty
	`format' a `local'.
	(TutorialTest.check_it): Uzavøi select pøed dal¹ími operacemi.

	* lib/pytis/data/dbdata.py (_pypg_query.do_query) 
	(DBDataPostgreSQL.select, DBDataPostgreSQL.lock_row): Pøi chybì
	nahazuj pùvodní výjimku, ne výjimku následné operace.
	(DBDataPostgreSQL.row, DBDataPostgreSQL.search): Odstranìno
	zapomenuté foo.

2003-02-28  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (BrowseDualForm.__init__): Je-li k
	dispozici klíèový argument `select_row', pøedávej ho do
	`self._main_form.select_row(select_row)'.

	* lib/pytis/form/form.py (EditForm._create_group):
	Pro label nevytváøej instanci wxStaticText, proto¾e metoda
	field.label() u¾ instanci wxStaticText vrací.

2003-02-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (_INTRO): V @cell parametr `height'
	pøejmenován na `width'.  V @hline za èárovaný objekt pøidáno ||.
	U @page nové parametry @*Margin, @width, @height a @landscapeMode.
	(LoutFormatter._process): Pøidány nové parametry pro _INTRO.
	(LoutFormatter.__init__): Nový atribut _page_layout.
	(PAGE_*): Nové konstanty.
	(LoutFormatter._format_long_table): Opravena pozice separátoru
	v header component.

	* lib/pytis/form/form.py (EditForm._create_group): Je-li widget
	kompaktního políèka None, nepokou¹ej se ho pøidat do sizeru.

	* lib/pytis/form/list.py (_IncrementalSearch._search): Nech» pravý
	argument WM je instance WMValue.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_skip)
	(PostgreSQLStandardBindingHandler._pg_skip): Nový argument
	`exact_count'.
	(DBDataPostgreSQL.fetchone.skip): Volej `_pg_skip'
	s `exact_count'.
	(DBDataPyPgSQL._pg_query): Pro pøíkazy klasifikované jako DDL vra»
	result.cmdStatus.  Neprovádìj test výsledku MOVE.

2003-02-27  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (BrowseForm._run_form):
	Pokud není udáno `redirect_name', volej `self._redirected_name'.

2003-02-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.fetchone): Pøepracováno,
	odstranìna podpora pro FETCH BACKWARD, opraveno urèování velikosti
	a skipy.
	(DBDataPostgreSQL._PgBuffer.fetch): V logovací hlá¹ce vracej
	zestringované `result'.
	(DBDataPyPgSQL._pg_query): Vrací-li pøíkaz klasifikovaný jako DDL
	`MOVE 0', zaloguj varování.

2003-02-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (Menu.create): Testuj, zda
	`keyhandler.keymap' není None.

2003-02-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py
	(DBDataDefaultClass.check_select_fetch_direction): Pøidáno pár
	informací o neúspìchu.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.fetchone): Zabraò provádìní
	FETCH BACKWARD, pro obejití dal¹ích kurzorových chyb PostgreSQL.
	Zajisti, ¾e last_row_number není vìt¹í ne¾ _pg_number_of_rows.

	* lib/pytis/util/util.py (UNDEFINED): Nová konstanta.
	
2003-02-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Metodì
	`Menu.create()' pøedávej `self' jako argument `keyhandler'.

	* lib/pytis/form/inputfield.py (InputField._on_popup_menu): Metodì
	`Menu.create()' pøedávej `self' jako argument `keyhandler'.

	* lib/pytis/form/list.py (_on_label_right): Metodì `Menu.create()'
	pøedávej `self' jako argument `keyhandler'.
	(_on_popup_menu): Metodì `Menu.create()' pøedávej `self' jako
	argument `keyhandler'.

	* lib/pytis/form/screen.py (MenuBar.__init__): Nový argument
	`keyhandler'.
	(MenuBar.add_menu): Metodì `Menu.create()' pøedávej argument
	`keyhandler'.
	(Menu.create): Nový argument `keyhandler'.  Pøebírej horkou
	klávesu polo¾ky z klávesové mapy instance `keyhandler', nebo pokud
	je klávesa definována pro polo¾ku, definuj ji v klávesové mapì
	instance `keyhandler'.
	(Menu.create.hotkey_string): Funkce zru¹ena - namísto toho si
	nadpisy pamatuj ve stejnojmenném slovníku.
	(MItem.__init__): Nestarej se vùbec o klávesovou mapu, jen si
	zapamatuj pøípadnou specifikaci horké klávesy.

2003-02-24  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlView._format_column): Opraven chybný odkaz
	na jméno sloupce.  Nový argument `type'.  Je-li `columns' string,
	pou¾ij ho pøímo jako jméno sloupce.
	(_GsqlView._format_complex_columns): Øada oprav a úprav.
	(_GsqlView.output): Pøidány nové øádky.

2003-02-24  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlView._format_column): Opraven chybný odkaz
	na jméno sloupce.  Nový argument `type'.  Je-li `columns' string,
	pou¾ij ho pøímo jako jméno sloupce.
	(_GsqlView._format_complex_columns): Øada oprav a úprav.
	(_GsqlView.output): Pøidány nové øádky.

2003-02-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (ValidationError): Buï potomkem Exception.

2003-02-22  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_gsql_column_table_column): O¹etøuj pøípad, kdy
	je `column' sekvence.
	(_go): Nový argument `argv'.
	(_GsqlView._format_complex_columns): Opravena øada chyb.
	(_GsqlView._format_column): Nový argument `i'.

2003-02-22  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_gsql_column_table_column): O¹etøuj pøípad, kdy
	je `column' sekvence.
	(_go): Nový argument `argv'.
	(_GsqlView._format_complex_columns): Opravena øada chyb.
	(_GsqlView._format_column): Nový argument `i'.

2003-02-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.fetchone): Uprav poèet
	stahovaných øádkù tak, aby nedo¹lo k pøekroèení hranic dat.

	* lib/pytis/form/list.py (ListForm._create_grid.registration): Nový
	atribut `_editors'.
	(ListForm.Close): Volej `close' na editory.
	(_InputFieldCellEditor.close): Nová metoda.

2003-02-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (ValidationError): Buï potomkem `object'.
	(WMValue): Nová tøída.
	(_Value): Nová tøída.
	(Value): Buï potomkem _Value.
	(Type.wm_validate): Nová metoda.
	* lib/pytis/data/data.py (WM): Zmìna argumentù, jen dokumentaèní zmìna.
	* lib/pytis/data/xtypes.py (_Codebook.WMVM_UNSUPPORTED): Nová validaèní
	hlá¹ka.
	(_Codebook.wm_validate): Nová metoda.
	(_codebook_data): Nová funkce.
	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Zohlednìna
	zmìna operandu operátoru WM.

	* lib/pytis/form/search.py (SFDialog._selected_condition): Opraven
	wildcard match -- vyu¾ívej Type.wm_validate.

2003-02-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (Invocable._call_next_method): Nová metoda.
	(Invocable._create_widget): Vyu¾ívej ji.  Odkaz na tlaèítko
	uschovávej do atributu `self._invocation_button'.
	(Invocable._disable): Nová metoda.
	(Invocable._enable): Nová metoda.

	* lib/pytis/form/form.py (EditForm.init): Na políèka, která nejsou
	editovatelná volej 'disable()'.

2003-02-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._selected_condition): Pøidána
	podpora wildcards pro nìkteré èíselníky.

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Pøedávej do CodeBook argument `ctype'.
	(CodeBookField._on_change_hook): Zru¹eno u¾ívání demolièního
	argumentu `column' metody Codebook.export.

	* lib/pytis/form/list.py (CodeBook.__init__): Nový argument `ctype'.
	Zohledòuj validity condition codebooku.

	* lib/pytis/data/xtypes.py (_Codebook.__init__): Nové atributy `_strict'
	a `_validity_column'.  Nové argumenty `validity_column' a
	`strict'.
	(_Codebook._export): Zru¹en argument `column'.  Pøidán nestriktní
	export.
	(_Codebook._validate, _Codebook._validate_retrieve)
	(_Codebook._retrieve): Nový argument `strict'.
	(_Codebook.validity_condition): Nová metoda.
	(_Codebook.strict): Nová metoda.

2003-02-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.row): Zru¹en argument
	`_in_transaction'.
	(DBDataPostgreSQL.update, DBDataPostgreSQL._pg_already_present):
	Zohlednìna pøedchozí zmìna.
	(DBDataPyPgSQL._pypg_get_connection): Není-li k dispozici ¾ádné
	spojení v _pypg_connection, chovej se jako pøi
	outside_transaction==TRUE.

	* lib/pytis/form/application.py (Application.add_menu): Nová metoda.
	(add_menu): Nová funkce.
	* lib/pytis/form/screen.py (MenuBar.add_menu): Nová metoda.
	(MenuBar.__init__): Vyu¾ívej ji.
	* lib/pytis/form/output.py (PrintForm._menus): Nová metoda.
	* lib/pytis/form/form.py (Form._add_menus): Nová metoda.
	(Form._init): Volej ji.
	(Form._menus): Nová metoda.
	(LookupForm._find_row.find_row): Øádek vyhledávej pøímo pøes
	`row', ne `search'.

2003-02-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form.print_menu): Nová metoda.
	(EditForm._on_field_enable, EditForm._on_field_disable):
	Odstranìna zapomenutá print.

	* lib/pytis/form/application.py (Application._activate): Nový argument
	`form'.
	(Application.run_form, Application.restore): Zohlednìna pøedchozí
	zmìna.

	* lib/pytis/form/screen.py (Menu.__init__): Nech» `items' smí obsahovat
	i funkce (jen dokumentaèní zmìna).
	(Menu.create): Zohlednìna pøedchozí zmìna.
	(MenuBar.activate, Menu.create): Nový argument `form'.

	* lib/pytis/form/list.py (BrowseForm._on_print_): Nový argument
	`spec_path'.
	(BrowseForm.on_command): Zohlednìna pøedchozí zmìna.

2003-02-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select_aggregate): Opraven
	pøeklep ve jménu promìnné.
	(DBDataPostgreSQL.select_aggregate): Opraveno urèování typu.  Pøi
	chybném typu sloupce vracej None.

	* lib/pytis/form/search.py (FilterDialog._AGG_OPERATORS): Nový atribut.
	(FilterDialog._create_content): Nová metoda.
	(FilterDialog._on_compute_aggregate): Nová metoda.
	(FilterDialog.__init__): Nová metoda.

	* lib/pytis/form/form.py (LookupForm._filter): Volej _init_select.
	(LookupForm._lf_sf_dialog): Jedná-li se o FilterDialog, pøedej mu
	i self._data.

	* lib/pytis/form/list.py (_IncrementalSearch.__init__): Nový atribut
	`_exiting.  Nastavuj KILL_FOCUS callback pro widget.
	(_IncrementalSearch._exit): Nastavuj `_exiting'.
	(_IncrementalSearch._on_kill_focus): Nová metoda.
	(BrowseForm._create_popup_menu): Titulky menu obaleny _().

	* lib/pytis/form/event.py (top_level_exception): Místo zapomenuté
	promìnné `einfo' do chybového dialogu pøedávej sys.exc_info().
	(top_level_exception): Ukonèení aplikace provádìj natvrdo pøes
	sys.exit.
	(top_level_exception): Opraven odkaz na neexistující promìnnou
	`tb'.

2003-02-14  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (EditForm._on_row_change): Na `None' testuj
	nejen `field', ale i `self._row'.
2003-02-14  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.check_db): Pro volání getpass.getpass
	pøesmìruj sys.stdout na sys.stderr.

2003-02-14  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.check_db): Pro volání getpass.getpass
	pøesmìruj sys.stdout na sys.stderr.

2003-02-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (LookupForm._search): Odstranìn zapomenutý
	print.
	* lib/pytis/form/list.py (_search_adjust_data_position): Odstranìn
	zapomenutý print.

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_select_aggregate):
	Nový test.
	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select)
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nový
	atribut `_pdbb_command_select_agg'.
	(DBDataPostgreSQL.select_aggregate): Nová metoda.
	(PostgreSQLStandardBindingHandler._pg_select_aggregate): Nová metoda.
	* lib/pytis/data/data.py (Data.AGG_MIN, Data.AGG_MAX, Data.AGG_COUNT)
	(Data.AGG_SUM, Data.AGG_AVG): Nové konstanty.
	(Data.select_aggregate): Nová metoda.
	(Data.search): Doplnìno chybìjící `self' pøed
	UnsupportedOperation.

2003-02-13  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.check_db): O¹etøuj chybné/neuvedené
	heslo.

2003-02-13  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.check_db): O¹etøuj chybné/neuvedené
	heslo.

2003-02-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form._init): O¹etøuj ResolverError.

	* lib/pytis/form/dialog.py (db_operation): Pøi chybì loguj traceback.

	* lib/pytis/form/event.py (top_level_exception): Vyu¾ívej
	`format_traceback'.

	* lib/pytis/util/util.py (format_traceback): Nová funkce.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pøidáno HLine.
	(LoutFormatter._format_hline): Nová metoda.
	(_INTRO): Pøidán parametr @firstPageHeader.  Do @vfill pøidána
	rezervace místa pro zamezení nevhodného umístìní zlomu stránku.
	(LoutFormatter.__init__): Nový atribut `_first_page_header'.
	(LoutFormatter._process, LoutFormatter._format_document): Pøidána
	podpora pro first-page-header.
	* lib/pytis/output/markup.py (HLine): Nová znaèka.
	(Document): Pøidán parametr `first_page_header'.

	* lib/pytis/form/output.py (PrintForm._create_controls): Pøidáno
	tlaèítko pro tisk.
	(PrintForm._on_print_): Pøidán argument `__event'.

	* lib/pytis/form/list.py (_search_skip): _table pøetáèej na `new_row'.
	(_search_adjust_data_position): Nedìlej víc ne¾ volání
	self._table.rewind.
	(ListForm._ListTable.rewind): Nech» `row' je rovno `position', ne
	`position+1'.
	(_IncrementalSearch._search): Pøi urèení výsledného øádku
	zohledòuj "rozbìh" od pøedchozího øádku.

2003-02-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm._ListTable.__init__): Inicializuj
	atribut `_current_row'.
	(ListForm._ListTable.rewind): Reset provádìj jen kdy¾ `position'
	je None.  Místo `_fetch' pou¾ívej `_retrieve_row'.
	(ListForm._ListTable._fetch): Pøesunuto jako lokální funkce do
	_retrieve_row.
	(ListForm._ListTable._retrieve_row): Zohlednìna pøedchozí zmìna.
	Zru¹eny asserts na pozici ukazovátka datového objektu, pozice
	pøebírána pøímo z datového objektu.

2003-02-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_recreate_grid): Volej SetSize na self.
	(_IncrementalSearch.__init__, _IncrementalSearch._set_row):
	Opraveny pøeklepy list -> listform.

2003-02-10  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlTable.db_update.column_changed.normalize):
	Doplnìno chybìjící return.
	(_GsqlTable.db_update.column_changed): V testování not-null a
	unique zohledòuj primární klíèe.
	(_GSQL_OPTIONS): Nová volba `no-warn'.
	(_go): Zohlednìna.
	(_GsqlConfig.warnings): Nový atribut.
	(_gsql_warning): Nová funkce.
	(_GsqlTable.db_update): Pou¾ívej ji.  Opraveny SQL pøíkazy pro
	update sloupce.
	(reoutput, db_update): Pou¾ívej _gsql_warning.

2003-02-10  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlTable.db_update.column_changed.normalize):
	Doplnìno chybìjící return.
	(_GsqlTable.db_update.column_changed): V testování not-null a
	unique zohledòuj primární klíèe.
	(_GSQL_OPTIONS): Nová volba `no-warn'.
	(_go): Zohlednìna.
	(_GsqlConfig.warnings): Nový atribut.
	(_gsql_warning): Nová funkce.
	(_GsqlTable.db_update): Pou¾ívej ji.  Opraveny SQL pøíkazy pro
	update sloupce.
	(reoutput, db_update): Pou¾ívej _gsql_warning.

2003-02-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_group): Pøidána podpora pro
	kompaktní políèka.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Nový argument
	compact.
	(FieldSpec.compact): Nová metoda.

2003-02-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (xor): Nová funkce.

	* lib/pytis/form/list.py (ListForm._ListTable._retrieve_row): Pøidána
	asserts na pozici v datovém objektu.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.last_row_number): Nová
	metoda.
	* lib/pytis/data/data.py (Data.__init__): Nový atribut
	`_select_last_row_number'.
	(Data.last_row_number): Nová metoda.
	(Data.select, Data.close): Nastavuj `_select_last_row_number'.
	(MemData.last_row_number): Nová metoda.

2003-02-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Nakonec volej `self.set_focus()'.
	(InputField._on_change): Nech» je argument `event' nepovinný.
	(TextField._on_key_down_multiline): Pøi stisku klávesy Enter volej
	`self._on_change()'.
	(InputField.is_modified): Kosmetická úprava.

	* lib/pytis/data/data.py (Row.__init__): Více assertù na argument
	`data'.

2003-02-07  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction.db_all_names): Nevracej systémové
	handlery.
	(_GsqlSequence.check, _GsqlRaw.check): Zru¹eno.
	(_GsqlSpec.db_update): Vracej SQL komentáø o aktuálnosti objektu.
	(_GsqlRaw.db_update): Vracej SQL komentáø o nerozhodnutelnosti
	aktuálnosti objektu.
	(_GsqlSpec._grant_command, _GsqlSpec._revoke_command): Nové
	(_GsqlSpec._groups, _GsqlSpec._group_list): Nové atributy.
	metody.
	(_GsqlTable.output, _GsqlView.output, _GsqlSequence.output):
	Pou¾ívej je.
	(_GsqlSpec.__init__): Nové argumenty `doc' a `grant', atributy
	`_doc' a `_grant'.  Pøidávej skupiny z `grant' do `_group_list'.
	(_GsqlTable.__init__, _GsqlView.__init__, _GsqlFunction.__init__)
	(_GsqlSequence.__init__, _GsqlRaw.__init__): Zru¹eny argumenty
	`doc', `depends' a `grant'; nový argument `kwargs', pøedávaný
	konstruktoru pøedka.
	(_GsqlTable.__init__): Nech» `_inherits' není nikdy None.
	(_GsqlDefs.check_db): Pøidána dal¹í varování o neprovìøených
	objektech.
	(_GsqlTable.db_update): Implementováno.
	(_GsqlTable._format_init_values): Nová metoda.
	(_GsqlTable.output): Pou¾ívej ji.
	(_GsqlDefs.check_db): Import libpq pøesunut na top-level úroveò.

2003-02-07  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction.db_all_names): Nevracej systémové
	handlery.
	(_GsqlSequence.check, _GsqlRaw.check): Zru¹eno.
	(_GsqlSpec.db_update): Vracej SQL komentáø o aktuálnosti objektu.
	(_GsqlRaw.db_update): Vracej SQL komentáø o nerozhodnutelnosti
	aktuálnosti objektu.
	(_GsqlSpec._grant_command, _GsqlSpec._revoke_command): Nové
	(_GsqlSpec._groups, _GsqlSpec._group_list): Nové atributy.
	metody.
	(_GsqlTable.output, _GsqlView.output, _GsqlSequence.output):
	Pou¾ívej je.
	(_GsqlSpec.__init__): Nové argumenty `doc' a `grant', atributy
	`_doc' a `_grant'.  Pøidávej skupiny z `grant' do `_group_list'.
	(_GsqlTable.__init__, _GsqlView.__init__, _GsqlFunction.__init__)
	(_GsqlSequence.__init__, _GsqlRaw.__init__): Zru¹eny argumenty
	`doc', `depends' a `grant'; nový argument `kwargs', pøedávaný
	konstruktoru pøedka.
	(_GsqlTable.__init__): Nech» `_inherits' není nikdy None.
	(_GsqlDefs.check_db): Pøidána dal¹í varování o neprovìøených
	objektech.
	(_GsqlTable.db_update): Implementováno.
	(_GsqlTable._format_init_values): Nová metoda.
	(_GsqlTable.output): Pou¾ívej ji.
	(_GsqlDefs.check_db): Import libpq pøesunut na top-level úroveò.

2003-02-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm._ListTable.rewind): V¾dy resetuj
	aktuální ukazovátko a pøeviò `_data'.
	(_search_adjust_data_position, select_row.set): Volej
	self._table.rewind.
	(_recreate_grid, _create_grid): Zru¹eno `_last_select_row_count',
	pou¾ívej `_lf_select_count'.
	(ListForm._ListTable.rewind): Resetuj cache.
	(ListForm._ListTable.update): Neresetuj cache.

	* lib/pytis/form/form.py (LookupForm._init_select): Nastavuj
	`_lf_select_count'.  Zohledòuj `_lf_filter'.
	(LookupForm._init): Inicializuj `_lf_select_count' na None.
	(LookupForm._find_row.find_row): Nový select zahajuj
	prostøednictvím metody `_init_select' a jen tehdy, pokud je¹tì
	¾ádný nebyl zahájen.

2003-02-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.on_command): Nejprve testuj
	`__debug__' a potom teprve `Application.COMMAND_CUSTOM_DEBUG'.

	* lib/pytis/form/form.py (EditForm._create_form): Vytvoø v¹echna políèka
	v poøadí daném `LayoutSpec.order()' a ulo¾ do `self._fields'.
	(EditForm._create_group): Zru¹en argument `data'.
	(EditForm._create_form_parts, EditForm._create_group): Respektuj
	to.
	(EditForm._create_group): `fields' pøejmenováno na `pack'.
	Upraven dokumentaèní øetìzec.
	(EditForm._pack_fields): Zru¹en argument `data'.  Argument fields,
	nech» je jen seznamem identifikátorù, nikolov specifikací.
	(EditForm._create_group, PopupEditForm._create_form_parts) 
	(ShowForm._create_form_parts): Respektuj to.
	(EditForm._pack_fields): políèka zde nevytváøej, pouze vybírej ze
	seznamu `self._fields'.

	* lib/pytis/form/spec.py (LayoutSpec.__init__): Úprava dokumentace.
	Doplnìn assert na tøídu argumentu `group'.  Pokud není urèen
	argument `order', vytvoø poøadí podle poøadí ve skupinách.  V
	opaèném pøípadì zkontroluj zda `order' obsahuje správné hodnoty.
	(LayoutSpec.order): Upraven dokumentaèní øetìzec.
	(ViewSpec.__init__): Doplnìny komentáøe.
	(ViewSpec.__init__.recourse_group): Nová funkce.
	(ViewSpec._recourse_group): Zru¹eno.
	(ViewSpec.__init__): Nekontroluj to, co mù¾e být zkontrolováno v
	konstruktoru `LayoutSpec'.

2003-02-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_form_parts): Velikost fontu
	urèi natvrdo, namísto pou¾ití `layout.caption_size()'.
	(EditForm._create_group): Úprava dokumentace.
	(PopupEditForm._create_form_parts): Velikost fontu
	urèi natvrdo, namísto pou¾ití `layout.caption_size()'.

	* lib/pytis/form/spec.py (GroupSpec): Více dokumentace.
	(LayoutSpec): Úprava dokumentace.
	(LayoutSpec.__init__): Nový argument `order'.  Zru¹en argument
	`caption_size'.
	(LayoutSpec.caption_size): Zru¹eno.
	(LayoutSpec.order): Nová metoda.
	(ViewSpec.__init__): Procházej skupinu jen, pokud je nataveno
	`__debug__'.  Zkontroluj správnost zadání `order' v layoutu.

	* lib/pytis/form/list.py (ListForm.show, ListForm.hide): Opìt nahrazeno
	metodou `Show'.  
	(ListForm._ListTable.GetValue): Pokud je `the_row' None,
	nepokou¹ej se volat `format()' a vra» rovnou `'.
	(ListForm._recreate_grid): Pøidáno TODO.

	* lib/pytis/form/application.py (_call_current_window): Zru¹eno.
	(Application.on_command): O¹etøuj pøíkaz
	`Application.COMMAND_REFRESH'.  Obejdi se bez metody
	`_call_current_window()'.
	(Application.on_ui_event): Obejdi se bez metody
	`_call_current_window()'.
	(Application.on_ui_event): Metodu volej na vrchní okno pouze,
	jde-li o instanci 'Form'.

	* lib/pytis/form/command.py (Application.COMMAND_REFRESH): Nový pøíkaz.
	(Dialog.COMMAND_CLOSE_DIALOG): Doplnìn dokumentaèní øetìzec.
	(Dialog.COMMAND_COMMIT_DIALOG): Doplnìn dokumentaèní øetìzec.

2003-02-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.check_presence): Zru¹eno.
	(_GsqlSpec.db_all_names, _GsqlSpec.db_remove): Nové metody.
	(_GsqlSpec.check): Pøejmenováno na `db_update'.  Zru¹en argument
	`defined'.
	(_GsqlFunction.db_all_names): Nová metoda.
	(_GsqlDefs.check_db.process): Pøepracováno.

2003-02-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.check_presence): Zru¹eno.
	(_GsqlSpec.db_all_names, _GsqlSpec.db_remove): Nové metody.
	(_GsqlSpec.check): Pøejmenováno na `db_update'.  Zru¹en argument
	`defined'.
	(_GsqlFunction.db_all_names): Nová metoda.
	(_GsqlDefs.check_db.process): Pøepracováno.

2003-02-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/flibdata.py (data_table): Okraje tabulky nastav na
	UFont(0.2).

	* lib/pytis/output/formatter.py (LoutFormatter._format_long_table):
	Nepøidávej pod labels //@smallmargin.  Odsazení oddìlovaèe
	pøidávej i v pøípadì absence oddìlovací èáry, nepou¾ívej pùvodní
	tvrdé implicitní mezerování.  Tlou¹»ky èar a okraje formátuj pøes
	_unit.
	(_INTRO): V @hline a @vline opìt neprovádìj kontrakci.

	* lib/pytis/form/list.py (BrowseForm._formatter_parameters): Do
	P_CONDITION pøidej _lf_initial_condition.

2003-01-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/flibdata.py (data_table): Do LongTable pøidáno
	`separator_margin' a `line_separator_margin'.  Doplnìna chybìjící
	hvìzdièka v pøedání `long_table_args'.

	* lib/pytis/output/formatter.py
	(LoutFormatter._format_table.cell_alignment)
	(LoutFormatter._format_image): Hlá¹ky TemplateException pøelo¾eny
	do èe¹tiny.
	(LoutFormatter._unit): Nová metoda.
	(LoutFormatter._format_space, LoutFormatter._format_table)
	(LoutFormatter._format_long_table): Formátuj délkové jednotky pøes
	`_unit'.
	(_INTRO): V @hline, resp. @vline, obal celou konstrukci voláním
	@HContract, resp. @VContract.  V @hgroup, resp. @vgroup, pøidávej
	závìreènou ukonèovací èáru odpovídajícího smìru.
	(LoutFormatter._format_group): Nepøidávej na konec ukonèovací èáru
	odpovídajícího smìru.
	(LoutFormatter._format_group, LoutFormatter._format_list):
	Opraveno TemplateError na TemplateException.

	* lib/pytis/output/markup.py (Spaces): Pøejmenováno na USpace.  Zmìnìna
	definice v docstringu na mezislovní mezeru.
	(UFont, UPoint): Nové tøídy.
	(Mm): Pøejmenováno na UMm.
	(Unit): Do docstringu doplnìna informace o mo¾nosti pou¾ití.
	(Unit.__nonzero__, Unit.__add__, Unit.__mul__): Nové metody.

2003-01-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (_IncrementalSearch): Argument `list'
	prejmenovan na `listform'.  Atribut `self._list' takté¾.
	(_IncrementalSearch._exit): `self._list' -> `self._listform'.
	(_IncrementalSearch._search): `self._list' -> `self._listform'.
	(_IncrementalSearch._set_row): `self._list' -> `self._listform'.
	(ListForm.__init__): Nevolej `self.SetFocus()'.
	(ListForm._recreate_grid): Namísto volání `self.SetFocus()'
	pøípadnì `self.OnKillFocus()' volej jen
	`self._change_selection_colors()'.
	(ListForm._change_selection_colors): Nech» je argument `colors'
	nepovinný.
	(ListForm._on_select_cell): Namísto volání `self.SetFocus()' volej
	jen `self._change_selection_colors()'.
	(ListForm.OnSetFocus, ListForm.OnKillFocus): Zru¹eno.
	(ListForm.SetFocus): Zru¹eno (pøesunuto do metody `focus()').
	(ListForm.Show): Zru¹eno (nahrazeno metodami `show()' a `hide()').
	(ListForm.show): Nová metoda.
	(ListForm.hide): Nová metoda.
	(ListForm.focus): Pøeber také funkènost zru¹ené metody
	`SetFocus()'.  Nevolej v¹ak `self._grid.MakeCellVisible()'.
	(ListForm.defocus): Namísto volání `self.OnKillFocus()' volej
	`self._change_selection_colors()'.
	(CodeBook.__init__): Nevy¾aduj pøítomnost `returned_columns' v
	`kwargs'.
	(ListForm.__init__): Pokud nebylo nastaveno `self._select_row',
	volej `self._grid.MakeCellVisible(0, 0)'.

	* lib/pytis/form/application.py (Application.OnInit): Definuj v globální
	klávesové mapì Klávesovou zkratku pro pøíkaz
	`Application.COMMAND_CUSTOM_DEBUG'.

	* lib/pytis/form/command.py (Command.__init__): Úprava logovací hlá¹ky.
	Nenastavuj potlaèený atribut `key' pøíkazu
	`Application.COMMAND_CUSTOM_DEBUG'.


	* lib/pytis/form/screen.py (Keymap._define_key): Úprava hlá¹ky assertu.
	(Keymap.define_key): Neloguj.
	(MenuBar.__init__.check_duplicate_keys): Nestì¾uj si na klávesu,
	pokud definuje stejný pøíkaz.  Loguj více informací.

	* lib/pytis/form/inputfield.py (InputField._skip_navigation_callback):
	Nová metoda.
	(InputField._init_controls, Invocable._create_widget) 
	(CodeBookField._create_widget): Vyu¾ívej ji.
	(InputField._on_set_focus): Pøidáno TODO.
	(TextField._on_set_focus): Nová metoda.
	(TextField._on_kill_focus): Nová metoda.

	* lib/pytis/form/form.py (EditForm._navigate): Vyka¹li se na wxWindows
	verzi < 2.3.

2003-01-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_font_family):
	Nastavuj øez fontu, na Base.
	(LoutFormatter._format_table, LoutFormatter._format_long_table):
	Pøidána podpora pro Table.Column.ALIGN_CENTER.
	(LoutFormatter._MARK_PROCESSORS): Pøidány znaèky AlignLeft,
	AlignRight a Nbsp.
	(_INTRO): Nové definice @alignLeft a @alignRight.  Do @lcell a
	@rcell doplnìn parametr `header'.  Nové macro "#A0".  @hline a
	@vline mají nové parametry `linewidth' a `margin'.  V @cell místo
	| pou¾ívej ||.
	(LoutFormatter._format_align_left)
	(LoutFormatter._format_align_right): Nové metody.
	(LoutFormatter._format_long_table): Hlavièku necentruj, nýbr¾ se
	øiï parametrem sloupce `label_alignment'.
	(LoutFormatter._format_table): Nápodobnì.  Rozdìleno generování
	specifikace øádkù a specifikace hlavièky.
	(LoutFormatter._format_nbsp): Nová metoda.
	(LoutFormatter._format_long_table): Nastavuj správnou tlou¹»ku
	oddìlovacích èar.  Zohledòuj margin.  Nevkládej tolik vertikálních
	mezer.

	* lib/pytis/output/markup.py (FontFamily): Dokumentaèní zmìna: Znaèka
	nastavuje základní øez fontu.
	(Table.Column.ALIGN_CENTER): Nová konstanta.
	(AlignLeft, AlignRight): Nové znaèky.
	(Table.Column.__init__): Nový argument a atribut
	`label_alignemnt'.
	(Nbsp): Nová znaèka.
	(LongTable.__init__): Nové argumenty `separator_margin' a
	`line_separator_margin'.
	(LongTable.separator_margin, LongTable.line_separator_margin):
	Nové metody.
	(Unit, Mm, Spaces): Nové tøídy.

2003-01-29  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/output/formatter.py (_INTRO): Nastav @lineSkip na 1.10fx.

2003-01-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_long_table):
	Kosmetická úprava formátování zdrojáku Lout.
	(_INTRO): Nové makro @lineSkip a definice @font.
	(LoutFormatter._format_font_size)
	(LoutFormatter._format_font_family): Místo @Font pou¾ívej @font.

2003-01-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (Dialog.__init__): Konstruktor pøedka volej
	bez argumentù.
	(GenericDialog._create_dialog_elements): Pro ka¾dé tlaèítko
	o¹etøuj události kláves.
	(GenericDialog.on_command): Namísto
	`Application.COMMAND_LEAVE_FORM' o¹etøuj
	`Dialog.COMMAND_CLOSE_DIALOG' a `Dialog.COMMAND_COMMIT_DIALOG'.
	(GenericDialog._close_dialog): Nová metoda.
	(GenericDialog._commit_dialog): Nová metoda.
	(InputDialog._create_content): Namísto pøímého nastavování pomocí
	`wx_callback()' vyu¾ij metodu `KeyHandler._handle_keys()'.
	(InputDialog._on_key_down): Zru¹eno.
	(InputDialog._commit_dialog): Nová metoda.
	(Login._create_content): Namísto pøímého nastavování pomocí
	`wx_callback()' vyu¾ij metodu `KeyHandler._handle_keys()'.
	(RunFormDialog._CODEBOOK_FORM): Nová konstanta.
	(RunFormDialog.__init__): Pøidej `self._CODEBOOK_FORM' do slovníku
	tøíd.
	(RunFormDialog._create_content): Pøidej `self._CODEBOOK_FORM' do
	seznamu tøíd.
	(RunFormDialog._create_content): Namísto pøímého nastavování
	pomocí `wx_callback()' vyu¾ij metodu `KeyHandler._handle_keys()'.
	(Calendar._create_content): O¹etøuj události kláves na kalendáøi.
	(BugReport._create_content): Font vytváøej v¾dy jako novou
	instanci.
	(BugReport.on_command): Zru¹eno.
	(BugReport._close_dialog): Nová metoda.
	(FileDialog.on_command): Namísto `Application.COMMAND_LEAVE_FORM'
	o¹etøuj `Dialog.COMMAND_CLOSE_DIALOG'.

	* lib/pytis/form/command.py: Nové pøíkazy `Dialog.COMMAND_CLOSE_DIALOG'
	a `Dialog.COMMAND_COMMIT_DIALOG'.

	* lib/pytis/form/screen.py (KeyHandler.__init__): Ne¾ pou¾ije¹ `self'
	jako výchozí `widget', testuj, zda je potomkem `wx.wxWindow'.
	(KeyHandler._handle_keys): Nová metoda.
	(KeyHandler.__init__): Vyu¾ívej ji.

2003-01-29  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.check): Nová metoda.
	(_GsqlDefs.check_db): Implementováno.
	(_go.extract_option): Pro volby s argumentem zahrnuj i =.
	(_GsqlRaw.check, _GsqlSequence.check): Nové metody.
	(_GsqlSpec.check_presence): Nová metoda.
	(_GsqlSpec._SQL_NAME, _GsqlSpec._PGSQL_TYPE): Nové konstanty.
	(_GsqlTable._SQL_NAME, _GsqlTable._PGSQL_TYPE) 
	(_GsqlView._SQL_NAME, _GsqlView._PGSQL_TYPE) 
	(_GsqlFunction._SQL_NAME, _GsqlSequence._SQL_NAME) 
	(_GsqlSequence._PGSQL_TYPE): Nové konstanty.

2003-01-29  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.check): Nová metoda.
	(_GsqlDefs.check_db): Implementováno.
	(_go.extract_option): Pro volby s argumentem zahrnuj i =.
	(_GsqlRaw.check, _GsqlSequence.check): Nové metody.
	(_GsqlSpec.check_presence): Nová metoda.
	(_GsqlSpec._SQL_NAME, _GsqlSpec._PGSQL_TYPE): Nové konstanty.
	(_GsqlTable._SQL_NAME, _GsqlTable._PGSQL_TYPE) 
	(_GsqlView._SQL_NAME, _GsqlView._PGSQL_TYPE) 
	(_GsqlFunction._SQL_NAME, _GsqlSequence._SQL_NAME) 
	(_GsqlSequence._PGSQL_TYPE): Nové konstanty.

2003-01-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Operator.logical): Pøidáno OR.

	* lib/pytis/form/search.py (SFDialog._run_dialog): Nevolej na dialog
	Destroy.
	(SFDialog._run_dialog): Zru¹eno.
	(SFDialog._finish_dialog): Nová metoda.
	(SFDialog._create_content.condition): Na zaèátku zru¹ obsah
	_selectors a _logical_selectors.

	* lib/pytis/form/dialog.py (GenericDialog._run_dialog): Nevolej na
	dialog Destroy.
	(GenericDialog.run): Volej na dialog Destroy.
	(GenericDialog._finish_dialog): Nová metoda.
	(GenericDialog._on_button): Volej ji.

	* lib/pytis/form/form.py (LookupForm._lf_translated_sorting): Vracej
	tuple.

	* lib/pytis/output/formatter.py (LoutFormatter._format_long_table):
	Mezera mezi øádky sní¾ena z 1vx na 0.2vx.

	* lib/pytis/form/list.py (BrowseForm._formatter_parameters): Odstranìny
	závorky za _lf_condition.  Místo _lf_sorting pøedávej
	transformované _lf_sorting.
	(FilteredBrowseForm._init_filter): Nová metoda.
	(FilteredBrowseForm.__init__): Volej ji.
	(SideBrowseForm._init_filter): Nová metoda.

2003-01-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MItem.hotkey): Upøesnìní dokumentaèního øetìzce.
	(MItem.__init__): Zru¹en ve¹kerý kód obstarávající pøidání popisu
	horké klávesy do názvy polo¾ku menu.
	(Menu.create): Pøipoj popis klávesové zkratky k názvùm polo¾ek.

	* lib/pytis/form/list.py (ListForm._ListTable._panic): Namísto podivného
	`self._frame._on_leave_form()' volej funkci `leave_form()'.
	(ListForm._create_grid, ListForm._recreate_grid): Nevolej
	`self._parent._on_leave_form()'.
	(ListForm.on_command): Nakonec je¹tì volej metodu pøedka.
	(CodeBook.__init__): Argumenty pøedávej jako `*args' a `**kwargs'.
	Klíèový arkument `returned_columns' zpracuj sám.
	(CodeBook.on_command): Namísto `self._on_leave_form()' volej
	`self._leave_form()'.
	(SideBrowseForm.__init__): Klíèové argumenty pøedávej pomocí
	`**kwargs'.

	* lib/pytis/form/form.py (Form.__init__): `EVT_CLOSE' o¹etøuj pro
	`self._parent', ne pro `parent' (mú¾e být zmìnìn).
	(Form._on_leave_form): Zru¹eno.
	(PopupForm._on_leave_form): Zru¹eno.
	(PopupForm._leave_form): Nová metoda.
	(EditForm._pack_fields): Neo¹etøuj callback `CALL_LEAVE_FIELD'
	políèka.
	(EditForm._on_commit_form): Pøejmenováno na `_commit_form'.
	Zru¹en argument `event'.
	(EditForm.on_command): Namísto `_on_commit_form' volej `_commit_form'.
	(PopupEditForm._on_submit): Nová metoda.
	(PopupEditForm._create_buttons): Vyu¾ívej ji.
	(PopupEditForm._on_cancel): Nová metoda.
	(PopupEditForm._create_buttons): Vyu¾ívej ji.

	* lib/pytis/form/application.py (leave_form): Opraven dokumentaèní
	øetìzec.
	(Application.run_form): Popup formuláøùm nastavuj klíèový argument
	`guardian' na vrchní modální formuláø, nebo sebe sama, není-li
	takový.

	* lib/pytis/form/event.py (wx_callback.process_event): Neloguj DEBUG
	hlá¹ku, pokud jde o `wx.wxIdleEvent' nebo `wx.wxUpdateUIEvent'.

	* lib/pytis/form/inputfield.py (_init_controls): `self._key_guardian'
	nenastavuj na `None'.

2003-01-28  Pavel Hanak  <hanak@brailcom.cz>

	* config/config_ebas.py: Návrat k pøedchozí verzi pøepsané omylem.

	* lib/pytis/form/list.py (SideBrowseForm.__init__): V konstruktoru
	nevolej self.filter({}).

2003-01-28  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GSQL_OPTIONS): Nové volby `host', `user',
	`password', 'create', `recreate'.
	(_GsqlConfig): Nová tøída.
	(_go): O¹etøuj v¹echny nové volby, vèetnì --check-db a --fix-db.
	(_GsqlDefs.check_db, _GsqlDefs.fix_db, _GsqlDefs.regensql): Nové
	metody.
	(_GsqlDefs._process_resolved): Nová metoda.
	(_GsqlDefs.gensql): Vyu¾ívej ji.
	(_GsqlSpec.reoutput, _GsqlTable.reoutput, _GsqlView.reoutput)
	(_GsqlFunction.reoutput, _GsqlRaw.reoutput): Nová metoda.
	(_GsqlTable.output): Nový argument `_re'.

2003-01-28  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GSQL_OPTIONS): Nové volby `host', `user',
	`password', 'create', `recreate'.
	(_GsqlConfig): Nová tøída.
	(_go): O¹etøuj v¹echny nové volby, vèetnì --check-db a --fix-db.
	(_GsqlDefs.check_db, _GsqlDefs.fix_db, _GsqlDefs.regensql): Nové
	metody.
	(_GsqlDefs._process_resolved): Nová metoda.
	(_GsqlDefs.gensql): Vyu¾ívej ji.
	(_GsqlSpec.reoutput, _GsqlTable.reoutput, _GsqlView.reoutput)
	(_GsqlFunction.reoutput, _GsqlRaw.reoutput): Nová metoda.
	(_GsqlTable.output): Nový argument `_re'.

2003-01-27  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (RecordForm._set_row): Je-li argument `row'
	None, nevracej None ale inicializuj nový prow.
	
2003-01-27  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (_on_sort_column): Zohledòuj správnì hodnotu
	parametrù `direction' a `col'.

	* lib/pytis/form/form.py (LookupForm._on_sort_column): Pro direction
	`SORTING_CYCLE_DIRECTION' nastav správnou hodnotu øazení.

2003-01-27  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction.__init__): Nový argument
	`use_functions'.
	(_GsqlFunction._format_body): Generuj zdrojové texty i pro
	`_use_functions'.
	(_GsqlView.output): Místo pøes UNION spojuj záznamy pøes UNION
	ALL.
	(_GsqlView.__init__): V docstringu `join' definováno i pro
	sjednocení tabulek.
	(_GsqlView.output): Zohlednìna pøedchozí zmìna.
	(_GsqlView._format_complex_columns): Pøepsáno.
	(_GsqlView._format_rule): Èásteèná podpora sjednocení tabulek --
	generování pro první tabulku.

2003-01-27  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction.__init__): Nový argument
	`use_functions'.
	(_GsqlFunction._format_body): Generuj zdrojové texty i pro
	`_use_functions'.
	(_GsqlView.output): Místo pøes UNION spojuj záznamy pøes UNION
	ALL.
	(_GsqlView.__init__): V docstringu `join' definováno i pro
	sjednocení tabulek.
	(_GsqlView.output): Zohlednìna pøedchozí zmìna.
	(_GsqlView._format_complex_columns): Pøepsáno.
	(_GsqlView._format_rule): Èásteèná podpora sjednocení tabulek --
	generování pro první tabulku.

2003-01-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Value._VOID): Nová konstanta.
	(Value._init): `_exported' inicializuj na _VOID.
	(Value.export): Nech» neinicializovanou hodnotou `_exported' je
	_VOID.

	* lib/pytis/util/util.py (safedel): Nová funkce.
	* lib/pytis/util/_test.py (IsSequence): Pøejmenováno na `MiscFunctions'.
	(MiscFunctions.check_it): Pøejmenováno na `check_is_sequence'.
	(MiscFunctions.check_safedel): Nový test.

	* lib/pytis/form/dualform.py (DualForm._create_main_form): Nový argument
	`**kwargs'.
	(DualForm.__init__): Zohlednìna pøedchozí zmìna.
	(BrowseDualForm._create_main_form._MainBrowseForm) 
	(ShowDualForm._create_main_form) 
	(DescriptiveDualForm._create_main_form): 

	* lib/pytis/form/form.py (LookupForm._find_row): Opraveno chybné
	testování klíèe na None.

2003-01-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_search_skip): Pøi zpìtném hledání zmìò
	znaménko výsledku.
	(BrowseForm._run_form): Nová metoda.
	(BrowseForm.__init__): Nastavuj ji pro callbacky.

	* lib/pytis/util/util.py (ecase): Nová funkce.
	* lib/pytis/util/_test.py (FindUtils.check_ecase): Nový test.

	* lib/pytis/form/screen.py (KeyHandler.on_key_down): Je-li klávesa pouze
	modifikátorem, ignoruj ji.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Pøidána
	podpora pro operátor OR jako primitivní operátor.
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	Pøi pøidání implicitního tøídìní zohledni smìr vyhledávání.

	* lib/pytis/data/data.py (AND): Nepou¾ívej `apply'.
	(OR): Vytváøej instanci Operator.
	(Operator.__init__): Nový argument `translation'.
	(Operator.translation): Nová metoda.

	* lib/pytis/form/search.py (SFDialog._create_content.condition): `c'
	pøejmenováno na `sizer'.

	* lib/pytis/form/form.py (EditForm.on_command): Neo¹etøuj
	Application.COMMAND_LEAVE_FORM.  Volej metodu pøedka.
	(LookupForm._search_skip): Klíèuj argument metody `skip'.
	(LookupForm._search): Nemìò znaménko výsledku.
	(LookupForm._on_sort_column): Doplnìn chybìjící argument `sorting'
	konstruktoru SortingDialog.
	(LookupForm._on_sort_column): Nech» zobrazený øádek po zmìnì
	tøídìní je vyhledán.
	(LookupForm._lf_translated_sorting): Nová metoda.
	(LookupForm._init_select, LookupForm._find_row.find_row): Vyu¾ívej
	ji.
	(LookupForm._find_row): Je-li `key' None, vra» None.
	(RecordForm._set_row): Nápodobnì.

2003-01-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._focused_field)
	(InputField._last_focused_field): Nové atributy.
	(InputField.__init__): Zru¹eny atributy `self._has_focus' a
	`self._last_validation_error'.
	(InputField._class_name, InputField.__str__): Nové metody.
	(InputField._init_controls): Pokud je políèko needitovatelné,
	o¹etøuj wx událost `EVT_NAVIGATION_KEY' voláním callbacku
	`CALL_SKIP_NAVIGATION'.
	(InputField._on_idle): Namísto `self._type.validate()' vyu¾ívej
	`self.validate()'.  Namísto atributu `self._has_focus' vyu¾ívej
	metodu `self.has_focus()'.  Zru¹ena èást obstarávající
	`self._last_validation_error'.
	(InputField._on_set_focus): Provádìj zde validaci posledního
	políèka a v pøípadì chyby se do nìj vra».  Volej
	`InputField._focus(self)' namísto nastavování `self._has_focus'.
	(InputField._on_kill_focus): Neprovádìj zde validaci políèka.
	Volej `InputField._defocus(self)'.
	(InputField.has_focus): Doplnìn dokumentaèní øetìzec.  Vyu¾ívej
	`InputField.focused()'.
	(InputField.validate): Nové argumenty `quiet' a `interactive'.
	Volej `self._validation_error_handler()' zde.
	(InputField._alive): Nová metoda.
	(InputField._defocus, InputField._focus)
	(InputField._last_focused, InputField.focused): Nové metody tøídy.
	(MultiTextField._on_kill_focus): Zru¹eno.
	(CodeBookField._DISPLAY_COLOR): Nová konstanta.
	(CodeBookField._create_widget): Vyu¾ívej ji.
	(CodeBookField._on_change_hook): Namísto `self._type.validate()'
	vyu¾ívej `self.validate()'.
	(CodeBookField._validation_error_handler): Pokud není ve
	specifikaci èíselníku nastaveno `insert_unknown_values', Nedìlej
	nic a vra» `FALSE'.  Pokud byl formuláø pro doplnìní nové hodnoty
	opu¹tìn bez ulo¾ení, vracej také `FALSE'.

	* lib/pytis/form/screen.py (Keymap.keys): Nová metoda.
	(KeyHandler._prefix_key_sequence): Nový atribut.
	(KeyHandler.on_key_down): Zapamatovávej si stisknuté prefixové
	klávesy.  Zobrazuj zprávu o stisknuté prefixové sekvenci a mo¾ných
	klávesách.
	(MItem.__init__): Zru¹eny ve¹keré triky kolem nastavování horkých
	kláves jako souèásti titulku.
	(Menu.create): Zapamatuj si ¹íøku titulku v¹ech polo¾ek
	vytváøeného menu a nakonec u ka¾dé polo¾ku, která má horkou
	klávesu, doplò titulek mezerami a horkou klávesou tak, aby byly
	horké klávesy zarovnány pod sebe (s pøesností na ¹íøku jedné mezery).

	* lib/pytis/form/list.py (CodeBook._on_activation): Zru¹en argument
	`key'.  Ten zji¹»uj pomocí `self._current_key()'.
	(_InputFieldCellEditor.EndEdit): Namísto `field.type().validate()'
	vyu¾ívej `field.validate()'.

	* lib/pytis/presentation/field.py (CodeBookSpec.__init__): Nový argument
	`insert_unknown_values'.
	(CodeBookSpec.insert_unknown_values): Nová metoda.

2003-01-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_create_recreate_grid): Nová metoda.
	(_create_grid, _recreate_grid): Volej ji.
	(_TITLE_FOREGROUND_COLOR): Nová konstanta.
	(FilteredBrowseForm.filter): Urèenou podmínku pøiøaï do
	_lf_initial_condition a do `refresh' pøedej jako `condition' None.

	* lib/pytis/form/dualform.py (DescriptiveDualForm._create_main_form):
	List -> ListForm.
	(SideBrowseDualForm._create_side_form, SideBrowseDualForm.close) 
	(BrowseDualForm._create_main_form, BrowseDualForm._on_new_record) 
	(ShowDualForm.__init__): List -> ListForm.

	* lib/pytis/form/form.py (LookupForm.Close): Nová metoda.
	(LookupForm._on_sort_column): List -> LookupForm.
	(BrowsableShowForm.on_ui_event): List -> ListForm.
	(LookupForm._init_select.trans): Pøevádìj formuláøovou specifikaci
	tøídìní na datovou.
	(LookupForm._on_select_filter): Pøejmenováno na `_on_filter'.
	(LookupForm.on_command): Zohlednìna pøedchozí zmìna.
	(LookupForm._filter): Nová metoda.
	(LookupForm._on_filter): Pou¾ívej ji.  Nové argumenty `row' a
	`col'.
	(LookupForm._init_select): Zohledòuj _lf_initial_condition.

	* lib/pytis/form/screen.py (KeyHandler.on_key_down): Pøed event.Skip
	zkus je¹tì volat poruèníka.

2003-01-23  Petr Malivanek  <malivanek@akont.cz>

	* scripts/SosejGeminy.py (): Narhazení "= ''" za "= NULL" nebo v
	podmince where "is NULL". 

2003-01-23  Petr Malivanek  <malivanek@akont.cz>

	* scripts/SosejGeminy.py (): Narhazení "= ''" za "= NULL" nebo v
	podmince where "is NULL". 

2003-01-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form._init): Nová metoda.
	(Form.__init__): Pou¾ívej ji.  Argumenty nahrazeny obecnou
	specifikací argumentù *args, **kwargs.
	(RecordForm.__init__, LookupForm.__init__): Pøejmenováno na
	`_init'.  Metodu pøedka volej pøednostnì.
	(LookupForm._default_sorting, LookupForm._default_grouping): Nové
	metody.
	(LookupForm._init): Pou¾ívej je.  Nech» `grouping' a `sorting'
	jsou vytahovány z `kwargs'.
	(LookupForm._search, LookupForm._search_adjust_data_position) 
	(LookupForm._search_skip): Nové metody.
	(LookupForm._on_search): Vyu¾ívej metodu `_search'.
	(LookupForm.SORTING_CYCLE_DIRECTION, LookupForm.SORTING_NONE):
	Nové konstanty, pøesunuty z lib.form.List.
	(LookupForm._on_sort_column): Pøepracováno.
	(LookupForm.on_command): Opraveno chybné `super_'.
	(LookupForm.condition, LookupForm.sorting): Nové metody, pøesunuté
	z lib.form.List.

	* lib/pytis/form/command.py: Zru¹eny aliasy pro pøíkazy do List.
	Pøíkazy z List pøevedeny do ListForm.

	* lib/pytis/form/list.py (List): Zru¹eno, vèlenìno do ListForm.
	(ListForm): Buï potomkem LookupForm, KeyHandler a CallbackHandler.
	Patøiènì pøeorganizováno a upraveno, i s ohledem na vèlenìní List.
	(ListForm._ListTable._EditedRow.__init__) 
	(ListForm._ListTable.GetAttr): List -> ListForm.
	(BrowseForm.__init__, BrowseForm._formatter_parameters):
	Odstranìny odkazy na `_list'.

2003-01-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (LookupForm.__init__): Nové atributy
	`_lf_initial_sorting', `_lf_initial_condition',
	`_lf_initial_grouping', `_lf_search_dialog', `_lf_filter_dialog',
	`_lf_filter'.
	(BrowsableShowForm.__init__): Zru¹eno.
	(RecordForm.prefill, RecordForm.set_prefill): Nové metody,
	pøesunuté z lib.form.List.
	(RecordForm.__init__, LookupForm.__init__): Konstruktor pøedka
	volej a¾ po vlastních inicializacích.
	(EditForm.__init__): Nápodobnì.
	(LookupForm._find_row.find_row): _lf_select_* -> _lf_*.
	(BrowsableShowForm.on_command): _lf_count -> _lf_select_count.

2003-01-22  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List._on_label_left): Místo
	`Form.COMMAND_SORT_COLUMN' volej `LookupForm.COMMAND_SORT_COLUMN'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_application_name.default): Konfiguraèní
	volba vrácena.

2003-01-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Pokud je ji¾
	otevøeno modální okno, nech» je rodièem.  Je-li otevíráno
	nemodální okno, ujisti se, ¾e není otevøeno ¾ádné modální okno.

2003-01-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Klíèový argument
	`guardian' konstruktoru formuláøe pøedávej jen není-li tøída
	podtøídou `PopupForm'.

	* lib/pytis/form/list.py (CodeBook.on_command): O¹etøuj
	`Application.COMMAND_LEAVE_FORM' voláním `self._on_leave_form()'
	namísto pøímého uzavírání okna.

	* lib/pytis/form/form.py (EditForm._validate): Pokud sel¾e validace,
	nastav nevalidnímu políèku focus.

2003-01-21  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (BrowsableShowForm.on_ui_event): Místo
	`self._search_dialog' testuj `self._lf_search_dialog'.

2003-01-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_label_right, List.on_command):
	Zohlednìno pøevedení pøíkazù z Form do LookupForm (jako doèasné
	øe¹ení).

	* lib/pytis/form/command.py: Pøíkazy pro vyhledávání a filtrování
	pøevedeny do tøídy LookupForm.

	* lib/pytis/form/form.py (RecordRow, LookupForm): Nové tøídy.
	(EditForm): Místo Form buï potomkem LookupForm.
	(BrowsableShowForm._sfs_columns, BrowsableShowForm._sf_dialog)
	(BrowsableShowForm._on_search)
	(BrowsableShowForm._on_select_filter)
	(BrowsableShowForm._on_sort_column): Zru¹eno.
	(BrowsableShowForm.on_command): Vypu¹tìny pøíkazy pøevedené do
	LookupForm.

2003-01-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Vytváøej `wxPanel'
	a zapamatuj si jej jako `self._panel'.  Nakonec mu pøedej focus.
	(Application.restore): Pokud nezbyl ¾ádný otevøený formuláø,
	nastav focus na `self._panel'.
	(Application.__init__): Volání `KeyHandler.__init__()' pøedávej
	`self._panel' jako argument `widgets'.
	(Application.set_status): Nový argument `root'.
	(message): Nový argument `root'.
	(Application.run_form): `message()' volej s argumentem
	`root=TRUE'.  Konstruktoru formuláøe pøedávej `self' jako klíèový
	argument 'guardian'.
	
	* lib/pytis/form/dualform.py (DualForm.__init__): Argumenty pøedávej
	jako `*args' a `**kwargs'.

	* lib/pytis/form/form.py (EditForm.exit_check): Zru¹en odporný hack se
	sleepem.
	(Form.close): Nová metoda.

2003-01-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._on_label_right): Volej callback
	`CALL_USER_INTERACTION'.
	(List._on_select_cell): Volej callback `CALL_USER_INTERACTION'.

2003-01-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Boolean._validate): Nová metoda.

	* lib/pytis/form/search.py (SFDialog._selected_condition): U boolean
	políèek provádìj nestriktní validaci.
	(SFDialog._on_suck): Je-li exportovaná hodnota tuple, pou¾ij jeho
	první prvek.

	* lib/pytis/form/application.py (wx_yield_): Nová funkce.
	(Application.run_form): Oznamuj spou¹tìní formuláøe ve stavovém
	øádku.

	* lib/pytis/form/event.py (interrupt_watcher.watcher): Pou¾ívej
	wx_yield_ místo pøímého volání wx funkce.  * lib/pytis/form/dialog.py
	(GenericDialog._on_set_focus): Nápodobnì.

2003-01-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/xtypes.py (_Codebook.__init__): `id' pøejmenováno na
	`id_'.
	(_Codebook.__new__): Pøejmenováno na `_make'.

	* lib/pytis/data/types_.py (_MType): Nová tøída.
	(Type.make): Místo __new__ volej `_make'.
	(Type._make): Pøidán assert na neprázdný výsledek.  Zmìnìno na
	staticmethod.
	(Type.__new__): Zru¹eno.	
	(Type.__init__): Volej metodu pøedka.
	(Type.__metaclass__, MutableType.__metaclass): Nastaveno na _MType.
	(Type._TypeTable.get_instance): Místo object.__new__ volej
	class_.__new__.  Pøidán assert na výsledek __new__.

2003-01-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py: Úprava dokumentaèního øetìzce.

	* lib/pytis/form/application.py (Application.run_form): Pokud je
	otevíraný formuláø nalezen na zásobníku oken, nevytváøej jej, ale
	pouze vyzvedni existující.
	(Application.run_form): Pøidáno TODO.

	* lib/pytis/form/form.py (Form.name): Nová metoda.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nový argument
	`enable_inline_insert'.
	(ViewSpec.enable_inline_insert): Nová metoda.

	* lib/pytis/form/list.py (List.__init__): Nový argument
	`enable_inline_insert'.
	(List._on_insert_line): Úprava dokumentaèního øetìzce.  Pokud není
	 nastaveno `self._enable_inline_insert', nepovol vlo¾ení a zobraz
	 zprávu.  Nevracej `wx.TRUE' ale `TRUE'.
	 (ListForm._create_list): Konstruktoru tøídy `List' pøedávej
	 argument `enable_inline_insert'.

2003-01-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (BrowseDualForm): Buï potomkem `Refreshable'.
	(BrowseDualForm.refresh): Nová metoda.
	(ShowDualForm): Buï potomkem `Refreshable'.
	(ShowDualForm.refresh): Nová metoda.
	(DescriptiveDualForm): Buï potomkem `Refreshable'.
	(DescriptiveDualForm.refresh): Nová metoda.

2003-01-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (set_clipboard_text): Volej
	`clipboard.UsePrimarySelection(wx.TRUE)'.

2003-01-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.__init__): Konstruktor pøedka
	volej jen jednou.
	(List._ListTable.close): Nuluj významná data instance.
	(_CellEditor): Zru¹eno.
	(_InputFieldCellEditor.field)
	(_InputFieldCellEditor.IsAcceptedKey): Pøesunuto z _CellEditor.
	(List.Close): Osirotèuj grid.
	(List._recreate_grid): Místo vytváøení nového gridu pouze uprav
	velikost gridu a vynu» jeho pøekreslení.  Výraznì pøepracováno.
	(List._ListTable.update): Nová metoda.

	* ebas (go): Místo gc.DEBUG_LEAK nastavuj odpovídající flagy bez
	gc.DEBUG_SAVEALL.
	* ebas-server (go): Nápodobnì.

2003-01-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._create_grid.registration): Nepøedávej
	self jako klíèový argument.
	(List._on_line_rollback): Na konci volej `refresh()' nepodmínìnì.
	(List.Close): Volej také `wx.wxPanel.Close()'.

	* lib/pytis/form/application.py (Application._add_window_menu_item):
	Vytváøené instanci `MItem' nastavuj argument `help'.
	(Application.set_status): Namísto odchytávání výjimek zkoumej
	návratové hodnoty.  Namísto `message()' na vrchní modální okno
	volej `Form.set_status()', jde-li o instanci `Form'.

	* lib/pytis/form/screen.py (MItem.__init__): Argument `helpstring'
	pøejmenovám na `help'.
	(MItem.create): Namísto metody `helpstring()' pou¾ívej atribut `_help'.
	(MItem.helpstring): Metoda zru¹ena.
	(StatusBar.message): Pokud pole daného id neexistuje, vracej
	`FALSE' namísto vyvolání výjimky.  V pøípadì úspìchu vracej `TRUE'.

	* lib/pytis/form/form.py (TitledForm._create_caption): V¾dy vytváøej
	novou instanci fontu (je-li `size' None, pouze dìï velikost).
	(Form.set_status): Nová metoda.
	(PopupEditForm.message): Zru¹eno.
	(PopupEditForm.set_status): Nová metoda.

2003-01-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (Tmpdir._cleanup): Nová metoda.
	(Tmpdir.__del__): Kód pøesunut do _cleanup a voláno.

	* lib/pytis/form/output.py (PrintForm._show_page): Je-li stránka mimo
	rozsah, pípni.
	(PrintForm.close): Nová metoda.
	(PostscriptViewer._init_gs): Nová metoda.
	(PostscriptViewer.__init__): Pou¾ívej ji.
	(PostscriptViewer.restart): Nová metoda.
	(PostscriptViewer.show_page): Pro zobrazování stránek kombinuj
	starý a nový Ghostscript.
	(PrintForm.__init__): Nové atributy `_number_of_runs' a
	`_formatter_running'.
	(PrintForm._run_formatter): Nastavuj je.
	(PrintForm._start_postscript_viewer): Nový argument `new'.
	(PrintForm._on_idle): Restartuj formátovaè, je-li nutno.

	* lib/pytis/output/formatter.py (LoutFormatter.__init__): Místo
	_formatted_document_lock zavedeno _lout_run_lock.
	(LoutFormatter._lout): Zohlednìna pøedchozí zmìna.
	(LoutFormatter.close): Nová metoda.

2003-01-10  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/application.py (Application.OnInit): Vytváøej prvky
	v poøadí 'statusbar', 'windows', 'modals', 'menus'.	

2003-01-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/markup.py (VSpace.__init__, HSpace.__init__): Nech»
	argument `height', resp. `width' smí být té¾ None.

	* lib/pytis/output/formatter.py (_INTRO): Zru¹eny nadbyteèné definice
	@pageHeaderInt a @pageFooterInt.
	(_INTRO): Opraveno generování èísel stránek.  Nová makra @vfill a
	@hfill.
	(LoutFormatter._format_space): Pøidána podpora pro velikost None.

2003-01-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (set_clipboard_text): Nová funkce.

	* lib/pytis/form/list.py (List._create_edit_popup_menu): Nová polo¾ka
	pro pøíkaz `List.COMMAND_COPY_CELL'.
	(List.on_command): O¹etøuj pøíkaz `List.COMMAND_COPY_CELL' voláním
	`self._on_copy_cell'.
	(List._on_copy_cell): Nová metoda.
	(BrowseForm._popup_menu): Nová polo¾ka
	pro pøíkaz `List.COMMAND_COPY_CELL'.

	* lib/pytis/form/command.py: Nový pøíkaz `List.COMMAND_COPY_CELL'.

2003-01-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/flibutil.py (f_table): Nový argument `kwargs'.

	* lib/pytis/output/markup.py (Table.__init__): Nový argument `vmargin'.
	(Table.vmargin): Nová metoda.
	(LongTable.__init__): Nové argumenty `row_generator_init' a
	`line_separator_height'.
	(LongTable.row_generator_init, LongTable.line_separator_height):
	Nové metody.

	* lib/pytis/output/formatter.py (LoutFormatter._format_long_table): Na
	buòky tabulky volej `_format', ne `_format_text'.
	(LoutFormatter._format_table): Zohledni parametr `vmargin'.
	(LoutFormatter._format_long_table): Zohlednìny parametry
	`row_generator_init' a `line_separator_height'.  Opraveno
	zji¹»ování velikosti separátoru záhlaví.

2003-01-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (SideBrowseForm.__init__): Nový argument `title'.
	(SideBrowseForm.title): Nová metoda.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Pøedávej konstruktoru SideBrowseForm argument `title'.
	(BrowseDualForm._create_main_form._MainBrowseForm): Nová odvozená tøída.
	(BrowseDualForm._create_main_form): Pou¾ívej ji.

	* lib/pytis/form/spec.py (DualSpec.__init__): Nové argumenty `title' a
	`side_title'.
	(DualSpec.__init__): Nové argumenty `title' a `side_title'.
	(DualSpec.title, DualSpec.title): Nové metody.

	* lib/pytis/form/form.py (ShowForm._finish_top_level_sizer):
	Zakomentováno a pøidáno TODO.

	* lib/pytis/form/application.py (Application.UI_OPENED_WINDOW)
	(Application.UI_OPENED_MORE_WINDOWS): Nové UI konstanty.
	(Application.__init__): Nevytváøej klávesovou mapu zde.  Metodì
	`KeyHandler.__init__()' pøedávej `self._frame' jako argument
	`widgets'.
	(Application.OnInit): Vytváøej klávesovou mapu zde.
	(Application.OnInit): Do menu oken pøidány polo¾ky pro pøíkazy
	`Application.COMMAND_NEXT_FORM', `Application.COMMAND_PREV_FORM' a
	`Application.COMMAND_LEAVE_FORM'.
	(Application._add_window_menu_item)
	(Application._remove_window_menu_item): Pokud je `menu' None,
	nedìlej nic.
	(Application._raise_form): Pokud je `form' None, nedìlej nic.
	(Application.on_command): Zpracuj pøíkazy
	`Application.COMMAND_NEXT_FORM' a `Application.COMMAND_PREV_FORM'.
	(Application.on_ui_event): Zpracuj testy
	`Application.UI_OPENED_WINDOW' a
	`Application.UI_OPENED_MORE_WINDOWS'.
	(Application._on_frame_size): `top.resize()' volej bez argumentù.
	(Application.__init__): Metodì `KeyHandler.__init__()' nepøedávej
	`self._frame' jako argument `widgets'.

	* lib/pytis/form/command.py: Pøidán Copyright 2003
	(Application.COMMAND_RUN_FORM, Application.COMMAND_LEAVE_FORM)
	(Application.COMMAND_RAISE_FORM): Úprava dokumentaèního øetìzce.
	(Application.COMMAND_PREV_FORM, Application.COMMAND_NEXT_FORM):
	Nové pøíkazy.

	* lib/pytis/form/screen.py (WxKey.__init__): Do pøekladové tabulky
	pøidány klávesy 'Up', 'Down', 'Left' a 'Right'.
	(Keymap._define_key): Pøidán assert s vysvìtlující hlá¹kou.
	(Keymap.define_key): Doplnìn dokumentaèní øetìzec.
	(Keymap.lookup_command): Nová metoda.
	(KeyHandler.__init__): Atribut `keymap' nenastavuj, pokud ji¾
	existuje.
	(MItem.__init__): Pokud má pøíkaz polo¾ky menu definovánu
	klávesovou zkratku v globální klávesové mapì, pøevezmi tuto
	klávesu.  Pokud má polo¾ka definovánu vlastní klávesovou zkratku,
	definuj ji také v globální klávesové mapì.

2003-01-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (DateTime.now): Nová metoda.

	* lib/pytis/util/configuration.py (Configuration.Option): Buï potomkem
	`object'.
	(Configuration._FileOption): Nová tøída.
	(Configuration._Option_def_dir, Configuration._Option_icon_dir):
	Buï potomkem _FileOption.

	* lib/pytis/output/formatter.py (_INTRO): Definice @pageNumber a
	@numberOfPages vyta¾eny z @document na top-level.  V @document
	zru¹en pravý argument a nové argumenty @pageHeader a @pageFooter.
	(LoutFormatter._format_document): Zohledni nové argumenty ¹ablony
	`page_header' a `page_footer'.
	(LoutFormatter._format_table): Opravena Lout specifikace
	zarovnávání bunìk.

	* ebas (go): Pøi zapnutém debugování pamìti na konci vypi¹ pending
	data.
	* ebas-server (go): Nápodobnì.

	* lib/pytis/output/markup.py (Document.KWARGS): Pøidány argumenty
	`page_header' a `page_footer'.

2003-01-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/_test.py (XStack.check_it): Testuj shodu operátorem
	`is', ne ekvivalenci.  Testuj metody `next' a `prev' také na
	prázdných a jednoprvkových seznamech.

	* lib/pytis/util/util.py (XStack.pop, XStack.remove): Testuj zda byl
	vyøazovaný prvek suteènì aktivním prvkem, ne pøítomnost aktivního
	prvku v seznamu po jeho vyøazení.
	(XStack.items): Upøesnìn dokumentaèní øetìzec.
	(XStack.active): Pøidán assert.
	(XStack.next): Pokud seznam obsahuje ménì ne¾ dva prvky, vracej
	None.  Upøesnìn dokumentaèní øetìzec.

2003-01-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/output.py (PrintForm.ACTIVATIONS): Pøidej i
	`Window.ACTIVATIONS'.

2003-01-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (_Ghostscript): Buï potomkem Tmpdir.
	(_Ghostscript.__init__): Volej konstruktor pøedka.
	(_Ghostscript.__del__): Místo ruèního mazáního souborù a adresáøe
	volej metodu pøedka.

	* lib/pytis/util/util.py (Tmpdir): Nová tøída.
	(Popen.__init__): Nový argument `directory'.

	* lib/pytis/output/flibdata.py (data_table): Opraveno pøedávání
	specifikací sloupcù do PresentedRow a LongTable.

	* lib/pytis/output/formatter.py (_INTRO): Pøepracováno, nemìlo by nyní
	zhazovat Lout na vìt¹ích dokumentech a vy¾írat pamì».
	(LoutFormatter._format_document): Upraveno pro novou definici
	dokumentu.
	(LoutFormatter): Buï potomkem Tmpdir.
	(LoutFormatter.__init__): Volej konstruktor pøedka.
	(LoutFormatter._lout): Volej Popen s argumentem `directory'.

2003-01-06  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/util/util.py (XStack.prev): O¹etøen pøípad, kdy
	self._list[-1], vrací právì aktivní okno.

2003-01-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/_test.py (XStack.check_it): Testuj nové metody.

	* lib/pytis/util/util.py (XStack.next): Nová metoda.
	(XStack.prev): Nová metoda.
	(XStack.pop): Nová metoda.
	(XStack.remove): Pøi odebrání aktivního prvku aktivuj
	pøedcházející prvek.

	* lib/pytis/form/form.py (Form.restore): Nevolej `show()' a `resize()'.

	* lib/pytis/form/application.py (Application.activate): Zru¹eno.
	(Application._activate): Nová metoda.
	(Application.save, Application.restore): Nová metody.
	(Application._raise_form): Vyu¾ívej je.
	(Application.run_form): Vyu¾ívej `save()'.
	(Application.run_form): Vyu¾ívej `save()' a `_activate()'.
	(Application.leave_form): Vyu¾ívej `restore()'.

2003-01-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py: Pøidán Copyright 2003
	(Application._State): Zru¹eno.
	(Application._state): Zru¹eno.
	(Application._spec): Nech» je argument `default_value' nepovinný s
	výchozí hodnotou None.
	(Application.OnInit): Nech» Má vytváøené menu oken nastavenu
	aktivaèní kategorii `Window.ACT_WINDOW'.  Pøi volání
	`self._spec()' nepøedávej argument `default_value', pokud je None.
	Neinicializuj `self._initial_state'.  Namísto `self._states'
	vytváøej `self._windows'.
	(Application._window_menu): Nová metoda.
	(Application._window_menu_item_title): Nová metoda.
	(Application._add_window_menu_item): Nová metoda.
	(Application._remove_window_menu_item): Nová metoda.
	(Application._check_window_menu_item): Nová metoda.
	(Application._update_window_menu): Zru¹eno.
	(Application._raise_form, Application.run_form)
	(Application.leave_form, Application.exit)
	(Application.top_window, Application._on_frame_size): Pøepsáno s
	ohledem na jiný zpùsob práce s menu otevøených oken a pou¾itím
	`self._windows' namísto `self._states' a zmìny v API tøídy
	`XStack'.
	(Application.get_status): Nová metoda.
	(Application.set_status): Pou¾ij `self._modals.top()' namísto
	`self.top_window'.  Úprava dokumentaèního øetìzce.
	(message): Úprava dokumentaèního øetìzce.
	(set_status): Úprava dokumentaèního øetìzce.
	(get_status): Nová funkce.

	* lib/pytis/form/screen.py: Pøidán Copyright 2003
	(Window): Nech» je potomkem `Restorable'.
	(Window.ACT_WINDOW, Window.ACTIVATIONS): Nové kontanty.
	(Window.focus): Nevolej `lib.form.application._application.activate()'.
	(MItem._wx_kind): Nová metoda.
	(MItem.create): Nová metoda. 
	(Menu.create): Vyu¾ívej ji.
	(RadioItem): Nová tøída.
	(ActivationGroup): Zru¹eno.
	(StatusBar): Nech» není potomkem `Restorable'.
	(StatusBar._current_message): Zru¹eno.
	(StatusBar.get_message): Nová metoda.
	(StatusBar.save): Zru¹eno.
	(StatusBar.restore): Zru¹eno.

	* lib/pytis/form/output.py: Pøidán Copyright 2003
	(PrintForm.ACTIVATIONS): Nech» je atribut veøejný (`Form.ACTIVATIONS').

	* lib/pytis/form/list.py: Pøidán Copyright 2003
	(ListForm._STATUS_FIELDS): Nová konstanta.

	* lib/pytis/form/form.py: Pøidán Copyright 2003
	(Form._ACTIVATIONS): Nech» je atribut veøejný (`Form.ACTIVATIONS').
	(Form._STATUS_FIELDS): Nový atribut.
	(Form.status_fields): Metoda zru¹ena.
	(Form.save): Nová metoda.
	(Form.restore): Nová metoda.

	* lib/pytis/util/_test.py: Pøidán Copyright 2003
	(XStack.check_it): Test upraven podle nového API tøídy `XStack'.

	* lib/pytis/util/util.py: Pøidán Copyright 2003
	(XStack): Pøepsán dokumentaèní øetìzec.
	(XStack.__contains__): Zru¹eno.
	(XStack.__init__): Nová metoda.
	(XStack.push): Nová metoda.
	(XStack.arise): Zru¹eno.
	(XStack.remove): Nová metoda.
	(XStack.activate): Nová metoda.
	(XStack.active): Nová metoda.

2002-12-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/flibdata.py (data_table): Nepøedávej do
	LongTable.Column id a typ, klíèuj `alignemnt'.

	* lib/pytis/output/flibutil.py: Nový soubor.
	* lib/pytis/output/data.py: Pøejmenováno na `flibdata.py'.
	* lib/pytis/output/__init__.py: Zohlednìny pøedchozí zmìny.

	* lib/pytis/output/markup.py (PageNumber.__init__, PageNumber.total):
	Nové metody.
	(Table): Nová znaèka.
	(LongTable.Column, LongTable.columns): Pøesunuto do Table.
	(LongTable.__init__): Volej konstruktor pøedka.
	(Table.Column.__init__): Nech» argumenty `label', `width' a
	`alignment' jsou nepovinné a `label' a `width' smí být None.
	Zru¹eny argumenty `id' a `type_'.
	(LongTable.Column): Nová tøída.
	(LongTable): Buï potomkem Table.

	* lib/pytis/output/formatter.py (LoutFormatter._format_page_number):
	Zohledni parametr ¹ablony `total'.
	(LoutFormatter._format_font_size): Doplnìno chybìjící `f' v levém
	argumentu @Font.
	(_INTRO): Pøidáno include `tbl'.  Pomocné funkce pøesunuty pøed
	funkce struktury dokumentu.
	(LoutFormatter._MARK_PROCESSORS): Pøidáno Table.
	(LoutFormatter._format_table): Nová metoda.
	(LoutFormatter._process): Je-li _body sekvencí dokumentù, formátuj
	je separátnì.

2002-12-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Type.__new__): Nová metoda.
	(Type._make): Buï staticmethod, ne classmethod.  Nenastavuj
	_making_type.
	(Type.make): Ztrivializováno.
	(Type._making_type): Zru¹eno.
	(Type._TypeTable.get_instance): Vytváøej novou instanci typu pøes
	object.__new__.
	(Type.__init__): Nepou¾ívej _making_type.
	(Type.__getattr__): Nepou¾ívej `make'.
	* lib/pytis/data/xtypes.py (_Codebook.make): Zru¹eno.
	(_Codebook.__new__): Nová metoda.
	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_validate_codebook)
	(PostgreSQLUserGroups._pgg_connection_key)
	(PostgreSQLUserGroups._pgg_retrieve_access_groups)
	(PostgreSQLUserGroups.class_access_groups): Buï staticmethod, ne
	classmethod.
	(DBData._db_bindings_to_column_spec) 
	(PostgreSQLStandardBindingHandler._pdbb_get_type) 
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec) 
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql) 
	(PostgreSQLStandardBindingHandler._pg_insert): Vytváøej instance
	typù pøímo, ne pøes `make'.
	* lib/pytis/data/_test.py: Nepou¾ívej nikde `make'.

	* lib/pytis/output/formatter.py (_INTRO): Odstranìno include latin2.
	(LoutFormatter._format_long_table): Neprovádìj ¾ádný down-scaling.

2002-12-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer.show_page): Poèet krokù
	zpìtnì dopoèítávej z velikosti kroku.

	* lib/pytis/output/markup.py (Document): Nová znaèka.

	* lib/pytis/output/formatter.py (LoutFormatter._format_text): Chraò
	úvodní a koncové mezery.
	(LoutFormatter._MARK_PROCESSORS): Pøidáno Document.
	(LoutFormatter._format_document): Nová metoda.
	(LoutFormatter.__init__): Obal `body' znaèkou Document, je-li
	tøeba.
	(LoutFormatter.preview, LoutFormatter.printout): Spou¹tìj Lout bez
	parametru `-s'.

	* lib/pytis/util/util.py (XStack): Opraveny v¹echny docstringy.
	(nreverse): Nová funkce.
	* lib/pytis/util/_test.py (ListUtils.check_nreverse): Nový test.

2002-12-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (_INTRO): Kompletnì zmìnìno.
	(LoutFormatter._process): Zohlednìna pøedchozí zmìna.
	(LoutFormatter._format_page_number): Nápodobnì.  Vypisuj té¾
	celkový poèet stran.

2002-12-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.show, DualForm.hide)
	(DualForm.close): Nové metody.
	(DualForm.Show, DualForm.Close): Zru¹eno.
	* lib/pytis/form/list.py (List.__init__): Pøidán hack zaji¹»ující
	nenulové èíslo øádku ve stavové øádce.

	* lib/pytis/form/application.py (_State.__init__): Zru¹en argument
	`frame'.
	(Application._State.restore): Metodu `resize' formuláøe volej bez
	argumentù.
	(Application._state): Nepøedávej argument `frame' konstruktoru
	`self._State'.

	* lib/pytis/form/screen.py (Window.__init__): Pøidán docstring.
	(Window.resize): Nech» je argument size nepovinný a v pøípadì jeho
	neuvedení je velikost urèena automaticky z velikosti rodiè. okna.
	Pøidán docstring.
	(Window.show): Pøidán docstring.
	(Window.hide): Pøidán docstring.
	(Window.close): Pøidán docstring.

2002-12-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Kosmetické úpravy.
	(Application.run_form): Pokud je vrchní okno instancí
	`Refreshable', volej mu po uzavøení formuláøe `refresh()'.

	* lib/pytis/form/screen.py (Window.show): Zru¹eno zakomentované
	podmínìné volání `refresh()'.

2002-12-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/markup.py (Image): Nová znaèka.

	* lib/pytis/output/formatter.py: Do docstringu pøidán popis
	`background'.
	(LoutFormatter.__init__): Nový atribut `_page_background'.
	(LoutFormatter._process): Pøidáno zpracování pozadí.  Nová funkce
	`process_special'.
	(_INTRO): Pøidáno %(pbackground)s.
	(LoutFormatter._MARK_PROCESSORS): Pøidáno Image.
	(LoutFormatter._format_image): Nová metoda.

	* lib/pytis/form/screen.py (wx_focused_window): Nová funkce.
	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Pou¾ívej ji.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Oprava formátování.
	(ViewSpec.cleanup): Oprava docstringu.

	* lib/pytis/data/access.py (RestrictedData._check_access_condition):
	Funkce `columns' pøedìlána na metodu
	`_check_access_condition_columns'.

	* lib/pytis/util/util.py (mem_info.MemInfo.update): Spou¹tìj sbìraè a
	vypisuj poèet nesesbíratelných objektù.
	(mem_info.MemInfo.__init__): Hodnota `_report_length' sní¾ena
	na 1.

2002-12-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (top_level_exception): Volej `exit'
	s argumentem `quietly'.
	(wx_callback.process_event): Natvrdo testuj na Ctrl-g.

	* lib/pytis/form/application.py (Application.exit): Nový argument
	`quietly'.
	(exit): Nový argument `kwargs'.
	(global_keymap): Nová funkce.
	(Application.OnInit): Inicializace kláves pøesunuta do `__init__'
	a pozmìnìna pro klávesové mapy.

	* lib/pytis/form/command.py: Popis zápisu kláves z docstringu modulu
	pøesunut do screen.KeyHandler.
	(Command.__init__): Argument `key' je nyní potlaèen.  Argument
	`log' pøejmenován na `log_'.
	(List.COMMAND_SELECT_CELL): Zohlednìna pøedchozí zmìna.
	(Command.__setattr__): Nová doèasná metoda.
	(Command.__str__): Nevypisuj `key'.

	* lib/pytis/form/screen.py (_Keymap): Pøejmenováno na Keymap, doplnìny
	docstringy.
	(Keymap.define_command): Zru¹eno.
	(Keymap.define_key): Nová metoda.
	(Keymap._define_key): Nový argument `args'.
	(KeyHandler._get_keymap, KeyHandler.on_key_down): _Keymap ->
	Keymap.
	(KeyHandler._init_commands): Místo `define_command' volej
	`define_key'.
	(KeyHandler): Atribut `_keymap' pøejmenován na `keymap'.
	(KeyHandler._maybe_invoke_command): Zohlednìno pøidání argumentù
	k pøíkazu.
	(Keymap.__init__): Nech» argument `parent' je nepovinný.
	(MItem.__init__): Chraò se proti nepøítomnosti atributu
	`command.key'.
	(KeyHandler._get_keymap): Jestli¾e rodièovská mapa nebyla zadána,
	pou¾ij `global_keymap'.
	(KeyHandler.on_key_down): Jestli¾e _maybe_invoke_command neuspìje,
	pøeskoè událost.

2002-12-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._on_commit_form): Volej cleanup proceduru.

2002-12-13  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Pøidán alias
	pro typ 'name'.

2002-12-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nový argument 'cleanup'.
	(ViewSpec.cleanup): Nová metoda.

	* lib/pytis/form/application.py (Application.on_ui_event): Oprava docstringu.
	(Application._call_current_window): Oprava docstringu.
	(Application.OnInit): Volej specifikaèní funkci `init'.

2002-12-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (mem_info): Nová funkce.
	(_mem_info): Nová promìnná.

	* ebas (go): Pøi po¾adavku na debug pamìti zapni sledování gc.
	(_usage): Pøidáno --debug-memory.
	* ebas-server (go, _usage): Nápodobnì.

	* lib/pytis/util/configuration.py (Configuration._Option_debug_memory):
	Nová konfiguraèní volba.
	* config/config.py: Pøegenerováno.

2002-12-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Datum/èas validuj
	s argumentem `local'.

	* lib/pytis/data/types_.py (DateTime._validate, DateTime._export): Nový
	argument `local'.
	(Date._validate, Date._export): Nové metody.

2002-12-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._WINDOW_MENU_TITLE): Nová
	konstanta.
	(Application._State): Nová tøída.
	(Application._state): Nová metoda.
	(Application.OnInit): Do menu pøidávej i polo¾ku pro seznam
	otevøených oken.  Ukládej `self._initial_state'.  Zru¹eno
	`self._window'.  Nepou¾ívej `FrameStack()' -- zru¹eno
	`self._stack'.  Udr¾uj seznam modálních oken v `self._modals';
	instanci `Stack' a seznam stavù a vnitøních oken v `self._states';
	instanci `XStack'.
	(Application._call_current_window): Namísto `self._stack.window()'
	vyu¾ívej `self.top_window()'.
	(Application._update_stack_display): Zru¹eno.
	(Application._update_window_menu): Nová metoda.
	(Application._raise_form): Nová metoda.
	(Application.run_form): Update docsteringu.
	(Application.run_form): `parent' nech» je v¾dy `self._frame'.
	Pøed vytvoøením formuláøe ulo¾ vnitøní stav.  Modální formuláøe
	vkládej na stack `self._modals' a vnitøní okna na xstack
	`self._states'.  Vyu¾ívej metody tøídy `Window' pøi vkládání a
	uzavírání oken.  Namísto `self._update_stack_display()' volej
	`self._update_window_menu()'
	(Application.run_dialog): `parent' nech» je v¾dy `self._frame'.
	Namísto framestack vyu¾ívej `self._modals'.
	(Application.wx_frame): Zru¹eno.
	(Application._leave_form): Pøejmenováno na `leave_form()'.
	(Application.leave_form): Pøidán docstring.  Nestarej se o modální
	okna.  Zavøi pouze vrchní vnitøní okno, je-li jaké.
	(Application.exit, Application.top_window): Zohledni zmìny ve
	zpùsobu ukládání otevøených oken.
	(Application.push, Application.pop, Application.replace)
	(Application.set_status): Vyu¾ívej `self.top_window()'.
	(Application._on_frame_size): Zohledni zmìny ve zpùsobu ukládání
	otevøených oken.
	(Application.on_command): Zohledni zmìny ve zpùsobu ukládání
	otevøených oken. `self._leave_form()' -> `self.leave_form()'.
	Zpracij pøíkaz `Application.COMMAND_RAISE_FORM'.
	(set_status): Netestuj existenci `_application'.
	(run_dialog): Netestuj existenci `_application'.
	(leave_form): Zru¹en argument.  Nic zde nedìlej, jen volej
	`_application.leave_form()'.
	(current_form): Netestuj existenci `_application'.

	* lib/pytis/form/screen.py (Window.focus): Odkomantováno volání
	`activate()'.
	(FrameStack): Zru¹eno.
	(MenuBar.__init__.check_duplicate_keys): Kosmetické úpravy.
	(MItem.__init__): Vylep¹en hack s pøidáváním mezer k titulku --
	pøidávej mezeru, jen kdy¾ polo¾ka skuteènì má horkou klávesu.

	* lib/pytis/form/list.py (List.select_row.find): Pøejmenováno na `_find'.

	* lib/pytis/form/form.py (Form.descr): Nová metoda.
	(Form.title): Úprava docstringu.
	(Form._class_name): Nová metoda.
	(Form.__str__): Vyu¾ívej ji.
	(Form._on_leave_form): Funkci `leave_form()' volej bez argumentu.

	* lib/pytis/util/_test.py (Pool): Pøejmenováno na `XStack'.

	* lib/pytis/util/util.py (Pool): Pøejmenováno na `XStack'.
	(XStack): Úprava docstringu.
	(XStack.items): Úprava docstringu.
	(XStack.arise): Úprava docstringu.

	* lib/pytis/form/command.py (Application.COMMAND_RAISE_FORM): Nový pøíkaz.

2002-12-10  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_gsql_format_type): Pou¾ívej `timestamp(0)'
	místo `timestamp'.

2002-12-10  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_gsql_format_type): Pou¾ívej `timestamp(0)'
	místo `timestamp'.

2002-12-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLUserGroups._pgg_retrieve_access_groups): Chovej se
	pøístojnì, je-li `uid_string' None.

2002-12-09  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.gensql): Reportuj neresolvnuté
	objekty.
	(_GsqlFunction._format_body): Vyhazuj prázdné øádky v plpython
	funkcích.

2002-12-09  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlDefs.gensql): Reportuj neresolvnuté
	objekty.
	(_GsqlFunction._format_body): Vyhazuj prázdné øádky v plpython
	funkcích.

2002-12-07  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.__init__): `_object_number'
	pøejmenováno na `_serial_number'.  Nech» `name' smí být None.
	(_GsqlSpec.object_number): Pøejmenováno na `serial_number'.
	(_GsqlRaw): Nová tøída.
	(sql_raw, sql_raw_include): Pøepracováno na vyu¾ití _GsqlRaw.
	(include): Nezapisuj nic na sys.stdout.
	(_gsql_process): Místo zápisu na sys.stdout registruj vytvoøenou
	specifikaci do `_gsql_defs'.
	(_GsqlDefs): Nová tøída.
	(_gsql_defs): Nová globální promìnná.
	(_gsql_gensql): Nová funkce.
	(_go): Volej `_gsql_defs.gensql'.  Pøidána volba --help.
	(_GsqlSpec.__init__): Do docstringu pøidán doplòující komentáø
	o závislostech.
	(_GsqlView.__init__): Nový argument `join'.
	(ViewColumn.__init__): Roz¹íøen význam argumentu `name'
	o specifikaci sjednocení tabulek.
	(_GSQL_OPTIONS): Nová globální promìnná.
	(_usage, _go): Pou¾ívej ji.
	(_GsqlView._format_complex_columns): Nová metoda.
	(_GsqlView.output): Pøidána podpora `_join' a "komplexních
	sloupcù".

2002-12-07  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlSpec.__init__): `_object_number'
	pøejmenováno na `_serial_number'.  Nech» `name' smí být None.
	(_GsqlSpec.object_number): Pøejmenováno na `serial_number'.
	(_GsqlRaw): Nová tøída.
	(sql_raw, sql_raw_include): Pøepracováno na vyu¾ití _GsqlRaw.
	(include): Nezapisuj nic na sys.stdout.
	(_gsql_process): Místo zápisu na sys.stdout registruj vytvoøenou
	specifikaci do `_gsql_defs'.
	(_GsqlDefs): Nová tøída.
	(_gsql_defs): Nová globální promìnná.
	(_gsql_gensql): Nová funkce.
	(_go): Volej `_gsql_defs.gensql'.  Pøidána volba --help.
	(_GsqlSpec.__init__): Do docstringu pøidán doplòující komentáø
	o závislostech.
	(_GsqlView.__init__): Nový argument `join'.
	(ViewColumn.__init__): Roz¹íøen význam argumentu `name'
	o specifikaci sjednocení tabulek.
	(_GSQL_OPTIONS): Nová globální promìnná.
	(_usage, _go): Pou¾ívej ji.
	(_GsqlView._format_complex_columns): Nová metoda.
	(_GsqlView.output): Pøidána podpora `_join' a "komplexních
	sloupcù".

2002-12-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/util.py (Stack): Nová tøída.
	(Pool): Nová tøída.

	* lib/pytis/util/_test.py (Stack): Nový test.
	(Pool): Nový test.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Namísto
	`focused_window()' pou¾ívej pøímo `wx.wxWindow_FindFocus()'.

	* lib/pytis/form/form.py (Form): Buï potomkem `Window', namísto
	`wxPanel'.
	(Form._focused_form): Zru¹eno.
	(Form.__init__): Namísto kostruktoru `wxPanel' volej konstruktor
	`Window'.  Neinicializuj `self._callbacks'.
	(Form.parent): Zru¹eno
	(Form.focus, Form.defocus): Zru¹eno.
	(focused_form): Zru¹eno.
	(EditForm._run_with_lock): Zru¹eno.
	(PopupEditForm.run): Namísto volání `_run_with_lock()' rovnou
	implementuj spu¹tìní se zámkem zde.
	(EditForm._edit_insert): Jako vkládaný øádek pou¾ij výsledek
	`self._validate()' namísto datového øádku z `PresentedRow' `self._row'.

	* lib/pytis/form/screen.py (focused_window): Zru¹eno.
	(FrameList): Zru¹eno.
	(Window): Nová tøída (zatím pouze základ).
	(focused_window): Nová funkce.

	* lib/pytis/form/list.py (_on_activation): Nepøedávej lokální promìnné
	jako klíèové argumenty v definici lambda funkce.
	(ListForm.refresh): Nová metoda.
	(ListForm): Podìï také tøídu `Refreshable'.
	(List.OnKillFocus): `focused_form()' -> `focused_window()'.
	(List.SetFocus): Zviditelni aktuální buòku gridu.
	(List.SetFocus): `focused_form()' -> `focused_window()'.
	(List._recreate_grid): `focused_form()' -> `focused_window()'.
	(List._recreate_grid): Volej na grid je¹tì `Enable()'
	(List._GROUPING_COLOR): Zru¹eno.
	(List._GROUPING_BACKGROUND_DOWNGRADE): Nová konstanta.
	(List._ListTable.GetAttr): Namísto nastavování barvy pozadí pøi
	seskupování pouze ztmavuj souèasnou barvu pozadí.
	(List._ListTable.GetColLabelValue): Label seskupovacího sloupce
	odli¹ hvìzdièkami.
	(List._ListTable._group): Namísto nuly vracej `FALSE'.
	(List._ListTable._group): Poslední øádek poèítaný od zaè 

2002-12-06  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlView._DEFAULT): Zru¹eno.
	(_GsqlView.__init__): Nech» implicitní hodnotou `insert', `update'
	a `delete' je (), místo pùvodního _DEFAULT.  Zmìnìn význam tìchto
	argumentù.
	(_GsqlView._format_rule): Zohlednìna pøedchozí zmìna.
	(_GsqlTable.__init__): Nové argumenty `init_values' a
	`init_columns' a atributy `_init_values' a `_init_columns'.
	(_GsqlTable.output): Zohlednìna pøedchozí zmìna.
	(sql_raw): Do docstringu doplnìno upozornìní o nevhodnosti bì¾ného
	pou¾ívání.
	(_GsqlTable.__init__): Nech» `view' smí být i sekvence.  Atribut
	`_view' pøejmenován na `_views'.
	(_GsqlTable.output): Zohlednìna pøedchozí zmìna.
	(TableView.__init__): Nový argument a atribut `name'.
	(_GsqlTable._make_view): Zohlednìna pøedchozí zmìna.
	(_GsqlSpec.__init__): Nová metoda.
	(_GsqlSpec.name): Nová metoda.
	(_GsqlTable.__init__, _GsqlView.__init__, _GsqlFunction.__init__)
	(_GsqlSequence.__init__): Zohlednìna pøedchozí zmìna.  Nový
	argument `depends'.
	(_GsqlView._format_rule): Opraveny parametry formátovacího stringu
	pro CREATE RULE.
	(_GsqlView.output): Místo CREATE VIEW generuj CREATE OR REPLACE
	VIEW.
	(_GsqlTable._format_rule, _GsqlView._format_rule): Nápodobnì pro
	RULE.
	(_GsqlSpec.depends): Nová metoda.
	(_GsqlSpec.object_number): Nová metoda.

2002-12-06  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlView._DEFAULT): Zru¹eno.
	(_GsqlView.__init__): Nech» implicitní hodnotou `insert', `update'
	a `delete' je (), místo pùvodního _DEFAULT.  Zmìnìn význam tìchto
	argumentù.
	(_GsqlView._format_rule): Zohlednìna pøedchozí zmìna.
	(_GsqlTable.__init__): Nové argumenty `init_values' a
	`init_columns' a atributy `_init_values' a `_init_columns'.
	(_GsqlTable.output): Zohlednìna pøedchozí zmìna.
	(sql_raw): Do docstringu doplnìno upozornìní o nevhodnosti bì¾ného
	pou¾ívání.
	(_GsqlTable.__init__): Nech» `view' smí být i sekvence.  Atribut
	`_view' pøejmenován na `_views'.
	(_GsqlTable.output): Zohlednìna pøedchozí zmìna.
	(TableView.__init__): Nový argument a atribut `name'.
	(_GsqlTable._make_view): Zohlednìna pøedchozí zmìna.
	(_GsqlSpec.__init__): Nová metoda.
	(_GsqlSpec.name): Nová metoda.
	(_GsqlTable.__init__, _GsqlView.__init__, _GsqlFunction.__init__)
	(_GsqlSequence.__init__): Zohlednìna pøedchozí zmìna.  Nový
	argument `depends'.
	(_GsqlView._format_rule): Opraveny parametry formátovacího stringu
	pro CREATE RULE.
	(_GsqlView.output): Místo CREATE VIEW generuj CREATE OR REPLACE
	VIEW.
	(_GsqlTable._format_rule, _GsqlView._format_rule): Nápodobnì pro
	RULE.
	(_GsqlSpec.depends): Nová metoda.
	(_GsqlSpec.object_number): Nová metoda.

2002-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog.run): Po vytvoøení dialogu na
	nìj volej `SetFocus()'.

2002-12-05  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data):
	Odstranìní zapomenutých ladících informací.

2002-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (DateField._on_invoke_selection): Datum
	nastavovaný v kalendáøi získej validací øetìzce v políèku a
	výsledek zpìt nastavuj exportem (kvùli konverzi formátu).

	* lib/pytis/form/dialog.py (Calendar.__init__): Argument `date' nech»
	je instancí `mxDateTime'.
	(Calendar._create_content): Zohlednìno.
	(Calendar._customize_result): Návratová hodnota nech» je instancí
	`mxDateTime'.

2002-12-05  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlTable._make_view): Vracej view místo
	nastavování atributu.  view.columns pøeveï na list.
	(TableView.__init__): Pøidány asserts na typy argumentù.
	(_GsqlView._format_rule): Opraveno získání jmen sloupcù pøi
	konstrukci `settings' pro update.
	(_GsqlView.output): Opravena konstrukce GRANTs.
	(TableView.__init__): Nech» self.exclude je v¾dy sekvence.
	Doplnìno, ¾e do `columns' jsou pøidány sloupce tabulky.
	(_GsqlView._format_rule): Vynechávej `oid' sloupce.  Za ON vkládej
	název operace, ne view.

2002-12-05  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlTable._make_view): Vracej view místo
	nastavování atributu.  view.columns pøeveï na list.
	(TableView.__init__): Pøidány asserts na typy argumentù.
	(_GsqlView._format_rule): Opraveno získání jmen sloupcù pøi
	konstrukci `settings' pro update.
	(_GsqlView.output): Opravena konstrukce GRANTs.
	(TableView.__init__): Nech» self.exclude je v¾dy sekvence.
	Doplnìno, ¾e do `columns' jsou pøidány sloupce tabulky.
	(_GsqlView._format_rule): Vynechávej `oid' sloupce.  Za ON vkládej
	název operace, ne view.

2002-12-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.row): Pokud jde o právì
	editovaný øádek, nepou¾ívej cache.
	(List._ListTable.GetValue): Vyu¾ívej metody `List._ListTable.row()'.

2002-12-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction._format_body): Odstraòuj první
	øádek zdrojového kódu pythonové funkce a pøípadný docstring.
	Escapuj pythonový kód.
	(_GsqlFunction.__init__): Roz¹íøeny mo¾nosti argumentù `name',
	`body' a `doc'.
	(sql_raw_input): Pøejmenováno na `sql_raw_include'.
	(include): Nová funkce.

2002-12-04  Milan Zamazal  <pdm@brailcom.org>

	* tools/gensql.py (_GsqlFunction._format_body): Odstraòuj první
	øádek zdrojového kódu pythonové funkce a pøípadný docstring.
	Escapuj pythonový kód.
	(_GsqlFunction.__init__): Roz¹íøeny mo¾nosti argumentù `name',
	`body' a `doc'.
	(sql_raw_input): Pøejmenováno na `sql_raw_include'.
	(include): Nová funkce.

2002-12-02  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/xtypes.py (_Codebook.data_value): V pøípadì nenalezení
	hodnoty nevracej 'None', ale 'Value(self, None)'.
	(_Codebook.data_value): Úprava docstringu.

2002-12-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._get_row): Èíslo øádku za
	novým øádkem sni¾uj jen pøi pravdivém `autoadjust'.

2002-11-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/test.py (InteractiveTestCase._format_instructions):
	Opraveno chybnì uvedené jméno promìnné.

2002-11-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/xtypes.py (_Codebook.data_value): Opraven popis
	argument `value' a zcela zru¹eny zakomentované asserts.

2002-11-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Hack s default
	hodnotou provádìj jen pro skuteèné èíselníky.

2002-11-28  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/xtypes.py (_Codebook._export): Funkci 'log' pøedávej
	tuple (self, column).
	(_Codebook.data_value): Doèasnì zakomentován nefunkèní assert.

2002-11-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (_pypg_query): Opraveno volání `conmaker'.
	(DBDataPostgreSQL._pg_validate_codebook): Opraveno urèení typu
	Codebook.

	* lib/pytis/data/_test.py (DateTime.check_export): Updatován test
	exportu.
	(DateTime.check_validation): Updatován test validace.
	(Codebook.check_validate): Opraven pøeklep v testu.
	(Codebook): Test zakomentován.
	(DBMultiData): Test zakomentován.
	(DBDataDefaultClass.setUp): Zakomentováno v¹e týkající se
	multidat.  Explicitnì uveï typ sloupce `datum'.  Kontroluj chyby
	validace.
	(Date._test_instance): Uveï formát.

	* lib/pytis/data/types_.py (Enumeration.values): Nová metoda.
	(DateTime._validate): Odstraòuj z hodnoty okrajové mezery.
	(DateTime): V docstringu definováno, ¾e jsou podporována pouze
	data od roku 1000.
	(DateTime._VALIDATION_MESSAGES): Pøidána konstanta VM_DATE_AGE.
	(DateTime._validate): Nevaliduj data star¹í ne¾ 1. 1. 1000.
	(VM_DT_AGE): Nová konstanta.

	* lib/pytis/data/xtypes.py (_Codebook._validate_retrieve): Nová metoda.
	(_Codebook._retrieve): Validace pøesunuta do `_validate_retrieve'.
	(_Codebook): V docstringu upøesnìn obsah vnitøních a u¾ivatelských
	hodnot.
	(_Codebook._row_values): Nový argument `export'.
	(_Codebook.values, _Codebook._export): Volej `_row_values'
	s argumentem `export'.
	(_Codebook._validate, MultiCodebook.validate_partial): Místo
	`_retrieve' volej `_validate_retrieve'.
	(_Codebook.data_value): Do `_retrieve' pøedávej vnitøní, ne
	vnìj¹í, sloupce.  Do docstringu pøidáno upozornìní o charakteru
	vrácené hodnoty.
	(_Codebook._export): Loguj pou¾ití argumentu `column'.
	(SingleCodebook): V docstringu upøesnìna podoba vnitøní hodnoty.
	(_Codebook._value_retrieve): Nová metoda.
	(_Codebook._export, _Codebook.data_value): Volej ji místo
	`_retrieve'.

2002-11-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/xtypes.py (_Codebook.data_value): Metodì `_retrieve'
	pøedávej `_internal_columns' namísto `self._value_columns'.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Pokud má okno
	metodu `focus()', volej ji, jinak volej `SetFocus()'.

	* lib/pytis/form/list.py (ListForm._create_form_parts): Nová metoda.
	(ListForm._create_list): Nová metoda.
	(ListForm.__init__): Vytváøení formuláøe pøenecháno tìmto metodám.

	* lib/pytis/form/form.py (Form.__init__): Volej metodu `_create_form()'.
	(Form._create_form, Form._finish_top_level_sizer)
	(Form._create_form_parts): Nové metody.
	(TitledForm._create_caption): Kosmetické úpravy.
	(EditForm.__init__): Konstruktor pøedka volej a¾ po inicializaci
	atributù.
	(EditForm._create_form): Nová metoda.
	(EditForm._create_form): Zru¹eno.
	(EditForm._create_form_parts): Nová metoda.
	(PopupEditForm._create_form): Zru¹eno.
	(PopupEditForm._finish_top_level_sizer)
	(PopupEditForm._create_form_parts)
	(PopupEditForm._create_status_bar): Nové metody.
	(ShowForm._create_form): Zru¹eno.
	(ShowForm._finish_top_level_sizer, ShowForm._create_form_parts):
	Nové metody.

2002-11-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.__init__): Nový argument
	`grouping'.
	(List._ListTable.__init__): Jako argument `style' konstruktoru
	`_Column' pou¾ívej pouze styl, nikoliv dvojici (styl, cid).
	(List._ListTable.__init__): Inicializuj `self._group_cache' a
	`self._group_value_cache'.
	(List._ListTable._group): Nová metoda.
	(List._ListTable.row): Vracej skuteènì instanci `PresentedRow',
	jak tvrdí docstring, nikoliv pouze `Row'.  Pou¾ívej cache.
	(List._ListTable.edit_row): Kosmetické úpravy.
	(List._ListTable.GetAttr): Vyu¾ívej `self.row()'.  Nastav barvu
	pozadí na `List._GROUPING_COLOR', pokud jde o zvýraznìnou skupinu.
	(List.UI_GROUPING): Nová konstanta.
	(List._FOCUS_COLOR): Drobná zmìna barvy.
	(List._GROUPING_COLOR): Nová konstanta.
	(List.__init__): Nový argument `default_grouping'.
	(List._create_grid): Konstruktoru `_ListTable' pøedávej argument
	`grouping'.
	(List._on_label_right): Nové polo¾ku menu pro pøíkaz
	`List.COMMAND_SET_GROUPING_COLUMN'.
	(List.on_ui_event): Pøidána implementace `List.UI_GROUPING'.
	(List.on_command): Pøidána implementace
	`List.COMMAND_SET_GROUPING_COLUMN'.
	(List.refresh): Nový `reset' parametr `grouping'.
	(ListForm.__init__): Konstruktoru `List' pøedávej argument
	`grouping'.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nový argument `grouping'.
	(ViewSpec.grouping): Nová metoda.

	* lib/pytis/form/command.py (List.COMMAND_SET_GROUPING_COLUMN': Nový pøíkaz.

2002-11-25  Milan Zamazal  <pdm@brailcom.org>

	* ebas (run_application.ClientResolver): Buï potomkem
	FileResolver.

2002-11-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (__init__): Argument `type' pøejmenován na
	`mode'.  Argument `path' zru¹en.  Nové argumenty `dir' a `file'.
	(FileDialog.run): Respektuj zmìny argumentù konstruktoru,
	resp. stejnojmenných privátních atributù.

2002-11-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Opraveny
	a doplnìny argumenty volání DBException.

2002-11-22  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (date_format): Nastaven formát '%d.%m.%Y'.

2002-11-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data)
	(DBDataPostgreSQL._pg_create_make_row_template): Pøidáno o¹etøení
	DateTime.

	* lib/pytis/util/configuration.py (Configuration._Option_date_time_format) 
	(Configuration._Option_date_format) 
	(Configuration._Option_time_format): Nové konfiguraèní volby.
	* config/config.py: Pøegenerováno.

	* lib/pytis/data/types_.py (DateTime.DEFAULT_FORMAT)
	(DateTime.CZECH_FORMAT): Nové konstanty.
	(DateTime._regexp_spec): Zru¹eno.
	(DateTime.__init__): Nová metoda.
	(Date.DEFAULT_FORMAT, Date.CZECH_FORMAT): Nové konstanty.
	(Date._regexp_spec): Zru¹eno.
	(Date._validate, Date._export, Time.DEFAULT_FORMAT): Nová
	konstanta.
	(Time._regexp_spec): Zru¹eno.
	(Time._validate, Time._export): Zru¹eno.
	(Date._validate, Date._export): Zru¹eno.
	(DateTime._export): Zru¹en argument `limit'.  Nový argument
	`format'.  Pøepsáno.
	(DateTime): Provedené úpravy zohlednìny v docstringu.
	(DateTime._validate): Pøepsáno.
	(Date.__init__, Time.__init__): Nové metody.
	(DateTime.DATE, DateTime.TIME): Zru¹eno.
	(DateTime.SQL_FORMAT, Date.SQL_FORMAT, Time.SQL_FORMAT): Nové
	konstanty.
	(Type.validate): Cachuj i objekty s klíèovanými argumenty.
	(Type._validating_provider): Argumenty zmìnìny na nový klíè.

2002-11-20  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template)
	(DBDataPostgreSQL._pg_validate_codebook): Pøidána podpora pro
	SingleCodebook.

2002-11-20  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (BugReport._create_content): Nech»
	tracbackové okno není read-only.

2002-11-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/wxlib.py: Zru¹eno.

	* lib/pytis/form/list.py (List._ListTable.__init__): Volej konstruktor
	pøedka.

	* lib/pytis/util/util.py (exception_info): Nová funkce.
	(deepstr): I v pøípadì sekvence vracej string.

	* lib/pytis/util/configuration.py (Configuration._Option_bug_report_address) 
	(Configuration._Option_bug_report_subject)
	(Configuration._Option_sendmail_command): Nové konfiguraèní volby.
	* config/config.py: Pøegenerováno.

	* lib/pytis/form/application.py (exit): Nová funkce.
	(Application._exit): Pøejmenováno na `exit'.
	(Application.on_command): Zohlednìna pøedchozí zmìna.

	* ebas (_usage): Za chybovou hlá¹kou getopt vlo¾ jen jeden nový
	øádek.
	(go): Pøi importu lib.util odchytávej getopt.GetoptError.
	* ebas-server (_usage, go): Nápodobnì.

	* lib/pytis/form/event.py (top_level_exception): Pøedávej konstruktoru
	BugReport informace o výjimce.  Pøidány reakce na výsledek
	BugReport dialogu.

	* lib/pytis/form/dialog.py (BugReport): Napsáno znovu, s vlastní
	implementací.
	(GenericDialog.__init__): Kosmetické úpravy docstringu.
	(InputDialog._create_content): Zaostøi vstupní pole a nastav mu
	ký¾enou ¹íøku.
	(InputDialog.__init__): Nový argument `input_width'.

2002-11-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (Dialog.__init__): Nová metoda.
	(GenericDialog.__init__): Vyu¾ívej ji.
	(OperationDialog): Doplnìn dokumentaèní øetìzec.
	(OperationDialog.__init__): Upraven dokumentaèní øetìzec.
	(FileDialog): Nová tøída.
	(GenericDialog._create_icon): Nová metoda.
	(Message._create_content): Vyu¾ívej ji.
	(BugReport.__init__): Parametru konstruktoru pøedávej jako klíèované.
	(BugReport._create_content): Nastav proporcionální font
	tracebacku.  Nastav vìt¹í nadpis.  Pøidej ikonu.  Traceback nech»
	je read-only
	(BugReport._on_set_focus): Nová metoda.
	(BugReport._customize_result): Kosmetická úprava.
	(BugReport.on_command): Nová metoda.

2002-11-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (top_level_exception): Pro ohlá¹ení chyby
	pou¾ívej tøídu BugReport.

	* lib/pytis/form/application.py (resolver): Nová funkce.

	* lib/pytis/form/wxlib.py: Nový soubor.

	* lib/pytis/form/dialog.py (BugReport): Nová tøída.

	* lib/pytis/output/formatter.py (LoutFormatter._format_paragraph): Místo
	makra @LP pou¾ívej jeho expanzi.

2002-11-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (OperationDialog._on_show): Výsledek volání
	`apply' ukládej do `self._result'.
	(OperationDialog._customize_result): Nová metoda.

2002-11-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/resolver.py (OutputResolver.output_parameter):
	Nech» `name' smí být i sekvence, spojovaná do jednoho stringu
	lomítky.

	* lib/pytis/util/resolver.py (Resolver._call_spec): Nová metoda.
	(Resolver._get_spec): Pou¾ívej ji.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm._on_idle):
	Vrátí-li `_do_selection' None, vy¾ádej dal¹í zpracování.
	(DescriptiveDualForm._do_selection): Vracej TRUE.
	(SideBrowseDualForm._do_selection): Je-li v¹e OK, vra» TRUE.

	* lib/pytis/output/data.py (data_item): Nech» argument `key' je
	nepovinný.  Doplnìn chybìjící import config.  Opraveno vytváøení
	PresentedRow.

	* lib/pytis/form/list.py (SideBrowseForm._formatter_parameters): Nech»
	parametr formátovaèe je string.  Opraven klíè extra parametru.
	(BrowseForm._formatter_parameters): Oddìluj komponenty parametru
	lomítky.
	(BrowseForm._on_print_): Jako 

	* lib/pytis/output/markup.py (_Mark): Nová tøída.
	(_Container, Null, NewPage, PageNumber, LongTable): Buï jejím
	potomkem.
	(_Space, VSpace, HSpace): Nové tøídy.

	* lib/pytis/output/formatter.py (LoutFormatter._format_long_table):
	Formátuj labels sloupcù.
	(LoutFormatter._MARK_PROCESSORS): Pøidáno VSpace a HSpace.
	(LoutFormatter._format_space): Nová metoda.
	(LoutFormatter._format_paragraph): Obaluj celé @LP slo¾enými
	závorkami.

2002-11-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/markup.py (LongTable.Column.__init__): Doplnìn
	chybìjící atribut `alignment'.
	(LongTable.__init__): Nový argument `separator_height' a atribut
	`_separator_height'.
	(LongTable.separator_height): Nová metoda.

	* lib/pytis/output/data.py: Místo lib.util importuj lib.output.
	(data_table): Opravy vìt¹ího mno¾ství chyb.
	(data_table): Zru¹en argument `separator_height'.  Nový argument
	`long_table_args'.

	* lib/pytis/form/list.py (BrowseForm._formatter_parameters): Nech» klíèe
	parametrù jsou strings.

	* lib/pytis/output/formatter.py (LoutFormatter._resolve): Loguj
	nenalezení specifikace.
	(LoutFormatter._format_long_table): Opraveno vìt¹í mno¾ství chyb.

	* lib/pytis/form/event.py (top_level_exception): Spou¹tìj debugger dle
	`config.debug_on_error', ne `config.debug' 

	* lib/pytis/util/configuration.py
	(Configuration._Option_debug_on_error): Nová konfiguraèní volba.
	* config/config.py: Pøegenerováno.
	* ebas (_usage): Doplnìno --debug-on-error.
	* ebas-server (_usage): Nápodobnì.

2002-11-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog.__init__): Dovol, aby
	`buttons' byla i prázdná sekvence.  Inicializuj atributy
	`_default_button' a `_shown'.
	(GenericDialog._on_set_focus): Za jistých okolností volej
	`self._on_show()'.
	(GenericDialog._on_show): Nová mentoda.
	(OperationDialog.__init__): Nová tøída.

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Pøidáno TODO

2002-11-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Jedná-li se o neu¾ivatelský Codebook, zji¹»uj constraints jeho
	sloupce a nastav je pro Codebook.

	* lib/pytis/form/list.py (BrowseForm._on_print_): Opraveno volání
	konstruktoru lib.output.Formatter.

	* lib/pytis/output/data.py (data_table): Pøepsáno.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pøidáno LongTable.
	(LoutFormatter._format_long_table): Nová metoda.
	(LoutFormatter.__init__): Zru¹en argument `parameters' a atribut
	`_parameters'.

	* lib/pytis/output/markup.py (LongTable): Nová formátovací znaèka.

	* lib/pytis/data/xtypes.py (Codebook._update): Pøi zmìnì resetuj
	`_validation_cache'.
	(Codebook._update_enumeration): Zru¹eno.
	(Codebook.__init__): Zru¹en argument `mode' a atribut `_mode'.
	(Codebook.Mode): Zru¹eno.
	(Codebook): Pøejmenováno na _Codebook.
	(_Codebook.data_value): Odstranìny kvalifikátory modulu lib.data.
	(SingleCodebook, MultiCodebook): Nové tøídy.
	(_Codebook._validate): Updatován docstring.

	* lib/pytis/util/caching.py (LimitedCache.__init__): Nový atribut
	`_lock'.
	(LimitedCache.__setitem__): Zamykej.

	* lib/pytis/data/types_.py (Type._shared_value_cache_counter)
	(Type._shared_value_cache, Type._VALUE_CACHE_LIMIT): Zru¹eno.	
	(Type.__init__): Nový atribut `_validation_cache'.
	(Type._validating_provider): Nová metoda.
	(Type.validate): Pøepracováno.
	(Type.constraints): Nová metoda.

2002-11-14  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Zru¹en neaktuální
	komentáø.
	(InputField._create_label, InputField._create_widget)
	(InputField._validation_error_handler, InputField._menu):
	Docstring zmìnìn na komentáø.
	(InputField._on_reset): Zru¹eno.
	(InputField._set_focus): Doplnìn komentáø.

2002-11-14  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Zmìò default
	hodnotu Codebooku z '' na None.

2002-11-12  Milan Zamazal  <pdm@brailcom.org>

	* ebas (go): Vra» se, není-li dostupno X Window.

	* lib/pytis/data/types_.py (Type.validate): Zaveden odporný hack
	opravující vyu¾ívání cachovaných hodnot pro jiné instance.

2002-11-12  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (EnumerationField._values) 
	(ChoiceField._create_controls): Kosmetická úprava.

	* lib/pytis/data/xtypes.py (Codebook.values): Namísto instancí `Value'
	vracej pouze vnitøní hodnoty.
	(Codebook._row_values): Vracenou sekvenci pøevádìj na tuple.

	* lib/pytis/form/dialog.py (Message.__init__): Nech» je výchozí hodnotou
	argumentu `default' talèítko `Ok'.
	(Message.BUTTON_OK, Message.BUTTON_CANCEL, Message.BUTTON_YES)
	(Message.BUTTON_NO): Nové konstanty.
	(Error.__init__, Question.__init__, InputDialog.__init__)
	(InputDialog._customize_result, Login._customize_result)
	(InputDialog._on_key_down, RunFormDialog._customize_result)
	(Calendar.__init__, Calendar._customize_result)
	(Calendar._on_calendar, Message.__init__): Pou¾ívej konstanty
	`BUTTON_*'.

2002-11-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (KeyHandler.on_key_down): Odstranìny ladící
	printy.

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table)
	(LoutFormatter._format_data_item): Zru¹eno.
	(LoutFormatter._MARK_PROCESSORS): Vyøazeno DataTable a DataItem.
	(LoutFormatter.__init__): Odstranìn zapomenutý print.
	(LoutFormatter.DATA, LoutFormatter.DATA_KEY) 
	(LoutFormatter.DATA_ROW, LoutFormatter.DATA_CONDITION) 
	(LoutFormatter.DATA_SORTING): Zru¹eno.

	* lib/pytis/output/data.py (DataTable, DataItem): Zru¹eno.
	(data_table, data_item): Nové funkce.
	(P_KEY, P_ROW, P_CONDITION, P_SORTING): Nové konstanty.

	* lib/pytis/output/resolver.py (OutputResolver._get_module): Opraven
	pøeklep ve volání pøedka.
	(OutputResolver.__init__): `parameters' ukládej do speciální tøídy
	vracející ne pøímo parametr, ale funkci jej vracející.

	* lib/pytis/form/list.py (BrowseForm._PrintResolver._get_module):
	Pøednostnì získávej modul od pøedka.
	(BrowseForm._PrintResolver._Spec.body): Místo lib.output.DataTable
	pou¾ívej lib.output.data_table.
	(BrowseForm._formatter_data): Pøejmenováno na
	`_formatter_parameters'.  Pøepracováno.
	(SideBrowseForm._formatter_data): Nápodobnì.
	(BrowseForm._on_print_): Zohlednìny pøedchozí zmìny.

2002-11-09  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing: Updatováno pro nový tiskový mechanismus
	a doplnìno.

2002-11-09  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing: Updatováno pro nový tiskový mechanismus
	a doplnìno.

2002-11-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter.__init__): Nevolej
	hodnoty vracené `_resolve'.  `_body_func' -> `_body'.
	(LoutFormatter._process): `_body_func' -> `_body'.
	(LoutFormatter._resolve): Z resolveru vytahuj pøímo specifikaci.

	* lib/pytis/form/list.py (BrowseForm._PrintResolver): Buï potomkem
	lib.output.OutputResolver; kompletnì pøepracováno.
	(BrowseForm._on_print_): Zohlednìna pøedchozí zmìna.

	* lib/pytis/util/resolver.py (ProxyResolver): Nová tøída.
	(ResolverModuleError.__init__): Opraven pøeklep ve volání
	konstruktoru pøedka.
	(ResolverSpecError.__init__): Nápodobnì.

	* lib/pytis/output/__init__.py: Importuj `resolver'.

	* lib/pytis/output/resolver.py: Nový modul.

	* lib/pytis/data/xtypes.py (Codebook._export): Opraveno chování pro
	'column' není None.
	(Codebook._row_values): Zru¹ena minulá zmìna.

2002-11-08  Milan Zamazal  <pdm@brailcom.org>

	* templates/template.py: Odstranìn import lib.util.

2002-11-08  Milan Zamazal  <pdm@brailcom.org>

	* templates/template.py: Odstranìn import lib.util.

2002-11-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/caching.py (_Cache.__init__): Nový argument
	`validator' a atribut `_validator'.
	(_Cache.__getitem__): Pou¾ívej `_validator'.

	* lib/pytis/form/output.py (PrintForm.__init__): Oprava odkazu
	v docstringu.
	* lib/pytis/form/form.py (Form.__init__): Oprava odkazu
	v docstringu.

	* lib/pytis/form/list.py (ListForm.__init__): Oprava odkazu
	v docstringu.
	(BrowseForm._PrintResolver): Buï potomkem Resolver.

	* lib/pytis/form/application.py (run_application): Místo Resolver
	vytváøej FileResolver.

	* lib/pytis/remote/server.py (_PyroResolver): Buï potomkem FileResolver.

	* lib/pytis/util/resolver.py (Resolver): Rozdìleno na tøídy Resolver a
	FileResolver.  Pøepracována dokumentace i implementace.
	(FileResolver): Nová tøída.
	(ResolverModuleError): Nová tøída.
	(ResolverFileError): Buï jejím potomkem.
	(ResolverFileError.__init__): Zohlednìna pøedchozí zmìna, doplnìn
	docstring.
	(ResolverSpecError.__init__): Prohozeno poøadí argumentù, doplnìn
	docstring.
	(Resolver.get_object): Zohlednìna pøedchozí zmìna.
	(Resolver.get_object, Resolver.get_instance, Resolver.get):
	`spec_name' musí být neprázdný string.
	(Resolver): Vyu¾ívej cachovací objekty z lib.util.
	(Resolver._get_object, Resolver._get_spec): Nové metody.

	* lib/pytis/output/formatter.py: Neimportuj lib.util.
	(LoutFormatter._ok_resolver, LoutFormatter._resolve): Místo
	resolver.get volej resolver.get_object.
	(LoutFormatter._font, LoutFormatter.__init__): Atribut `_body'
	zmìnìn na `_body_func'.
	(LoutFormatter._process): Volej `_body_func', nepodmínìnì,
	a pøedávej i `_output_resolver'.

	* lib/pytis/output/exception.py: Neimportuj lib.util.

	* lib/pytis/output/__init__.py: Importuj lib.util.
	Importuj data.

	* lib/pytis/output/markup.py:	Neimportuj lib.util.
	(DataTable, DataItem): Zru¹eno.

	* lib/pytis/output/data.py: Nový modul.

2002-11-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (ViewSpec.__init__): Update dokumentace.

	* lib/pytis/form/list.py (BrowseForm.__init__): Namísto nastavování
	callbackù na metody `_on_descr_record()', `_on_show_record()' a
	`self._on_edit_record()' pou¾ívej rovnou lambda funkci volající
	`run_form()'.
	(BrowseForm._redirected_name): Nová metoda.
	(BrowseForm._on_new_record): Update komentáøe.
	(BrowseForm._on_edit_record, BrowseForm._on_show_record)
	(BrowseForm._on_new_record): Zru¹eno.

2002-11-06  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/form/screen.py (WxKey.__init__): Pøidáno `Tab'.

	* lib/pytis/form/command.py: Definován zápis pro klávesu Tab.

2002-11-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/xtypes.py (Codebook._row_values): Pokud `columns' není
	sekvence, neprovádìj mapování, ale vra» rovnou odpovídající hodnotu.

	* lib/pytis/form/command.py: Nový pøíkaz
	`List.COMMAND_FULL_INCREMENTAL_SEARCH'.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Oprava chyby v indentaci.

2002-11-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form.__init__): Nastav `_guardian' pøed
	voláním konstruktoru KeyHandler.

	* lib/pytis/form/command.py (List.COMMAND_INCREMENTAL_SEARCH): Nový
	pøíkaz.

	* lib/pytis/form/list.py (List._IncrementalSearch._search): Pøidána
	podpora pro full hledání.
	(List._IncrementalSearch.__init__): Nový argument `full'.
	(List._on_incremental_search): Nápodobnì.
	(List.on_command): Pøidána podpora pro full inkrementální
	hledání.  Zredukováno mno¾ství returns.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_validate_codebook):
	Nová metoda.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Codebooks validuj
	pøes cache.
	(DBDataPostgreSQL._pg_codebook_cache): Nový atribut.

	* lib/pytis/util/caching.py (LimitedCache): Vyu¾ívej lib.util.Counter.
	Opravena spousta pitomých chyb.
	(_Cache): Buï potomkem `object'.  Opravena spousta pitomých chyb.

	* lib/pytis/data/__init__.py: Importuj xtypes.

	* lib/pytis/data/xtypes.py: Nový modul.

	* lib/pytis/data/types_.py (Enumeration): Pøejmenováno na
	FixedEnumeration.  Buï potomkem (nového) Enumeration.
	(Enumeration): Nová tøída.
	(Boolean): Enumeration -> FixedEnumeration.
	(Codebook): Kompletnì pøepracováno, není ji¾ potomkem
	FixedEnumeration, nyní stahuje ve¹kerá data pouze na vy¾ádání.
	(MutableType): Nová tøída.
	(Codebook): Podìd ji.
	(Type.default_value): Metoda smí vracet i None.  Nelze-li
	zvalidovat None, vra» None.
	(FixedEnumeration.VM_INVALID_VALUE)
	(FixedEnumeration._VALIDATION_MESSAGES): Pøesunuto do Enumeration.
	(Codebook.get): Pøejmenováno na `data_value'.
	(Codebook): Pøesunuto do xtypes.py.
	(Type.__cmp__): Pøednostnì porovnávej tøídy objektù.
	(Value.export, Float.__init__, DateTime._export): Porovnání na
	None provádìj pøes `is'.

2002-11-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (FrameList): Nová tøída (prototyp).

	* lib/pytis/form/inputfield.py (ListField._set_value): Update
	docstringu.
	(ListField._set_value): Namísto `RefSpec.sort' pou¾ívej
	`RefSpec.sorting'.

	* lib/pytis/presentation/field.py (RefSpec.__init__): Argument `sort'
	zmìnìn na `sorting'.
	(RefSpec.sort): Pøejmenováno na `sorting'.

	* lib/pytis/form/list.py (List.__init__): Úprava docstringu.
	(ListForm.__init__): Výchozí tøídìní nezískávej pøes resolver, ale
	ze specifikace (`self._view').

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nový argument `sorting'.
	(ViewSpec.sorting): Nová metoda.
	(ViewSpec.__init__): Nový argument `redirect'.
	(ViewSpec.field): Update docstringu.
	(ViewSpec.layout): Update docstringu.
	(ViewSpec.title): Update docstringu.
	(ViewSpec.redirect): Nová metoda.

2002-11-05  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._pg_query): Zru¹ podporu
	PgInt8.

2002-11-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/test.py (TestSuite.add): Volej pouze pøímo definované
	testovací metody, ne podìdìné.

	* lib/pytis/util/_test.py (Classes.check_direct_public_members): Nový test.

	* lib/pytis/util/util.py (is_): Nová funkce.
	(direct_public_members): Nová funkce.

	* lib/pytis/data/_test.py
	(DBDataDefaultClass.check_select_fetch_direction): Volej
	`fetchone' s klíèovaným argumentem `direction'.
	(DBMultiData.check_select_fetch_direction)
	(DBDataFetchBuffer._check_skip_fetch): Nápodobnì.
	(DBMultiData.check_search): Nápodobnì pro `search'.
	(DBDataFetchBuffer._check_skip_fetch): Nápodobnì pro `skip'.
	(Codebook): Pøidáno do `tests'.
	(Codebook.setUp): Do Codebook pøedávej DataFactory, ne MemData.
	(Codebook.check_validate, Codebook.check_export): Nové testy.
	(Codebook.check_cmp): Nové zru¹ení testu.

	* lib/pytis/util/caching.py (_Cache.reset): Nová metoda.
	(LimitedCache.reset): Nová metoda.
	(LimitedCache._collect): Vyu¾ívej ji.

2002-11-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.Show): Nenastavuj
	`self._active_form' na `self._main_form'.
	* lib/pytis/form/command.py: Pro `Application.COMMAND_EXIT' nenastavuj
	`access_groups'.

2002-11-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.Close): Vracej návratovou hodnotu
	volání `splitter.Close()'.

	* lib/pytis/form/application.py (current_form): Vyu¾ívej metodu
	`Application.top_window()'.

	* lib/pytis/form/form.py (Form.resolver): Zru¹eno.

2002-10-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._on_new_record)
	(BrowseForm._on_edit_record, BrowseForm._on_show_record)
	(BrowseForm._on_descr_record, BrowseForm._on_print_): Namísto
	metody `Application.run_form()' vyu¾ívej funkci `run_form()'.

	* lib/pytis/form/inputfield.py (ListField.on_command)
	(ListField.on_command): Namísto metody `Application.run_form()'
	vyu¾ívej funkci `run_form()'.

	* lib/pytis/form/dualform.py (BrowseDualForm._on_show_record): Namísto
	metody `Application.run_form()' vyu¾ívej funkci `run_form()'.

	* lib/pytis/form/application.py (Application): Kompletní pøepsání
	neaktuálního docstringu.
	(Application._title, Application._menu, Application._buttons)
	(Application._status_fields, Application._command_keys)
	(Application._default_font_coding): Metody zru¹eny.
	(Application.OnInit): Namísto zru¹ených metod pou¾ívej rovnou
	`self._spec()'.  Název souboru s obrázkem loga získávej také ze
	specifikace a neúspìch loguj.  Neinicializuj `_buttonbar'.

2002-10-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/__init__.py: Importuj `caching'.

	* lib/pytis/util/caching.py: Nový modul.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection):
	Po provedení akcí zaostøi pùvodnì zaostøené okno.

	* lib/pytis/form/screen.py (focused_window): Nová funkce.

	* lib/pytis/form/list.py (List._IncrementalSearch._on_key_down): Nech»
	hledání je mo¾no zru¹it i klávesou Escape.

2002-10-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (Menu.__init__): Nový atribut
	`_access_groups'.
	(MenuBar.activate): V pøípadì nastavení access groups znovu vytvoø
	i aktivní menu.
	(MenuBar.__init__): Menu pøidávej do `_menus' nepodmínìnì.
	(MenuBar.activate): Zohledòuj, ¾e aktivaèní tøída mù¾e být None.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search): `forwards'
	neodvozuj z `direction', nýbr¾ ho zadávej natvrdo.

	* lib/pytis/form/list.py (List._IncrementalSearch._exit): Argument `row'
	nahrazen argumentem `rollback'.
	(List._IncrementalSearch._on_key_down): Zohlednìna pøedchozí
	zmìna.

2002-10-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py (List.COMMAND_EDIT): Úprava docstringu.

	* lib/pytis/form/inputfield.py (resolve): `ListBoxField' a
	`RadioBoxField' pou¾ij pouze pokud nejde o `inline' re¾im.
	(ListBoxField._create_controls): Konstruktoru `wx.wxListBox'
	nepøedávej nepovinné argumenty.

	* lib/pytis/form/list.py (List._create_edit_popup_menu): Úprava menu.
	(BrowseForm._popup_menu): Úprava menu.

	* lib/pytis/form/screen.py (Menu.create): Kosmetické úpravy.

2002-10-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._do_search): Nová metoda.
	(List._on_search): Vyu¾ívej ji.
	(List._IncrementalSearch._search): Doimplementováno.
	(List._IncrementalSearch._back): Nastav po zmìnì textu kurzor na
	konec.
	(List._IncrementalSearch._on_key_down): Klíèuj argument `_search'.
	(List._IncrementalSearch._search): Nový argument `newtext'.
	(List._IncrementalSearch._on_text): Nastavuj ho.
	(List._IncrementalSearch.__init__): Nastavuj `_rows' na prázdný
	seznam.

	* lib/pytis/data/types_.py (Enumeration.default_value): Zru¹en ujetý
	docstring.

2002-10-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.GetValue): Nevracej nevalidní
	hodnotu, i kdyby existovala.
	(List._ListTable.SetValue): Nenastavuj `edited.invalid_col' a
	`edited.invalid_string'.
	(List._ListTable.get_invalid_string): Nová metoda.
	(List._ListTable.set_invalid_string): Nová metoda.
	(List._ListTable._EditedRow.__init__): Atribut `invalid_string'
	inicializuj na 'None', nikoliv na prázdný øetìzec.
	(_InputFieldCellEditor.BeginEdit): Pokud existuje nevalidní
	hodnota, nastav ji v políèku.
	(_InputFieldCellEditor.EndEdit): Nepou¾ívej
	`InputField.validate()', ale sám zvaliduj hodnotu a pøi chybì
	zobraz zprávu ve stavovém øádku.  O nevalidní hodnotì dej vìdìt
	gridové tabulce (metoda `set_invalid_string()').

2002-10-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (WxKey.__init__): Pøidáno Backspace.

	* lib/pytis/presentation/field.py (FieldSpec.__str__): Pøidáno chybìjící
	%s na label.

	* lib/pytis/form/list.py (List.on_command): Pøidána podpora pro
	List.COMMAND_INCREMENTAL_SEARCH.
	(List._on_incremental_search): Nová metoda.
	(List._IncrementalSearch): Nová tøída.

	* lib/pytis/form/command.py: Do docstringu pøidána specifikace zápisu
	klávesy Backspace.
	(List.COMMAND_INCREMENTAL_SEARCH): Nový pøíkaz.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS): Zru¹en
	BulletList.
	(LoutFormatter._format_list): Pøidána podpora pro argument `mark'.
	(LoutFormatter._format_bullet_list): Zru¹eno.
	(LoutFormatter._format_data_table): Do presentovaného øádku
	pøedávej místo èísla sloupce jeho id.

	* lib/pytis/output/markup.py (BulletList): Zru¹eno.
	(List.NUMBER_MARK, List.BULLET_MARK, List.KWARGS): Nové konstanty.

2002-10-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (_is_user_event): Nech» wx.wxCommandEventPtr
	je u¾ivatelská událost, nikoliv v¹ak grid.wxGridEventPtr.
	(wx_callback.process_event): Nuluj message pouze pro u¾ivatelské
	události.

	* lib/pytis/form/screen.py (Menu.create): Opraveno zji¹»ování pøíznaku
	pøístupu k pøíkazu.

2002-10-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog._create_dialog_elements):
	Namísto podmínìného nastavení `EVT_SET_FOCUS' callbacku na
	`self._focus_default_button' nastavuj v¾dy na `self._on_set_focus'.
	(GenericDialog._focus_default_button): Zru¹eno.
	(GenericDialog._on_set_focus): Nová metoda.
	(Calendar._create_content): Pokud je datum prázdný øetìzec,
	nastavuj dne¹ní datum. 
	(Calendar._on_set_focus): Nová metoda.

2002-10-25  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Software): Pøidán odkaz na zdroj
	softwaru na devel.brailcom.org.

2002-10-25  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Software): Pøidán odkaz na zdroj
	softwaru na devel.brailcom.org.

2002-10-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (Menu.create): Aktivuj pouze ty polo¾ky menu,
	k jejich¾ pøíkazu je povolen pøístup.

	* lib/pytis/form/list.py (List.Close): Uzavírej datový select.

	* lib/pytis/data/dbdata.py (_DBConnectionPool.__del__): Nová metoda.
	(DBDataPyPgSQL._PgNotifier._register, _pypg_new_connection) 
	(_pypg_query): Dojde-li bìhem DB dotazu k chybì, zru¹ spojení.
	(PostgreSQLUserGroups.access_groups): Doplnìn docstring.

2002-10-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._select_cell): `MakeCellVisible()' volej
	a¾ po `select_row()'.
	(List.select_row.set): Po pøechodu nezviditelòuj první sloupec,
	ale aktuální sloupec.

2002-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_locking_process):
	Odchytávej DBException pøi obnovì zámku.

	* lib/pytis/form/form.py (Form._create_data_object): Nech» `data_spec'
	smí být i lib.remote.RemoteDataFactory.

	* ebas (run_application.ClientResolver.get): Zru¹en argument
	`assert_class'.

	* lib/pytis/remote/server.py (_PyroDataFactory.create): Z klientské
	specifikace spojení pou¾ij pouze login a heslo.

	* lib/pytis/data/types_.py (Type._VALIDATION_MESSAGES): Nový atribut.
	(Type.__init__): Zru¹en argument `validation_message', nový
	argument `validation_messages'.
	(Type._validation_error): Nová metoda.
	(Integer.VM_NONINTEGER, Float.VM_INVALID_NUMBER)
	(DateTime.VM_DT_FORMAT, DateTime.VM_DT_VALUE)
	(String.VM_STRING_TOO_LONG, Enumeration.VM_INVALID_VALUE)
	(Codebook.VM_PARTIAL_VALIDATION): Nové atributy.
	(Integer._validate, Float._validate, String._validate_maxlen)
	(DateTime._validate, Enumeration._validate)
	(Sequence.VM_NONTUPLE, Sequence.VM_ARG_NUMBER)
	(Codebook.validate_partial, Sequence._validate): Pou¾ívej
	`_validation_message'.  Kosmetické úpravy.
	(Integer._VALIDATION_MESSAGES, Float._VALIDATION_MESSAGES)
	(String._VALIDATION_MESSAGES, DateTime._VALIDATION_MESSAGES)
	(Enumeration._VALIDATION_MESSAGES, Codebook._VALIDATION_MESSAGES)
	(Sequence._VALIDATION_MESSAGES): Nové atributy.
	(Codebook._update_enumeration): Vracej, zda byl update proveden.
	(Codebook.validate_partial, Codebook._validate, Codebook._export):
	Volej `_update_enumeration' nadvakrát (podruhé s `force'), je-li
	tøeba.
	(Codebook.get): Nevolej `_update_enumeration'.

2002-10-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py: Nový pøíkaz `List.COMMAND_FINISH_EDITING'.

	* lib/pytis/form/list.py (List._on_cell_commit.move_right): Nepøedávej
	lokální promìnné jako klíèové argumenty.
	(List.on_command): O¹etøuj pøíkaz `List.COMMAND_FINISH_EDITING'.
	(_create_edit_popup_menu): Pou¾ívej `List.COMMAND_FINISH_EDITING'
	namísto `List.COMMAND_LINE_ROLLBACK'.
	(List._on_insert_line): Pokud je první buòka needitovatelná,
	pøejdi automaticky na první editovatelnou.
	(List._is_editable_cell): Nová metoda.
	(List._find_next_editable_cell): Nová metoda.
	(List._on_cell_commit.move_right): Zru¹eno.
	(List._on_cell_commit): Namísti `move_right()' pou¾ívej
	`self._find_next_editable_cell()'.

2002-10-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (_pypg_new_connection): Odstranìny zapomenuté
	prints.

	* lib/pytis/form/inputfield.py (CodeBookField._create_widget): Odstranìn
	zapomenutý print.

	* lib/pytis/form/search.py (SortingDialog._create_content): Pøidán
	assert na pozici sloupce.
	(SortingDialog._create_content): Neodkazuj se na neexistující
	atributy `_colsel' a `_dirsel', pou¾ívej lokální promìnné.

	* lib/pytis/form/spec.py (ViewSpec.field): Pokud dané políèko
	neexistuje, vra» None.

	* lib/pytis/form/list.py (List._ListTable.__init__): Nový atribut
	`_font_cache'.
	(List._ListTable._make_attr): Cachuj fonty.
	(ListForm.__init__): Do `default_sorting' zaøazuj pouze ty sloupce
	klíèe, které jsou mezi políèky.  Kosmetické úpravy.

	* lib/pytis/form/dualform.py (PostponedSelectionDualForm): Nová tøída.
	(SideBrowseDualForm, DescriptiveDualForm): Buï jejím potomkem.
	(SideBrowseDualForm._SELECTION_TICK, SideBrowseDualForm._on_idle)
	(SideBrowseDualForm._on_selection): Pøesunuto do
	PostponedSelectionDualForm.
	(SideBrowseDualForm._create_side_form): Èást inicializací
	pøesunuta do PostponedSelectionDualForm.
	(BrowseDualForm._create_main_form)
	(ShowDualForm._create_main_form): _on_selection ->
	_on_main_selection.
	(DescriptiveDualForm._on_main_selection): Zru¹eno.
	(DescriptiveDualForm._do_selection): Nová metoda.
	(SideBrowseDualForm._do_selection): Èást kódu pøesunuto do metody
	pøedka; volej ji.

	* lib/pytis/form/application.py (Application.OnInit): Pøed zobrazením
	loga testuj, zda existuje.
	(Application._on_frame_size): Pracuj s `_logo' jen není-li None.

2002-10-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Nevytváøej `self._index'.  `self._columns' vytváøej jako slovník.
	(PresentedRow._init_row.genval): Namísto `self._index' pou¾ívej
	rovnou `self._columns'.
	(PresentedRow._key2col): Zru¹eno.
	(PresentedRow.__getitem__): Nech» argument `key' smí být pouze
	øetìzcový identifikátor.
	(PresentedRow.__setitem__): Nech» argument `key' smí být pouze
	øetìzcový identifikátor.
	(PresentedRow.__str__): Namísto `self._columns' procházej
	`self._fieldspec'.
	(PresentedRow.format): Nech» argument `key' smí být pouze
	øetìzcový identifikátor.
	(PresentedRow.has_key): Namísto `self._index' pou¾ívej
	`self._columns'.
	(PresentedRow.editable): Nech» argument `key' smí být pouze
	øetìzcový identifikátor.
	(PresentedRow.check): Namísto `self._columns' procházej
	`self._fieldspec'.

2002-10-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._formatter_data): Pøidáno
	lib.output.Formatter.DATA.

	* lib/pytis/output/formatter.py (LoutFormatter.__init__): Argument
	`data_specs', resp. atribut `_data_specs', pøejmenován na
	`parameters', resp. `_parameters'.  Definována pravidla pro tento
	argument.
	(LoutFormatter.printout, LoutFormatter.preview)
	(LoutFormatter._process, LoutFormatter._lout): Zru¹en argument
	`parameters'.
	(LoutFormatter.DATA_KEY, LoutFormatter.DATA_ROW)
	(LoutFormatter.DATA_CONDITION, LoutFormatter.DATA_SORTING): Pøed
	hodnotu pøipojena dvì podtr¾ítka.
	(LoutFormatter.DATA): Nový atribut.
	(LoutFormatter._format_data_table): Zmìnìno konfliktní jméno
	promìnné cyklu.

2002-10-18  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm._do_selection): Oprava
	indentace.

	* lib/pytis/data/types_.py (Codebook.validate_partial): Pøi validaci
	èíselníkové hodnoty vynucuj '_update_enumeration()' - doèasné
	øe¹ení.

	* lib/pytis/form/dualform.py
	(SideBrowseDualForm._on_selection._do_selection): Nastavuj správnì
	bindcol a side_bindcol.

2002-10-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (CodeBookSpec): Nová tøída.
	(FieldSpec.__init__): Zmìna dokumentace argumentu `codebook'.
	Pøidán assert na `codebook' jako instanci `CodeBookSpec'.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nech» argument `columns'
	mú¾e být pouze sekvence (nebo None). Zmìna dukomentace.
	(ViewSpec.columns): Zru¹en argument `id'.
	(DualSpec.__init__): Nový argument `side_columns'.
	(DualSpec.side_columns): Nová metoda.

	* lib/pytis/form/list.py (ListForm.__init__): Nový klíèový argument
	`columns'.  Pokud je dán, vytvoø seznam sloupcú podle nìj.
	(ListForm._columns): Zru¹eno.
	(CodeBook): Úprava dokumentace.
	(CodeBook.__init__): Zru¹en argument `id'.  Nový argument
	`columns'.  V dokumentaci nepopisuj argumenty rodièovské tøídy.
	(CodeBook._columns): Zru¹eno.
	(BrowseForm.__init__): Namísto vyjmenovávání argumentù pouze
	pøedávej `*args' a `**kwargs'.
	(FilteredBrowseForm.__init__): Klíèové argumenty pøedávej jako
	`**kwargs'.
	(SideBrowseForm.__init__): Nový klíèový argument `columns'.
	(SideBrowseForm._columns): Zru¹eno.

	* lib/pytis/form/inputfield.py (CodeBookField): Úprava dokumentaèního
	øetìzce.
	(CodeBookField._create_widget, CodeBookField._on_invoke_selection)
	(CodeBookField._validation_error_handler): Vyu¾ívej specifikace
	èíselníku jako instance `CodeBookSpec'.
	(ListField._create_controls): Kosmetické úpravy.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Pøedávej konstruktoru `SideBrowseForm' argument `columns'.

2002-10-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.get): Zru¹en argument
	`assert_class'.  Klíèové argumenty pøedávej volání specifikaèní
	funkce.  Klíè chache nech» zahtnuje také klíèové argumenty.

	* lib/pytis/form/dualform.py (DualForm._create_view_spec): Nepøedávej
	metodì `Reseolver.get()' argument `assert_class'.  Provádìj assert
	na tøídu vrácení instance.

	* lib/pytis/form/form.py
	(Form._create_view_spec, Form._create_data_object): Nepøedávej
	metodì `Reseolver.get()' argument `assert_class'.  Provádìj assert
	na tøídu vrácení instance.

2002-10-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter.preview) 
	(LoutFormatter.printout, LoutFormatter._lout) 
	(LoutFormatter._process): Nový argument `parameters'.
	(LoutFormatter._MARK_PROCESSORS): Pøidáno List.
	(LoutFormatter._format_list): Nová metoda.
	* lib/pytis/output/markup.py (List): Nová znaèka.
	(BulletList): Nová znaèka.

	* lib/pytis/util/util.py (Popen.__init__): w_from_child uzavírej jen
	pokud je instancí `int'.
	(flatten): Nová funkce.
	* lib/pytis/util/_test.py (ListUtils): Nová sada testù.
	(RemoveDuplicates, Some): Pøesunuto do ListUtils.
	(ListUtils.check_flatten): Nový test.

	* lib/pytis/presentation/field.py: Neimportuj lib.remote.
	(PresentedRow.__init__): Zakomentováno assert na argument `data'.

2002-10-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__str__): Nová metoda.

	* lib/pytis/form/list.py (List._ListTable.row): Úprava dokumentaèního
	øetìzce.
	(List._edit_cell, List._on_cell_commit.move_right): Pøi volání
	`PresentedRow.editable()' pøedávej identifikátor, namísto èísla
	sloupce.

	* lib/pytis/form/dialog.py (db_operation): Zpracuj správnì návratovou
	hodnotu pøihla¹ovacího dialogu.

2002-10-15  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (): Zmìna rih na localhost.

2002-10-15  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/dualform.py (SideBrowseDualForm): Pro _SELECTION_TICK
	pou¾ij 0.2s.

2002-10-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_user_config_file.default): Nehavaruj,
	není-li definováno `config_file'.

2002-10-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._selected_condition): `dialog()' ->
	`run_dialog'.

	* lib/pytis/form/output.py (PrintForm.__init__): Zru¹en argument
	`frame_stack'.
	(PrintForm.run): Zru¹eno.

	* lib/pytis/form/list.py (List._create_grid):
	`self._parent._on_leave_form()' volej bez argumentù.
	(List._current_key, List._switch_sorting, List._finish_editing)
	(List._on_search, List._on_search, List._on_filter)
	(List._on_edit, List._on_line_commit, List._on_cell_commit)
	(List.exit_check): `dialog()' -> `run_dialog'.
	(ListForm.__init__): Zru¹en argument `frame_stack'.
	(CodeBook): Update dokumentace.
	(CodeBook.__init__): Zru¹en argument `frame_stack'.  Zru¹en
	atribut `self._returned_values' (pou¾ívej `self._result', jako v
	nadtøídì).
	(CodeBook._on_activation): Namísto `self._returned_values'
	pou¾ívej `self._result'.
	(CodeBook.run): Zru¹eno.
	(BrowseForm.__init__): Zru¹en argument `frame_stack'.
	(FilteredBrowseForm.__init__): Zru¹en argument `frame_stack'.
	(SideBrowseForm.__init__): Zru¹en argument `frame_stack'.

	* lib/pytis/form/inputfield.py (InputField.validate): `dialog()' ->
	`run_dialog'.
	(DateField._on_invoke_selection): `dialog()' -> `run_dialog'.
	(CodeBookField._validation_error_handler): Namísto
	`Application.dialog()' pou¾ívej funkci `run_dialog()'. (Nevyu¾ívej
	`lib.form.application._application').

	* lib/pytis/form/form.py (Form.__init__): Zru¹en argument `frame_stack'.
	(Form._on_leave_form): Nevkládej okno na framestack, pøenech to na
	aplikaci.
	(Form.frame_stack): Zru¹eno.
	(Form.run): Zru¹eno.
	(PopupForm._on_leave_form): Neodchytávej výjimky.
	(PopupForm.run): Neloguj a nevkládej okno na framestack.
	(EditForm.__init__): Zru¹en argument `frame_stack'.
	(EditForm._lock): `dialog()' -> `run_dialog'.
	(EditForm._edit_update): `dialog()' -> `run_dialog'.
	(EditForm._signal_update): Nesahej na framestack, pou¾ívej funkci
	`current_form()'.
	(EditForm._find_row): `dialog()' -> `run_dialog'.
	(EditForm.exit_check): `dialog()' -> `run_dialog'.  Nevolej
	`refresh()' na vrchní okno z fraestacku.
	(EditForm.run): Zru¹eno.
	(BrowsableShowForm._on_search): `dialog()' -> `run_dialog'.
	(BrowsableShowForm._on_search): `dialog()' -> `run_dialog'.
	(BrowsableShowForm._on_select_filter): `dialog()' -> `run_dialog'.
	(BrowsableShowForm._on_sort_column): `dialog()' -> `run_dialog'.

	* lib/pytis/form/event.py (top_level_exception): `dialog()' ->
	`run_dialog'.

	* lib/pytis/form/dualform.py (DualForm.__init__): Zru¹en argument
	`frame_stack'.
	(SideBrowseDualForm._create_side_form): Nepøedávej `frame_stack'.
	(BrowseDualForm._create_main_form): Nepøedávej `frame_stack'.
	(ShowDualForm._create_main_form): Nepøedávej `frame_stack'.
	(DescriptiveDualForm._create_main_form): Nepøedávej `frame_stack'.
	(DescriptiveDualForm._create_side_form): Nepøedávej `frame_stack'.

	* lib/pytis/form/dialog.py: Zru¹en import z `application'.
	(Login): Nová tøída.
	(db_operation): `dialog()' -> `run_dialog'.
	(delete_record): `dialog()' -> `run_dialog'.
	(db_operation): Namísto dialogu `Password' pou¾ívej dialog
	`Login'.
	(db_operation): Importuj `config' pøed zobrazením `Login' dialogu.

	* lib/pytis/form/application.py (current_form): Nová funkce.
	(leave_form): Nová funkce.
	(run_form): Nová funkce.
	(dialog): Pøejmenováno na `run_dialog'.
	(Application.dialog): Pøejmenováno na `run_dialog'.
	(Application.run_form): Update dokumentace.  Nepøedávaj
	konstruktoru formuláøe argument `frame_stack'.  `dialog()' ->
	`run_dialog'.  Vytvoøený formuláø sám pøidávej na framestack a
	loguj.  Modální formuláøe také spus» metodou `run()' a po skonèení
	je zase odstraò z framestacku.
	(Application._exit): `dialog()' -> `run_dialog'.

2002-10-15  Miroslav Macek  <macek@asellus.cz>

	* icons/isas/logo.bmp: Nové logo.

2002-10-15  Miroslav Macek  <macek@asellus.cz>

	* icons/isas/logo.bmp: Nové logo.

2002-10-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py
	(Configuration._Option_user_config_file.default): Odvozuj
	implicitní hodnotu z volby `config_file'.
	(Configuration.__getattr__): Neprovádìj reload pro `name'
	`config_file' a `user_config_file'.

2002-10-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataDefaultClass.access_groups): Nová
	metoda.

2002-10-12  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/AccessRights (Doplòující poznámky): Pøidána
	poznámka o nutnosti restartu spojení po zmìnì skupin u¾ivatele.

2002-10-12  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/AccessRights (Doplòující poznámky): Pøidána
	poznámka o nutnosti restartu spojení po zmìnì skupin u¾ivatele.

2002-10-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py (RestrictedData._check_access_columns)
	(RestrictedData._access_filter_row)
	(RestrictedData._access_groups): Zohlednìny zmìny zji¹»ování
	skupin.

	* lib/pytis/data/dbdata.py (DBDataDefaultClass._access_groups): Zru¹eno.
	(DBDataDefaultClass.__init__): Zru¹en atribut
	`_access_current_groups'.
	(PostgreSQLAccessRights): Nová tøída.
	(DBDataDefaultClass): Buï potomkem PostgreSQLAccessRights.
	(_pypg_new_connection): Nový argument `data'.
	(DBDataPyPgSQL._pypg_new_connection): Zohlednìna pøedchozí zmìna.
	(_pypg_query): Nový argument `data'.
	(DBDataPyPgSQL._pg_query): Zohlednìna pøedchozí zmìna; nový
	argument `group_update'.
	(_DBConnectionPool.get): Nový argument `data'.
	(DBDataPyPgSQL._pypg_get_connection): Zohlednìna pøedchozí zmìna.

2002-10-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (set_status): Loguj na úrovni DEBUG.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._SELECTION_TICK): Nová
	konstanta.
	(SideBrowseDualForm._create_side_form): Nový atribut
	`_selection_candidate'.  Registruj idle callback.
	(SideBrowseDualForm._on_selection): Neprovádìj selekci, pouze ulo¾
	parametry.
	(SideBrowseDualForm._do_selection): Nová metoda.
	(SideBrowseDualForm._on_idle): Nová metoda.
	(DualForm._select_form): Nový argument `force'.

2002-10-11  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py: Importuj v¹e z `application'.

	* lib/pytis/form/list.py (List.__init__): Pøidán assert na typ argumentu
	`select_row'.
	(List.__init__): Assert zu¹en... 
	(List.__init__, List._select_cell_command): Namísto `self._position'
	pou¾ívej `self._current_row()' pøi volání `set_status()'.

	* lib/pytis/form/inputfield.py (resolve): Datový typ `lib.data.Number'
	mapuj na tøídu `NumericField'.
	(InputField): Nech» je potomkem `object'.
	(TextField._text_control_style): Nová metoda.
	(TextField._create_text_control): Vyu¾ívej ji.
	(TextField._create_text_control): Nava¾ událost
	`wx.EVT_TEXT_MAXLEN' na metodu `self._on_maxlen()'.
	(TextField._on_maxlen): Nová metoda.
	(NumericField): Nová tøída.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form)
	(BrowseDualForm._create_main_form)
	(DescriptiveDualForm._create_main_form): Nepøedávej konstruktoru
	`SideBrowseForm' klíèový argument `select_row'.

2002-10-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._selected_condition): Pro zobrazení
	dialogu vyu¾ívej funkce `dialog()'.

	* lib/pytis/form/screen.py (KeyHandler.on_key_down): Pro zobrazení
	dialogu vyu¾ívej funkce `dialog()'.
	(StatusBar.message): Nepøedávej lokální promìnné jako klíèové
	argumenty lambda funkci.

	* lib/pytis/form/list.py (_DBOP): Zru¹eno.
	(List._ListTable._get_row, List._ListTable.rewind)
	(List._create_grid, List._on_edit, List._on_delete_line)
	(List._on_line_commit, List.select_row)
	(BrowseForm._on_edit_record): Namísto `_DBOP' vyu¾ívej pøímo
	`db_operation' (a nepøedávej zru¹ený argument `parent').
	(List.__init__): Inicializuj atribut `_edit_popup_menu' voláním
	metody `_create_edit_popup_menu()'.
	(List._create_edit_popup_menu): Nová metoda.
	(List._current_key, List._switch_sorting, List._finish_editing)
	(List._on_search, List._on_search, List._on_filter)
	(List._on_edit, List._on_line_commit, List._on_cell_commit)
	(List.exit_check): Pro zobrazení dialogu vyu¾ívej funkce
	`dialog()'.
	(List._on_label_right): Netestuj verzi wxWindows.
	(List._on_popup_menu): Pokud jsme v editaci, zobraz
	`self._edit_popup_menu'.  Netestuj verzi wxWindows.
	(List._select_cell_command): Volej `set_status()'.
	(List._on_delete_line): Funkci `delete_record()' nepøedávej
	argument `parent'.
	(List._on_delete_line): Namísto `Application.message()' volej
	funkci `message()'.
	(List._on_line_commit): Volej `PresentedRow.check()' a v pøípadì
	chyby pøejdi na políèko, kde k chybì do¹lo.
	(List._on_line_commit): Namísto `Application.message()' volej
	funkci `message()'.
	(List.select_row.find): Nepøedávej lokální promìnné jako klíèové
	argumenty.
	(ListForm.status_fields): Nová metoda.
	(List.__init__): Zobraz pozici voláním `set_status()'.
	(ListForm.status_fields): Pøidáno TODO.

	* lib/pytis/form/inputfield.py (InputField.validate)
	(DateField._on_invoke_selection): Pro zobrazení dialogu vyu¾ívej
	funkce `dialog()'.

	* lib/pytis/form/form.py (_DBOP): Zru¹eno.
	(Form.status_fields): Nová metoda.
	(Form._create_data_object, EditForm._lock, EditForm._unlock)
	(EditForm._edit_insert, EditForm._edit_update)
	(EditForm._edit_delete, EditForm._find_row)
	(BrowsableShowForm._on_next_record)
	(BrowsableShowForm._on_set_row): Namísto `_DBOP' vyu¾ívej pøímo
	`db_operation' (a nepøedávej zru¹ený argument `parent').
	(EditForm._lock, EditForm._edit_update, EditForm._find_row)
	(EditForm.exit_check, BrowsableShowForm._sf_dialog)
	(BrowsableShowForm._on_search, BrowsableShowForm._on_search)
	(BrowsableShowForm._on_select_filter)
	(BrowsableShowForm._on_sort_column): Pro zobrazení dialogu
	vyu¾ívej funkce `dialog()'.
	(EditForm._edit_delete): Funkci `delete_record()' nepøedávej
	argument `parent'.
	(BrowsableShowForm._on_set_row.get_it): Nepøedávej lokální
	promìnné jako klíèové argumenty.
	(BrowsableShowForm._sfs_columns): Seznam sloupcù pro volání
	`sfs_columns' mapuj na seznam jejich specifikací.
	(BrowsableShowForm._on_search): Vyhledávacímu dialogu nepøedávej
	argument `direction'.

	* lib/pytis/form/event.py (top_level_exception): Pro zobrazení dialogu
	vyu¾ívej funkce	`dialog()'.
	
	* lib/pytis/form/dialog.py (GenericDialog.run): Neumís»uj okno na
	framestack aplikace, to a» dìlá aplikace sama.  Pouze vytvoø a
	spus» dialog.
	(db_operation): Zru¹en argument `parent'.  Vyu¾ívej funkce
	`dialog()'.
	(delete_record): Zru¹en argument `parent'.  Vyu¾ívej funkce
	`dialog()'.

	* lib/pytis/form/application.py (dialog): Nech» první argument mù¾e být
	i instance, ne jen tøída dialogu.  Dialog pøídávej na framestack,
	namísto pouhého spu¹tìní metody `run()'.
	(Application.message): Zru¹eno (nahrazeno `set_status()').
	(Application.set_status): Nová metoda.
	(message): Vyu¾ívej `Application.set_status()'.
	(set_status): Nová funkce.
	(dialog): Nová funkce.

2002-10-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (Form._create_view_spec): Na `ViewSpec'
	se odkazuj pøímo, ne pøes `spec.ViewSpec'.
	(Form._create_data_object): Získání datové specifikace neprovádìj
	øes `_DBOP'.

	* lib/pytis/form/dualform.py (DualForm._create_view_spec): Na `DualSpec'
	se odkazuj pøímo, ne pøes `spec.DualSpec'.

	* lib/pytis/presentation/_test.py (PresentedRow.check_callback): Nový test.

	* lib/pytis/presentation/field.py (PresentedRow._mark_dependent_dirty):
	Nová metoda (rekurzivní).
	(PresentedRow.__setitem__): Vyu¾ívej ji.
	(PresentedRow._invoke_callbacks): Seznam klíèù sestav je¹tì pøed
	iterací pomocí `filter()'.
	(Computer.__init__): Aktualizace dokumentaèního øetìzce.
	(FieldSpec.__init__): Aktualizace dokumentaèního øetìzce.

	* lib/pytis/form/inputfield.py (InputField.__init__): Inicializuj
	atribut `_is_changed'.
	(InputField._on_change): Argument `notify' zru¹en, argument
	`event', nech» je povinný.  Namísto validace a volání callbacku
	`CALL_FIELD_CHANGE' pouze nastav pøíznak `_is_changed'.
	`event.Skip()' volej nepodmínìnì.
	(InputField.init): Namísto `self._on_change()' volej pouze
	`self._on_change_hook()'.
	(InputField._on_idle): Pokud je nastaven pøíznak `_is_changed',
	proveï validaci a pøípadnì volej callback `CALL_FIELD_CHANGE'.
	(CheckBoxField._create_controls): Kosmetická úprava.
	(ChoiceField._create_controls): Kosmetická úprava.
	(RadioBoxField._create_controls): Kosmetická úprava.
	(ListBoxField._create_controls): Kosmetická úprava.

2002-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/remote/data.py (_RemoteWrapper._cached_method): Nová metoda.
	(_RemoteWrapper._CACHEABLE_METHODS): Nová konstanta.
	(_RemoteWrapper.__getattr__): Zohledòuj cachování vybraných metod.
	(RemoteData._CACHEABLE_METHODS): Nová konstanta.

	* lib/pytis/data/types_.py (Type.__getattr__): Pøed ulo¾ením nové
	instance typu na ni zavolej metodu `_complete'.
	(Type._complete): Nová metoda.
	(Codebook.__init): Pøejmenováno na `_complete' a doplnìno
	podmínìné provedení.
	(Codebook.__getattr__): Zohlednìna pøedchozí zmìna.  _making_type
	zále¾itosti pøesunuty do `_complete'.

	* lib/pytis/remote/server.py (_PyroDataFactory.create)
	(_PyroData._call_method, _PyroResolver.get): Loguj do Pyro logu.

	* lib/pytis/form/event.py (wx_callback.process_event): Nech»
	wxGridEventPtr nema¾e status bar.

	* lib/pytis/data/dbdata.py (DBDataDefaultClass.__init__): Zohledòuj
	config.dblistener.

	* lib/pytis/util/configuration.py (Configuration._Option_dblisten):
	Nová konfiguraèní volba.
	* config/config.py: Pøegenerováno.

2002-10-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py: Pøepracováno na importy modulù `grid' a `wx'.
	* lib/pytis/form/search.py: Nápodobnì.
	* lib/pytis/form/screen.py: Nápodobnì.
	* lib/pytis/form/output.py: Nápodobnì.
	* lib/pytis/form/inputfield.py: Nápodobnì.
	* lib/pytis/form/form.py: Nápodobnì.
	* lib/pytis/form/event.py: Nápodobnì.
	* lib/pytis/form/dualform.py: Nápodobnì.
	* lib/pytis/form/dialog.py: Nápodobnì.
	* lib/pytis/form/application.py: Nápodobnì.
	* lib/pytis/form/_test.py: Nápodobnì.

	* lib/pytis/form/grid.py: Nový modul.
	* lib/pytis/form/wx.py: Nový modul.

	* lib/pytis/presentation/field.py (PresentedRow.format): O¹etøuj pøípad,
	kdy není dostupná hodnota sloupce.

2002-10-08  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Zmìnìno pravidlo pro import
	wxPython.

2002-10-08  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Zmìnìno pravidlo pro import
	wxPython.

2002-10-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/__init__.py: O¹etøuj pøípad, kdy není dostupno
	sys.argv.

2002-10-08  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Nech» je
	argument `label' nepovinný.  Update a doplnìní dokumentaèního
	øetìzce.
	(FieldSpec.default): Update dokumentaèního øetìzce.
	(PresentedRow.__init__): Update a doplnìní dokumentaèního øetìzce.
	Nakonec volej `self._invoke_callbacks()'.
	(PresentedRow._process_fieldspec): Inicializuj `self._index'.  Do
	`self._columns' pøiøazuj tuple.
	(PresentedRow._init_row.genval): Nepøedávej lokální promìnné jako
	klíèové argumenty.  Políèkùm s prefill a default nuluj pøíznak
	`_dirty'.  Vyu¾ívej `self._index'.  Nenastavuj `_dirty' pøíznaky
	závislých políèek pøi výpoètu default.
	(PresentedRow._init_row): Pøed generováním hodnot nového øádku
	nastav v¹echny `_dirty' pøíznaky.  Pøi inicializaci ze stávajícího
	øádku nastavuj v¹echny `_dirty' pøíznaky, podle toho, zda jsou v
	daném øádku, nebo ne.
	(PresentedRow._key2col): Vyu¾ívej `self._index'.
	(PresentedRow.__setitem__): Pøidán assert na `value'.  Pøidán
	komentáø.  Vyu¾ívej metodu `_invoke_callbacks()'.
	(PresentedRow._invoke_callbacks): Nová metoda.
	(PresentedRow.set_row): Volej `_invoke_callbacks()'.
	(PresentedRow.has_key): Vyu¾ívej `self._index'.
	(PresentedRow.original_row): Doplnìní dokumentaèního øetìzce.

2002-10-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow._init_row): Pøíznak
	`_dirty' nuluj pouze pokus argument `row' nebyl `None'.

2002-10-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Update
	dokumentace.  Argument `computer' ji¾ nemú¾e být funkcí -- upraven
	assert.
	(FieldSpec.update_computer): Zru¹eno.
	(PresentedRow.__init__): Zru¹en argument `computer_data' a
	odpovídající neveøejný atribut.
	(PresentedRow._process_fieldspec): Zru¹ena èást zabývající se
	vytvoøením computeru voláním funkce za pomoci `_computer_data'.
	(PresentedRow.__getitem__): Testuj jestli existuje
	`column.computer'.  Metodì `self._needs_recomputation()' pøedávej
	pouze id, ne instanci `_Column'.  Neuva¾uj mo¾nost, ¾e by
	self._row bylo None.
	(PresentedRow.__setitem__): Oprava indentace
	(PresentedRow._needs_recomputation): Argumentem nech» je id, ne
	instance `_Column'.  Netestuj `self._row' na None.
	(PresentedRow.format): Testuj jestli existuje `column.computer'.
	Metodì `self._needs_recomputation()' pøedávej pouze id, ne
	instanci `_Column'.  Neuva¾uj mo¾nost, ¾e by self._row bylo None.
	(PresentedRow.has_key): Nová metoda.
	(PresentedRow._process_fieldspec): Zru¹en argument `row'. Nastav
	pøíznak `_dirty' v¹em políèkùm, bez ohledu na pøítomnost v `row'.
	(PresentedRow._init_row): Vynuluj v¹em políèkùm pøítomným v `row'
	pøíznak `_dirty'.

	* lib/pytis/form/list.py: Importuj `PresentedRow'.
	(List._ListTable._CurrentRow.__init__): Namísto
	`lib.presentation.PresentedRow' pou¾ívej pouze `PresentedRow'.
	(List._ListTable._EditedRow.__init__): Zru¹en argument
	`computer_data'.  Nový argument `prefill'.  Namísto
	`lib.presentation.PresentedRow' pou¾ívej pouze `PresentedRow'.
	Konstruktoru `PresentedRow' pøedávej `prefill' namísto
	`computer_data'.
	(List._ListTable.__init__): Zru¹en argument `computer_data'.  Nový
	argument `prefill'.  Stejnì tak pøíslu¹né neveøejné atributy.
	Konstruktoru `_EditedRow' a `PresentedRow' pøedávej `prefill'
	namísto `computer_data'.
	(List._ListTable.edit_row): Konstruktoru `_EditedRow' a
	`PresentedRow' pøedávej `prefill' namísto `computer_data'.
	(List._ListTable.editing): Konstruktoru `_EditedRow' pøedávej
	`prefill' namísto `computer_data'.
	(List._ListTable.editing): Namísto `lib.presentation.PresentedRow'
	pou¾ívej pouze `PresentedRow'.
	(List.__init__): Zru¹en atribut `_computer_data'.  Nový atribut
	`_prefill'.
	(List._create_grid): Konstruktoru `_ListTable' pøedávej `prefill'
	namísto `computer_data'.
	(List.select_row): Callbackové funkci pøedávej pøímo instanci
	`PresentedRow', namísto jejího datového row.
	(List.refresh): Zru¹en paramater `computer_data'.
	(List.prefill): Nová metoda.
	(List.set_prefill): Nová metoda.
	(BrowseForm._on_new_record): Nastavuj vytváøenému formuláøi `prefill'.
	(FilteredBrowseForm.filter): Nenastavuj reset pro `computer_data'
	pøi volání `self.refresh()'.

	* lib/pytis/form/form.py (EditForm._edit_update): Nepøenastavuj zbyteènì
	hodnoty v PresentedRow.  Netestuj jestli `self._row.row()'
	skuteènì nìco vrátí (to by mìl v¾dy).  Kosmetické úpravy.
	(EditForm.set_row): Nová metoda.
	(EditForm._set_row): Vyu¾ívej ji.
	(EditForm._edit_insert): Nepøenastavuj zbyteènì
	hodnoty v PresentedRow. 

	* lib/pytis/form/dualform.py (SideBrowseDualForm._on_selection): Volej
	`self._side_form.set_prefill()'.
	(DescriptiveDualForm._on_main_selection) 
	(DescriptiveDualForm._on_side_selection): Kosmetické úpravy.

2002-10-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer): Podìï wx class jen
	jsme-li v X.

	* lib/pytis/form/list.py (_InputFieldCellEditor, List, List._ListTable):
	Podìï wx class jen jsme-li v X.
	(List._ListTable._TYPE_MAPPING): Nastaveno na None.
	(List._ListTable.__init__): Inicializuj vý¹e uvedenou konstantu.
	(ListForm._TITLE_BACKGROUND_COLOR): Pou¾ívej na¹e barvy, ne pøímo
	wxColour.

	* lib/pytis/form/inputfield.py (_TextValidator): Podìï wx class jen
	jsme-li v X.
	
	* lib/pytis/form/form.py (Form): Podìï wx class jen
	jsme-li v X.
	(EditForm._navigate): Nech» `dir' je TRUE místo wx.TRUE.

	* lib/pytis/form/screen.py (WxKey._TRANS_TABLE, WxKey._RTRANS_TABLE):
	Nastaveno na None.
	(WxKey._make_dictionary): Pøidán argument `self'.
	(WxKey.__init__): Inicializuje vý¹e uvedené konstanty.
	(WxColor, MenuBar, ButtonBar, StatusBar): Podìï wx class jen
	jsme-li v X.

	* lib/pytis/form/search.py: Importuj wxPython podmínìnì, jen v X.
	* lib/pytis/form/screen.py: Nápodobnì.
	* lib/pytis/form/output.py: Nápodobnì.
	* lib/pytis/form/list.py: Nápodobnì.
	* lib/pytis/form/inputfield.py: Nápodobnì.
	* lib/pytis/form/form.py: Nápodobnì.
	* lib/pytis/form/event.py: Nápodobnì.
	* lib/pytis/form/dualform.py: Nápodobnì.
	* lib/pytis/form/dialog.py: Nápodobnì.
	* lib/pytis/form/application.py: Nápodobnì.
	* lib/pytis/form/_test.py: Nápodobnì.

	* lib/pytis/util/util.py (in_x): Nová funkce.

2002-10-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (RunFormDialog): Nová tøída.

	* lib/pytis/form/application.py (Application.on_command): Pokud pøíkaz
	není zpracován ¾ádným oknem a má definován handler, zavolej
	handler.

2002-10-04  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/types_.py (Type._TypeTable.get_instance): Vymazány
	zapomenuté zakomentované printy.

2002-10-03  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/presentation/field.py (PresentedRow.__setitem__): Nastavuj
	políèku hodnotu, jen do¹lo-li ke zmìnì.
	(PresentedRow._init_row.genval): U políèek s default nastav pøi
	vlo¾ení default hodnoty závislým políèkùm pøíznak 'dirty'.

2002-10-03  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Pøidáno pravidlo pro import
	wxPython.

2002-10-03  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Pøidáno pravidlo pro import
	wxPython.

2002-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (wx_callback.process_event): Pøidána logovací
	hlá¹ka.

	* lib/pytis/form/search.py (SFDialog._selected_condition): Opraveno
	chování, kdy¾ je `value' None.

	* ebas-server (_usage): Pøidáno --profile.
	(go): Pøidána podpora pro profilování.
	(_PROFILE, _PROFILE_RESULTS): Nové konstanty.
	(_run_server): Nová funkce.

	* lib/pytis/remote/server.py (run_server): Není-li config.host
	nastaveno, reportuj to.
	(run_server): Ignoruj KeyboardInterrupt v `request_loop'.

	* lib/pytis/form/command.py (Command.__init__): Nový argument
	`access_groups' a atribut `_access_groups'.
	(Command.access_groups): Nová metoda.

	* lib/pytis/form/screen.py (MItem.__init__): Nech» argument `command' je
	povinný.

2002-10-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Zohledni nové API tøídy `ViewSpec'.
	(LoutFormatter._format_data_table): `KeyError' pøi pokusu o
	získání tøídìní ze `self._data_specs' o¹etøuj pøiøazením prázdného
	tuplu do promìnné `sorting', namísto pouhého `pass'.  Stejnì tak
	pro `condition' pøiøazuj `None'.

	* lib/pytis/form/dualform.py (SideBrowseDualForm._create_side_form):
	Konstruktoru tøídy `SideBrowseForm' pøedávej
	`sibling_binding_column' a `binding_column'.
	(BrowseDualForm): Update dokumentace.
	(ShowDualForm): Update dokumentace.

	* lib/pytis/form/application.py (Application.run_form): Pøidány asserty
	na argumenty.

	* lib/pytis/form/form.py (Form.name): Metoda zru¹ena.
	(Form._on_leave_form): Namísto metody `name()' pou¾ij rovnou
	atribut `self._name'.
	(Form.run): V logogvací hlá¹ce vypisuj `str(self)', namísto
	`self._view'.

	* lib/pytis/form/list.py (SideBrowseForm.__init__): Nové argumenty
	`sibling_binding_column' a `binding_column'.  Filtrovací podmínku
	nehledej ve specifikaci, ale vytváøej sám jako ekvivalenci
	vazebních sloupcù.  Dokumentace.
	(BrowseForm.on_command): Vyvolávej callback `CALL_EDIT_RECORD'
	pouze pokud je vybrán øádek (`self._list.current_key()' není `None').

	* lib/pytis/presentation/field.py (PresentedRow._process_fieldspec):
	Namísto neustálého volání `f.id()' vytvoø promìnnou `id'.
	(PresentedRow.__init__): Pøedávej `row' metodì
	`self._process_fieldspec()'.  
	(PresentedRow._process_fieldspec): Nový argument `row'.  Pokud row
	obsahuje hodnotu poèítaného políèka, inicializuj pøíznak `_dirty'
	na `FALSE'.

2002-10-02  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List._on_select_cell): Pokus o o¹etøení chyby
	pøi stisku PageUp na øádku v rozmezí 2 a¾ <poslední viditelný>.

2002-10-01  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/search.py (SFDialog._on_suck): Metodì SetValue pøedávej
	exportovanou hodnotu.

2002-10-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook.__getattr__): Volej metodu pøedka.
	(Codebook.__init__): Nastavuj `_fetched'.

	* lib/pytis/form/search.py (SFDialog._OPERATORS): Nový atribut.
	(SFDialog._create_content): Pøidána podpora pro OR.
	(SFDialog._on_add): Nápodobnì.
	(SFDialog._selected_condition): Nápodobnì.
	(SFDialog._save_values): Nový argument `logical_selection'.
	(SFDialog.__init__): Nový atribut `_logical_selectors'.

2002-10-01  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField._create_controls): Oprava:
	respektuj nové API tøídy `ViewSpec'.

	* lib/pytis/presentation/field.py (PresentedRow._compute): Pokud políèko
	existuje v datovém øádku, ulo¾ vypoètenou hodnotu.

2002-10-01  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py (insert_klient): Doplnìny polo¾ky
	'zivnost' a 'sidlo'.

2002-10-01  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py (insert_klient): Doplnìny polo¾ky
	'zivnost' a 'sidlo'.

2002-09-30  Petr Malivanek  <malivanek@akont.cz>

	* scripts/import_diana_kucty.py (insert_klient): Upravy konstant.

2002-09-30  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py: Kompletnì pøepracovaná verze.
	(insert_klient): O¹etøuj 'os_cislo'.
	(main): Pøidány konfiguraèní konstanty 'MENA', 'SLUZBA',
	'ACC_MANAGER', 'ZISKANY', 'UROK_POPL_MAPPING'
	(parse_fields): Úprava pro nové konstanty.
	(insert_klient): Úprava pro nové polo¾ky.
	(insert_ucet): 	Úprava pro nové polo¾ky.
	(get_urok_popl): Nová funkce.

2002-09-30  Petr Malivanek  <malivanek@akont.cz>

	* scripts/import_diana_kucty.py (insert_klient): Upravy konstant.

2002-09-30  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py: Kompletnì pøepracovaná verze.
	(insert_klient): O¹etøuj 'os_cislo'.
	(main): Pøidány konfiguraèní konstanty 'MENA', 'SLUZBA',
	'ACC_MANAGER', 'ZISKANY', 'UROK_POPL_MAPPING'
	(parse_fields): Úprava pro nové konstanty.
	(insert_klient): Úprava pro nové polo¾ky.
	(insert_ucet): 	Úprava pro nové polo¾ky.
	(get_urok_popl): Nová funkce.

2002-09-29  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py: První verze  skriptu
	pro import klientù a úètù z programu Diana.
	(insert_ucet): Oprava '.' -> ','
	(parse_klient): Odchytávej výjimku pøi pøedání nesprávné struktury dat.
	Formátovací úpravy a oprava chybných printù.
	Zpøehlednìní zadávání struktury cvs a formátu datumu. 

2002-09-29  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/import_diana_kucty.py: První verze  skriptu
	pro import klientù a úètù z programu Diana.
	(insert_ucet): Oprava '.' -> ','
	(parse_klient): Odchytávej výjimku pøi pøedání nesprávné struktury dat.
	Formátovací úpravy a oprava chybných printù.
	Zpøehlednìní zadávání struktury cvs a formátu datumu. 

2002-09-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dualform.py (DualForm.__init__): Argumenty `main_name'
	a `side_name' nahrazeny jediným `name' (jméno pro `DualSpec').
	(DualForm.__init__): Metodám `self._create_main_form()' a
	`self._create_side_form()' nepøedávej argument `name', a» si ho
	zjistí samy...  Neukládej `self._side_name'.
	(DualForm._create_view_spec): Nová metoda.
	(DualForm._create_data_object): Nová metoda.
	(DualForm._create_main_form): Zru¹en argument `name'.
	(DualForm._create_side_form): Zru¹en argument `name'.
	(DualForm.name): Zru¹eno.
	(DualForm.title): Nová metoda.
	(SideBrowseDualForm._create_side_form): Namísto zru¹eného
	argumentu `name' pou¾ívej `self._view.side_name()'.
	(BrowseDualForm._create_main_form): Namísto zru¹eného argumentu
	`name' pou¾ívej `self._view.main_name()'.
	(BrowseDualForm._on_show_record): Zohlednìna zmìna pøi volání
	`Application.run_form()'.
	(ShowDualForm.__init__): Argumenty po¾er do `*args' a `**kwargs' a
	dokumentuj pouze argumenty odli¹né pro tuto tøídu (argumenty
	`main_name' a `side_name' nahrazeny jendiným `name').  
	(ShowDualForm._create_main_form): Namísto zru¹eného
	argumentu `name' pou¾ívej `self._view.main_name()'.
	(DescriptiveDualForm.__init__): Argumenty po¾er do `*args' a
	`**kwargs' a dokumentuj pouze argumenty odli¹né pro tuto tøídu.
	Nepøedávej argument `side_name'.
	(DescriptiveDualForm._create_view_spec): Nová metoda.
	(DescriptiveDualForm._create_main_form): Namísto zru¹eného
	argumentu `name' pou¾ívej `self._name'.
	(DescriptiveDualForm._create_side_form): Namísto zru¹eného
	argumentu `name' pou¾ívej `self._name'. 

	* lib/pytis/form/form.py (Form._create_view_spec): Nová metoda.
	(Form._create_data_object): Nová metoda.
	(Form.__init__): Získávání specifikací a vytváøení datového
	objektu pøesunuto do nových metod.

	* lib/pytis/form/spec.py (DualSpec): Nová specifikaèní tøída.

	* lib/pytis/form/list.py (List._on_line_commit): Jako `the_row' pou¾ívej
	`PresentedRow'.  Pøi insertu vytahuj z øádku instanci `Value', ne
	formátovaný øetìzec.
	(BrowseForm._on_edit_record): Zohlednìna zmìna pøi volání
	`Application.run_form()'.
	(BrowseForm._on_edit_record): Zohlednìna zmìna pøi volání
	`Application.run_form()'.
	(BrowseForm._on_show_record): Zohlednìna zmìna pøi volání
	`Application.run_form()'.
	(BrowseForm._on_descr_record): Zohlednìna zmìna pøi volání
	`Application.run_form()'.
	(BrowseForm._on_print_): Zohlednìna zmìna pøi volání
	`Application.run_form()'.

2002-09-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (Computer.__init__): Vy¾aduj povinnì
	specifikaci závislostí.  Podpora pro zápis závislostí v
	dokumentaèním øetìzci poèítací funkce.
	(PresentedRow): Úprava docstringu.
	(PresentedRow._process_fieldspec): Inicializuj atributy
	`_dependent' a '_dirty'.  Pro poèítaná políèka inicializuj seznam
	závislých políèek a pøíznak '_dirty' na TRUE.
	(_recompute): Zru¹eno.
	(PresentedRow.__getitem__): Pokud je tøeba, vypoèti hodnotu políèka.
	(PresentedRow.__setitem__): V¹em závislým políèkùm nastav pøíznak
	`_dirty' a volej pro nì `_change_callback'.
	(PresentedRow._needs_recomputation): Nová metoda.
	(PresentedRow._compute): Nová metoda.
	(PresentedRow.format): Pokud je tøeba, vypoèti hodnotu políèka.
	(Computer.__init__): Pro jistotu opìt zru¹eno (s ohledem na zdraví
	Milana Zamazala :-)

2002-09-25  Miroslav Macek  <macek@asellus.cz>

	* config/config_isas.py (): Úprava konfigurace pro naètení nového loga.
	* icons/logo.bmp (): Vlastní logo.

2002-09-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._on_row_change): Pokud není políèko
	daného id ve formuláøi nalezeno, nedìlej nic.

	* lib/pytis/form/list.py (List._ListTable.GetAttr): Pou¾ívej cache pøi
	vytahování øádku.

2002-09-25  Pavel Hanák  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List._ListTable.GetValue): Metodì
	`PresentedRow.format' pøedávej místo poøadí `id' sloupce.

2002-09-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MItem._used_titles): Nový tøídní atribut.
	(MItem.__init__): Pøidán hack pro unikátní `title' pomocí pøidání
	mezer.

	* lib/pytis/form/list.py (List._ListTable.__init__): Nový argument
	`fields' a atribut `_fields'.  Pøi volání konstruktoru
	`_EditedRow' pøedávej 'fields', namísto `columns'.  Pøi volání
	konstruktoru `PresentedRow' takté¾.
	(List._ListTable.edit_row): Pøi volání konstruktoru `_EditedRow'
	pøedávej 'fields', namísto `columns'.
	(List.__init__): Nový argument `fields' a atribut `_fields'.
	(List._create_grid): Konstruktoru `_ListTable' pøedávej
	`self._fields'.
	(ListForm.__init__): Konstruktoru `List' pøedávej
	`self._view.fields()'.

2002-09-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (GroupSpec): Update dokumentace.
	(GroupSpec.__init__): Update dokumentace.

	* lib/pytis/form/form.py (char2px): Pøesunuto do `screen'.
	(dlg2px): Pøesunuto do `screen'.
	(_orientation2wx): Pøesunuto do `screen'.
	(_border_style2wx): Pøesunuto do `screen'.

	* lib/pytis/form/screen.py (char2px): Nová funkce.
	(dlg2px): Nová funkce.
	(orientation2wx): Nová funkce.
	(border_style2wx): Nová funkce.

2002-09-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook.__init__): Zredukováno.
	(Codebook.__init): Nová metoda.
	(Codebook.__getattr__): Nová metoda.

	* lib/pytis/data/data.py (DataFactory.__cmp__, DataFactory.__hash__):
	Zru¹eno.

2002-09-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (GroupSpec.__init__): Do aserce doplnìn report
	`item'.
	(ViewSpec._recourse_group): Nápodobnì.
	(ViewSpec.__init__): Nápodobnì.

	* lib/pytis/data/dbdata.py (DBColumnBinding.__str__): Nová metoda.
	(DBConnection.__cmp__): Vyu¾ívej funkci `compare_attr'.
	(DBConnection.__hash__): Vyu¾ívej funkci `hash_attr'.
	(DBColumnBinding.__cmp__, DBColumnBinding.__hash__): Nové metody.

	* lib/pytis/util/util.py (deepstr): Nová funkce.
	(compare_attr): Nová funkce.

	* lib/pytis/data/data.py (DataFactory.__str__): Nová metoda.
	(DataFactory.__cmp__, DataFactory.__hash__): Nové metody.
	(DataFactory.__init__): Nový atribut `_kwargs_hashable'.

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table) 
	(LoutFormatter._format_data_item): Zohlednìny zmìny
	v lib.presentation.PresentedRow.

	* lib/pytis/presentation/field.py (FieldStyle): Odstranìno v¹e ohlednì
	blikání.

2002-09-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._create_group): Ze `self._view'
	vytáhni specifikaci políèka podle identifikátoru.

	* lib/pytis/form/list.py (List._ListTable._make_attr): Vytváøej font o
	velikosti 12 bodù.
	(ListForm.__init__): Seznam specifikací sloupcù vytváøej mapováním
	ze seznamu identifikátorù.
	(ListForm._columns): Nyní vrací sekvenci identifikátorù sloupcù
	namísto instancí `FieldSpec' (zdokumentováno).
	(CodeBook._columns): Nyní vrací sekvenci identifikátorù sloupcù
	namísto instancí `FieldSpec' (zdokumentováno).

	* lib/pytis/form/spec.py (GroupSpec.__init__): Assert na øetìzec namísto
	FieldSpec.
	(ViewSpec): Úprava docstringu.
	(ViewSpec.__init__): Nový argument 'fields'.  Vytváøej slovník
	specifikací políèek klíèovaný podle id.  Pøi procházení layoutu a
	sloupcù kontroluj pøítomnost id políèek ve slovníku namísto
	assertu na instanci `FieldSpec'.  Pokud je `layout' nebo `columns'
	None, vytváøej implicitní.
	(ViewSpec.fields): Nepøevádìj `self._fields' na tuple (provedeno v
	konstruktoru).  Nyní vrací sekvenci identifikátorù sloupcù namísto
	instancí `FieldSpec'.
	(ViewSpec.field): Nová metoda.

	* lib/pytis/form/screen.py (_WX_COLORS): Doplnìny pøevody pro nové
	barevné konstanty.

	* lib/pytis/presentation/field.py (Color): Nové barevné konstanty.

2002-09-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type)
	(PostgreSQLStandardBindingHandler._pdbb_get_type)
	(DBPyPgFunction._db_bindings_to_column_spec.type_instance):
	Pøidána podpora pro typ lib.data.Serial.

	* lib/pytis/form/list.py (List._ListTable._Column.__init__): Nový
	argument a atribut `style'.
	(List._ListTable.__init__): Pøedávej do `_Column' styl.
	(List._ListTable.GetAttr): Pøepsáno.
	(List._ListTable.__init__): Nový atribut `_column_styles'.
	(List._ListTable._make_attr): Nová metoda.

2002-09-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nakonec voej
	v¾dy `self._recompute()'.
	(PresentedRow._init_row): nevolej `self._recompute()'.
	(PresentedRow._recompute): Zru¹en argument 'row'.  Namísto
	sekvence `changed' pou¾it jako argument jediný identifikátor
	sloupce `changed_id'.  Pøi volání pøepoèítávací funkce pøedávej
	jako argument `self' namísto `row'.
	(PresentedRow.__getitem__): Vracej instanci value, namísto
	zformátované exportované hodnoty.
	(PresentedRow.__setitem__): Respektuj novou podobu argumentù
	metody `_recompute()'.
	(PresentedRow.val): Zru¹eno.
	(PresentedRow.format): Nová metoda.

	* lib/pytis/form/list.py (List._ListTable.GetValue): Pou¾ívej
	`PresentedRow.format()'.
	(List._on_line_commit): Pou¾ívej `PresentedRow.format()'.

	* lib/pytis/form/form.py (EditForm._set_row): Pou¾ívej
	`PresentedRow.format()'.
	(EditForm._on_row_change): Pou¾ívej `PresentedRow.format()'.

2002-09-18  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/form/screen.py (color2wx): Nová funkce.
	(_WX_COLORS): Nová konstanta.

	* lib/pytis/util/util.py (catch): O¹etøuj jen pøechody s `tag'.
	* lib/pytis/util/_test.py (NonLocalTransfers.check_it): Pøejmenováno na
	`check_basic'.
	(NonLocalTransfers.check_tags): Nový test.

	* lib/pytis/presentation/field.py (Color): Nová tøída.
	(FieldStyle): Nová tøída.
	(FIELD_STYLE_DEFAULT, FIELD_STYLE_EMPHASIS, FIELD_STYLE_WARNING):
	Nové konstanty.
	(FieldSpec.__init__): Nový argument `style' a atribut `_style'.
	(FieldSpec.style): Nová funkce.

	* lib/pytis/data/access.py: Sepsán docstring.

	* lib/pytis/data/types_.py (Codebook._export): Pøi odkazu na
	neexistující sloupec nenahazuj výjimku a vra» ''.
	(Type.__init__): Nový argument a atribut `_validation_message'.
	(Enumeration.ERRMSG_INVALID_ENUM_VALUE): Zru¹eno.
	(Codebook.ERRMSG_PARTIAL_VALIDATION): Zru¹eno.
	(Integer._validate, Float._validate, String._validate_maxlen)
	(DateTime._validate, Enumeration._validate)
	(Codebook.validate_partial, Sequence._validate): Vyu¾ívej
	`_validation_message'.
	(Float.__init__, String.__init__, Enumeration.__init__) 
	(Boolean.__init__, Codebook.__init__, Sequence.__init__): Pøidán
	argument `**kwargs'.
	(Serial): Nový typ.

2002-09-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal¹í pravidla týkající se Pythonu):
	Pøidána poznámka o catch/throw.

2002-09-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal¹í pravidla týkající se Pythonu):
	Pøidána poznámka o catch/throw.

2002-09-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._create_grid): Místo vyvolání výjimky
	`toplevel' provádìj `throw'.
	* lib/pytis/form/form.py (Form.__init__): Pøi neúspìchu vytvoøení
	datového objektu proveï nelokální pøechod.
	* lib/pytis/form/application.py (Application.run_form): Odchytávej
	pøechod `form-init-error'.

	* lib/pytis/util/util.py (_Throw): Nová tøída.
	(catch, throw): Nové funkce.
	* lib/pytis/util/_test.py (NonLocalTransfers): Nová sada testù.

	* lib/pytis/data/access.py (RestrictedData.accessible): Nová metoda.

2002-09-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_search): Klíèuk argument `direction'.

	* lib/pytis/form/event.py (wx_callback.process_event): U¾ivatelské
	události z modálního okna volej bez obalu.

	* lib/pytis/form/application.py (Application.top_window): Nová metoda.

2002-09-05  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/tips: Pøidán tip na `classmethod' a na
	vícenásobnou dìdiènost potomkù `object'.

2002-09-05  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/tips: Pøidán tip na `classmethod' a na
	vícenásobnou dìdiènost potomkù `object'.

2002-09-04  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/presentation/field.py (PresentedRow.val): Nová metoda
	(doèasnì -- viz TODO).

2002-09-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.update): Jestli¾e má nový
	øádek nekompletní klíè, doplò jej ze starého øádku.

	* lib/pytis/form/application.py (Application.run_form): Zdokumentován
	argument `action'.
	(Application.run_form): Odchytávej a ignoruj výjimku `toplevel'.

	* lib/pytis/form/form.py (EditForm._edit_insert, EditForm._edit_update) 
	(EditForm._edit_delete, EditForm._find_row) 
	(BrowsableShowForm._on_next_record): Upraveny argumenty _DBOP.
	(Form.__init__): Upraveny argumenty _DBOP.

	* lib/pytis/form/list.py (List._on_delete_line): Místo `db_operation'
	pou¾ij _DBOP.
	(List._on_line_commit, List._ListTable._get_row) 
	(List._ListTable.rewind, List._create_grid) 
	(BrowseForm._on_edit_record): Upraveny argumenty _DBOP.
	(List._create_grid): Pøi databázové chybì se vra».

	* lib/pytis/form/dialog.py (db_operation): Zmìnìn význam argumentu
	`operation'.
	(db_operation): O¹etøuj DataAccessException.

	* lib/pytis/data/access.py (RestrictedData.__init__): Doplnìn docstring.
	(RestrictedData._check_access_condition.columns): Testuj operátor
	IN.
	(RestrictedData.delete, RestrictedData.update): Testuj i klíè.
	(RestrictedData.row, RestrictedData.fetchone): Nové metody.
	(RestrictedData._check_access_key)
	(RestrictedData._access_filter_row): Nové metody.
	(RestrictedData.insert, RestrictedData.update): Filtruj vracený
	øádek.
	(AccessRights.__init__): Nový atribut `_query_cache'.
	(AccessRights._permitted): Nová metoda.
	(AccessRights.permitted): Pou¾ívej ji a pou¾ívej `_query_cache'.
	(DataAccessException.__init__): Opraveno volání pøedka.  Loguj.
	(RestrictedData._check_access_columns): Pøedávej do
	DataAccessException jméno tabulky a sloupce.
	(RestrictedData._check_access_row): Zru¹eno.
	(RestrictedData.insert, RestrictedData.update) 
	(RestrictedData.update_many): Místo `_check_access_row' volej
	`_access_filter_row'.
	(AccessRights.__init__): Nech» None sekvence je tuple.

2002-09-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Pøidána
	podpora pro operátor IN.
	(DBDataPostgreSQL.select): Zjednodu¹eno odchycení chyby.

	* lib/pytis/data/data.py (IN): Nový operátor.

2002-09-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/access.py
	(RestrictedData._check_access_condition.columns): O¹etøuj prázdné
	condition args.

2002-09-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Nový
	atribut `orig_row'.
	(List._ListTable.editing): Originální øádek vytahuj
	z edited.orig_row.

2002-09-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	V argumentu assert na oids mapuj sloupce pøes `str'.
	(PostgreSQLStandardBindingHandler): Buï potomkem `object'.

	* lib/pytis/data/access.py (RestrictedData._check_*): Pøejmenováno na
	`_check_access_*'.
	(RestrictedData.select, RestrictedData.update)
	(RestrictedData.update_many, RestrictedData.delete)
	(RestrictedData.delete_many): Opraveno volání metody pøedka.
	(RestrictedData.search): Opraveno jméno argumentu.

2002-09-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataDefaultClass): Buï potomkem
	RestrictedData.
	(DBDataDefaultClass.__init__): Nový argument `access_rights'.
	Nový atribut `_access_current_groups'.
	(DBDataDefaultClass._access_groups): Nová metoda.

	* lib/pytis/data/__init__.py: Zmìnìno poøadí importu `access' a `data'.

	* lib/pytis/data/data.py (Operator.logical): Nová metoda.

	* lib/pytis/data/access.py (AccessRights.__init__): Opraveny chyby
	v konstrukci tabulky.  Práva se nyní sèítají.
	(AccessRights.permitted): Vra» pravdu, je-li mezi povolenými
	skupinami None.
	(RestrictedData._check_delete, RestrictedData._check_row) 
	(RestrictedData._check_sorting, RestrictedData._check_condition):
	Implementováno.
	(RestrictedData._check_columns): Nová metoda.
	(DBAccessException): Pøejmenováno na DataAccessException a je
	potomkem Exception.
	(RestrictedData): Buï potomkem `object'.
	(RestrictedData._groups): Pøejmenováno na `_access_groups'.

2002-09-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/__init__.py: Importuj `access'.
	* lib/pytis/data/access.py: Nový soubor.

2002-08-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py (db_operation): Opraveno jméno konfiguraèní
	promìnné `dbconnection'.

	* lib/pytis/remote/server.py (_PyroData._check_type_key): Je-li `arg'
	None, nedìlej z nìj tuple.

	* lib/pytis/util/configuration.py (Configuration.__setattr__): Atribut
	nastavuj, ne vracej.  Pøednostnì nastavuj volby, ne atributy.
	Volbu nastavuj, ne pøiøazuj.

	* lib/pytis/form/form.py (EditForm._edit_insert): Nastavovaná data
	pro¾eò pøes self._row.

2002-08-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm._edit_update): Nové hodnoty nastavuj
	do prezentaèního øádku, ze kterého a¾ následnì vyzvedej øádek
	datový.

	* lib/pytis/presentation/field.py (PresentedRow.row): Nastav øádku typy
	z datového objektu, kde je to mo¾né.

	* lib/pytis/data/types_.py (Type.__getattr__): Po updatu z nové typové
	instance nastav pùvodní `_id'.  Opraveny chyby v reportu testu na
	tøídu.

	* lib/pytis/form/event.py (wx_callback.process_event): Po vypsání
	top-level výjimky se vra».

2002-08-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (_pg_escape): Nová funkce.
	(DBDataPostgreSQL._pg_value.null_or_string, _pypg_new_connection):
	Pou¾ívej ji.
	(DBDataPyPgSQL._pg_query): Loguj SQL pøíkazy.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nový
	atribut `_pdbb_logging_command'.
	(DBDataPyPgSQL._pg_query): Nový argument `backup'.
	(PostgreSQLStandardBindingHandler._pg_update) 
	(PostgreSQLStandardBindingHandler._pg_insert) 
	(PostgreSQLStandardBindingHandler._pg_delete): Volej `_pg_query'
	s argumentem `backup'.

	* lib/pytis/util/configuration.py (Configuration._Option_dblogtable):
	Nová konfiguraèní volba.
	* config/config.py: Pøegenerováno.

	* lib/pytis/form/application.py (Application._call_current_window):
	Místo self._top_level_exception pou¾ívej `top_level_exception'.

2002-08-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (top_level_exception): Pøesunuté
	Application._top_level_exception.
	(wx_callback.process_event): Odchytávej a reportuj v¹echny
	výjimky.

	* lib/pytis/form/application.py (Application._top_level_exception):
	Pøesunuto do event.py.
	(Application.run_form, Application.on_command): Zohlednìna
	pøedchozí zmìna.
	(Application._exit): Ignoruj v¹emo¾né výjimky.

	* lib/pytis/remote/data.py (_DataChangesWatcher._watcher): Ignoruj
	výjimky od Pyro.

	* lib/pytis/remote/server.py (_PyroDataFactory.create)
	(wrap_data_factory): Pøipojuj objekt anonymnì.
	(_PyroDataFactory._name_counter): Zru¹eno.
	(_data_factory_counter): Zru¹eno.
	(run_server): Zru¹eno pou¾ívání name serveru.  Daemonu explicitnì
	specifikuj jméno stroje.
	(_USE_NAME_SERVER, _GNAME_DATA, _GNAME_DATA_FACTORY): Zru¹eno.
	(_PyroData._check_type_sort): Nech» `arg' smí být jakákoliv
	sekvence.

2002-08-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (CodeBookField._on_invoke_selection):
	Instanci typu vytváøej pøes `make'.

	* lib/pytis/remote/server.py (run_server): Zohlednìní zmìn v type
	tables.

	* lib/pytis/data/types_.py (Type._TypeTable.get_instance): Pøiøazuj
	typové instanci její `_id'.
	(Type.__cmp__): Pøednostnì porovnávej `_id' instancí.
	(Type.__getstate__, Type.__setstate__, Type.__getattr__): Nové
	metody.
	(Type.__init__): Nové atributy `_id' a `_fetched'.
	(Type.type_table): Nová statická metoda.
	(Type._remote_type_table): Nový atribut.
	(Codebook.make): `data_factory_kwargs' transformuj na tuple jen
	pokud ji¾ není transformováno.
	(Type._remote_type_table_cache): Nový atribut.
	(Type._TypeTable.get): Kontroluj typ argumentu `id'.

2002-08-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook.__init__): Nový atribut `_columns'.
	(Codebook.columns): Pou¾ívej ho, místo vytváøení datového objektu.
	(TransferrableType): Zru¹eno.
	(BasicType): Zru¹eno.
	(Type._TypeTable): Nová tøída.
	(Type._making_type): Nový atribut.
	(Type.make, Type._make): Nové metody.
	(Type.__init__): Pøidán assert na _making_type.
	(Codebook.make): Nová metoda.
	(Type.__setitem__): Zru¹eno.
	(Value.__setstate__): Testuj na Type, ne TransferrableType.

	* lib/pytis/data/data.py: Upraveno pro sdílené typy.
	* lib/pytis/data/dbdata.py: Upraveno pro sdílené typy.
	(DBConnection.__hash__): Nová metoda.
	* lib/pytis/data/_test.py: Upraveno pro sdílené typy.

	* lib/pytis/remote/server.py (run_server): Zaveï tabulku typù.
	(_bastionize): Nový argument `allowed_methods'.

	* lib/pytis/data/types_.py (Number, String, DateTime, Enumeration) 
	(Sequence): Buï potomkem BasicType.
	(Type.__setitem__): Nová metoda.
	(Value.__setstate__): Typ testuj na TransferrableType.
	(TransferrableType.__getattr__): Importuj pou¾ité moduly a jiné
	opravy chyb.
	(TransferrableType._register): Opraveno chybné roztuplování
	polo¾ky tabulky.
	(TransferrableType._TypeTable): Nová tøída.
	(TransferrableType.enable_type_table): Nech» `_type_table' je
	instancí _TypeTable.
	(TransferrableType._type_table_counter): Zru¹eno.

2002-08-22  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/types_.py (BasicType): Nová tøída.

	* lib/pytis/remote/server.py (_PyroData._check_type_row): Doplnìna
	chybìjící kvalifikace modulu.

2002-08-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.select_map): Nová metoda.
	* lib/pytis/data/_test.py (DBDataDefaultClass.check_select_map): Nový
	test.

2002-08-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Pøidáno
	mapování pro `timestamptz'.

2002-08-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.row) 
	(DBDataPostgreSQL.select, DBDataPostgreSQL.fetchone) 
	(DBDataPostgreSQL.search, DBDataPostgreSQL.insert) 
	(DBDataPostgreSQL.update, DBDataPostgreSQL.delete) 
	(DBDataPostgreSQL.delete_many): Opraveno zpracování výjimek pøi
	rollbacku.

	* lib/pytis/__init__.py: Importuj nìkteré podmoduly.

2002-08-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/remote/server.py (NAME_TYPE_TABLE): Nová konstanta.

	* lib/pytis/data/types_.py (TransferrableType): Nová tøída.
	
2002-08-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Row.__getstate__, Row.__setstate__): Nové
	metody.

	* lib/pytis/remote/server.py (_PyroData._check_type_value): Nová metoda.
	(_PyroData._check_type_value, _PyroData._check_type_row) 
	(_PyroData._check_type_condition): Implementováno.

	* lib/pytis/util/util.py (InvalidAccessError): Pøesunuto z lib.remote.

	* lib/pytis/data/types_.py (Value.__getstate__, Value.__setstate__):
	Nové metody.
	(Value._init): Nová metoda.
	(Value.__init__): Volej ji.

	* lib/pytis/remote/data.py (_RemoteWrapper.__getstate__): Místo
	resetování `_proxy' je pouze patchuj v kopii __dict__.

	* lib/pytis/remote/util.py (InvalidAccessError.__init__): Nová metoda.
	(InvalidAccessError): Pøesunuto do lib.util.

2002-08-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/remote/server.py (_PyroDataFactory.create): Pøijímej jako
	klíèovaný argument pouze `dbconnection_spec' a kontroluj typ jeho
	hodnoty.
	(_safe_function): Nová funkce.
	(_PyroData): Zavedeny metody _check_type_*, ve veøejných metodách
	zru¹eny obecné klíèované argumenty a pøidány typové kontroly.

2002-08-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/remote/server.py (_PyroData.timestamp): Nová metoda.
	(_PyroData.__init__): Nový atribut `_timestamp'.
	(_PyroData._call_method): Updatuj `_timestamp'.
	(_PyroData._TIMEOUT): Nový atribut.
	(_PyroData._collection_lock, _PyroData._active_data_objects): Nové
	atribut.
	(_PyroData._collect, _PyroData.register_remote_object): Nová
	metoda.
	(_PyroDataFactory.create): Registruj pøipojený objekt.

2002-08-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration._Option_name_server):
	Pøejmenováno na `_Option_server'.
	* config/config.py: Pøegenerováno.

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__):
	Zohlednìn pøesun remote kódu.
	(List._ListTable._retrieve_row, List._on_search): Doplnìn klíè
	argumentu `data.skip'.
	* lib/pytis/presentation/field.py (PresentedRow.__init__): Zohlednìn
	pøesun remote kódu.
	* lib/pytis/form/form.py (BrowsableShowForm._on_search): Doplnìn klíè
	argumentu `data.skip'. 

	* ebas (run_application): Pro jméno resolveru vyu¾ívej konstantu
	z lib.remote.
	(_profile): name-server -> server.

	* lib/pytis/data/remote.py: Zru¹eno.
	* lib/pytis/data/__init__.py: Neimportuj `remote'.

	* lib/pytis/remote/__init__.py: Nový soubor.
	* lib/pytis/remote/util.py: Nový soubor.
	* lib/pytis/remote/data.py: Nový soubor.
	* lib/pytis/remote/server.py: Nový soubor.
	
	* ebas-server: Naprostá vìt¹ina kódu pøesunuta do
	lib.remote.server.
	(_EXIT_OK, _EXIT_USAGE): Nové konstanty.
	(_usage): Nová funkce.
	(_install_gettext): Nová funkce.
	(go): Kontroluj korektnost voleb pøíkazové øádky, instaluj
	gettext.

2002-08-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application._top_level_exception):
	Je-li k dispozici Pyro, vypisuj Pyro traceback.

	* ebas-server (_wrap_data_factory, _PyroDataFactory.create):
	`resolver_uri' pøebírej rovnou od `connect'.

	* lib/pytis/data/remote.py (_RemoteWrapper.clone_proxy): Nová metoda.
	(_DataChangesWatcher.__init__): Nový atribut `_clones'.
	(_DataChangesWatcher._watcher): Pou¾ívej klonované datové objekty.
	(_DataChangesWatcher.register_callback): Ukládej klony datových
	objektù.
	(_RemoteWrapper): `resolver_uri' -> `uri'.

	* lib/pytis/data/data.py (DataFactory.create_shared): Zru¹eno.
	* lib/pytis/data/types_.py (Codebook._data): Zohlednìna pøedchozí zmìna.

2002-08-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._on_line_commit): Pro vkládání nového
	záznamu nepou¾ívej pøímo datový `Row', ale sestav nový puze z
	políèek obsa¾ených v 'PresentedRow'.
	(List._on_cell_commit): Doèasnì zakomentováno vyvolání vlo¾ení
	dal¹ího øádku a pøidáno velké TODO.

	* lib/pytis/form/form.py (EditForm.init): Pøed nastavením fukusu se
	ujisti, zda `f' není None a pøípadnì doplò první políèko.

	* lib/pytis/presentation/field.py (PresentedRow.fields): Nová metoda.

	* lib/pytis/form/dualform.py (DescriptiveDualForm.__init__): Argumenty
	vyjmenuj explicitnì.  Do klíèového argumentu `side_name' pro
	konstruktor pøedka v¾dy doplòuj hodnotu svého argumentu `name'.
	(DescriptiveDualForm._create_side_form): `main_name' -> `name',
	`frame_stack' -> `self._frame_stack'.

2002-08-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._init_select): Klíèuj argument
	`condition' metody `select'.
	(List._ListTable._retrieve_row): Nápodobnì pro `skip'.
	(List._ListTable._fetch): Nápodobnì pro `fetchone'.

	* ebas-server: sys.argv[0] pøenastavuj vèas.
	(_PyroResolver.get): Kontroluj typy argumentù.
	(_PyroResolver.ALLOWED_METHODS, _PyroDataFactory.ALLOWED_METHODS):
	Nový atribut.
	(_bastionize): Nová funkce.
	(go, _wrap_data_factory): Vyu¾ívej ji.
	(_PyroData): Nová tøída.
	(_PyroDataFactory.create): Kompletnì pøepracováno.
	(_PyroDataFactory._name_counter): Nový atribut.

	* lib/pytis/data/remote.py (InvalidAccessError): Nová tøída.
	(_data_changes_watcher): Pøesunuto do tøídy RemoteData.
	(RemoteData.add_callback_on_change): Inicializuj
	`_data_changes_watcher'.
	(RemoteData.__init__): Nová metoda.
	(_RemoteWrapper): Buï potomkem `object'.
	(RemoteData.__getattr__): Nová metoda.

2002-07-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.__init__): Není-li
	první volba pøíkazové øádky 'ebas', neprocesuj volby.
	* ebas-server: Nastavuj sys.argv[0] na `ebas'.
	* ebas: Nápodobnì.

	* lib/pytis/data/remote.py (_data_changes_watcher): Nová promìnná.
	(_DataChangesWatcher): Nová tøída.
	(RemoteData.add_callback_on_change) 
	(RemoteData.remove_callback_on_change): Implementováno.

	* lib/pytis/util/util.py (Counter.current): Nová metoda.
	* lib/pytis/util/_test.py (Counter.check_it): Testuj i `current'.

	* lib/pytis/data/data.py (Data.change_number): Nová metoda.
	(Data.__init__): Nový atribut `_change_number'.
	(Data._call_on_change_callbacks): Zvy¹uj hodnotu `_change_number'.
	* lib/pytis/data/_test.py (DBDataNotification): Pøidán test
	`change_number'.

2002-07-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._validate): Vyu¾ívej
	`PresentedRow.check()'.
	(EditForm.changed): Implementováno pomocí zji¹»ování modifikace
	jednotlivých vstupních políèek.
	(EditForm._on_commit_form): Opìt vyu¾ívej `self.changed()'.
	(EditForm.init): Pokud není urèeno `self._focus_field', Zvýrazni
	namísto prvního políèka první *editovatelné* políèko.

	* lib/pytis/presentation/field.py (_Column.__init__): Nový argument a
	atribut `check'.
	(PresentedRow._process_fieldspec): Vytváøenému `_Column' pøedávej
	i `f.check()'.
	(PresentedRow.__str__): Namísto stringové reprezentace datového
	row zobraz exportované hodnoty *v¹ech* sloupcù.
	(PresentedRow.check): Nová metoda.

	* lib/pytis/form/list.py (List.select_row.set): Pozici kurzoru v gridu
	pøenastavuj pouze pokud ji¾ kurzor v gridu je.

2002-07-31  Milan Zamazal  <pdm@brailcom.org>

	* tools/pychecker (PYTHONVER): Pou¾ívej Python 2.2.

2002-07-31  Milan Zamazal  <pdm@brailcom.org>

	* tools/pychecker (PYTHONVER): Pou¾ívej Python 2.2.

2002-07-30  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Pro hodnotu
	NULL neprovádìj pøetypování (PostgreSQL to v podmínkách nemá rád).

	* lib/pytis/form/search.py (SFDialog._selected_condition): Testuj na
	None i hodnotu instance value.

	* lib/pytis/form/list.py (List._ListTable.GetAttr): Pøed získáním
	hodnoty testuj poèet øádkù.

2002-07-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.insert): Vracej dvojici.
	(MemData.insert): Zohlednìna pøedchozí zmìna.
	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.update): Úspìch testuj dle
	druhého prvku `result', ne celého `result'.
	(DBDataPostgreSQL.insert): Zohlednìna zmìna lib.data.Data.insert.
	* lib/pytis/data/_test.py: Nápodobnì.
	* lib/pytis/form/form.py (EditForm._edit_insert): Nápodobnì.
	* lib/pytis/form/list.py (List._on_line_commit): Nápodobnì.

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Nech»
	`data' smí být i lib.data.RemoteData.

	* ebas-server (_PyroResolver.get): Cachuj podle `file_name', ne
	`spec_name'.
	
2002-07-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Inicializuj atribut
	`self._initialized' na hodnotu FALSE.
	(InputField.init): Nastav `self._initialized' na TRUE.
	(InputField.initialized): Nová metoda.

	* lib/pytis/form/form.py (EditForm._on_row_change): Pøenastavuj hodnoty
	v políèkách pouze pokud jsou ji¾ inicializována.

2002-07-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.Option.init_value):
	Nový argument `force'.
	(Configuration.Option._compute_init_value): Jestli¾e volba má
	hodnotu, dej jí pøednost pøed implicitní hodnotou.
	(Configuration.__init__): Volej `init_value' s nastaveným `force'.

	* ebas (run_application): Nech» i `name_server' jako prázdný
	string znaèí lokální spu¹tìní.

	* lib/pytis/data/data.py (Data.update): Zmìnìna návratová hodnota na
	dvojici.
	(MemData.update): Zohlednìna pøedchozí zmìna.
	* lib/pytis/data/_test.py: Nápodobnì.
	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.update): Nápodobnì.
	* lib/pytis/form/form.py (EditForm._edit_update): Nápodobnì.

	* lib/pytis/form/list.py (List.select_row.find): Nenastavuj
	self._table._current_row.
	(List._ListTable.__init__): Místo nastavení `_current_row' volej
	`rewind'.
	(List._ListTable._get_row): Nový argument `autoadjust'.
	(List._ListTable.row, List._ListTable.GetValue): Vyu¾ívej tento
	argument.
	(List._on_line_commit): Zohlednìna zmìna návratové hodnoty
	lib.data.Data.update.

2002-07-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/__init__.py (list): Provádìj update globálního
	namespace i pro modul `dualform'.

2002-07-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.GetAttr): Odchytávej výjimku
	pøi získávání øádku v prázdné tabulce.
	(FilteredBrowseForm.filter): Nová tøída.
	(BrowseForm.CALL_NEW_RECORD): Nový callback.
	(BrowseForm.__init__): Nastavuj callback `CALL_NEW_RECORD' na
	metodu `self._on_new_record()'.
	(BrowseForm._on_new_record): Vracej výsledek volání
	`appl.run_form()'.
	(BrowseForm.on_command): Pøíkazy `COMMAND_NEW_RECORD' a
	`COMMAND_NEW_RECORD_COPY' neo¹etøuj pøímo voláním metody, ale
	volej callback.
	(SideBrowseForm.__init__): Zmìna poøadí argumentù.  Filtrovací
	podmínku získej ze specifikace zde.  Na konec volej
	`self.filter()' a `self.select_row(0)'.
	(List.select_row.set): Pokud není po nastavení výbìru kurzor na
	aktuálním øádku, posuò jej tam.
	(GetColLabelValue): Zobrazuj rùzný poèet ¹ipeèek podle priority
	tøídìní tohoto sloupce.
	(List._ListTable.GetAttr): Pou¾ívej `self.GetValue()' k získání
	hodnoty.
	(List._switch_sorting): Nový argument `primary'.  Pokud je primary
	pravda, nové tøídìní je pouze podle tohoto sloupce.  Pokud není
	urèen sloupec a `direction' je `SORTING_NONE', zru¹ ve¹keré tøídìní.
	(List._on_label_right): Pøidány polo¾ku menu pro primární tøídìní
	a pro =uplné zru¹ení tøídìní.
	(List._ListTable.GetAttr): Vracej None pokud je po¾adovaný `row' 
	(ListForm.OnSetFocus): Pøed voláním `self._list.SetFocus()' se
	ujisti, ¾e je `self._list' ji¾ vytvoøen.

	* lib/pytis/form/dualform.py
	(SideBrowseDualForm._create_side_form._FilteredBrowseForm._formatter):
	Zru¹eno.
	(SideBrowseDualForm._create_side_form): Namísto
	`_FilteredBrowseForm' pou¾ívej `SideBrowseDualForm'.
	(BrowseDualForm): Update dokumentace.
	(DualForm.__init__): Volej metody `_create_main_form()' a
	`_create_side_form()' pouze s argumenty `parent' a `name'.
	(DualForm._create_main_form): Nech» má metoda pouze argumenty
	`parent' a `name'.
	(DualForm._create_side_form): Nech» má metoda pouze argumenty
	`parent' a `name'.
	(SideBrowseDualForm._create_side_form): Nech» má metoda pouze
	argumenty `parent' a `name'.  Èást akcí pøesunuta do
	`SideBrowseForm.__init__()'
	(BrowseDualForm._create_main_form): Nech» má metoda pouze
	argumenty `parent' a `name'.  Nastavuj hlavnímu formuláøi callback
	`CALL_NEW_RECORD' na metodu `self._on_new_record()'.
	(BrowseDualForm._on_new_record): Nová metoda.
	(ShowDualForm._create_main_form): Nech» má metoda pouze argumenty
	`parent' a `name'.
	(DescriptiveDualForm._create_main_form): Nech» má metoda pouze
	argumenty `parent' a `name'.
	(DescriptiveDualForm._create_side_form): Nech» má metoda pouze
	argumenty `parent' a `name'.

	* lib/pytis/data/types_.py (String._validate_maxlen): Test neprovádìj,
	pokud je `self._maxlen' None.  Do chybové zprávy vkládej `value',
	ne `string'.

2002-07-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data._Operator): Pøesunuto na top level.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nech» `data'
	smí být i instancí lib.data.RemoteData.

	* lib/pytis/data/remote.py (RemoteData.add_callback_on_change)
	(RemoteData.remove_callback_on_change): Nové metody, zatím
	neimplementované.
	(_RemoteWrapper.__getstate__): Nová metoda.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type.validate_not_null):
	Pøesunuto na top-level jako `_validate_not_null'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pøedávej codebooku specifikaci spojení, ne funkci ji vracející.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql):
	Data._Operator -> _Operator.

	* ebas (gg.g): Místo `print' pou¾ívej sys.stdout.write.

	* lib/pytis/data/types_.py: Kompletnì zru¹eno `not_null'.
	(Type._shared_value_cache_counter): Nech» je instancí
	lib.util.Counter.
	(Type.validate): Pøi ukládání do cache zvedej èítaè.
	(Type._check_constraints): Nová metoda.
	(Type.validate): Pou¾ívej ji.
	(String._check_constraints): Nová metoda.
	(String._validate_maxlen): Pøi chybì Místo vracení nesmyslu
	vyvolej výjimku.
	(String.__init__): Nepøidávej do `constraints' `_validate_maxlen'.

	* ebas-server (_wrap_data_factory): Kromì obalování výsledná data
	factories i vystavuj.
	(_PyroResolver): Neobaluj data_specs, místo toho je pouze cachuj.
	(_GNAME_DATA_SPEC): Zru¹eno.
	(_GNAME_DATA_FACTORY): Nová promìnná.
	(_PyroDataFactory.__init__): Volej konstruktor originální
	DataFactory, ne té obalené.

	* lib/pytis/util/_test.py (Counter): Nová sada testù.
	
	* lib/pytis/util/configuration.py (Configuration.Option.__init__): Místo
	`Object' pou¾ívej `object'.
	
	* lib/pytis/util/util.py (Object): Zru¹eno.
	(Counter): Nová tøída.
	(_mktempdir_counter): Nech» je None.
	(mktempdir): Nech» `_mktempdir_counter' je instancí Counter.

2002-07-26  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (LayoutSpec): Úprava docstringu.
	(ViewSpec.__init__): Argument `title' nech» je povinný a na prvním
	místì.  Argument `codebooks' zru¹en.  Zpùsob zpracování argumentu
	`columns' zmìnìn a zdokumentován.
	(ViewSpec.columns): Namísto klíèového argumentu `codebook'
	pøijímej obecný identifikátor `id'.  Pokud není nalezen seznam
	sloupcú daného id, vracej hlavní seznam s identifikátorem `main'.

	* lib/pytis/form/application.py (Application._update_stack_display):
	Vyu¾ívej stringifikace na instanci formuláøe.

	* lib/pytis/form/dualform.py
	(SideBrowseDualForm._create_side_form._FilteredBrowseForm._columns):
	Nová metoda.
	(DualForm.name): Nová metoda.

	* lib/pytis/form/form.py (Form.__str__): Nová metoda.
	(Form.name): Nová metoda.

	* lib/pytis/form/inputfield.py (InputField.__init__): Inicializuj
	atribut `self._want_focus'.
	(InputField._on_idle): Pokud je nastaven `self._want_focus', volej
	`self._set_focus()'.
	(InputField._on_set_focus): Nastavuj pøíznak `self._want_focus' na
	FALSE.
	(InputField.set_focus): Implementuj metodu pouze nastavením
	pøíznaku `self._want_focus'.
	(InputField._set_focus): Nová metoda
	(GenericField.set_focus): Pøejmenováno na `_set_focus'.
	(HiddenField.set_focus): Pøejmenováno na `_set_focus'.

	* lib/pytis/form/list.py (List.select_row.set): Po vybrání øádku je¹tì
	volej `grid.MakeCellVisible()'.
	(CodeBook.run): Pøed zobrazení volej `self.focus()'.
	(CodeBook.__init__): Nech» je implicitní hodnotou argumentu `id'
	øetìzec `codebook'.

2002-07-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/command.py (List.COMMAND_LINE_SOFT_ROLLBACK): Nový
	pøíkaz.
	* lib/pytis/form/list.py (List.on_command): O¹etøuj pøíkaz
	COMMAND_LINE_SOFT_ROLLBACK.
	(List._on_line_rollback): Nový argument `soft'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Pro obzvlá¹»
	podezøelé hodnoty `precision' ho nastav na None.

2002-07-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._init_controls): Nastavuj
	`self._key_guardian' na None pouze pokud je políèko editovatelné

	* lib/pytis/form/list.py (_InputFieldCellEditor.BeginEdit): Volej
	`Enable(wx.TRUE)' na widget vstupního políèka.
	(_InputFieldCellEditor.EndEdit): Volej
	`Enable(wx.FALSE)' na widget vstupního políèka a nastav focus
	rodièovskému oknu.
	(List._ListTable.GetAttr): Nová metoda.
	(List._ListTable.GetAttr): Doplnìn komentáø.

2002-07-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/remote.py (RemoteDataFactory.create): Zru¹eno.
	(_RemoteWrapper): Nová tøída.
	(RemoteDataFactory, RemoteData): Buï jejím potomkem.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Codebooku pøedávej pouze data factory, ne data.

	* lib/pytis/data/types_.py (Codebook.__init__): Argument `data' zmìnìn
	na `data_factory', nový argument `data_factory_kwargs'.
	(Codebook._update_enumeration, Codebook._export): Zohlednìna
	pøedchozí zmìna.
	(Codebook._data): Nová metoda.

2002-07-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (ShowForm._create_form): obsah formuláøe
	pøidávej do sizeru se zapnutým rozpínáním v hlavním smìru. Volej
	`sizer.SetSizeHints(self._parent)'
	(ShowForm.OnSize): Nová metoda.

2002-07-24  Milan Zamazal  <pdm@brailcom.org>

	* tools/find-prints.sh: Pøidány skripty `ebas*'.

2002-07-24  Milan Zamazal  <pdm@brailcom.org>

	* tools/find-prints.sh: Pøidány skripty `ebas*'.

2002-07-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._init_controls): Nech»
	_key_guardian je None.

	* ebas-server: Obaluj originální DataFactory v lib.data.
	(_orig_data_factory): Nová promìnná.
	(_wrap_data_factory): Nová funkce.

	* lib/pytis/data/data.py (DataFactory.create_shared): Nová metoda.
	(DataFactory.__init__): Nový atribut `_shared_instance'.

2002-07-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._update_stack_display):
	Zobrazuj v tooltipu i názvy specifikací.

	* lib/pytis/form/list.py (ListForm.__init__): Zru¹ena nepou¾itá promìnná
	`size' a atribut `self._text'.
	(CodeBook.run): Úprava docstringu.

2002-07-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._validate): Neúspì¹nou validaci loguj.
	(EditForm._validate): Po validaci je¹tì proveï test vzájemné
	integrity dat.
	(_on_commit_form): Doèasnì zakomentován test `self.changed()'.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Nový argument
	`check'.
	(FieldSpec.check): Nová metoda.
	(PresentedRow.__setitem__): Pokou¹ej se nastavovat hodnotu v
	datovém roe pouze pokud tam daný sloupeèek je.

	* lib/pytis/form/inputfield.py (InputField.validate): Úprava formátování
	hlá¹ky v dialogu.

2002-07-22  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Místo
	`not_null' v konstruktoru typu pou¾ívej `constraints'.

	* lib/pytis/data/types_.py (Type.__init__): Zru¹en (deprecated) argument
	`not_null', nový argument `constraints'; analogicky atributy.
	(Type.__cmp__): Zohlednìna pøedchozí zmìna.
	(Type.ERRMSG_NULL_VALUE): Zru¹eno.
	(Type.not_null): Zru¹eno.
	(Type.validate): Pøidáno testování constraintù.
	(Float.__init__, String.__init__, String._validate) 
	(Enumeration.__init__, Boolean.__init__, Codebook.__init__) 
	(Sequence.__init__): Zohlednìny pøedchozí zmìny.
	(String._validate_maxlen): Nová metoda.

	* lib/pytis/data/types_.py (String.__cmp__): Vracej `result'.

	* ebas (run_application): Místo èistì vzdáleného resolveru
	pou¾ívej lokální resolver s vyu¾itím vzdáleného resolveru.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_update): Opraveny parametry
	metaných výjimek.
	(PostgreSQLStandardBindingHandler._pg_update): Doplnìno chybìjící
	_pg_query ve volání broken UPDATE.

	* lib/pytis/data/_test.py (_DBTest.setUp, _DBTest.tearDown)
	(DBDataDefaultClass.setUp): Pøidána podpora pro testování UPDATE
	na rules.
	(DBDataDefaultClass.check_view_update): Nový test.
	(DBDataDefaultClass.setUp, TutorialTest.check_it): Zohlednìna
	zmìna specifikace enumeratoru na DataFactory.
	(Float.check_precision, String.check_validation_limited)
	(String.check_cmp): Pøidána kvalifikace argumentu v konstruktoru.

2002-07-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Pokud byl
	definován `codebook', nastav implicitnì `default' funkci vracející
	prázdnou hodnotu.

	* lib/pytis/form/inputfield.py (InputField.__init__): Zru¹en atribut
	`_run_invalid_value_handler'.  Inicializuj
	`_last_validation_error'
	(InputField._validation_error_handler): Nová metoda.
	(InputField._on_idle): Pokud je nastaven atribut
	`_last_validation_error', volej `self._validation_error_handler()'
	a pøípadnì zobraz chybovou zprávu.
	(InputField._on_kill_focus): Po validaci pouze nastav atribut
	`_last_validation_error' a o víc se nestarej.
	(InputField.init): `self._initial_value' nastavuj podle
	`self.get_value()' namísto rovnou podle value kvúli mo¾ným
	transformacím uvnitø metody `_set_value()'.
	(MultiTextField._on_kill_focus): Hodnotu vrácenou metodou
	`Type.validate_partial()' ber jako instanci `ValidationError'.
	(CodeBookField._validation_error_handler): Nová metoda.
	(EnumerationField._set_value): Pøi chybì vypisuj i id políèka.

	* lib/pytis/form/form.py (EditForm.init): pou¾ívej `find()' pro nalezení
	políèka podle názvu.

	* lib/pytis/data/types_.py (Type.invalid_value_handler): Zru¹eno.
	(Codebook.validate_partial): Namísto øetìzce chybové zprávy vracej
	instanci `ValidationError'.
	(Type.ERRMSG_NULL_VALUE): Nová konstanta.
	(Type.validate): Pou¾ívej ji.
	(Codebook.default_value): Zru¹eno.

2002-07-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_update): O¹etøuj problém
	s návratovou hodnotou view.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nové
	atributy `_pdbb_command_broken_update_preselect' a
	`_pdbb_command_test_broken_update.

2002-07-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Zji¹»uj
	NOT NULL.
	(PostgreSQLStandardBindingHandler._pdbb_get_type): Nový argument
	`not_null'.
	(DBPyPgFunction._db_bindings_to_column_spec): Zohlednìna pøedchozí
	zmìna.

	* lib/pytis/data/types_.py (Type.__init__): Nová metoda.
	(Float.__init__, String.__init__, Enumeration.__init__): Volej ji.
	(Type): Buï potomkem `object'.
	(NonNull, CodebookNull): Zru¹eno.
	(Type.not_null): Nová metoda.
	(Float.__init__, Type.validate): Testuj na 'None'.
	(Type.__cmp__): Zohledni `_not_null'.
	(String.__cmp__, Enumeration.__cmp__, Sequence.__cmp__): Volej
	__cmp__ pøedka.

2002-07-19  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/pripisuj.py: Nultá verze.

2002-07-19  Pavel Hanak  <hanak@brailcom.cz>

	* scripts/pripisuj.py: Nultá verze.

2002-07-18  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Nový atribut
	`self._run_invalid_value_handler'.
	(InputField._init_controls): O¹etøuj `EVT_IDLE' voláním metody
	`_on_idle()'.
	(InputField._on_idle): Nová metoda.
	(InputField._on_kill_focus): Nastavuj pøíznak
	`self._run_invalid_value_handler'.
	(MultiTextField._on_kill_focus): Pou¾ívej metodu
	`Type.validate_partial()', namísto `Type.is_valid()'.

	* lib/pytis/form/form.py (EditForm.__init__): Nový argument `focus_field'.
	(EditForm.init): Pokud je nastaveno `self.focus_field', najdi jej
	a volej `set_focus()'.

	* lib/pytis/data/types_.py (Type.invalid_value_handler): Nová metoda.
	(Codebook.ERRMSG_PARTIAL_VALIDATION): Nová konstanta.
	(Codebook.is_valid): Zru¹eno (nahrazeno metodou `validate_partial()').
	(Codebook.validate_partial): Nová metoda.
	(Codebook._validate): Update dokumentace.

2002-07-17  Milan Zamazal  <pdm@brailcom.org>

	* ebas (run_application): Importuj lib.data.

	* lib/pytis/data/__init__.py: Pøidáno `remote'.
	* lib/pytis/data/remote.py: Nový soubor.

	* ebas-server (go): Zaregistruj nové naming groups.
	(RemoteData, RemoteDataFactory): Pøesunuto do lib.data.remote.
	(PyroDataFactory): Pøejmenováno na _PyroDataFactory.
	(PyroResolver): Pøejmenováno na _PyroResolver.
	(_GNAME_DATA, _GNAME_DATA_SPEC, _NAME_RESOLVER): Nové konstanty.

2002-07-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (DataFactory): Buï potomkem `object'.

	* ebas-server: Neimportuj `imp'.
	(_pyro_ns, _pyro_daemon): Nové promìnné.
	(go): Pou¾ívej ji.
	(PyroResolver.get_object): Nová metoda.
	(PyroDataFactory): Nová tøída.
	(RemoteDataFactory): Nová tøída.
	(RemoteData): Nová tøída.

2002-07-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (Form.__init__): Pøi výjimce pøedávej jméno
	po¾adované specifikace.

2002-07-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (DataFactory): Nová tøída.
	* lib/pytis/data/dbdata.py (DBColumnBinding.__init__): Nech»
	`enumerator' je `DataFactory'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Vytváøej instanci datového objektu z `enumerator'.
	(DBColumnBinding.__init__): `type_' smí být i specifikace
	Codebook.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Zohlednìna pøedchozí zmìna.
	* lib/pytis/data/_test.py (DataFactory): Nová sada testù.
	* lib/pytis/form/spec.py: DataSpec -> DataFactory.
	(DataSpec): Zru¹eno.
	* lib/pytis/form/inputfield.py (ListField._create_controls): DataSpec ->
	DataFactory.
	(ListField._create_controls): Nápodobnì.
	* lib/pytis/form/form.py (Form.__init__): DataSpec -> DataFactory.
	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table) 
	(LoutFormatter._format_data_item): DataSpec -> DataFactory.

2002-07-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/log.py (Logger.__init__): Místo config.application_name
	pou¾ívej natvrdo 'ebas'.

	* lib/pytis/form/form.py (Form.__init__): Zakomentován assert na typ
	`resolver'.

	* lib/pytis/form/screen.py (Menu.items): Nová metoda.
	(MenuBar.__init__): Pøidán test na duplicitní horké klávesy.
	(MItem._used_hotkeys): Zru¹eno.
	(MItem.__init__): Zru¹en test na duplicitní horké klávesy.

	* lib/pytis/form/command.py (Command.__cmp__): Nová metoda.

	* ebas-server: Dota¾eno do první prototypové verze.
	* ebas (run_application): Pøidána podpora pro práci pøes Pyro
	server.
	(_usage): Pøidána volba `name-server'.
	(_install_gettext): Místo config.application_name pou¾ívej natvrdo
	'ebas'.

	* lib/pytis/util/configuration.py
	(Configuration._Option_name_server_host): Pøejmenováno na
	`_Option_name_server'.
	(Configuration._Option_name_server.default): Vracej None.
	(Configuration._Option_name_server.long_option): Nová metoda.
	(Configuration._Option_application_name): Zru¹eno.
	* config/config.py: Pøegenerováno.
	* config/config_ebas.py (application_name): Zru¹eno.
	* config/config_isas.py (application_name): Zru¹eno.
2002-07-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application._init): Zru¹eno.
	(Application._spec): Nová metoda.
	(Application._title, Application._menu, Application._buttons) 
	(Application._status_fields): Vyu¾ívej ji.
	(Application._command_keys, Application._default_font_coding):
	Nové specifikaèní metody.
	(Application.OnInit): Nevolej `_init', vyu¾ívej nové specifikaèní
	metody.
	(run_application): Nepøebírej aplikaèní tøídu z resolveru.
	* lib/pytis/data/types_.py (Value.__cmp__): Pøed voláním
	`compare_object' porovnej pøímo typy.

	* lib/pytis/presentation/field.py (PresentedRow.__str__): Nová metoda.

	* lib/pytis/util/util.py (sameclass): Nový argument `strict'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.update): Pøi existujícím
	øádku loguj `key', ne None.

	* lib/pytis/form/inputfield.py (CheckBoxField._create_controls):
	Opraveno formátování.
	(CheckBoxField._create_controls, ChoiceField._create_controls) 
	(RadioBoxField._create_controls, ListBoxField._create_controls):
	Nastav callback zmìny políèka.

	* lib/pytis/util/resolver.py (Resolver): Buï potomkem `object'.

	* lib/pytis/form/application.py (Application.OnInit): Vyhozeno pøiøazení
	`_resolver'.
	(run_application): Místo `resolver.get' pou¾ívej
	`resolver.get_object'.

2002-07-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.get): Opravy docstringu.
	(Resolver.load_module): Pøejmenováno na `_get_module'.
	(Resolver.get): Zohlednìna pøedchozí zmìna.
	(Resolver.get_object): Nová metoda.
	(Resolver.get): Vyu¾ívej ji.
	(Resolver): Atribut `_spec', resp. `_module' pøejmenován na
	`_spec_cache', resp. `_module_cache'; nový atribut
	`_object_cache'.
	(Resolver.get_instance): Nová metoda.

	* lib/pytis/util/configuration.py
	(Configuration._Option_name_server_host): Nová volba.

	* ebas-server: Nový skript.

	* lib/pytis/form/application.py (run_application): Nový argument
	`resolver'.  Neprovádìj "ruèní" zpracování config.def_dir.
	(run_application): Místo resolver.load_module pou¾ívej
	resolver.get.

	* lib/pytis/data/data.py (Data): Buï potomkem `object'.

2002-07-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SortingDialog.__init__): Nový argument
	`sorting' a atribut `_sorting'.
	(SortingDialog._ASCENDING): Pøejmenováno na _ASCENDENT.
	(SortingDialog._DESCENDING): Pøejmenováno na _DESCENDANT.
	(SortingDialog._CANCEL_BUTTON): Zmìna textu.
	(SortingDialog): Upraveno pro vícesloupcové tøídìní.

	* lib/pytis/util/resolver.py (Resolver.load_module, Resolver.get):
	Doplnìny chybìjící informace v docstringu.
	(ResolverError): Buï potomkem Exception místo ProgramError.
	(ResolverFileError.__init__, ResolverSpecError.__init__): Volej
	konstruktor pøedka, ne ProgramError.

	* lib/pytis/util/util.py (position, find): Oprava docstringu.

	* lib/pytis/form/list.py (List._ListTable.__init__): Argument `sort',
	resp. atribut `_sort', pøejmenován na `sorting', resp. `_sorting'.
	(List._create_grid): Zohlednìna pøedchozí zmìna.
	(List._ListTable.GetColLabelValue): Zohlednìna pøedchozí zmìna a
	zobecnìno pro vícesloupcové tøídìní.
	(List.__init__): Nový argument `default_sorting'.  Formální opravy
	docstringu.
	(ListForm.__init__): Pøedávej do List `default_sorting' zji¹tìné
	ze specifikace.
	(List._switch_sorting): Pøidána podpora pro vícesloupcové tøídìní,
	opraveny rùzné nesmysly.

2002-06-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver._load_module): Pøejmenováno na
	`load_module'.
	(Resolver.get): Zohlednìna pøedchozí zmìna.

	* lib/pytis/form/application.py (run_application): Nová funkce.
	(Application.__init__): Nový argument `resolver'.
	(Application.OnInit): Zru¹en atribut `_resolver_'.
	(Application._resolver): Zru¹eno, místo metody je nový atribut.
	(Application._resolver_directory): Zru¹eno.
	(Application.resolver): Zohlednìny pøedchozí zmìny.

	* ebas (run_application): Místo lib.form.application importuj
	lib.form.  Místo vytváøení a spou¹tìní aplikace z `defs' volej
	lib.form.run_application.

2002-06-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter.preview) 
	(LoutFormatter.printout): Metoda uzavírá `stream' (pouze update
	docstringu).

	* lib/pytis/form/output.py (PrintForm._run_formatter): Nikdy neuzavírej
	`stream'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_update): Odstranìn
	zapomenutý øádek.

2002-06-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_get_type): TODO poznámka
	zmìnìna na obyèejnou poznámku.
	(DBDataPostgreSQL._pg_value): Odstranìna TODO poznámka.
	(DBDataPyPgSQL._PgNotifier._listen): Pøi chybách si oddychuj,
	s prodlu¾ujícími se intervaly.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec) 
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql) 
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands) 
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql) 
	(PostgreSQLStandardBindingHandler._pg_search): Odstranìny TODO
	poznámky, kosmetické úpravy.

	* lib/pytis/form/event.py (UserBreakException.__init__): Vyu¾ívej
	argumentu `beep_' funkce `message'.
	(_system_callback_*): Nové globální promìnné.
	(wx_callback.process_event): Pøedìláno ve snaze uèinit to
	dostateènì thread-safe.
	
2002-06-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowsableShowForm._on_next_record): Vyu¾ívej
	argumentu `beep_' funkce `message'.

	* lib/pytis/form/application.py (Application.on_command): Vyu¾ívej
	argumentu `beep_' funkce `message'.

	* lib/pytis/form/list.py (List._on_select_cell): Volej pøímo
	`_select_cell_command', neprovádìj zpracování pøes vyvolání
	pøíkazu.
	
	* lib/pytis/form/event.py (interrupt_watcher.watcher): Nenuluj `lock'.

2002-06-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (UserBreakException.__init__): Místo `super_'
	pou¾ívej `super'.
	(interrupt_watcher.watcher): Vyu¾ívej `microsleep'.
	(interrupt_watcher): Synchronizaci na inicializaci zpracování
	pøeru¹ení provádìj prostøednictvím zámku.

	* lib/pytis/form/application.py (message): Loguj pouze pokud je
	`message' nebo `data' neprázdné.

	* lib/pytis/form/list.py (List): Buï potomkem Refreshable.

	* lib/pytis/form/form.py (Refreshable): Nová tøída.
	(EditForm._signal_update): Místo na existenci `refresh' testuj zda
	je okno instancí Refreshable.
	(PopupEditForm.message): Oprava formátování.

	* lib/pytis/form/_test.py: Odstranìny skoro v¹echny (nefunkèní) testy.

	* lib/pytis/form/screen.py (ButtonBar): Odstranìna TODO poznámka.
	(StatusBar.message): Timeru pøedávej zadaný `timeout', ne 3.

	* lib/pytis/data/_test.py (DBDataDefaultClass.setUp): Nepou¾ívej ji¾
	více DBMultiColumnBinding.

	* lib/pytis/data/dbdata.py (DBMultiColumnBinding): Zru¹eno.
	(PostgreSQLStandardBindingHandler._pdbb_btabcol) 
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Zohlednìna pøedchozí zmìna.

2002-06-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.run): *_BROKEN nastaveno na
	FALSE.
	(Application.run.log_wrapper): Pøi THREADING_BROKEN volej wxYield
	jen pro hlavní thread.

	* lib/pytis/util/util.py (Popen.__init__): Obaluj celý synovský process
	do try...finally.

	* lib/pytis/form/output.py (PrintForm._on_print_): Vyu¾ívej Popen.

2002-06-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._lout): Obnoveno
	cachování lout zdrojáku.

	* lib/pytis/form/output.py (PrintForm._zoom): Do
	`_start_postscript_viewer' pøedávej `zoom' podìlené 100.
	(PrintForm._zoom, PrintForm.Close): Ignoruj IOError pøi uzavírání
	streamu.

2002-06-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._lout): Nastavení
	`release_lock' pøi chybì lout pøesunuto k uvolnìní zámku.

2002-06-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._lout): Pøepracováno
	s vyu¾itím lib.util.Popen.

	* lib/pytis/form/screen.py (microsleep): Nová funkce.

	* lib/pytis/form/output.py (_Ghostscript._start_gs): Nová metoda.
	(_Ghostscript.__init__): Volej ji místo `_render'.
	(_Ghostscript.__del__): Uzavírej `_stream' a èekej na dokonèení
	jeho procesu.
	(_Ghostscript._render): Zru¹eno.
	(_Ghostscript.input_stream): Nová metoda.
	(_Ghostscript.page_image): Jedná-li se o první stránku, èekej na
	její vygenerování.  U ostatních stránek vracej None, pokud stránka
	je¹tì není dokonèena.  Doplnìno logování.
	(PostscriptViewer.ps_input_stream): Nová metoda.
	(PrintForm._create_controls, PrintForm._zoom): Do `_run_formatter'
	pøedávej místo vlastnoruènì vytváøené roury stream vytvoøený
	postscriptovou prohlí¾eèkou.
	(PrintForm._show_page): Pokud
	(PostscriptViewer.show_page): Jestli¾e výstup nemá ¾ádnou stránku,
	vra» 0.  Èekej na vyrenderování alespoò první stránky.
	(PrintForm._on_idle): Vyu¾ívej funkci `micro_sleep'.
	(PostscriptViewer.__init__): Nezobrazuj první stránku.
	(_Ghostscript.finished): Testuj ukonèení gs procesu.
	(_Ghostscript.number_of_pages): Zda je proces ukonèen zji¹»uj pøed
	zji¹»ováním poètu stránek.  Opraveno zji¹»ování poètu stránek.
	(_Ghostscript.__init__): Nech» `_number_of_pages' je dvojice.
	(PostscriptViewer.show_page): Nastavuj scrollbars.
	(PostscriptViewer.__init__): Nenastavuj scrollbars.
	(PrintForm._start_postscript_viewer): Nová metoda.
	(PrintForm._create_controls, PrintForm._zoom): Vyu¾ívej ji.
	(PrintForm._run_formatter): Uzavøení streamu obaleno odchytnutím
	IOError.

	* lib/pytis/util/_test.py (Popen): Nová sada testù.
	(DevNullStream): Nová sada testù.

	* lib/pytis/util/util.py (Popen): Nová tøída.
	(dev_null_stream): Nová funkce.

2002-06-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_update_many) 
	(DBDataDefaultClass.check_delete_many): Nové testy.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.delete_many): Nová metoda.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Z `_pdbb_command_update' a `_pdbb_command_delete' odstranìno
	vlo¾ení ¹ablony klíèové podmínky.
	(DBDataPostgreSQL._pg_key_condition): Nová metoda.
	(DBDataPostgreSQL._pg_delete): Místo klíèe má za argument
	podmínku.
	(DBDataPostgreSQL.delete)
	(PostgreSQLStandardBindingHandler._pg_delete): Zohlednìna
	pøedchozí zmìna.
	(PostgreSQLStandardBindingHandler._pg_delete): Vracej skuteèný
	poèet smazaných øádkù.
	(DBDataPostgreSQL.update_many): Nová metoda.
	(DBDataPostgreSQL._pg_update): Místo klíèe je argumentem
	podmínka.  Vracej poèet updatovaných øádkù.
	(PostgreSQLStandardBindingHandler._pg_update) 
	(DBDataPostgreSQL.update): Zohlednìna pøedchozí zmìna.
	(DBDataPostgreSQL.update): Odstranìny zmatky a chyby související
	s ordering.

	* lib/pytis/data/data.py (Data.delete_many): Nová metoda.
	(Data.update_many): Nová metoda.

2002-06-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm.__init__): Nedokumentuj zdìdìné
	argumenty, odkazuj se na dokumentaci konstruktoru nadtøídy.
	(PopupEditForm.__init__): Argumenty pøedávej pomocí '*args' a
	'**kwargs'.

2002-06-05  Petr Malivanek  <malivanek@akont.cz>

	* lib/pytis/form/list.py (List._on_handled_command): Pøedávej handleru
	také 'self._data' jako argument. Loguj.
	(List._on_handled_command): Po handleru volej 'refresh()'.

	* lib/pytis/form/application.py (Application.run_form): Formuláø
	vytváøej pomocí 'apply()', aby bylo mo¾no správnì pøedat název.

2002-06-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py: Oprava pøeklepu v docstringu.

	* lib/pytis/form/output.py: V¹ude doplnìno logování.
	(PrintForm._on_widget_key): ^M -> Enter.

	* lib/pytis/output/formatter.py (LoutFormatter._lout): `in_'
	pøejmenováno na `lout'.
	(LoutFormatter._lout): Uzavírej streams vytvoøené pøes popen2.

	* lib/pytis/util/util.py (Pipe.close): Ignoruj výjimky pøi uzavírání CC
	streamù.
	(copy_stream): Neloguj ve¹kerá naètená data.

2002-06-04  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (_CellEditor.__init__): Nový argument
	'guardian'. Ukládej jej do 'self._guardian'.
	(_InputFieldCellEditor.Create): Funkci 'resolve()' pøedávej
	'self._guardian' jako argument 'guardian'. Nepøedávej ji¾
	neexistující argument 'form'.
	(List._create_grid): Konstruktru '_InputFieldCellEditor' pøedávej
	self, jako argument 'guardian'.
	(List.on_key_down): Nový nepovinný argument 'dont_skip'. Pøedávej
	jej volání nadøazeného 'KeyHandler'u.
	(CodeBook.__init__): Nový nepovinný argument
	'select_row'. Pøedávej jej volání konstruktoru rodiè. tøídy.

	* lib/pytis/form/form.py (EditForm._pack_fields): Funkci 'resolve()'
	pøedávej 'self' jako argumenty 'parent' i 'guardian'.

	* lib/pytis/form/inputfield.py (resolve): Zru¹en argument 'form'. Nový
	nepovinný argument guardian.
	(InputField.__init__): Zru¹en argument 'form'. Nový nepovinný
	argument guardian.
	(_TextValidator.__init__): Zru¹en argument 'maxlen'. Argument
	'filter' nech» je povinný.
	(_TextValidator.Clone): Nepøedávej argument 'maxlen'.
	(_TextValidator._on_char): Neøe¹ pøekroèení maximální délky.
	(InputField.__init__): Nenastavuj atributy 'self._ctrl_parent' a
	'self._form'. Nastavuj 'self._guardian'.
	(InputField._create_label): 'self._ctrl_parent' -> 'self._parent'.
	(InputField.guardian): Namísto 'self._form' vracej
	'self._guardian'.
	(InputField.validate): Namísto pøímého vyvolání dialogu vyu¾ívej
	'Application.dialog()'.
	(Unlabeled._create_label): 'self._ctrl_parent' -> 'self._parent'.
	(TextField._create_text_control): 'self._ctrl_parent' ->
	'self._parent'. Vyu¾ívej 'control.SetMaxLength()'. Namísto volání
	'self._set_validator()' vytváøej '_TextValidator' pøímo. Jeho
	konstruktoru nepøedávej argument 'maxlen'.
	(TextField._set_validator): Zru¹eno.
	(CheckBoxField._create_controls): 'self._ctrl_parent' ->
	'self._parent'.
	(ChoiceField._create_controls): 'self._ctrl_parent' ->
	'self._parent'.
	(RadioBoxField._create_controls): 'self._ctrl_parent' ->
	'self._parent'.
	(ListBoxField._create_controls): 'self._ctrl_parent' ->
	'self._parent'.
	(Invocable._create_button): 'self._ctrl_parent' -> 'self._parent'.
	(DateField._on_invoke_selection): Namísto pøímého vytváøení
	kalendáøe vyu¾ívej 'Application.dialog()'.
	(InlineMultiTextField._create_controls): O¹etøi pøípad, kdy jeden
	z prvkú sekvence vrácené 'self._maxlen()' je 'None'.
	(InlineMultiTextField._number_of_values): Pøejmenováno na
	'_number_of_fields'.
	(InlineMultiTextField.get_value): Kosmetické úpravy.
	(InlineMultiTextField._set_value): Pokud argumentem není sekvence,
	nastav hodnotu pøímo.
	(CodeBookField._create_widget): 'self._ctrl_parent' ->
	'self._parent'.
	(CodeBookField._on_invoke_selection): Namísto pøímého vytváøení
	èíselníku volej 'Application.run_form()'.
	(ListField._create_controls): Resolver získej pomocí
	'lib.form.application._application.resolver()'.
	(ListField._create_controls): 'self._ctrl_parent' ->
	'self._parent'.

	* lib/pytis/form/application.py (Application.run_form): Pøidáno mapování
	pro akci 'codebook'.
	(Application.dialog): Pokus se získat rodièe aktuálního okna jako
	rodièe dialogu a teprve potom pou¾ij 'self._frame'.
	(Application.run_form): Jako wx rodièe nejprve zkus dosadit rodièe
	aktuálního okna z framestacku a teprve potom pou¾ij 'self._frame'.

	* lib/pytis/form/dialog.py (GenericDialog.on_command): Nová metoda
	o¹etøující pøíkaz 'Application.COMMAND_LEAVE_FORM'.

2002-06-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (copy_stream): Stream uzavírej, je-li to
	po¾adováno, za v¹ech okolností.
	(copy_stream): Pøi spu¹tìní v threadu odchytávej v¹echny výjimky.

	* lib/pytis/form/output.py (_Ghostscript._render.feedgs): Nastavuj
	`_finished' na pravdu za v¹ech okolností.
	(_Ghostscript._render.feedgs): Odstranìno kopírování argumentù.
	(PrintForm._run_formatter): Stream uzavírej za v¹ech okolností.

	* lib/pytis/form/event.py (wx_callback.process_event): Pro u¾ivatelskou
	událost volej `message'.
	(_is_user_event): Mezi u¾ivatelské události pøidáno
	wxCommandEventPtr.

	* lib/pytis/form/application.py (Application.on_command): Nevolej
	`message'.

2002-06-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.popup_form): Zru¹eno.

	* lib/pytis/form/inputfield.py (ListField._invoke_edit_form): Zru¹eno.
	(ListField._invoke_browse_form): Zru¹eno.
	(ListField.on_command): Namísto metod '_invoke_edit_form()' a
	'_invoke_browse_form()' volej pøímo Appication.run_form()'.

	* lib/pytis/form/dualform.py (DualForm.__init__): Inicializuj atribut
	'self._sash_position'.
	(DualForm.OnSize): Vyu¾ívej atribut 'self._sash_position'.
	(ShowDualForm.__init__): Kosmetická úprava.
	(ShowDualForm._create_main_form): Inicializuj atribut
	'self._sash_position'.
	(ShowDualForm.on_command): Zru¹eno.
	(ShowDualForm.OnSize): Zru¹eno.
	(DescriptiveDualForm._create_side_form): Inicializuj atribut
	'self._sash_position'.
	(DescriptiveDualForm.OnSize): Zru¹eno.

2002-05-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.on_command): Zpracovávej
	COMMAND_BREAK.

	* lib/pytis/form/output.py (PrintForm._show_page): Pøi zji¹tìní
	definitivního poètu stránek oznam konec formátování pøes
	`message'.

	* lib/pytis/output/formatter.py (LoutFormatter._lout.p): Zru¹eno
	pøedávání argumentù.  Pøi pøeru¹ení uzavírej `out'.

2002-05-31  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.run_form): Zru¹en argument
	'other_name'.  Pøidán argument '*args'.
	(Application.run_form): Mapování upraveno podle nového významu
	tøíd, pøidámo mapování pro tiskové formuláøe.
	(Application.run_form): Loguj také argumenty formuláøe.
	(Application.popup_form): Zakomentováno nastavení callbacku pro
	'BrowseForm'.

	* lib/pytis/form/command.py: Nový pøíkaz
	'BrowseForm.COMMAND_RECORD_EDIT'.  Pøíkazy 'EditForm' související
	s pohybem po záznamech nech» patøí tøídì 'BrowsableShowForm'.

	* lib/pytis/form/dualform.py (DualForm.__init__): Zapamatuj si jméno
	vedlej¹ího formuláøe v atributu 'self._side_name'.
	(BrowseDualForm._create_main_form): Nastavuj 'CALL_ACTIVATION' na
	'self._on_show_record'.
	(BrowseDualForm._on_show_record): Nová metoda.
	(EditDualForm): Pøejmenováno na 'ShowDualForm'.
	(ShowDualForm.__init__): Oprava pøeklepu v názvu argumentu.
	'EditDualForm' -> 'ShowDualForm'.  Nevolej
	'self._main_form.init()'.
	(ShowDualForm._create_main_form): Namísto 'EditForm' pou¾ívej
	'BrowsableShowForm'.

	* lib/pytis/form/screen.py (Menu.create.callback): Nepøedávej lokální
	promìnné do lambda funkce.

	* lib/pytis/form/list.py (List.is_edited): Nová metoda.
	(ListForm._popup_menu): Vra» prázdný tuple namísto None.
	(ListForm.set_callback): Pokud nejde o callback listu, øedávej jej
	rodièovské tøídì.
	(CodeBook.__init__): Namísto callbacku 'CALL_ALTERNATE_ACTIVATION'
	vyu¾ívej 'CALL_ACTIVATION' a volej 'self._on_activation'
	(CodeBook._popup_menu): Nová metoda.
	(CodeBook._on_selection): Pøejmenováno na '_on_activation'
	(BrowseForm): Doplnìna dokumentace.
	(BrowseForm.CALL_EDIT_RECORD): Nový callback.
	(BrowseForm.__init__): Zmìna vyu¾ití callbackù, vyu¾ívej také nový
	callback 'CALL_EDIT_RECORD'.
	(BrowseForm._popup_menu): Na zaèátek menu také pøidávej polo¾ky
	definované rodièovskou tøídou.
	(BrowseForm._on_new_record): Doplnìno TODO.
	(BrowseForm._on_edit_form): Pøejmenováno na
	'_on_edit_record'. Nevytváøej instanci pøímo, ale vyu¾ívej
	'Application.run_form()'.
	(BrowseForm._on_show_record): Nová metoda.
	(BrowseForm._on_descr_record): Nová metoda.
	(BrowseForm.on_show_details): Zru¹eno.
	(BrowseForm._on_print_): Nevytváøej instanci pøímo, ale vyu¾ívej
	'Application.run_form()'.
	(BrowseForm.on_command): O¹etøuj 'BrowseForm.COMMAND_RECORD_EDIT'
	voláním callbacku 'CALL_EDIT_RECORD'.

	* lib/pytis/form/inputfield.py (InputField.__init__): Volej
	'CallbackHandler.__init__()' zde.
	(InputField._init_controls): Nevolej 'CallbackHandler.__init__()'
	zde.
	(InputField._on_kill_focus): Validaci neprovádìj, pokud políèko
	není editovatelné.
	(MultiTextField._on_kill_focus): Èásteènou validaci neprovádìj,
	pokud políèko není editovatelné.

	* lib/pytis/form/form.py (EditForm): V¹e, co se týká pohybu po
	záznamech, vyhledávání, tøídìní a filtrace pøesunuto do nové tøídy
	'BrowsableShowForm'.
	(EditForm.__init__): Neinicializuj atributy 'self._search_dialog'
	a 'self._filter_dialog'.  Doplnìn komentáø.  Pokud wx rodièem není
	'wx.wxDialog', volej 'self.init()' explicitnì, namísto nastavování
	callbacku.
	(EditForm.init): Upøesnìní komentáøù.
	(EditForm._signal_update, EditForm._on_search)
	(EditForm._on_select_filter, EditForm._on_sort_column)
	(EditForm._on_next_record, EditForm._on_set_row): Pøesunuto do
	'BrowsableShowForm'.
	(EditForm._find_row.find_row): Nepøedávej lokální promìnné.
	(EditForm.on_ui_event): O¹etøení 'List.UI_EXISTS_CONDITION'
	pøesunuto do 'BrowsableShowForm'.
	(EditForm.on_command): Neo¹etøuj pøíkazy týkající se navigace.
	(BrowsableShowForm): Nová tøída.

2002-05-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.on_command): Zru¹ena
	logovací hlá¹ka "wow".

	* lib/pytis/form/screen.py (KeyHandler._maybe_invoke_command): Doplnìna
	dal¹í logovací hlá¹ení.

	* lib/pytis/data/_test.py (DBFunction): Odladìno.
	(DBMultiData.check_select_fetch_direction): Pøedefinování
	podìdìného testu.

	* lib/pytis/data/dbdata.py (DBPyPgFunction): Dokonèeno.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec.gettype):
	Zmìnìno na metodu `_pdbb_get_type' a zmìnìny argumenty.
	(PostgreSQLStandardBindingHandler._pdbb_get_table_type): Nová
	metoda.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Zohlednìny pøedchozí zmìny.
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	Zru¹eno explicitní pøedávání promìnných.

2002-05-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/__init__.py: Importuj modul 'dualform'.

	* lib/pytis/form/form.py: Úprava dokumentace v souvislosti s oddìlením
	kódu duálních formuláøù do samostatného modulu.
	(EditForm.on_ui_event): Na list odkazuj pøímo (ne 'lib.form.List').
	(DualForm, SideBrowseDualForm, BrowseDualForm, EditDualForm) 
	(DescriptiveDualForm): Pøesunuto do nového modulu 'dualform'.

	* lib/pytis/form/list.py (_InputFieldCellEditor.__init__): Inicializuj
	'self._callbacks'
	(_InputFieldCellEditor.Create): Nastav vytvoøené instanci
	'InputField' callbacky ulo¾ené v 'self._callbacks'.
	(_InputFieldCellEditor.set_callback): Nová metoda.
	(List._create_grid): Nastav editoru callbacky.

	* lib/pytis/form/inputfield.py (InputField.CALL_COMMIT_FIELD): Úprava
	docstringu.

2002-05-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBFunction): Nová sada testù.
	(DBCounter): Pøidáno do `tests'.

	* lib/pytis/data/data.py: Do docstringu doplnìn odkaz na tøídy Counter a
	Function.
	(Function): Nová tøída.
	(Row.__init__): Odstranìny specifikátory modulu `types_'
	v docstringu.
	(Data.__init__): Do chybového hlá¹ení assertu sloupcù pøidáno
	`columns'.

	* lib/pytis/data/dbdata.py (DBCounterDefaultClass): Zru¹eno.
	(DBCounterDefault): Hodnota zmìnìna na DBPyPgCounter.
	(DBFunctionDefault): Nová globální promìnná.
	(DBPyPgFunction): Nová tøída.

	* lib/pytis/form/screen.py (KeyHandler._init_commands): Nová metoda.
	(KeyHandler._maybe_invoke_command, KeyHandler.on_key_down):
	Pou¾ívej ji.

	* lib/pytis/form/application.py (Application.run): Místo v Pythonu 2.2
	zcela nefunkèního obalování funkce `log' nastavuj logovací hook.

	* lib/pytis/util/log.py (LoggingInterface): Nová tøída.
	(log): Pøesunuto do LoggingInterface jako __call__.
	(log): Nová globální promìnná.

2002-05-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField): Doplnìna dokumentace
	týkající se 'CallbackHandler'.
	(InputField.CALL_LEAVE_FIELD, InputField.CALL_COMMIT_FIELD)
	(InputField.CALL_FIELD_CHANGE, InputField.CALL_SKIP_NAVIGATION):
	Nové callbackové konstanty.
	(InputField.__init__): Update komentáøe.
	(InputField.on_command): O¹etøi pøíkazy 'COMMAND_COMMIT_FIELD' a
	'COMMAND_LEAVE_FIELD' voláním patøièných callbackù.
	(InputField._on_change): Namísto pøímého volání metody
	'field_change()' formuláøe volej pouze callback
	'CALL_FIELD_CHANGE'.
	(InputField._skip_navigation): Zru¹eno.
	(Invocable._create_widget): Namísto metody '_skip_navigation()'
	volej callback 'CALL_SKIP_NAVIGATION'.
	(CodeBookField._create_widget): Namísto metody '_skip_navigation()'
	volej callback 'CALL_SKIP_NAVIGATION'.

	* lib/pytis/form/form.py (Form._on_leave_form): Nech» je argument
	'event' nepovinný.
	(PopupForm._on_leave_form): Nech» je argument 'event' nepovinný.
	(EditForm._pack_fields): Nastav vytvoøenému políèku callbacky.
	(EditForm.field_change): Pøejmenováno na '_field_change()'.
	(EditForm.navigate): Pøejmenováno na '_navigate'.
	(EditForm.on_command): Volej 'self._on_leave_form()' bez
	argumentu. 'navigate' -> '_navigate'.
	(PopupEditForm.message): Nepøidávej mezeru pøed text zprávy.

	* lib/pytis/form/screen.py (CallbackHandler._run_callback): Pokud nebyla
	funkce pro daný callback nastavena, vracej FALSE, jinak TRUE.
	(KeyHandler._maybe_invoke_command): Testuj, jestli je nastaveno
	'self._commands'.

2002-05-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm.__init__): Nový argument `new' a
	atribut `_new'.
	(EditForm._on_commit_form): Update x insert rozhoduj dle `_new',
	ne `_key'.
	(PopupEditForm.__init__): Nový argument `new'.

	* lib/pytis/util/_test.py (Classes.check_public_attributes): Porovnávej
	výsledek bez ohledu na poøadí prvkù.

	* lib/pytis/util/util.py (public_attributes): Odstraòuj duplikáty.

	* lib/pytis/form/list.py (List): `_filterflag' pøejmenováno na
	`_filter_flag'.
	(List.refresh): Reset argument `filterflag' pøejmenován na
	`filter_flag'.
	(List._on_filter): `filterflag' -> `filter_flag'.
	(List.current_key): Nová metoda.
	(BrowseForm._on_new_record): Pøidána podpora pro kopii øádku.
	(BrowseForm.on_command): Vracej TRUE i pro nové pøíkazy.

2002-05-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (Sameclass.check_function): Testování upraveno
	pro Python 2.2.
	(Classes.check_public_attributes): K assert pøidána chybová
	hlá¹ka.

	* lib/pytis/form/screen.py (CallbackHandler._run_callback): Ponecháno
	pouze v jediném exempláøi.
	(CallbackHandler): Opravy formátování.
	(_Keymap): Zru¹en nemístný docstring.
	(KeyHandler.on_key_down): Doplnìní docstringu.
	(KeyHandler): Doplnìní docstringu.

2002-05-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.__init__): Nastavuj `_parent' je¹tì pøed
	voláním konstruktoru KeyHandler.

2002-05-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/search.py (SFDialog.__init__): 'super' -> 'super_'.
	(SFDialog.run): 'super' -> 'super_'.
	(SearchDialog.run): 'super' -> 'super_'.
	(FilterDialog.run): 'super' -> 'super_'.
	(SortingDialog.__init__): 'super' -> 'super_'.

	* lib/pytis/form/screen.py (_Keymap.__init__): Doplnìn docstring.
	(CallbackHandler): Nová tøída.

	* lib/pytis/form/output.py (PrintForm.on_command): 'super' -> 'super_'.
	(PrintForm.run): 'super' -> 'super_'.

	* lib/pytis/form/inputfield.py (InputField): Nech» tøída dìdí také
	'CallbackHandler'.
	(InputField._init_controls): Volej 'CallbackHandler.__init__()'.
	(MultiTextField._on_kill_focus): 'super' -> 'super_'.

	* lib/pytis/form/form.py (Form): Nech» tøída dìdí také
	'CallbackHandler'.
	(Form.__init__): Volej 'CallbackHandler.__init__()'.
	(Form._run_callback): Zru¹eno.
	(Form.set_callback): Zru¹eno.
	(EditForm.__init__): 'super' -> 'super_'.
	(DualForm.__init__): 'super' -> 'super_'.
	(SideBrowseDualForm.Close): 'super' -> 'super_'.
	(BrowseDualForm.__init__): 'super' -> 'super_'.
	(EditDualForm.__init__): 'super' -> 'super_'.
	(DescriptiveDualForm.__init__): 'super' -> 'super_'.

	* lib/pytis/form/event.py (UserBreakException.__init__): 'super' -> 'super_'.

	* lib/pytis/form/dialog.py (GenericDialog.__init__): 'super' -> 'super_'.
	(Message.__init__): 'super' -> 'super_'.
	(Warning.__init__): 'super' -> 'super_'.
	(Error.__init__): 'super' -> 'super_'.
	(MultiQuestion.__init__): 'super' -> 'super_'.
	(Question.__init__): 'super' -> 'super_'.
	(InputDialog.__init__): 'super' -> 'super_'.
	(Password.__init__): 'super' -> 'super_'.
	(Calendar.__init__): 'super' -> 'super_'.

	* lib/pytis/util/util.py (super): Zru¹en alias 'super = super_'

	* lib/pytis/output/markup.py (FontSize.__init__): 'super' -> 'super_'.
	(FontFamily.__init__): 'super' -> 'super_'.

	* lib/pytis/data/types_.py (Date._export): 'super' -> 'super_'.
	(Date._validate): 'super' -> 'super_'.
	(Time._export): 'super' -> 'super_'.
	(Enumeration.default_value): 'super' -> 'super_'.
	(Codebook.values): 'super' -> 'super_'.
	(Codebook._validate): 'super' -> 'super_'.
	(CodebookNull._validate): 'super' -> 'super_'.

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL.__init__): 'super' -> 'super_'.
	(DBException.__init__): 'super' -> 'super_'.
	(DBLoginException.__init__): 'super' -> 'super_'.

	* lib/pytis/data/_test.py (Sequence.setUp): 'super' -> 'super_'.
	(DBDataOrdering.setUp): 'super' -> 'super_'.
	(DBDataOrdering.check_insert): 'super' -> 'super_'.

	* lib/pytis/form/list.py (List): Nech» tøída dìdí také
	'CallbackHandler'.
	(List.__init__): Volej 'CallbackHandler.__init__()'.  Nenastavuj
	'self._callbacks' pøímo.
	(List._run_callback): Metoda zru¹ena.
	(List.set_callback): Metoda zru¹ena.
	(ListForm.__init__): 'super' -> 'super_'.
	(ListForm.set_callback): Nová obalovací metoda.
	(ListForm.SetSize): 'super' -> 'super_'.
	(ListForm.Show): 'super' -> 'super_'.
	(ListForm.focus): 'super' -> 'super_'.
	(ListForm.defocus): 'super' -> 'super_'.
	(CodeBook.__init__): 'super' -> 'super_'.
	(CodeBook.on_command): 'super' -> 'super_'.
	(BrowseForm.__init__): 'super' -> 'super_'.
	(BrowseForm.set_callback): Metoda zru¹ena.
	(FilteredBrowseForm.__init__): 'super' -> 'super_'.

2002-05-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm.on_command): Pøidána podpora pro
	COMMAND_NEW_RECORD a COMMAND_NEW_RECORD_COPY.
	(BrowseForm._on_new_record): Nová metoda.

	* lib/pytis/form/command.py (BrowseForm.COMMAND_NEW_RECORD): Úprava
	docstringu.
	(BrowseForm.COMMAND_NEW_RECORD_COPY): Nový pøíkaz.
	* lib/pytis/form/command.py: Zdokumentována zmìn reprezentace kláves
	Enter a Escape.
2002-05-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (DualForm.__init__): Namísto jediného argumentu
	'name' jsou nyní dva: 'main_name' a 'side_name'.
	(DualForm._create_side_form): Pøebírej oba argumenty 'main_name' a
	'side_name'.
	(SideBrowseDualForm._create_side_form): Pøebírej oba argumenty
	'main_name' a 'side_name'.
	(SideBrowseDualForm._create_side_form): Namísto zji¹»ování
	'side_form_name' ze specifikace pou¾ij argument 'side_name'.
	(BrowseDualForm._create_main_form): Nenastavuj
	'CALL_ALTERNATE_ACTIVATION'. (Pøidáno TODO).
	(BrowseDualForm._on_activation): Zakomentováno.
	(EditDualForm.__init__): Pøebírej oba argumenty 'main_name' a
	'side_name'.
	(DescriptiveDualForm._create_side_form): Pøebírej oba argumenty
	'main_name' a 'side_name'.

	* lib/pytis/form/list.py (BrowseForm.__init__): Nastav o¹etøení
	'CALL_ALTERNATE_ACTIVATION' voláním 'self.on_show_details()'

	* lib/pytis/form/inputfield.py (_menu): 'InputField.COMMAND_RESET' ->
	'InputField.COMMAND_RESET_FIELD'.
	(InputField.on_command): 'InputField.COMMAND_RESET' ->
	'InputField.COMMAND_RESET_FIELD'.  O¹etøuj pøíkazy
	'InputField.COMMAND_COMMIT_FIELD' a
	'InputField.COMMAND_LEAVE_FIELD'.
	(TextField._create_text_control): Nepøedávej lambda funkci lokální
	promìnné.
	(Invocable._create_widget): Nepøedávej lambda funkci lokální
	promìnné.
	(InlineMultiTextField.width): Nepøedávej lambda funkci lokální
	promìnné.
	(InlineMultiTextField._filter): Nepøedávej lambda funkci lokální
	promìnné.
	(InlineMultiTextField.get_value): Nepøedávej lambda funkci lokální
	promìnné.
	(CodeBookField._create_widget): Nepøedávej lambda funkci lokální
	promìnné.

	* lib/pytis/form/command.py: 'Application.COMMAND_POPUP_FORM'
	pøejmenován na 'Application.COMMAND_RUN_FORM'.'
	'InputField.COMMAND_RESET' pøejmenován na
	'InputField.COMMAND_RESET_FIELD'.
	Nový pøíkaz 'InputField.COMMAND_COMMIT_FIELD'.
	Nový pøíkaz 'InputField.COMMAND_LEAVE_FIELD'.

	* lib/pytis/form/application.py (Application.on_command):
	'COMMAND_POPUP_FORM' -> 'COMMAND_RUN_FORM'.
	(Application.run_form): Nová metoda.

2002-05-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.run.log_wrapper):
	Odstranìno pøedávání haldy argumentù.

	* lib/pytis/form/screen.py (MItem.__init__): Pro víceklávesové pøíkazy
	pøidávej jejich klávesy do menu do závorky.

	* lib/pytis/form/command.py: Zru¹eny v¹echny pøíkazové aliasy pro
	Application.

	* lib/pytis/form/list.py (List._on_line_rollback): Nastav barvy zpìt na
	_FOCUS_COLORS.

2002-05-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py: Update dokumentace.

	* lib/pytis/form/list.py (BrowseForm): 'EditForm' -> 'PopupEditForm'.
	(BrowseForm._on_edit_form): 'EditForm' -> 'PopupEditForm'.

	* lib/pytis/form/inputfield.py (ListField._invoke_edit_form): 'EditForm'
	-> 'PopupEditForm'.

	* lib/pytis/form/form.py: Doplnìna dokumentace. Formátovací úpravy.
	(EmbeddedEditForm): Pøejmenováno na 'EditForm'.
	(EditForm.__init__): 'EmbeddedEditForm' -> 'EditForm'.
	(ShowForm): 'EmbeddedEditForm' -> 'EditForm'.
	(EditForm): Pøejmenováno na 'PopupEditForm'.
	(PopupEditForm.__init__): 'EmbeddedEditForm' -> 'EditForm'.
	(_create_main_form): 'EmbeddedEditForm' -> 'EditForm'.

2002-05-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (WxKey.event_key): O¹etøuj RETURN.
	(MItem.__init__): Pro víceklávesové pøíkazy uvádìj provizorní
	popis klávesy do titulku.  Namísto 'EditForm' pou¾ívej
	'PopupEditForm'.

2002-05-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._on_frame_size): Nastavuj
	pozici loga, i kdy¾ zrovna není vidìt.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Pøi zobrazování
	nového okna volej `Show()' a¾ po `Enable()'. Tím se z neznámých
	dùvodù odstraní problém s polovièním prvním øádkem BrowseFormu...

	* lib/pytis/form/list.py (List._on_label_right): Pro verzi wxWindows 2.3
	a vy¹¹í odeèítej vý¹ku záhlaví.
	(List._on_popup_menu): Update komentáøe.

2002-05-20  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List._create_grid): Oprava alignment.

2002-05-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_popup_menu): Oprava formátování kódu.

2002-05-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.row): Pro èísla øádkù mimo
	rozsah tabulky vracej None.

	* lib/pytis/form/event.py (wx_callback.process_event): `last_user_event'
	updatuj a¾ po zavolání callbacku.
	(last_user_event): Pøejmenováno na `_last_user_event'.
	(last_user_event): Nová funkce.

	* lib/pytis/form/command.py: Pøidán List alias pro Form.COMMAND_PRINT.
	(Command.__init__): `key' smí být i sekvence.

	* lib/pytis/form/dialog.py (GenericDialog.__init__): Volej konstruktor
	pøedka.

	* lib/pytis/form/screen.py (_Keymap): Nová tøída.
	(KeyHandler.__init__): Nové atributy `_keymap' a
	`_current_keymap'.
	(KeyHandler.on_key_down): Pøepracováno pro víceklávesové pøíkazy.
	(WxKey.event_key): Nová metoda.
	(WxKey._RTRANS_TABLE): Nový atribut.
	(KeyHandler._maybe_invoke_command): Nová metoda.
	(KeyHandler.__init__): Nový atribut `_key_guardian'.
	(KeyHandler._get_keymap): Nová metoda.
	(MItem.__init__): Do menu doplòuj klávesu jen pro jednoklávesové
	pøíkazy; doplnìna podpora pro víceklávesové pøíkazy.

2002-05-16  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/search.py (SFDialog._save_values): Pøi mazání podmínky
	odstraòuj také prvky ze self._selectors, nejen ze self._defaults.

2002-05-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/event.py (last_user_event): Nová promìnná.
	(wx_callback.process_event): Nastavuj ji.

	* lib/pytis/data/types_.py (Time._regexp_spec, DateTime._regexp_spec):
	Opraveny chyby v regulárním výrazu.
	(Time._validate): Opraven pøeklep v docstringu (je to èas, ne
	datum).

2002-05-13  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/types_.py (Time): Nový typ.
	(DateTime._regexp_spec): Kontroluj také formát vkládaného èasu.
	(Time._regexp_spec): Kontroluj také formát vkládaného èasu.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_value): Pøidána podpora
	typu 'time'.

2002-05-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (PopupForm.run): Volej `unlock_callbacks'.

2002-05-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (copy_stream): Pøidáno logování.

	* lib/pytis/output/formatter.py (LoutFormatter._format): Pøidáno
	logování.

	* lib/pytis/form/dialog.py (GenericDialog.run): Pøed nahozením dialogu
	volej `unlock_callbacks'.

	* lib/pytis/form/application.py (Application.run): Pøidána podpora pro
	nethreadové sledování pøeru¹ení a vypnutí sledování pøeru¹ení.
	(Application.popup_form, Application._call_current_window):
	Ignoruj UserBreakException..

	* lib/pytis/form/event.py (interrupt_watcher): Zru¹en zapomenutý
	argument `stop_flag'.
	(interrupt_init): Nová funkce.
	(interrupt_watcher): Vyu¾ívej ji.
	(wx_callback.process_event): Místo nahazování výjimky nastav
	`_interrupted' a vra» wx.TRUE.
	(wx_callback.process_event): Pøed zahájením zpracování u¾ivatelské
	události resetuj `_interrupted'.
	(_is_user_event): Nech» wxCommandEvent není u¾ivatelská událost.
	(free_callback): Nová funkce.
	(UserBreakException.__init__): Nová metoda.
	(yield_): Nuluj `_interrupted'.
	(_main_pid): Nová promìnná.
	(interrupt_init): Zmìnìny argumenty.
	(interrupt_watcher.watcher): Zohlednìna pøedchozí zmìna.
	(yield_): Pøeru¹ení provádìj jen v hlavním threadu.

2002-05-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/__init__.py: `event' importuj jako první, ne poslední.

	* lib/pytis/form/event.py (wx_callback.process_event): Doplnìn chybìjící
	argument volání `is_event_of_key'.
	(interrupt_watcher): `last_event' pøesunuto do `watcher',
	`_watcher_pid' pøiøazuj také a¾ tam.
	(_is_user_event): Nová funkce.
	(wx_callback.process_event): `_current_event' nastavuj pouze pro
	pøíkazové události.
	(interrupt_watcher): Nový argument `stop_flag'.
	(interrupt_watcher.watcher): Je-li
	lib.form.application._application None, skonèi.

	* lib/pytis/form/application.py (Application.run): Nainstaluj sledování
	událostí, vèetnì háèku do `log'.
	(Application.on_command): Ignore UserBreakException.

2002-05-10  Petr Malivanek  <malivanek@akont.cz>

	* lib/pytis/data/types_.py (CodebookNull): Nový èíselníkový typ
	umo¾òující ponechat prázdnou hodnotu.

2002-05-09  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (HiddenField): Odstranìn neaktuální komentáø.

	* lib/pytis/form/list.py (List.refresh): Oprava docstringu.

2002-05-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Nový
	argument `computer_data'.
	(List._ListTable.__init__, List._ListTable.edit_row): Volej
	_EditedRow s `computer_data'.
	(List._ListTable.__init__): Nový atribut `_computer_data'.
	
	* lib/pytis/form/list.py (List._ListTable.__init__): Nový argument
	`computer_data'.
	(List._ListTable._fetch, List._ListTable.rewind): Vyu¾ívej
	`_presented_row'.
	(List._create_grid): Pødedávej konstruktoru _ListTable
	_computer_data.

	* lib/pytis/form/event.py (wx_callback): Pøidán assert na typ argumentù
	`evt_function' a `callback'.

	* lib/pytis/form/search.py (SFDialog._create_content.condition) 
	(SFDialog._create_content): Pøiøazení callbacku provádìj
	prostøednictvím `wx_callback'.
	* lib/pytis/form/screen.py (KeyHandler.__init__, Menu.create)
	(ButtonBar._add_button): Pøiøazení callbacku provádìj
	prostøednictvím `wx_callback'.
	* lib/pytis/form/output.py (PostscriptViewer.__init__)
	(PrintForm.__init__, PrintForm._create_controls): Pøiøazení
	callbacku provádìj prostøednictvím `wx_callback'.
	* lib/pytis/form/list.py (List._create_grid, ListForm.__init__):
	Pøiøazení callbacku provádìj prostøednictvím `wx_callback'.

	* lib/pytis/form/inputfield.py (_TextValidator.__init__)
	(InputField._init_controls, TextField._create_text_control)
	(Invocable._create_widget, CodeBookField._create_widget):
	Pøiøazení callbacku provádìj prostøednictvím `wx_callback'.
	* lib/pytis/form/form.py (Form.__init__, EmbeddedEditForm.__init__)
	(EditForm._create_buttons, DualForm.__init__): Pøiøazení callbacku
	provádìj prostøednictvím `wx_callback'.
	* lib/pytis/form/dialog.py (GenericDialog._create_dialog_elements)
	(InputDialog._create_content, Calendar._create_content): Pøiøazení
	callbacku provádìj prostøednictvím `wx_callback'.
	* lib/pytis/form/application.py (Application.OnInit): Pøiøazení
	callbacku provádìj prostøednictvím `wx_callback'.

2002-05-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.on_command): Neimportuj
	`config'.

	* lib/pytis/form/command.py (Application.COMMAND_BREAK): Nový pøíkaz.

	* lib/pytis/form/__init__.py: Importuj `event'.

	* lib/pytis/form/event.py: Nový modul.

2002-05-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._skip_navigation): Nový
	argument 'object'. Pøedávej jej volání 'self._form.navigate()'.
	(TextField._create_text_control): Volání
	'self._on_key_down_multiline()' pøedávej vytváøený 'control'.
	(TextField._on_key_down_multiline): Nový argument
	(Invocable._create_widget): Volání 'self._skip_navigation()'
	pøedávej také 'button' jako argument 'object'.
	(CodeBookField._create_widget): Volání 'self._skip_navigation()'
	pøedávej také 'display' jako argument 'object'.

	* lib/pytis/form/form.py (EmbeddedEditForm.navigate): 
	Ve verzi wxWindows ni¾¹í ne¾ 2.3 zahazuj argument 'object'.
	Pokud je dán 'object', volej 'nav.SetCurrentFocus(object)'.


2002-05-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (Form.__init__): Inicializuj atribut
	'self._result' na None.
	(Form.run): Vracej hodnotu 'self._result'.
	(PopupForm.run): N8vratovou hodnotu metody 'ShowModal()' zahazuj -
	je k nièemu. Namísto ní vracej hodnotu 'self._result'
	(EmbeddedEditForm._edit_insert): Nastav 'self._result' na vlo¾ený
	øádek.
	(EmbeddedEditForm._edit_update): Nastav 'self._result' na updatovaný
	øádek.
	(EmbeddedEditForm._run_with_lock): Pokud se nepodaøí zamknout
	øádek, vracej None.

	* lib/pytis/form/application.py (Application.dialog): Nová metoda.

2002-05-06  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/EventInterruption: Nový tutoriál.

2002-05-06  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/EventInterruption: Nový tutoriál.

2002-05-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py (GenericDialog._create_dialog_elements): Nová
	metoda.
	(GenericDialog._create_dialog): Vyu¾ívej ji.
	(GenericDialog.rebuild): Nová metoda.

	* lib/pytis/form/search.py (SFDialog.__init__): Nech» `_defaults' je
	inicializováno na prázdné dictionary; nový atribut
	`_default_item'.
	(SFDialog._create_content): Nový argument `number_of_conditions',
	vytváøí nyní zadaný poèet podmínek, nové tlaèítko "Pøidat" a
	tlaèítka "Odebrat".
	(SFDialog.__init__): Nový atribut `_number_of_conditions'.
	(SFDialog._on_add): Nová metoda.
	(SFDialog._on_remove): Nová metoda.
	(SFDialog._create_content.condition): Nepøidávej do výbìru sloupce
	_NO_COLUMN.
	(SFDialog._save_values): Nový argument `exclude'.
	(SFDialog._save_values): Na zaèátku vyma¾ `_defaults'.
	(SFDialog._selected_condition): Na Strings provádìj validaci pouze
	pokud hodnota neobsahuje wildcard.
	(SFDialog._selected_condition) 
	(SFDialog._create_content.condition, SFDialog._on_suck):
	Zohlednìno zru¹ení vkládání _NO_COLUMN.

2002-05-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook): Pøepracováno, aby èíselník mohl
	obsahovat i sloupce jiného typu ne¾ String.
	(Codebook.columns): Nová metoda.

	* lib/pytis/data/_test.py (_DBTest.setUp): Do `xcosi' pøidána polo¾ka
	obsahující NULL.
	(DBDataDefaultClass.setUp): Nový atribut `dcosi'.
	(DBDataDefaultClass.check_select_condition): Pøidán NULL test.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Neprovádìj
	COALESCE na implicitní hodnotu, pouze pøetypuj.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	O¹etøena nutnost pou¾ívat pro hodnoty NULL operátor IS.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Èíselníky
	zpracovávej stejnì jako sekvence.
	(DBDataPostgreSQL._pg_value): U èíselníkù exportuj jejich
	jednotlivé hodnoty.
	(DBDataPostgreSQL._pg_create_make_row_template): Pøidávej k typu
	èíselníku i typy jeho sloupcù.

2002-05-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application.popup_form): Vracej
	výsledek metody 'run()' zobrazovaného formuláøe.

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): Nový argument
	'prefill'.
	(EmbeddedEditForm._set_row): Pøedávej 'prefill' konstruktoru
	'PresentedRow'.
	(EditForm.__init__): Nový argument 'prefill'.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nový argument
	'prefill'.
	(PresentedRow._init_row): Nový klíèový argument 'prefill'.
	(PresentedRow._init_row.genval): Pokud byl specifikován argument
	'prefill', pokus se získat výchozí hodnotu ze slovníku 'prefill'.

2002-05-02  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/command.py: Pøidána dokumentace k "u¾ivatelským pøíkazùm".
	(Command.__init__): Nový argument 'handler'.
	(Command.handler): Nová metoda.

	* lib/pytis/form/list.py (List.on_command): Pøidej podporu pro
	"u¾ivatelské pøíkazy" -- volej '_on_handled_command()'.
	(List._on_handled_command): Nová metoda.
	(BrowseForm._popup_menu): Pokud je specifikací definováno
	u¾ivatelské menu, pøidej jej na konec.

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nový argument 'popup_menu'.
	(ViewSpec.title): Úprava docstringu.
	(ViewSpec.popup_menu): Nová metoda.

2002-05-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nový atribut
	`_cache'.
	(PresentedRow.__getitem__): Pou¾ívej cache.
	(PresentedRow._init_row, PresentedRow.__setitem__): Nuluj cache.

	* lib/pytis/form/list.py (List._ListTable._DisplayCache): Nová tøída.
	(List._ListTable.__init__): Nový atribut `_cache'.
	(List._ListTable.GetValue): Pou¾ívej cache.

2002-04-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/markup.py: Hvìzdièkovì importuj lib.output.
	(Group): Zru¹en parametr `fit'.

	* lib/pytis/output/formatter.py (LoutFormatter): Stanovena a zohlednìna
	pravidla formátování generovaného kódu pro Lout.
	(_INTRO): Nové funkce @margined, @gmargined, @ghline, @gvline.
	(LoutFormatter._format_data_table): Separuj tabulku pøes @LLP.

2002-04-30  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._on_next_record): Pokud jsme
	narazili na první nebo poslední záznam, zobrazíme pøíslu¹nou
	stavovou hlá¹ku.

	* lib/pytis/form/application.py (Application.OnInit): 'self._init()'
	volej je¹tì pøed vytváøením menu apod. (kvùli pøiøazení horkých
	kláves).

2002-04-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pøidány znaèky Italic, Roman, FontSize, FontFamily.
	(LoutFormatter._f_wrap): Nová metoda.
	(LoutFormatter._format_center, LoutFormatter._format_bold)
	(LoutFormatter._format_box): Vyu¾ívej ji.
	(LoutFormatter._format_italic, LoutFormatter._format_roman)
	(LoutFormatter._format_font_size)
	(LoutFormatter._format_font_family): Nové metody.
	(LoutFormatter._font): Nová metoda.
	(LoutFormatter._process): Vyu¾ívej ji.
	(LoutFormatter._SPECIAL_LOUT_CHARS): Pøed @LLP vkládej mezeru.
	(LoutFormatter._format_vcenter): Implementováno.
	(LoutFormatter._format_group): Pøidána podpora pro vertikální a
	horizontální spojování, boxy a pro balancování.
	(_INTRO): Nové funkce @vgroup, @hgroup, @box, @vline, @hline; nové
	makro @smallmargin.
	(LoutFormatter._format_data_table): ©káluj jen smìrem dolù, je-li
	tøeba.
	(LoutFormatter._format_box): Zru¹eno.
	(LoutFormatter._MARK_PROCESSORS): Zru¹ena znaèka Box.
	(LoutFormatter._format_data_table): Èásteènì implementován
	separátor.
	(LoutFormatter): Nový argument `indent' pro v¹echny formátovací
	funkce.

	* lib/pytis/output/markup.py (Italic, Roman, FontSize, FontFamily): Nové
	znaèky.
	(Box): Zru¹eno.
	(Group.KWARGS): Nový argument `boxed', zru¹en argument
	`expand_elements'.

2002-04-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List.UI_SORTING): Nová UI konstanta.
	(List.SORTING_CYCLE_DIRECTION): Nová konstanta.
	(List.SORTING_NONE): Nová konstanta.
	(List.__init__): Nový argument 'popup_menu'.
	(List._switch_sorting): Doplnìna dokumentace. Pøidána podpora pro
	cyklické pøepínání zpùsobu tøídìní a explicitní vypnutí tøídìní.
	(List._on_label_left): Volej pøíkaz 'COMMAND_SORT_COLUMN' s
	argumentem 'ditrection=List.SORTING_CYCLE_DIRECTION'.
	(List._on_label_right): Zobraz kontextové popup menu sloupce,
	namísto zmìny tøídìní (to lze nyní cyklicky pøepínat pouze levým
	tlaèítkem).
	(List._create_grid): Nastav o¹etøení události
	'EVT_GRID_CELL_RIGHT_CLICK' voláním metody '_on_popup_menu()'
	(List._on_popup_menu): Nová metoda.
	(List.on_ui_event): Pøidána podpora pro 'UI_SORTING'.
	(ListForm.__init__): Vytváøené instanci 'List' pøedávej také
	argument 'popup_menu'.
	(ListForm._popup_menu): Nová metoda.
	(BrowseForm._popup_menu): Nová metoda.

2002-04-29  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MItem.__init__): Pøebírej horkou klávesu z
	pøíkazu pouze pokud nejsou specifikovány argumenty pøíkazu.

2002-04-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Pou¾ívej pro buòky novì definované funkce @lcell a @rcell,
	nepou¾ívej pro tvorbu hlavièek tabulky, nech» závìreèný pøebyteèný
	symbol øádku je @Null místo {}.
	(_INTRO): Definovány nové pomocné funkce, neimportuj `tbl'.
	(LoutFormatter._format_data_table): Nastavuj øádky pøesnì na ¹íøku
	strany.

2002-04-25  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (resolve): Pokud má políèko nulovou
	¹íøku, nech» je instancí 'HiddenField'.
	(InputField._init_controls): Nová metoda
	(InputField.__init__): Èást kódu pracující se
	'self._controls' pøesunuta do '_init_controls()'.
	(InputField.hidden): Zru¹eno.
	(HiddenField.hidden): Zru¹eno.
	(HiddenField._init_controls): Nová metoda.
	(HiddenField._enable_event_handlers): Nová metoda.
	(HiddenField._disable_event_handlers): Nová metoda.
	(HiddenField._create_label): Nová metoda.
	(HiddenField.get_value): Pokud doposud nebylo nastaveno
	'self._value', vracej None.

	* lib/pytis/form/form.py (EmbeddedEditForm._pack_fields): Pøidávej
	políèko do gridu pouze pokud nejde o 'HiddenField'.

	* lib/pytis/data/types_.py (Enumeration.ERRMSG_INVALID_ENUM_VALUE): Nová
	konstanta.
	(Enumeration._validate): Vyu¾ívej
	'Enumeration.ERRMSG_INVALID_ENUM_VALUE'.

2002-04-24  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (MultiTextField._set_value): Jako
	speciální pøípad hodnoty argumentu values pøijímej prázdný
	øetìzec, který¾to pøeveï na sekvenci prázdných øetìzcù, èím¾to
	vyma¾ v¹echna políèka.

	* lib/pytis/form/form.py (PopupForm._on_parent_close): Neloguj uzavøení
	formuláøe.

2002-04-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (Pipe): Pøepracováno, místo potomka Queue.Queue
	se nyní jedná o specializovanou, efektivnìj¹í implementaci.

2002-04-23  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._recreate_grid): Volej
	'oldg.GetParent().RemoveChild()' pouze pokud 'oldg.GetParent()'
	není None.

	* lib/pytis/form/screen.py (MItem): Nová promìnná tøídy.
	(MItem.__init__): Pokud je horká klávesa ji¾ pou¾ita, ignoruj ji a
	zaloguj výhrù¾nou zprávu.

2002-04-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer.show_page): Opraveno
	zji¹tìní celkového poètu stránek.

	* lib/pytis/util/_test.py (Pipe.check_multi_cc): Nový test.

	* lib/pytis/util/util.py (Pipe.__init__): Argument `cc' nyní mù¾e být
	i sekvencí streamù.
	(Pipe.close, Pipe.write): Zohlednìna pøedchozí zmìna.

	* lib/pytis/output/exception.py: Nový modul.

	* lib/pytis/output/__init__.py: Importuj `exception'.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pøidány znaèky VCenter, Box a Group.
	(LoutFormatter._format_vcenter, LoutFormatter._format_box)
	(LoutFormatter._format_group): Nové metody.
	(FormattingException, TemplateException): Pøesunuto do
	`exception.py'.
	(_INTRO): Odstranìno @PageWidth.
	(LoutFormatter._lout): Zformátovaný dokument pøi ladìní ukládej
	pøes cc pípy, ne samostatným pøedzpracováním.
	(LoutFormatter._format_data_table): Odstranìna podpora pro textový
	výstup.
	(LoutFormatter._SPECIAL_LOUT_CHARS): Pøidáno \n.

	* lib/pytis/output/markup.py (DataTable.__init__): Nový argument a
	atribut `separator_height'.
	(DataTable.separator_height): Nová metoda.
	(Center): Jedná se o horizontální centrování, pouze zmìna
	docstringu.
	(VCenter): Nová znaèka.
	(Box): Nová znaèka.
	(Group): Nová znaèka.
	(_Container.__init__): Pøijímej libovolné klíèované argumenty.
	(_Container.KWARGS): Nový atribut.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Místo `issubclass' pou¾ívej `isinstance'.
	(DBDataPostgreSQL.update): Pøi výpisu nových dat na `row' aplikuj
	`str'.

2002-04-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Oprava: 'btype' je ji¾ instancí, tak¾e pro assert na tøídu
	pou¾ívej 'btype.__class__' a pøípadnou instanci výchozí tøídy
	'Codebook' pøiøazuj pøímo do promìnné 'btype', kterou¾to potom také
	pou¾ívej v¹ude namísto 'type_instance'.

	* lib/pytis/presentation/field.py (PresentedRow.__setitem__): Nastavuj
	hodnotu a pøepoèítávej bez ohledu na pøedchozí hodnotu.

	* lib/pytis/form/inputfield.py (InputField._on_change): Nová metoda.
	(InputField._post_process): Nová metoda.
	(InputField._on_change_hook): Nová metoda.
	(InputField.init, InputField._enable_event_handlers): Nová metoda.
	(InputField._disable_event_handlers): Nová metoda.
	(InputField.init): Zaka¾ po dobu nastavování hodnoty o¹etøování
	událostí a volej 'self._on_change()' explicitnì s 'notify=FALSE'.
	(InputField.set_value): Pokud je hodnota None, neprovádìj nic,
	pouze vra» FALSE.
	(TextField._create_text_control): Namísto 'self._on_text()'
	vyu¾ívej 'self._on_change()' k o¹etøení EVT_TEXT.
	(TextField._on_text): Zru¹eno.
	(TextField._post_process): Zru¹eno.
	(TextField._on_text_hook): Zru¹eno.
	(MultiTextField._set_value): V assertové hlá¹ce vypisuj id políèka.
	(CodeBookField._on_text_hook): Pøejmenováno na '_on_change_hook'. 

2002-04-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.close)
	(DBDataPostgreSQL.select): Zahájení a ukonèení SELECTu loguj pouze
	jako DEBUG.

2002-04-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PostscriptViewer.number_of_pages)
	(_Ghostscript.number_of_pages): Vrací druhý argument, kterým je
	indikátor koneèného stavu poètu stránek.
	(PrintForm.__init__): Nový atribut `_total_pages'.
	(PrintForm._create_controls): Jestli¾e je poèet stránek koneèný,
	nastav `_total_pages'.
	(PrintForm._show_page): Poèet stránek nastavuj jen tehdy, není-li
	ji¾ definitivní.
	(PrintForm.OnIdle): Nová metoda.
	(PrintForm.__init__): Registruj ji jako idle callback.
	(PrintForm._on_last_page): Zohlednìna zmìna návratové hodnoty
	`number_of_pages'.

2002-04-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm.Close): Nová metoda.
	(PrintForm.__init__): Nový atribut `_current_stream'.
	(PrintForm._create_controls): Ukládej rouru do `_current_stream'.
	(_Ghostscript._render): Informaci o ukonèení ukládej do nového
	atributu `_finished'.
	(_Ghostscript.finished): Nová metoda.
	(PrintForm._create_controls): Vytváøej prvky pro pohyb po
	stránkách a zoomování.
	(PrintForm._on_previous_page, PrintForm._on_next_page)
	(PrintForm._on_first_page, PrintForm._on_last_page): Nové metody.
	(PrintForm.on_command): Vyu¾ívej je.
	(_Ghostscript.__init__, _Ghostscript._render): Nový argument
	`zoom'.
	(PostscriptViewer.__init__): Nápodobnì.
	(PostscriptViewer.show_page): Pøi po¾adavku na vzdálenou stránku
	èekej na její vygenerování.
	(PostscriptViewer._wait_for_gs): Nová metoda.
	(PostscriptViewer.number_of_pages): Nová metoda.
	(PostscriptViewer.show_page): Vracej èíslo zobrazené stránky.
	(PrintForm._on_goto_page): Nová metoda.
	(PrintForm._on_zoom): Nová metoda.
	(PrintForm._show_page): Nastavuj èísla stránek v prvcích
	u¾ivatelského rozhraní.
	(PostscriptViewer.current_zoom): Nová metoda.
	(PrintForm._on_zoom_in_, PrintForm._on_zoom_out): Nové metody.
	(PrintForm._zoom): Nová metoda.
	(PrintForm._on_widget_key): Nová metoda.

	* lib/pytis/util/util.py (Pipe.__init__): Nový atribut `_closed'.
	(Pipe.write): Je-li roura uzavøena, vyvolej ValueError.
	Zdokumentováno toto¾né chování pro cc stream.
	(Pipe.close): Nastavuj `_closed'.

	* lib/pytis/output/formatter.py (LoutFormatter._lout.p): Ignoruj
	pøípadné ValueError z `_process'.
	(LoutFormatter._lout): Dojde-li k uzavøení výstupního streamu,
	uzavøi vstup Lout.
	(LoutFormatter._lout): Doplnìny logovací hlá¹ky.

2002-04-19  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (RefSpec): Nová tøída.
	(FieldSpec.__init__): Zmìna dokumentace a assertù související se
	zavedením 'RefSpec'.

	* lib/pytis/form/inputfield.py (InputField.guardian): Nová metoda.
	(_create_controls): Vyu¾ívej 'RefSpec'.
	(ListField._set_value): Vyu¾ívej 'RefSpec'. Vytváøej 'self._list_rows'.
	(ListField._selected_item_key): Nová metoda.
	(ListField._invoke_edit_form): Implementováno.
	(ListField._invoke_browse_form): Implementováno.

	* lib/pytis/form/list.py (ListForm.OnSetFocus): Doplnìn argument
	nepovinný 'event'. Pokud je pøedán, volej 'event.Skip()'
	(BrowseForm.set_callback): Argumenty '*args' a '**kwargs'
	nahrazeny 'kind' a 'function'. Volej 'self._list.setcallback()'
	pouze pokud je callback definován v 'self._list', jinak volej
	metodu pøedka.

	* lib/pytis/form/form.py (Form.set_callback): neprovádìj assert pøes
	výèet, ale o nìco inteligentnìji (snad).
	(Form.focus): Volej také `self.SetFocus()'.
	(EmbeddedEditForm.__init__): Nový klíèový argument
	'guardian'. Pøedávej jej konstruktoru pøedka.
	(DualForm._select_form): Nevolej 'defucus()' na druhý formuláø -
	to je provedeno automaticky ve 'focus()' prvního.
	(DualForm.OnSetFocus): Vracej wx.TRUE
	(BrowseDualForm.__init__): Nevolej zbyteènì 'focus()' hlavního
	formuláøe.
	(DescriptiveDualForm.__init__): Nevolej zbyteènì 'focus()' hlavního
	formuláøe.
	(EditDualForm.__init__.main_selection): Zru¹eno.
	(EditDualForm.__init__): Nenastavuj EVT_FOCUS hlavního formuláøe.
	(EditDualForm._create_main_form): Pøedávaj konstruktoru formuláøe
	také argument 'guardian=self'.
	(EditDualForm.on_command): Zru¹eno.

2002-04-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm._on_print_): Nezapínej busy
	cursor, stejnì to nefunguje.  Spou¹tìj tisk jako thread,
	tj. neblokující u¾ivatelské rozhraní.

	* lib/pytis/output/formatter.py (LoutFormatter.__init__): Nový atribut
	`_formatted_document_lock'.
	(LoutFormatter._lout): Cachuj vygenerovaný loutový zdroják.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pøidána podpora pro u¾ivatelské èíselníkové typy.

	* lib/pytis/util/_test.py (Pipe.check_cc): Nový test.

	* lib/pytis/util/util.py (Pipe.__init__): Nový argument a atribut `cc'.
	(Pipe.write): Kopíruj data do `cc'.
	(Pipe.close): Uzavøi i `cc'.
	(mktempdir): Poèet pokusù o vytvoøení adresáøe zvý¹en na 1000.
	(Pipe.close): Pøidány doplòující informace do docstringu.

2002-04-17  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List.on_ui_event): Zkus volat 'on_ui_event()'
	aktuálního editoru (vstupního políèka).

	* lib/pytis/form/screen.py (MenuBar): Rozsáhlý pøepis. Zru¹ena stará
	nepou¾ívaná funkcionalita a zjednodu¹ena implementace. Oprava
	dokumentace.
	(MenuBar.MENU_ID_SEPARATOR): Zru¹eno.
	(MenuBar.__init__): Argument 'menuitems' pøejmenován na
	'menus'. Ulo¾ 'parent' do 'self._parent'. Zru¹eny èachry s
	titulkem (to nyní o¹etøuje sama metoda 'MItem.title()'). Vyu¾ívej
	'Menu.create()'. Do 'self._menus' neukládej sekvenci v¹ech mo¾ných
	vlastností, ale rovnou instanci 'Menu'.
	(MenuBar._assemble_menu): Zru¹eno (nahrazeno 'Menu.create()').
	(MenuBar.__getitem__): Zru¹eno (ji¾ není potøeba).
	(MenuBar.keys): Zru¹eno (ji¾ není potøeba).
	(MenuBar.activate): 'self._menus' neobsahuje sekvence v¹emo¾ných
	vlastností, ale rovnou instance 'Menu'. Vyu¾ívej 'Menu.create()'.
	(Menu): Update dokumentace
	(Menu.__init__): Zru¹eny zbyteèné hlá¹ky u assertù.
	(Menu.items): Zru¹eno.
	(Menu.create): Nová metoda nahrazující 'MenuBar._assemble_menu()'
	kvùli znovupou¾itelnosti pro kontextová menu.  Implementace
	podstatnì zjednodu¹ena.
	(MItem.__init__): Pokud není specifikována 'hotkey', zjisti ji z
	'command', pokud ano, zmìò klávesu pøíkazu na danou 'hotkey'.
	Pokud existuje 'Hotkey', pøidej ji do 'title'.

	* lib/pytis/form/inputfield.py (InputField.UI_IS_MODIFIED): Nová
	konstanta.
	(InputField.UI_IS_ENABLED): Nová konstanta.
	(InputField.__init__): Pøiøaï událost vyvolání kontextového menu
	na kliknutí pravého tlaèítka my¹i.
	(InputField._menu): Nová metoda.
	(InputField.on_ui_event): Nová metoda.
	(InputField.on_command): Nová metoda.
	(InputField._on_popup_menu): Nová metoda.
	(InputField._on_reset): Nová metoda.
	(Invocable.on_command): Nakonec volej 'InputField.on_command()'.
	(DateField._menu): Nová metoda.
	(CodeBookField._menu): Nová metoda.
	(ListField.UI_LIST_ITEM_SELECTED): Nová konstanta.
	(ListField._create_controls): Vytvoøený 'ListCtrl' ulo¾ do
	atributu 'self._list'.
	(ListField._selected_item): Nová metoda.
	(ListField._set_value): Vyu¾ívej 'self._list'.
	(ListField.on_ui_event): Nová metoda.
	(ListField.on_command): O¹etøuj 'self.COMMAND_INVOKE_EDIT_FORM' a
	'self.COMMAND_INVOKE_BROWSE_FORM'.  Nakonec volej
	'InputField.on_command()'
	(ListField._menu): Nová metoda.
	(ListField._invoke_edit_form): Nová metoda (prototyp).
	(ListField._invoke_browse_form): Nová metoda (prototyp).
	(InputField.on_ui_event): Zru¹eno TODO.

	* lib/pytis/form/form.py (EmbeddedEditForm.on_ui_event): Nejprve zkus
	volat 'on_ui_event()' aktuálního vstupního políèka.
	(EmbeddedEditForm.on_command): Pøíkazy aktuálního vstupního
	políèka volej i kdy¾ je formuláø needitovatelný.

	* lib/pytis/form/command.py (InputField.COMMAND_RESET): Nový pøíkaz.
	(ListField.COMMAND_INVOKE_EDIT_FORM): Nový pøíkaz.
	(ListField.COMMAND_INVOKE_BROWSE_FORM): Nový pøíkaz.

	* lib/pytis/form/application.py (Application._menu_id): Metoda zru¹ena
	jako nepou¾ívaná.
	(Application.OnInit): Kosmetické úpravy + pøesunutí nastavení
	pozice loga do metody '_on_frame_size()'.
	(Application._on_frame_size): Nastav pozici loga do støedu okna.

2002-04-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (mktempdir): Pøidávej do generovaného jména
	adresáøe své PID.

	* lib/pytis/form/output.py (PostscriptViewer.show_page): Nepokou¹ej se
	zobrazit stránku, pokud dokument ¾ádnou nemá.
	(_Ghostscript.page_image): Kontroluj, zda odpovídající soubor
	existuje, o¹etøení výjimky nestaèí, kvùli wxWindows.
	(_Ghostscript._render.feedgs): Ghostscript spou¹tìj pøes popen2,
	nikoliv popen.

	* lib/pytis/output/formatter.py (LoutFormatter): V¹echny metody
	`_format*' nyní mají nový argument `stream' a zapisují do streamu
	místo vracení øetìzcù.
	(LoutFormatter._process): Zohlednìna pøedchozí zmìna.
	(LoutFormatter._lout): Formátování textu je nyní také asynchronní.

2002-04-16  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/data/data.py (Row.update): Ignoruj polo¾ky vstupních dat s
	klíèem, který nepatøí do Row.

	* lib/pytis/presentation/field.py (PresentedRow.__setitem__): O¹etøuj
	KeyError pøi zji¹tìní steré hodnoty.
	(PresentedRow.__setitem__): Neo¹etøuj KeyError pøi zji¹tìní steré
	hodnoty...

2002-04-16  Tomá¹ Cerha  <cerha@brailcom.org>

	* icons/logo.fig: Pøidán pytel.
	* icons/logo.bmp: Pøegenerováno.

2002-04-16  Tomá¹ Cerha  <cerha@brailcom.org>

	* icons/logo.fig: Pøidán pytel.
	* icons/logo.bmp: Pøegenerováno.

2002-04-15  Milan Zamazal  <pdm@brailcom.org>

	* ebas (_install_gettext, go): Neimportuj lib.util hvìzdièkovì.

	* lib/pytis/form/application.py (Application._resolver_directory):
	config.defdir -> config.def_dir.

	* config/config.py: Pøegenerováno.

	* lib/pytis/util/configuration.py (Configuration._Option_defdir):
	Pøejmenováno na _Option_def_dir'.
	(Configuration.__init__): Doplnìn docstring.  Implicitní hodnota
	argumentu `command_line' je nyní None.
	(Configuration._parse_command_line_options): Pøi nezpracovaných
	volbách nevyvolávej výjimku, nýbr¾ je pøiøaï do sys.argv.

	* lib/pytis/form/output.py (PrintForm._create_controls): Místo
	postscriptových dat prohlí¾eèi pøedávej asynchronnì plnìný stream.
	(PrintForm._run_formatter): Nová metoda.
	(PrintForm._on_print_): Místo postrscriptových dat pou¾ívej
	`_run_formatter'.
	(PostscriptViewer.__init__): Místo hotových postscriptových dat
	pøijímej datový stream.
	(_Ghostscript.__init__, _Ghostscript._render): Nápodobnì.
	(_Ghostscript._render): Pøepracováno do asynchronní podoby.

	* lib/pytis/util/_test.py (Pipe): Nová sada testù.

	* lib/pytis/util/util.py (Pipe): Nová tøída.
	(copy_stream): Nový argument `in_thread'.

	* lib/pytis/output/formatter.py (_INTRO): Zru¹ena definice @EBASOutput.
	(LoutFormatter._process): Zohlednìna pøedchozí zmìna.
	(LoutFormatter._lout): Pro zji¹tìní adresáøe doèasných souborù
	pou¾ívej config.tmp_dir.
	(LoutFormatter._lout): Spu¹tìní Lout pøes popen2 posunuto a¾ tìsnì
	pøed ètení rour, díky tomu asynchronní zpracování nevytuhne.

2002-04-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.OnInit): Vý¹ka frame
	zvìt¹ena na 600.  Zobrazuj logo.

	* lib/pytis/util/_test.py (ProgramError): Zru¹eno.
	(Mktempdir): Nová sada testù.

	* lib/pytis/util/util.py (mktempdir): Nová funkce.
	(FileError): Nová výjimka.

	* config/config.py: Pøegenerováno.

	* lib/pytis/util/configuration.py (Configuration._Option_tmp_dir): Nová
	volba.

	* lib/pytis/form/output.py (PostscriptException): Nová tøída.
	(_Ghostscript): Nová tøída.
	(PostscriptViewer): Nová tøída.
	(PrintForm._Preview): Zru¹eno.
	(PrintForm._create_controls): Místo _Preview pou¾ívej
	PostscriptViewer.
	(PrintForm.SetSize, PrintForm.OnSetFocus, PrintForm.on_command)
	(PrintForm._set_page): `_text' -> `_preview'.
	(PrintForm._fill_preview): Zru¹eno.
	(PrintForm.run): Zohlednìna pøedchozí zmìna.
	(PrintForm._on_print_): Nevolej formátovaè, pou¾ij ulo¾ený
	PostScript.
	(PrintForm.SetSize, PrintForm.OnSetFocus): Zru¹eno.

2002-04-14  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing (Vyvolání tisku): Aktualizováno vzhledem
	ke zmìnì náhledu z textového na grafický.

	* icons/logo.fig: Nový soubor.
	* icons/logo.bmp: Nový generovaný soubor.

2002-04-14  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing (Vyvolání tisku): Aktualizováno vzhledem
	ke zmìnì náhledu z textového na grafický.

	* icons/logo.fig: Nový soubor.
	* icons/logo.bmp: Nový generovaný soubor.

2002-04-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (_INTRO): Pøidáno @InitialBreak.

2002-04-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm._fill_preview.format): Zru¹en
	argument `self', pou¾ívej pøímo `formatter'.

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Pou¾ívej jedinou instanci PresentedRow místo vytváøení mnoha
	uvnitø cyklu.
	(LoutFormatter._format_text): Pøepsáno -- vyoptimalizováno.
	(LoutFormatter._SPECIAL_LOUT_CHARS): Nová konstanta.
	(LoutFormatter.__init__): Nový atribut
	`_special_lout_chars_regexp'.
	(LoutFormatter._format_data_table): Pøepracováno, nyní se místo
	tabulek pou¾ívá obyèejné øádkové formátování bunìk, co¾ vede
	k výraznému zefektivnìní bìhu Lout.

2002-04-12  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (ListField.on_command): Nová metoda.

	* lib/pytis/form/form.py (_set_row): Zmìna v souvislosti s
	`field_change_callback' => `change_callback'.
	(EmbeddedEditForm._on_field_change): Pøejmenováno na
	`_on_row_change()' -- Jde o zmìny v row, ne v políèkách...
	(EmbeddedEditForm._set_row): Update komentáøe.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Argument
	`field_change_callback' pøejmenován na `change_callback' -- Jde o
	zmìny ve vlastním row, ne v políèkách...
	(PresentedRow.__setitem__): Nastavení hodnoty a spu¹tìní
	pøepoèítávání proveï pouze v pøípadì, ¾e je nová hodnota rùzná od
	pùvodní.
	(PresentedRow._recompute): Zmìna v souvislosti s
	`field_change_callback' => `change_callback'.

2002-04-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._on_suck): Nevolej na hodnotu
	získanou z ødku `export', pøedej ji pøímo.

2002-04-11  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/presentation/field.py (PresentedRow.editable): Oprava
	pøeklepu v docstringu.
	(FieldSpec.__init__): Oprava nìkterých nepøesností v docstringu.

	* lib/pytis/form/inputfield.py (InputField.init): Zru¹eno v¹e co
	souviselo s poèítáním výchozí hodnoty (to je teï v
	`PresentedRow'). Argument `value' je tím pádem povinný a nesmí být
	None.

	* lib/pytis/form/form.py (EmbeddedEditForm.field_change): Oprava
	pøeklepu v docstringu.
	(EmbeddedEditForm._set_row): Zru¹en argument `initial' a v¹e, co s
	ním souviselo.  U poèítaných sloupcù (KeyError) vùbec nevolej
	`f.init()'.  Nìjaké kosmetické úpravy.
	(EmbeddedEditForm.__init__): Nevolej `self._set_row()', ale rovnou
	vytvoø prázdný øádek voláním konstruktoru `PresentedRow'.

	* lib/pytis/data/types_.py (Codebook.default_value): Nová metoda.

2002-04-11  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing: Nový dokument.

2002-04-11  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Printing: Nový dokument.

2002-04-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Místo display paragraph pou¾ívej left paragraph a celý odstavec
	centruj.  Velké tabulky rozdìl na nìkolik men¹ích.

2002-04-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.get, Resolver._load_module):
	Doplnìn import `config'.

	* lib/pytis/form/__init__.py: Pøesunutý modul `resolver' vyøazen ze
	seznamu souborù updatu __dict__.

	* lib/pytis/form/form.py (SideBrowseDualForm._create_side_form): Místo
	standardního FilteredBrowseForm vytváøej vlastního potomka této
	tøídy, s podporou pøedání klíèe hlavního formuláøe formátovaèi
	výstupních sestav.

	* lib/pytis/form/list.py (BrowseForm._PrintResolver.get): Nedefinuj
	`page_header' a `page_footer'.
	(BrowseForm._formatter_data): Nová metoda.
	(BrowseForm._on_print_): Vyu¾ívej ji.

	* lib/pytis/output/formatter.py (LoutFormatter._MARK_PROCESSORS):
	Pøidáno Null a Center.
	(LoutFormatter._format_null): Nová metoda.
	(LoutFormatter._format_center): Nová metoda.
	(LoutFormatter._process): Pøidána podpora pro hlavièky a patièky
	stránek v INTRO.
	(_INTRO): Pøidány vkládací znaèky pro hlavièky a patièky stránek.
	(LoutFormatter.__init__): Doplnìny implicitní hodnoty pøi
	resolvování hlavièek a patièek stránek.
	(LoutFormatter.DATA_ROW): Nová konstanta.
	(LoutFormatter._format_data_item): Implementováno.
	(LoutFormatter._get_generic_resolver): Nová metoda.
	(LoutFormatter._format_data_table): Vyu¾ívej ji.

	* lib/pytis/output/markup.py (Center): Nová tøída.
	(Null): Nová znaèka.
	(DataItem): Mírnì zmìnìno pou¾ití znaèky, pouze dokumentaèní
	zmìna.

2002-04-09  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._set_row): namísto
	`self._view.columns()' pou¾ívej `self._view.fields()' pro
	vytvoøení `PresentedRow'.

	* lib/pytis/form/spec.py (ViewSpec._recourse_group): Nová metoda.
	(ViewSpec.fields): Nová metoda.
	(ViewSpec.__init__): Pokud je zadán layout, proveï assert a volej
	`self._recourse_group()'.

2002-04-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm._on_print_): Nech» je bìhem tisku
	zapnut busy cursor.

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table): Do
	prezentovaného øádku vkládej pouze viditelné sloupce.

	* lib/pytis/form/list.py (List._create_grid): Zru¹eny vìci týkající se
	poèítaèù.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nový argument
	a atribut `computer_data'.
	(PresentedRow._process_fieldspec): Doplnìna podpora pro poèítané
	poèítaèe.

2002-04-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._sfs_columns): Volej `sfs_columns'
	s argumentem `widthfunc'.

	* lib/pytis/form/search.py (sfs_columns): Nový argument `widhtfunc',
	zdokumentován argument `labelfunc', vynechávej skryté sloupce.

	* lib/pytis/presentation/field.py (PresentedRow.__getitem__):
	Multipolíèka spojuj jen je-li `_singleline' pravda.

	* lib/pytis/form/inputfield.py (TextField._filter_func): Zjednodu¹eny
	vracené funkce, TRUE a FALSE nemají patent na pravdu.
	(TextField._on_text): Místo `recompute' volej `field_change'.

	* lib/pytis/form/form.py (EmbeddedEditForm._set_row): Nech» atribute
	`_row' nyní obsahuje PresentedRow.
	(EmbeddedEditForm._on_field_change): Nová metoda.
	(EmbeddedEditForm.__init__): Zru¹en atribut
	`_disable_recomputation'.
	(EmbeddedEditForm._set_row): Atribut `_row' je nyní instancí
	lib.presentation.PresentedRow; zjednodu¹eno.
	(EmbeddedEditForm.recompute): Zru¹eno.
	(EmbeddedEditForm.changed): Zjednodu¹eno, vyu¾ívej `_row'.
	(EmbeddedEditForm.field_change): Nová metoda.
	(EmbeddedEditForm._on_commit_form): Místo jednièky vracej wx.TRUE.
	(EmbeddedEditForm._pack_fields): Místo vlastního urèování
	editovatelnosti vyu¾ívej metodu `editable' prezentaèního øádku.
	(EmbeddedEditForm.init): Vyu¾ito vlastností prezentaèního øádku,
	znaènì zjednodu¹eno.
	(EmbeddedEditForm.__init__): Místo nastavení `_row' na None volej
	`_set_row'.
	(EmbeddedEditForm._edit_update): Zohlednìna zmìna typu `_row'.

2002-04-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Volej
	konstruktor lib.presentation.PresentedRow s argumentem `new',
	zru¹en atribut `new'.
	(List._ListTable._EditedRow.changed): Zru¹eno.
	(List._ListTable.editing, List._ListTable.GetValue): Upraveno
	s ohledem na zmìny v editaèních informacích.
	(List._edit_cell): Vyu¾ívej novou metodu `editable' prezentaèního
	øádku.
	(List._on_cell_commit): Pøi vstupu do editace dal¹ího políèka
	pøeskoè needitovatelná políèka.

	* lib/pytis/presentation/field.py (PresentedRow._key2col): Nová metoda.
	(FieldSpec.editable): Opraven docstring.
	(PresentedRow.__init__): Nový argument a atribut `new'.
	(PresentedRow._Column.__init__): Nový argument a atribut
	`editable'.
	(PresentedRow._process_fieldspec): Zohlednìna pøedchozí zmìna.
	(PresentedRow.editable): Nová metoda.
	(PresentedRow.new): Nová metoda.

	* lib/pytis/form/application.py (Application.on_command): Loguj
	`command' s prioritou vrácenou jeho metodou `log'.

	* lib/pytis/form/command.py (Command.__init__): Nový argument a atribut
	`log'.
	(List.COMMAND_SELECT_CELL): Pøidán argument `log'.
	(Command.log_kind): Nová metoda.

2002-04-06  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._pg_query): Pøidej typ PgInt8
	(kvùli Postgresql7.2).
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pøidej typ int8.

2002-04-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (EnumerationField._set_value): Nech»
	`value' smí být i pøímo string.

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Opraveny
	asserts na argumenty.
	(List._ListTable._CurrentRow.__init__): Nech» `the_row' je
	instance lib.presentation.PresentedRow.
	(List._ListTable._fetch, List._ListTable.rewind)
	(List._current_key, List._on_line_commit, List._on_edit)
	(List.select_row): Zohlednìna pøedchozí zmìna.
	(List._ListTable._EditedRow.__init__): Opraveno chybné urèení
	novosti sloupce.
	(List._ListTable.__init__): Volej konstruktor _EditedRow
	s argumentem `new'.

	* lib/pytis/form/screen.py (WxKey.__init__): Nová metoda.
	(WxKey._key2wx): Ukládej a znovu vyu¾ívej ji¾ jednou spoèítané
	hodnoty.
	(KeyHandler.__init__): Nový atribut `_wx_key'.
	(KeyHandler.on_key_down): Pou¾ívej stále jednu a tuté¾ instanci
	WxKey.
	(KeyHandler.__init__): Nový atribut `_commands'.
	(KeyHandler.on_key_down): Procházej `_commands' místo v¹ech
	atributù.
	(StatusBar.message): Text nastavuj pouze pokud se li¹í od
	stávajícího.

	* lib/pytis/util/util.py (_public_attributes): Nová promìnná.
	(public_attributes): Ukládej a znovu vyu¾ívej ji¾ jednou spoèítané
	hodnoty.

	* lib/pytis/presentation/field.py (PresentedRow._Column.__init__): Nový
	argument a atribut `default'.
	(PresentedRow._process_fieldspec): Zohlednìna pøedchozí zmìna.

2002-04-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow): Pøepracováno pro
	vyu¾ití lib.data.PresentedRow.
	(List._ListTable.__init__): Zohlednìna pøedchozí zmìna.
	(List._ListTable._Column.__init__): Vyøazena vìt¹ina atributù.
	(List._ListTable.__init__): Atribut `_columns' pøejmenován na
	`_column_info' a jeho obsah omezen.  Do nového atributu `_columns'
	se nyní pøiøazuje originální specifikace sloupcù.
	(List._ListTable.edit_row): Nekopíruj øádek vrácený `_get_row',
	není to tøeba.
	(List._ListTable.GetValue): Pøepracováno, zjednodu¹eno.
	(List._ListTable.GetTypeName, List._ListTable.GetColLabelValue)
	(List._ListTable.SetValue): _columns -> _column_info.

	* lib/pytis/presentation/field.py (PresentedRow.__init__): Nový atribut
	`_original_row'.
	(PresentedRow.original_row): Nová metoda.
	(PresentedRow.changed): Nová metoda.
	(PresentedRow.__init__): Pøidány asserts na typ `fieldspec' a
	`data'.
	(PresentedRow.__setitem__): Implementováno.
	(PresentedRow._recompute): Nová metoda.
	(PresentedRow.update): Zru¹eno.
	(PresentedRow._init_row): Vícero oprav.
	(PresentedRow.set_row): Nová metoda.

2002-04-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/__init__.py: Importuj hvìzdièkovì lib.presentation.

	* lib/pytis/form/spec.py (Computer): Pøesunuto do lib.presentation.

	* lib/pytis/util/util.py (position): Nový argument `key'.

2002-04-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Vyu¾ívej lib.output.PresentedRow.

	* lib/pytis/presentation/field.py (FieldSpec.__init__): Místo
	`dir_const' pou¾ívej `public_attributes'.

	* lib/pytis/form/spec.py (dir_const): Zru¹eno.
	(GroupSpec.__init__): Místo `dir_const' pou¾ívej
	`public_attributes'.

	* lib/pytis/form/application.py (Application._top_level_exception):
	Debugger spou¹tìj a¾ po ostatních akcích.

2002-04-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (Editable): Pøesunuto do lib.presentation.
	(SelectionType, Orientation, PostProcess, TextFilter) 
	(FieldSpec): Pøesunuto do lib.presentation.

	* lib/pytis/presentation/field.py: Nový soubor.
	(FieldSpec): Úpravy dokumentace.

	* lib/pytis/presentation/__init__.py: Nový soubor.

2002-03-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.row): `key' smí být jakákoliv sekvence,
	nejen seznam (pouze dokumentaèní zmìna).

	* lib/pytis/output/markup.py (_Width): Zru¹eno.
	(Records): Zru¹eno.
	(_Container): Nová tøída.
	(Paragraph): Buï jejím potomkem.
	(Bold): Nová tøída.
	(RecordItem): Zru¹eno.
	(DataItem): Nová tøída.
	(DataTable.id): Doplnìn docstring.
	(DataTable.__init__): Pøidán assert na typ `id_'.

	* lib/pytis/output/formatter.py: Zdokumentovány funkce v ¹ablonách.
	(LoutFormatter._format_conc): Do reduce pøidán poèáteèní øetìzec.
	(LoutFormatter._MARK_PROCESSORS): Pøidáno Bold, odstranìno Records
	a RecordItem.
	(LoutFormatter._format_bold): Nová metoda.
	(LoutFormatter._format_records): Zru¹eno.
	(LoutFormatter._format_record_item): Zru¹eno.
	(LoutFormatter.INTRO): Hodnota pøesunuta do globální promìnné.
	(LoutFormatter._MARK_PROCESSORS): Pøidáno DataItem.
	(LoutFormatter._format_data_item): Nová metoda.

2002-03-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/configuration.py (Configuration.print_options): Místo
	`print' pou¾ívej sys.stdout.

	* lib/pytis/output/formatter.py (LoutFormatter._format_data_table):
	Je-li exportovaná hodnota None, pou¾ij prázdný øetìzec.
	(LoutFormatter.preview, LoutFormatter.printout): Pøidána Lout
	volba `-s'.
	(LoutFormatter._format_data_table): Doplnìn chybìjící specifikátor
	modulu.
	(LoutFormatter._format_data_table): Opraveno získávání poèítaných
	hodnot.
	(LoutFormatter._format_data_table): Pøidáno zarovnávání sloupcù
	napravo pro èíselné hodnoty.
	(LoutFormatter._lout): Uzavøi zdrojový soubor pro Lout generovaný
	pøi ladìní ihned po zápisu dat.
	(LoutFormatter.INTRO): ©íøka stránky pro textový formát zvìt¹ena
	na 200s.
	(LoutFormatter._format_data_table): Do textového výstupu pøidána
	mezisloupcová mezera.
	(LoutFormatter._format_data_table): Hlavièky tabulky mají nyní
	samostatný Lout formát a jejich polo¾ky jsou centrovány.

	* lib/pytis/form/list.py (BrowseForm._PrintResolver.get): Pøidána
	podpora pro `coding'.

	* lib/pytis/form/screen.py (MenuBar.activate): Pøidána logovací hlá¹ka.

	* lib/pytis/form/output.py (PrintForm.ACT_PRINT_FORM) 
	(PrintForm._ACTIVATIONS): Nové konstanty.
	(PrintForm.__init__): Nevolej `focus'.
	(PrintForm.run): Volej `focus'.
	(PrintForm._Preview._PAGE_COLS): Zvìt¹eno na 2002-03-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/command.py (PrintForm.COMMAND_NEXT_PAGE)
	(PrintForm.COMMAND_PREVIOUS_PAGE): Nové pøíkazy.

	* lib/pytis/form/output.py (PrintForm._Preview): Nová tøída.
	(PrintForm): Pou¾ívej ji, místo konkrétního pou¾ití wx tøídy.
	(PrintForm): Pou¾ívej pro výstup canvas místo wxTextCtrl.
	(PrintForm.on_command): Pøidáno zpracování pøíkazù listování
	stránkami.
	(PrintForm._create_controls): Navazuj `on_key_down' i na sebe
	sama.
	(PrintForm._set_page): Nová metoda.

2002-03-30  Milan Zamazal  <pdm@brailcom.org>

	* tools/pdmchecker.sh (BADFILES): Vynechej v¹echny soubory,
	jejich¾ názvy zaèínají podtr¾ítkem.

2002-03-30  Milan Zamazal  <pdm@brailcom.org>

	* tools/pdmchecker.sh (BADFILES): Vynechej v¹echny soubory,
	jejich¾ názvy zaèínají podtr¾ítkem.

2002-03-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm._fill_preview.format):
	Pøetransformováno na asynchronní procesování s prùbì¾ným plnìním
	textu.
	(PrintForm.__init__): Nevolej `_fill_preview'.
	(PrintForm.run): Nová metoda.

	* lib/pytis/output/formatter.py (LoutFormatter._ok_resolver): Nová
	metoda.
	(LoutFormatter.__init__): Vyu¾ívej ji.
	(LoutFormatter._format_data_table): Vytváøej `_generic_resolver',
	je-li tøeba.

	* lib/pytis/form/list.py (BrowseForm._PrintResolver.__init__): Nová
	metoda.
	(BrowseForm._PrintResolver.get): Nech» jméno tabulky v tìle je
	`_id', ne `file-name'.

2002-03-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/resolver.py (ResolverError): Nová tøída.
	(ResolverFileError, ResolverSpecError): Buï potomkem
	ResolverError.

	* lib/pytis/form/output.py (PrintForm._fill_preview): Nová metoda.
	(PrintForm.__init__): Pou¾ívej ji.

	* lib/pytis/output/markup.py: Roz¹íøen docstring.

	* lib/pytis/form/list.py (BrowseForm._on_print_): Pøedávej tisku
	i instanci _PrintResolver.
	(BrowseForm._PrintResolver): Nová tøída.

	* lib/pytis/util/util.py (copy_stream): Neuzavírej výstup uvnitø cyklu!

	* lib/pytis/output/formatter.py: Mírnì doplnìn docstring.
	(LoutFormatter._format_data_table): Vìt¹í mno¾ství rùzných úprav.
	(LoutFormatter._format_text): Nech» ve výsledku zùstane zachováno
	odøádkování.
	(LoutFormatter._format_paragraph): Pou¾ívej neodsazené odstavce.
	(LoutFormatter._lout): Ignoruj chyby pøi zápisu debugovacího
	souboru.
	(LoutFormatter.__init__): Argument `resolver' smí nyní být
	i sekvencí resolverù.
	(LoutFormatter.preview): Nový argument `stream', zapisuj výstup do
	nìj a nevracej nic.

2002-03-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm.on_command): Nová metoda.
	(PrintForm._create_controls): Nenastavuj textovému prvku velikost
	a registruj pro nìj klávesový callback na `on_key_down'.
	(PrintForm._on_print_): Implementováno.

	* lib/pytis/form/command.py (BrowseForm.COMMAND_PRINT): Zmìnìno na
	Form.COMMAND_PRINT.

	* lib/pytis/util/util.py (copy_stream): Dávej pozor na mo¾nost uzavøení
	výstupu.

	* lib/pytis/util/configuration.py
	(Configuration._Option_auto_reload_defs.default_string): Nová
	metoda.
	(Configuration._Option_printing_command): Nová konfiguraèní volba.

	* lib/pytis/output/markup.py (DataTable): Nová tøída.

	* lib/pytis/output/formatter.py: Pøidáno DataTable.
	(LoutFormatter._format_data_table): Nová metoda.
	(LoutFormatter.INTRO): Pøidán import `tbl'.
	(LoutFormatter.__init__): Zru¹eny atributy `_ncols' a `_nrows'.
	(LoutFormatter.page_size): Zru¹eno.
	(LoutFormatter.__init__): Nový atribut `_resolver'.
	(LoutFormatter._format_new_page): Opraven pøeklep v loutové
	funkci.

	* lib/pytis/form/list.py (List.condition): Nová metoda.
	(List.sorting): Nová metoda.
	(BrowseForm._on_print_): Pøedávej formátovaèi parametru výbìru své
	tabulky.
	(BrowseForm.on_command): BrowseForm.COMMAND_PRINT ->
	Form.COMMAND_PRINT.

2002-03-26  Milan Zamazal  <pdm@brailcom.org>

	* tools/genconfig.py (go): Upraveno aby fungovalo se souèasným
	zpùsobem vytváøení konfigurace.

2002-03-26  Milan Zamazal  <pdm@brailcom.org>

	* tools/genconfig.py (go): Upraveno aby fungovalo se souèasným
	zpùsobem vytváøení konfigurace.

2002-03-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (CopyStream): Nová sada testù.

	* lib/pytis/util/util.py (copy_stream): Nová funkce.

	* lib/pytis/output/formatter.py (LoutFormatter._process): Funkcionalita
	pøesunuta do nové metody `_generate_document'; nyní zaøizuje
	základní generování obsluhu.
	(LoutFormatter.__init__): Zru¹en atribut `_pages', nový atribut
	`_formatted_document'.
	(LoutFormatter._lout): Tvorba zdrojového textu dokumentu se nyní
	volá synchronnì a výsledek se ukládá do `_formatted_document'.
	(LoutFormatter._process): Neuzavírej stream.

	* lib/pytis/form/output.py (PrintForm): Pøetransformováno na obyèejný
	formuláø na frame stacku.

2002-03-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (PrintForm._create_controls): Nový atribut
	`_text'.
	(PrintForm.__init__): Volej formátování textu a zobraz výsledek.

	* lib/pytis/output/formatter.py (Formatter): Pøejmenováno na
	LoutFormatter a kompletnì pøepracováno.
	(Formatter): Nová promìnná.
	(Coding): Nová tøída.

	* lib/pytis/output/markup.py (Text): Zru¹eno.
	(Conc): Zru¹eno.
	(PageNumber): Pøidáno omezení na umístìní znaèky (jen dokumentaèní
	zmìna).
	(Paragraph): Nová tøída.

2002-03-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/output.py (_Canvas, _Printout): Zru¹eno.
	(PrintForm): Kompletnì pøepracováno.

	* lib/pytis/form/list.py (List._ListTable.editing): Pøíznak zmìny øádku
	zji¹»uj pøes _EditedRow.changed.
	(List._ListTable._EditedRow.changed): Nová metoda.

2002-03-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow): Kompletnì
	pøepracováno.
	(List._ListTable._CurrentRow.__init__): Doplnìny asserts na
	parametry.
	(List._ListTable.__init__, List._ListTable.edit_row): Updatováno
	s ohledem na zmìny _EditedRow.
	(List._on_insert_line): Nevytváøej nový øádek, není-li kopií,
	pøedávej do `_recreate_grid' None.
	(List._ListTable.__init__): Zohlednìna pøedchozí zmìna.
	(List._ListTable._Column.__init__): Nový argument `default'.
	(List._ListTable.SetValue): Místo prostého pøiøazení do
	editovaného øádku volej metodu `update'.

2002-03-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable._EditedRow.__init__): Opraven
	chybný odkaz na pøedka.
	(List._edit_cell): Opravena podmínka editovatelnosti.

2002-03-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	V `_pdbb_command_get_last' doplòuj DESC za v¹echna oids.

2002-03-19  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (dir_const): Kosmetické úpravy.
	(Editable): Nová tøída.
	(FieldSpec.__init__): Zru¹en argument `alterable'. Zmìna domény
	hodnot argumentu `editable'. Update dokumentace. Doplnìna
	dokumentace pro objasnìní významu `computer' a `default'. Assert
	na `editable'
	(FieldSpec.editable): Metoda zru¹ena.

	* lib/pytis/form/list.py (List._create_grid): Vyu¾ívej konstanty
	`FieldSpec.editable()'.
	(List._edit_cell): Vyu¾ívej konstanty `FieldSpec.editable()'.
	Pozor, podmínka pro test editovatelnosti políèka neobsahuje test
	na nový øádek, tak¾e se neuplatní `Editable.ONCE'. Nutno dodìlat!!!

	* lib/pytis/form/inputfield.py (resolve): Nech» implicitní hodnotou
	argumentu `editable' je `TRUE'. Doplnìna dokumentace.
	(InputField.__init__): Nech» implicitní hodnotou
	argumentu `editable' je `TRUE'. Update dokumentace.
	(InputField.enabled): Nová metoda.
	(MultiTextField._set_value): Assert na 'is_sequence(values)'.

	* lib/pytis/form/form.py (EmbeddedEditForm._validate): Namísto
	`field.spec().editable()' pou¾ívej `field.enabled()'.
	(EmbeddedEditForm._pack_fields): Namísto `FieldSpec.alterable()'
	vyu¾ívej konstanty `FieldSpec.editable()'.
	(EmbeddedEditForm.__init__): Inicializuj atribut
	`self._disable_recomputation'.
	(EmbeddedEditForm._set_row): V prùbìhu inicializace hodnot políèek
	zaka¾ pøopoèítávání (pomocí `self._disable_recomputation').
	(EmbeddedEditForm.recompute): Nic nedìlej, pokud je nastaveno
	`self._disable_recomputation'. Pokud jde o volání pøi inicializaci
	formuláøe, nepøepoèítávej políèka, která jsou obsa¾ena v `self._row'.
	(EmbeddedEditForm.recompute): Pøeskakuj políèko, které je v Row,
	pouze pokud jde o editaci stávajícího záznamu. Pøi inicializaci
	nového záznamu je tøeba vypoèítat v¹echna políèka.

2002-03-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_table_row_lists):
	Pøeskakuj sloupce, je¾ jsou instancemi Oid.

2002-03-15  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (Computer.__init__): V assertu na `depends' povol
	také None.
	(FieldSpec.__init__): Nový argument `references' + dokumentace.
	(FieldSpec.type): Úprava chybové hlá¹ky u assertu.
	(FieldSpec.references): Nová metoda.

	* lib/pytis/form/form.py (EmbeddedEditForm._pack_fields): Namísto
	`fspec.height()' pou¾ívej `field.height()'.
	(EmbeddedEditForm.recompute): `self._row.update()' obal do `try'.
	(DualForm.OnSetFocus): Namísto `OnSetFocus()' volej na aktivní
	formuláø `SetFocus()'.

	* lib/pytis/form/inputfield.py (resolve): Dodána podpora pro rozeznání
	`ListField'u.
	(InputField._on_set_focus): Vracej wx.TRUE.
	(InputField._width): Pøejmenováno na `width'.
	(InputField._height): Pøejmenováno na `height'.
	(InputField.hidden): Nová metoda.
	(TextField._create_controls): `_height' -> `height'
	(TextField._on_key_down_multiline): Klávesu Enter zpracovávej
	odli¹nì jen pokud je `self._enabled'.
	(RadioBoxField._create_controls): `_width' -> `width', `_height'
	-> `height'
	(InlineMultiTextField._create_controls): `_width' -> `width'
	(InlineMultiTextField._width): `_width' -> `width'
	(MultiTextField._create_controls): `_width' -> `width'
	(HiddenField): Nová tøída.
	(ListField): Nová tøída.

2002-03-14  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.recompute): Pøidána podpora
	pro závislosti -- nepøepoèítávej políèka, která nezávisí na
	zmìnìném políèku.

2002-03-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack._replace_window): Volej na
	`window' Show nepodmínìnì.

	* lib/pytis/form/list.py (List._switch_sorting): Tøídìní blokuj pro
	sloupce nepøítomné v datovém objektu, ne datové sloupce.

	* lib/pytis/util/__init__.py: Pøedávej konstruktoru Configuration
	argumenty pøíkazové øádky.

	* ebas (_install_configuration): Zru¹eno.
	(go): Nevolej `_install_configuration'.

	* lib/pytis/data/dbdata.py (Oid): Nový datový typ.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Nech» DB typ `oid' se mapuje na Oid.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Sloupec `oid' pøidávej pouze tehdy, pokud ve specifikacích sloupcù
	není ¾ádný typu Oid.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pøidána podpora pro Oid sloupce.
	(DBDataPostgreSQL.lock_row, DBDataPostgreSQL.unlock_row)
	(DBDataPostgreSQL._pg_locking_process): Updatováno pro násobná
	oids.

2002-03-13  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (Computer.__init__): Nový argument
	`depends'. Doplnìna dokumentace.
	(Computer.depends): Nová metoda.

2002-03-12  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.recompute): Pøepoèítávej
	pouze políèka, která nejsou ve `values'.
	(EditForm.message): Pøidávej mezeru pøed zprávy.

	* lib/pytis/form/inputfield.py (_TextValidator._on_char): Pro filtrované
	znaky a pøi pøekroèení délky øetìzce vypi¹ chybovou zprávu.
	(resolve): Nech» je implicitní hodnotou argumentu
	`enabled' hodnota None.
	(InputField.__init__): Nech» je implicitní hodnotou argumentu
	`enabled' hodnota None.  Pokud je `enabled' None, nastav `enabled'
	podle `FieldSpec.editable()'.  Úprava docstringu.
	(TextField._on_text): Vracej `wx.TRUE'.

	* lib/pytis/form/list.py (List.registration): Editovatelnost urèij pouze
	podle specifikátoru 'FieldSpec.editable()' - neber ohled na
	computer, proto¾e ten je zohlednìn ji¾ ve `FieldSpec'.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Nech» implicitní hodnota
	argumentu `editable' je None. Úprava docstringu. Pokud je `editable'
	None, nastavuj hodnotu atributu `_editable' podle toho, zda byl
	definován `computer'.

2002-03-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application._resolver_directory): Nech»
	implicitní adresáø s definièními soubory je './defs'.

	* lib/pytis/util/configuration.py (Configuration._Option_defdir): Volba
	nyní urèuje pøímo adresáø s definièními soubory.
	(Configuration._Option_defdir.default): Nech» implicitní hodnotou
	je './defs'.

2002-03-12  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.init): Pøidány komentáøe.
	(EmbeddedEditForm.init): `self.recompute()' volej jen pro nový
	záznam. Pøi editaci je `recompute()' voláno ji¾ v `_set_row()'.
	(EmbeddedEditForm.init): Doplnìn docstring.
	(EmbeddedEditForm._set_row): Nakonec zavolej `self.recompute()'
	(EmbeddedEditForm.recompute): Pokud není nastaveno `self._row',
	nedìlej vùbec nic. Nastavuj hodnotu políèka pouze pokud
	je rùzná od stávající hodnoty (kvùli rekurzi).
	(ShowForm._create_form): Doplnìn docstring.
	(EditForm._create_form): Doplnìn docstring.

	* lib/pytis/form/inputfield.py (TextField._on_text): Pokud je hodnota
	validní, pøepoèítej pøípadná poèítaná políèka.
	(TextField._on_key_down_multiline): Nová implementace (pùvodní
	pøestala fungovat po zavedení centrálního zpracování událostí).
	(TextField._create_text_control): Pøidán komentáø.
	(InputField._on_kill_focus): Nevyvolávej pøepoèítávání ostatních
	políèek formuláøe.

2002-03-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._edit_update): Pøi chybì
	zobraz chybový dialog.

	* lib/pytis/form/search.py (sfs_columns): Sloupce vyluèuj ne podle toho
	zda jsou poèítané, nýbr¾ podle jejich nepøítomnosti v datech.

	* lib/pytis/form/list.py (List._ListTable.GetValue): Hodnotu sloupce
	poèítej pouze tehdy, není-li v øádku pøítomna nebo je None.

	* lib/pytis/data/data.py (Row.has_key): Nová metoda.

2002-03-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (Configuration): Zru¹eno.

	* lib/pytis/util/test.py (TestSuite.add): Updatováno pro novou
	konfiguraci; opravena chybná podmínka filtrování interaktivních
	testù.

	* lib/pytis/util/configuration.py (config): Zru¹eno.
	(Configuration._Option_icon_dir.icon_dir): Název metody opraven na
	`default'.
	(Configuration._Option_log_class_filter.default): Vracej None.
	(Configuration._Option_log_class_filter.default_string): Nová
	metoda.
	(Configuration._Option_log_logger.default)
	(Configuration._Option_log_logger.default_string): Prohozeny
	logovací tøídy v tìchto dvou metodách.
	(Configuration._Option_user_config_file): Nová volba.
	(Configuration._Option_config.default)
	(Configuration._Option_config.default): Standardní `config.py'
	hledej v `config' místo `defs'.
	(Configuration.serial_number): Nová metoda.
	(Configuration._Option_config): Pøejmenováno na
	`_Option_config_file'.
	(Configuration.__getattr__): Pøidána podpora pro u¾ivatelský
	konfiguraèní soubor.
	(Configuration._read_configuration_file): Nová metoda.
	(Configuration._read_configuration): Vyu¾ívej ji a podpora pro
	u¾ivatelskou konfiguraci.
	(Configuration._parse_command_line_options): Opraveno získání
	seznamu voleb.
	(Configuration._Option_log_exclude.default): Nech» implicitní
	hodnota závisí na volbì `debug'.
	(Configuration.print_options): Nová metoda.
	(Configuration.Option.value): Nepøiøazuj výsledek `init_value' do
	`_value'.
	(Configuration._Option_dbname.default): Nová metoda.

	* config/__init__.py: Zru¹eno.

	* ebas (_USAGE): Doplnìno --config.
	(_process_options): Zru¹eno.
	(go): Upraveno pro nový konfiguraèní mechanismus.
	(_install_configuration, _install_gettext): Nové funkce.
	(go): Volej je.
	(_USAGE): Pøesunuto do `_usage'.
	(_usage): Argument `option' pøejmenován na `optexception' a
	skuteènì pou¾it.

	* lib/pytis/util/log.py (Logger.__init__, Logger._is_accepted)
	(Logger._formatted_data, log): Zohlednìna zmìna logovacích
	konfiguraèních voleb.

	* lib/pytis/util/util.py (Configuration): Zru¹eno.

	* lib/pytis/util/__init__.py: Importuj `configuration'.
	Vytváøej "fale¹ný" modul `config'.

2002-03-09  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/util/configuration.py: Nový modul.

2002-03-09  Milan Zamazal  <pdm@brailcom.org>

	* tools/genconfig.py: Nová pomùcka.

2002-03-09  Milan Zamazal  <pdm@brailcom.org>

	* tools/genconfig.py: Nová pomùcka.

2002-03-07  Pavel Hanak  <hanak@brailcom.cz>

	* doc/standards/bugs: Popis nové chyby wxgtk.

2002-03-07  Pavel Hanak  <hanak@brailcom.cz>

	* doc/standards/bugs: Popis nové chyby wxgtk.

2002-03-06  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/inputfield.py (CodeBookField._create_widget): Oprava
	formátování. 
	(InputField.__init__): Oprava formátování.

2002-03-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/resolver.py (Resolver.get, Resolver._load_module):
	Pøidána nejzákladnìj¹í podpora pro config.auto_reload_defs.

	* lib/pytis/data/types_.py (NonNull): Nová tøída.

	* config/config.py (defdir): Nová volba.
	(auto_reload_defs): Nová volba.

	* lib/pytis/form/screen.py (WxKey.is_event_of_key, MItem.__init__):
	Update v docstringu.

	* lib/pytis/form/application.py (Application._resolver_directory): Nová
	metoda.
	(Application._resolver): Vyu¾ívej ji.

	* ebas (_USAGE, _process_options): Nová volba --defdir.
	(_process_options): Pøi --debug nastavuj config.auto_reload_defs
	na TRUE.

2002-03-05  Milan Zamazal  <pdm@brailcom.org>

	* tools/pdmchecker.sh: Nový pomocný skript.

2002-03-05  Milan Zamazal  <pdm@brailcom.org>

	* tools/pdmchecker.sh: Nový pomocný skript.

2002-03-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefault): Zru¹eno, test byl nesmyslný.
	(DBCounter): Nová sada testù.

	* lib/pytis/data/dbdata.py (_pypg_query): Nová funkce.
	(DBDataPyPgSQL._pg_query): Vyu¾ívej ji.
	(DBPyPgCounter): Nová tøída.
	(DBCounterDefaultClass): Nová tøída.
	(_pypg_connection_pool_): Nová promìnná.
	(_pypg_connection_pool): Nová funkce.
	(DBDataPyPgSQL.CONNECTION_POOL): Zru¹eno.
	(DBDataPyPgSQL.__init__)
	(DBDataPyPgSQL._pypg_add_notifications)
	(DBDataPyPgSQL._pypg_get_connection)
	(DBDataPyPgSQL._pypg_return_connection): Zohlednìny pøedchozí
	zmìny.

	* lib/pytis/data/data.py (Counter): Nová tøída.

2002-03-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._current_key): O¹etøuj pøípad, kdy je
	`row' men¹í ne¾ 0.
	(FilteredBrowseForm.filter): Update docstringu.
	(List.select_row): Jestli¾e pozice daná klíèem není nalezena,
	nech» je pozice v seznamu 0.
	(List.refresh): Je-li pozice èíselná, pokus se ji pøenastavit na
	klíè anebo 0.

	* lib/pytis/form/application.py (Application._top_level_exception):
	Je-li nastaveno config.debug, spus» debugger.

	* ebas (_process_options): Pøi --debug nastavuj config.debug.

	* config/config.py (debug): Nová promìnná.

2002-02-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack._replace_window): Neprovádìj
	nìkteré operace s novým oknem, pokud staré okno je odstraòované a
	modální.

	* lib/pytis/form/form.py (DualForm.Close): Nuluj `_active_form'.
	(DualForm.OnSetFocus): Volej OnSetFocus na aktivní podformuláø, ne
	SetFocus na hlavní formuláø.
	(DualForm.Show): Nastavuj jako aktivní formuláø hlavní formuláø.

	* lib/pytis/form/search.py (SFDialog._create_content.condition):
	Kosmetická úprava.
	(sfs_columns): Nový argument `labelfunc'.

	* lib/pytis/form/spec.py (FieldSpec.__init__): `width' smí být 0 a znaèí
	skryté pole (pouze doplnìní docstringu).

	* lib/pytis/form/list.py (List._current_key): O¹etøuj chybný klíè --
	zaloguj a zobraz chybový dialog.
	(List._sfs_columns): Pøedávej do `sfs_columns' argument
	`labelfunc'.
	(List._on_insert_line): O¹etøeno urèení èísla øádku pøi vlo¾ení do
	prázdného seznamu.

2002-02-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/formatter.py (Formatter._MARK_PROCESSORS): Nová
	konstanta.
	(Formatter.__init__): Nový atribut `_mark_processors'.
	(Formatter._format_text, Formatter._format_conc)
	(Formatter._format_new_page, Formatter._format_page_number)
	(Formatter._format_records, Formatter._format_record_item): Nové
	metody.
	(Formatter._format): Pøepracováno, zjednodu¹eno.
	(Formatter._format_conc.concat): Spojuj elementy bez vkládání
	nových øádkù.
	(Formatter._Continuation): Zru¹eno.
	(Formatter._Page): Nová pomocná tøída.
	(Formatter._format_new_page): Implementováno.
	(Formatter._format*): Metody nyní pracují s instancemi _Page a
	mají nový parametr `pages'.
	(Formatter.formatted_page): Pøepracováno.

2002-02-26  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/__init__.py (_list): Neimportuj resolver.

2002-02-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/output/__init__.py: Prohozeno poøadí importù.

	* lib/pytis/form/output.py (_Canvas._FONT_SIZE): Pøejmenováno na
	FONT_SIZE.
	(_Canvas._LINE_SPACE): Pøejmenováno na LINE_HEIGHT a poèítáno
	z FONT_SIZE.
	(_Canvas.draw): Zohlednìna pøedchozí zmìna.
	(_Printout.OnPrintPage): `scalex' a `scaley' je nyní poèítáno
	øádnì.

	* lib/pytis/util/__init__.py: Pøidán import `resolver'.

	* lib/pytis/form/resolver.py: Pøesunuto do lib/util/.
	
	* lib/pytis/output/formatter.py: Doplnìn docstring.
	(Formatter.__init__): Implementováno.
	(Formatter._resolve): Nová metoda.
	(Formatter._format): Nová metoda.
	(FormattingException, TemplateException): Nové tøídy.
	(Formatter.page_size): Ber hodnoty z atributù.
	(Formatter._Continuation): Nová tøída.
	(Formatter.has_page): Implementováno.
	(Formatter.formatted_page): Do docstringu doplnìno èíslování
	stránek.
	(Formatter.formatted_page): Provizorní implementace.
	(Formatter._break_fill): Opravena chyba v pøidávání do `result'.
	(Formatter._break_fill): Správnì o¹etøuj øádky s nulovou délkou.

	* lib/pytis/form/resolver.py (ResolverFileError): Doplnìn chybìjící
	docstring.
	(ResolverSpecError): Nápodobnì.
	(Resolver._load_module): Pøidána kvalifikace metod modulu `imp'.

	* lib/pytis/form/list.py (BrowseForm._on_print_): Pøedávej konstruktoru
	Formatter v¹echny argumenty.
	(BrowseForm.on_show_details): Doplnìn chybìjící docstring.

2002-02-23  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/output: Nový modul.

	* lib/pytis/form/output.py: Nový soubor.

2002-02-23  Milan Zamazal  <pdm@brailcom.org>

	* tools/find-prints.sh: Hledej pouze obyèejné soubory.  Vynechávej
	`_config.py'.

2002-02-23  Milan Zamazal  <pdm@brailcom.org>

	* tools/find-prints.sh: Hledej pouze obyèejné soubory.  Vynechávej
	`_config.py'.

2002-02-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm.on_command): Nová metoda.

2002-02-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/__init__.py: Pøidán soubor `output'.

	* lib/pytis/form/list.py (BrowseForm._on_print_): Nová metoda.

	* lib/pytis/form/command.py: Nový pøíkaz List.COMMAND_PRINT.

2002-02-22  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._popup_form): Metoda
	pøejmenována na veøejnou `popup_form()'.
	(Application._update_stack_display): V tooltipu statusbaru
	zobrazuj také název tøídy formuláøe.
	(Application.on_command): `_popup_form()' -> `popup_form()'

2002-02-21  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/dialog.py (MultiQuestion.__init__): Nový argument `icon'.
	(Question.__init__): Nový argument `icon'.
	(db_operation): Nastavuj chybovému dialogu titulek a ikonu chyby.

	* lib/pytis/form/list.py (ListForm): Nech» tøída dìdí také z `TitledForm'. 
	(ListForm.__init__): Zru¹eno v¹e, co se týká vytváøení panelu s
	titulkem. Vyu¾ito `TitledForm._create_title_bar()'. `self._header'
	pøejmenováno na `self._title_bar'.
	(ListForm.SetSize): `self._header' -> `self._title_bar'.
	(ListForm.on_show_details): Namísto pøímého vytváøení a spou¹tìní
	formuláøe pou¾ij 'Application.popup_form()'
	(FilteredBrowseForm): Nech» tato tøída nedìdí `SettableForm'.
	(ListForm._TITLE_BORDER_WIDTH): Atribut zru¹en (dìdí se z
	`TitledForm').

	* lib/pytis/form/form.py (ShowForm): Doplnìna dokumentace.
	(SettableForm): Tøída nevyu¾ívána, tedy zru¹ena.
	(TitledForm): Nová tøída.
	(EmbeddedEditForm): Nech» je potomkem TitledForm.
	(EmbeddedEditForm._create_form): Kosmetické úpravy. Metodì
	`_create_caption()' pøedávej také taxt titulku.
	(EmbeddedEditForm._create_caption): Metoda zru¹ena (pøesunuta do
	nové tøídy `TitledForm'.
	(ShowForm._TITLE_BORDER_WIDTH): Atribut zru¹en (dìdí se z
	`TitledForm').
	(ShowForm._create_form): Zru¹en ve¹kerý k=od související s
	vytváøením panelu titulku.
	(EditForm._create_form): Kosmetické úpravy. Metodì
	`_create_caption()' pøedávej také taxt titulku.
	(DescriptiveDualForm.__init__): Klíèový argument `position' hledej
	v `kwargs'.

2002-02-20  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._create_caption): Nový
	argument `parent'. Nech» je argument `size' nepovinný. Novou
	instanci `wxFont' vytváøej, jen pokud byla zadána velikost, jinak
	pou¾ij stávající.
	(ShowForm): Nová tøída.
	(EditForm._create_form): Pøedávej argument `parent' metodì
	`_create_caption()'. 
	(DescriptiveDualForm._create_side_form): Namísto
	`EmbeddedEditForm' pou¾ij `ShowForm'.

	* lib/pytis/form/list.py (ListForm.__init__): Radìji ne¾
	`wx.wxALIGN_CENTRE' pou¾ívej `wx.wxALIGN_CENTER'.

2002-02-19  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.init): Kosmetická úprava.

	* lib/pytis/form/form.py (EmbeddedEditForm._edit_insert): Volej
	`_validate()' bez `omit_read_only=TRUE'.
	(EmbeddedEditForm.init): Pokud není znám klíè (nový záznam),
	vytvoø `self._row' jako instanci Row z implicitních hodnot
	políèek.
	(EmbeddedEditForm._set_row): Update komentáøe. Zakomentováno
	odchytávání výjimky o¹etøené pouze zalogováním.
	(DescriptiveDualForm._on_side_selection): Nová metoda.

2002-02-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.select_row): Nech» `position' smí být
	i instance lib.data.Row.

	* lib/pytis/form/form.py (EmbeddedEditForm.select_row): Nech» `key' smí
	být i instance lib.data.Row.

	* ebas (gg): Nová funkce.

2002-02-19  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._create_caption): Nenastavuj
	encoding pøímo, ale pomocí `wx.wxFONTENCODING_DEFAULT'
	(EmbeddedEditForm.init): Namísto `self.select_row()' volej
	`self._set_row()' a to i v pøípadì, ¾e není znám klíè (nový
	záznam) kvùli inicializaci default hodnot.
	(EmbeddedEditForm._set_row): Kosmetické úpravy.

2002-02-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (_pypg_new_connection): Lépe zformulováno
	hlá¹ení výjimky pøi neúspìchu vytvoøení spojení.

	* config/config.py (custom_debug): Nová funkce.

	* config/__init__.py: Pøidáno natahování ladícího modulu `_config'.

	* lib/pytis/util/util.py (ipython): Hlá¹ku o nedostupnosti IPython
	vypisuj na stderr.

	* lib/pytis/form/command.py: Nový pøíkaz
	Application.COMMAND_CUSTOM_DEBUG.

	* lib/pytis/form/list.py (BrowseForm.on_show_details): Nová metoda.

	* lib/pytis/form/form.py (DescriptiveDualForm.__init__): Nový argument
	`position'.
	(DescriptiveDualForm.__init__): Opraveno jméno tøídy v `super'.

	* lib/pytis/form/application.py (Application._popup_form): Pro
	BrowseForm nastavuj alternate activation callback na
	`on_show_details'.
	(Application.on_command): Pøidána podpora pro pøíkaz
	COMMAND_CUSTOM_DEBUG.

2002-02-18  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): Nevolej na políèka
	`disable()'.
	(EmbeddedEditForm._pack_fields): Pou¾ij argument `enabled' pøi
	vytváøení políèka.

	* lib/pytis/form/inputfield.py (resolve): Nový argument `enabled'.
	(InputField.__init__): Nový argument `enabled'. Nenastavuj
	`self._enabled' podle `fspec.enabled()' ale podle argumentu.
	(InputField.disable): Úprava docstringu.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Nový argument `alterable'.
	(FieldSpec.alterable): Nová metoda.
	(FieldSpec.separator): Úprava docstringu.

	* lib/pytis/form/dialog.py (GenericDialog.run): Kosmetické úpravy.

2002-02-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (DescriptiveDualForm): Nová tøída.
	(EmbeddedEditForm.select_row): Nová metoda.
	(EmbeddedEditForm.init): Vyu¾ívej ji.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Vypínej staré
	okno nejen pøi `close'.

	* lib/pytis/data/types_.py (Type.default_value): Nová metoda.
	(Boolean.__init__): Prohozeno poøadí hodnot v enumeration.
	(Enumeration.default_value): Nová metoda.

	* lib/pytis/form/list.py (List._create_grid): `computer' ve specifikaci
	pole updatuj pomocí FieldSpec.update_computer.
	(List._on_insert_line): Hodnoty nového øádku zji¹»uj z defaults
	místo jejich vytváøení na místì.
	(List._ListTable.GetValue): Dodateèné úpravy stringové hodnoty
	provádìj jenom pokud nebylo zadáno inputfield.
	(List._ListTable.GetValue): U Boolean testuj hodnotu instance
	value, ne instanci samu.
	(List._EDIT_COLORS): Nová konstanta.
	(List._on_edit, List._on_insert_line): Pøi vstupu do editace
	nastav editaèní barvy.
	(_InputFieldCellEditor.BeginEdit): Kurzor nastavuj na konec
	políèka místo na jeho zaèátek.
	(List._on_select_cell): Volej SetFocus a¾ po `_select_cell'.

	* lib/pytis/form/spec.py (FieldSpec.update_computer): Nová metoda.

	* lib/pytis/form/inputfield.py (EnumerationField._set_value): Doplnìn
	assert na `value'.

2002-02-16  Milan Zamazal  <pdm@brailcom.org>

	* ebas (_USAGE): banka -> ebas.

	* lib/pytis/form/list.py (List._ListTable._Column.__init__)
	(List._ListTable.__init__, List._ListTable.GetValue): Zohledòuj
	oddìlovaèe øádkù.
	(_InputFieldCellEditor.BeginEdit): Volej GetValue s argumentem
	`inputfield'.
	(List._ListTable.GetValue): Nový argument `inputfield'.
	(_InputFieldCellEditor.EndEdit): Pøedávej hodnotu do SetValue
	pøímo, bez pøedchozích úprav.
	(List._ListTable.SetValue): Jako `value' nyní pøijímej instanci
	lib.data.Value.
	(List._create_grid): Pøedávej editoru vstupního políèka gridovou
	tabulku.
	(_CellEditor.__init__): Nový argument `table' a atribut `_table'.
	(_InputFieldCellEditor.BeginEdit, _InputFieldCellEditor.EndEdit):
	Tabulku vytahuj ze svého atributu, ne z pøedaného pseudogridu.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Nový argument
	`line_separator' a atribut `_line_separator'.
	(FieldSpec.line_separator): Nová metoda.

2002-02-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.__init__, BrowseForm.__init__) 
	(FilteredBrowseForm.__init__): Nový argument `guardian'.
	(List.on_key_down): Vracej FALSE.
	(List.guardian): Nová metoda.

	* lib/pytis/form/screen.py (KeyHandler.on_key_down): Pokud je definováno
	guardian, volej je místo pøeskoèení události.

	* lib/pytis/form/form.py (DualForm._select_form): O¹etøuj pøípad, kdy je
	`form' None.
	(Form.__init__): Nový parametr `guardian' a atribut `_guardian'.
	(Form.guardian): Nová metoda.
	(SideBrowseDualForm._create_side_form) 
	(BrowseDualForm._create_main_form): Pøedávej konstruktoru seznamu
	argument `guardian'.
	(DualForm._select_form): Pokud je po¾adovaný formuláø ji¾ aktivní,
	nedìlej nic.

	* lib/pytis/util/util.py (ipython): Nová funkce.

	* ebas (go): Nevolej sys.exit.

2002-02-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/command.py: Nový pøíkaz DualForm.COMMAND_OTHER_FORM.

	* lib/pytis/form/form.py (SideBrowseDualForm._create_side_form):
	`_on_side_selection' navì¹uj na callback u¾ivatelské informace
	místo selekce.
	(BrowseDualForm._create_main_form): Nastavuj callback u¾ivatelské
	interakce.
	(BrowseDualForm.__init__): Pou¾ívej `focus' místo `OnSetFocus'.
	(DualForm._select_form): Nová metoda.
	(SideBrowseDualForm._on_side_selection): Zru¹eno.
	(SideBrowseDualForm._create_side_form): Pou¾ívej `_select_form'
	místo `_on_side_selection'.
	(SideBrowseDualForm._on_selection): Neprovádìj vìci okolo focus.
	(DualForm._other_form): Nová metoda.
	(DualForm.on_command): Pøidána podpora pro pøíkaz
	COMMAND_OTHER_FORM.

	* lib/pytis/form/screen.py (WxColor): Nová tøída.

	* lib/pytis/form/list.py (List._change_selection_colors): Barvy
	pøenastavuj pouze dochází-li k jejich skuteèné zmìnì.
	(List.select_row.clear): Zru¹eno.
	(List.select_row.set): Vracej zda do¹lo ke zmìnì.
	(List.select_row.set): Pøidána podpora pro ru¹ení selection.
	(List.select_row): Volej callbacks, je-li tøeba; pøi rùzných
	neúspì¹ích proveï deselect øádku; proèi¹tìní.
	(List._current_key): O¹etøuj pøípad kdy je poèet øádkù men¹í ne¾
	po¾adované èíslo øádku.
	(List._FILTER_COLOR, List._FOCUS_COLORS, List._NOFOCUS_COLORS):
	Pou¾ívej WxColor místo wx.wxColour.
	(List.CALL_USER_INTERACTION): Nová konstanta.
	(List._on_label_left, List._on_label_right, List.on_key_down):
	Volej callback u¾ivatelské interakce.
	(List.set_callback): Assert na `kind' "zautomatizován" místo
	dosavadního výètu konstant.
	(List._recreate_grid): Jestli¾e pozice v seznamu je urèena
	èíselnì, resetuj ji na 0.

2002-02-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.select_row.set): Vracej èíslo
	vyselektovaného øádku.
	(List.select_row): Vracej èíslo vysvíceného øádku, ne `position'.
	(List._select_cell): Volej `select_row'.
	(List._select_cell): Nevolej callbacks.

	* lib/pytis/form/form.py (BrowseDualForm._create_main_form): Browse form
	vytváøej bez selekce øádku.
	(BrowseDualForm.__init__): Selektuj první øádek vedlej¹ího
	formuláøe.

2002-02-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm.__init__): Volej `super' na
	sebe, ne pøedka.

2002-02-14  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MenuBar.__init__): Pokud není definována
	klávesa, uva¾uj klávesu pøíkazu.
	(MenuBar._assemble_menu): Pokud není definována klávesa, uva¾uj
	klávesu pøíkazu.

2002-02-12  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField._on_kill_focus): Pokud projde
	validace, volej `self._form.recompute()'.
	(TextField._disable): Nová metoda.

	* lib/pytis/form/form.py (EmbeddedEditForm._init_dialog): Pøejmenováno
	na `init()'.
	(EmbeddedEditForm.__init__): Namísto `self._init_dialog()'
	pou¾ívej `self.init()'.
	(EmbeddedEditForm._edit_insert): Namísto `self.set_row()' pou¾ívej
	`self._set_row()'.
	(EmbeddedEditForm._edit_update): Namísto `self.set_row()' pou¾ívej
	`self._set_row()'.
	(EmbeddedEditForm._on_commit_form): Kosmetické úpravy.
	(EmbeddedEditForm._on_commit_form): Pøidáno TODO.
	(EmbeddedEditForm._on_select_filter): Namísto `self.set_row()'
	pou¾ívej `self._set_row()' + `self._find_row()'.
	(EmbeddedEditForm._on_sort_column): Namísto `self.set_row()' pou¾ívej
	`self._set_row()'.
	(EmbeddedEditForm.set_row): Zru¹eno (transformováno na `_find_row()').
	(EmbeddedEditForm._find_row): Nová metoda.
	(EmbeddedEditForm.recompute): Nová metoda.
	(EditForm.__init__): Titulek okna rodièe hledej do hloubky.
	(EditDualForm.__init__): Namísto `self._main_form.set_row()' pou¾ívej
	`self._main_form.init()'.

2002-02-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SFDialog._selected_condition): Pokou¹ej se
	validovat i stringovou hodnotu.

	* lib/pytis/form/list.py (List._on_search): Nenastavuj blokování
	refreshe není-li spu¹tìn dialog.
	(List._on_delete_line): Po dobu spu¹tìní dialogu blokuj refresh.

	* lib/pytis/form/dialog.py (delete_record): Opraveno úvodní logování.

	* lib/pytis/data/_test.py (Boolean.check_validation): Neprovádìj
	`_test_null_validation'.

	* lib/pytis/data/data.py (Data.find_column): Vyu¾ívej novou funkci
	`find'.

	* lib/pytis/util/_test.py (Find): `find' -> `position'; pøejmenováno na
	FindUtils.
	(FindUtils.check_find): Nový test.
	(FindUtils.check_assoc): Nový test.
	(FindUtils.check_rassoc): Nový test.

	* lib/pytis/util/util.py (find): Pøejmenováno na `position'.
	(next_subclass): `find' -> `position'.
	(find): Nová funkce.
	(assoc): Nová funkce.
	(rassoc): Nová funkce.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Doplnìny u¾ivatelské typy.
	(DBColumnBinding.__init__): Nový argument `type_' a atribut
	`_type'.
	(DBColumnBinding.type): Nová metoda.

	* lib/pytis/data/types_.py (Type._SPECIAL_VALUES): Nová konstanta.
	(Type._NULL_SUBSTITUTION, Type._AUTONULLIFY, Type._EMPTY_VALUE):
	Zru¹eno.
	(Type.validate, Type.export): Zohledòuj pøedchozí zmìny.
	(Codebook.__init__): Pøi chybném typu informuj i o onom typu.
	(Number._SPECIAL_VALUES, String._SPECIAL_VALUES) 
	(DateTime._SPECIAL_VALUES): Náhrada za pøedchozí konstanty pro
	zvlá¹tní hodnoty.

2002-02-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands.sortspec):
	Nepou¾ívej `_pdbb_coalesce'.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql):
	Nápodobnì.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Neaplikuj `_pdbb_coalesce' na názvy sloupcù.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Odstranìn hack
	s okam¾itým vrácením `value'.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Vícero drobných úprav zaji¹»ujících pøidání COALESCE, kde je
	tøeba.

2002-02-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._on_search): Pou¾ívej metodu
	SFDialog.condition namísto pøístupu k cizímu privátnímu atributu.

	* lib/pytis/form/search.py (SFDialog.condition): Nová metoda.

	* lib/pytis/form/list.py (List.UI_EXISTS_CONDITION): Opraven
	copied&pasted docstring.
	(List._on_search): Pou¾ívej metodu SFDialog.condition namísto
	pøístupu k cizímu privátnímu atributu.
	(List._select_cell): Callback CALL_SELECTION vyvolávej pouze pokud
	do¹lo ke zmìnì øádku.

2002-02-08  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List.CALL_ACTIVATION): Nové
	`UI_EXISTS_CONDITION'.
	(List.on_ui_event): Enable hledání bez dialogu v menu, pokud
	existuje dialog a podmínka.
	(List.on_command): Nové pøíkazy `Form.COMMAND_SEARCH_NEXT' a
	`Form.COMMAND_SEARCH_PREVIOUS'.
	(List._on_search): Úprava metody, aby pracovala i bez vyvolání
	dialogu (nepovinné argumenty dlg a direction).

	* lib/pytis/form/form.py (EmbeddedEditForm._on_search): Úprava metody,
	aby pracovala i bez vyvolání dialogu (nepovinné argumenty dlg a
	direction).
	(EmbeddedEditForm.on_ui_event): Enable hledání bez dialogu v menu,
	pokud existuje dialog a podmínka.
	(EmbeddedEditForm.on_command): Nové pøíkazy
	`Form.COMMAND_SEARCH_NEXT' a `Form.COMMAND_SEARCH_PREVIOUS'.

	* lib/pytis/form/command.py (): Zaregistrování pøíkazu pro hledání vpøed
	a vzad bez dialogu.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Po provedení
	uzavíracích akcí (Close) okno zlikviduj.

	* lib/pytis/form/list.py (ListForm.Close): `self._list' nastav kvùli
	defocus na None.
	(ListForm.defocus): Jestli¾e u¾ byl self._list zavøen, nevolej
	OnKillFocus.

2002-02-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.correction):
	Loguj i `direction'.

	* lib/pytis/util/log.py (Logger._formatted_data): Data neloguj pouze
	jsou-li None.

	* lib/pytis/form/list.py (FilteredBrowseForm.filter): Pøidána podpora
	pro totální filtrování dat (prázdné dictionary).
	(List._ListTable.current_row): Nová metoda.
	(List._on_search): Eliminovány zbyteèné databázové operace.
	(List._ListTable.rewind): Pøidán nepovinný argument `position'.
	(List._ListTable._retrieve_row.fetch): Pøesunuto o úroveò vý¹e,
	nyní jako metoda `_fetch'.
	(List.refresh): Je-li refresh blokován, nedìlej nic.
	(List.__init__): Nový atribut `_block_refresh'.
	(List._on_search): Po dobu nahození search dialogu blokuj refresh.

	* lib/pytis/form/form.py (EditForm.run): Nová metoda.
	(EmbeddedEditForm._run_with_lock): Nová metoda.
	(EmbeddedEditForm.run): Vyu¾ívej ji.
	(SideBrowseDualForm._create_side_form): Kompletnì filtruj
	vytvoøený formuláø.
	(DualForm.OnSetFocus): Nastavuj focus hlavnímu formuláøi jen
	tehdy, pokud tento existuje.
	(EmbeddedEditForm.on_command): Needitaèní pøíkazy provádìj pouze,
	pokud má formuláø nastaven nìjaký existující záznam.
	(EmbeddedEditForm._on_next_record): Vyu¾ívej funkci
	`opposite_direction'.

2002-02-07  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (MSeparator): Nová tøída.
	(Menu.__init__): Oprava: v assertu povol MSeparator.

	* lib/pytis/form/application.py (Application.message): Nejprve zkus,
	jestli má vrchní okno metodu message, teprve potom pi¹ do statusbaru.

	* lib/pytis/form/form.py (EmbeddedEditForm.navigate): Kosmetické úpravy.
	(EditForm._create_form): Pøidán panel emulující statusbar.
	(EditForm.message): Nová metoda.
	(Form.on_command): Doplnìn argument '**kwargs'.
	(EmbeddedEditForm.navigate): Nepokou¹ej se zjistit `object' - není
	to potøeba... Volej `SetEventObject()' jen pokud byl pøedán `object'.
	(EmbeddedEditForm.on_command): Doplnìn argument '**kwargs'.

	* lib/pytis/form/inputfield.py (InputField._on_kill_focus): Validaci
	provádìj pouze, pokud do¹lo ke zmìnì. Namísto 'self._message()'
	pou¾ívej funkci `message()'.
	(InputField._message): Zru¹eno.
	(MultiTextField._on_kill_focus): Validaci provádìj pouze, pokud
	do¹lo ke zmìnì. Namísto 'self._message()' pou¾ívej funkci
	`message()'.
	(Invocable.on_command): Doplnìn argument '**kwargs'.

	* lib/pytis/form/list.py (List._on_delete_line): Oprava chyby: namísto
	`self._position' volej `self._set_position'.

2002-02-06  Milan Zamazal  <pdm@brailcom.org>

	* config/config.py (logging): Zakomentována volba 'class_filter'.

	* lib/pytis/form/list.py (List._set_position): Nová metoda.	
	(List._select_cell, List._on_delete_line): Pou¾ívej ji.

	* lib/pytis/data/data.py (opposite_direction): Nová funkce.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.correction):
	Loguj ukazovátka.
	(DBDataPostgreSQL._PgBuffer.correction): Neupravuj znaménko
	výsledku dle `direction', zestruènìno.
	(DBDataPostgreSQL.fetchone): Zohlednìna pøedchozí zmìna.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Vracej
	nepodmínìnì `value' (doèasný hack).

2002-02-06  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): Nastavuj
	`self._size' zde namísto v `_create_form()'.
	(EmbeddedEditForm._create_form): Nenastavuj `self._size'.

2002-02-05  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._ListTable.__init__): Namísto
	`FieldSpec.label()' pou¾ívej `FieldSpec.column_label()'.
	(List._ListTable._panic): Namísto `_on_leave_window' pou¾ívej
	`_on_leave_form'.
	(List._create_grid): Namísto `_on_leave_window' pou¾ívej
	`_on_leave_form'.
	(List._create_grid): Namísto `FieldSpec.label()' pou¾ívej
	`FieldSpec.column_label()'.
	(List._create_grid): Namísto `FieldSpec.label()' pou¾ívej
	`FieldSpec.column_label()'.
	(List.SetSize): Namísto `FieldSpec.label()' pou¾ívej
	`FieldSpec.column_label()'.

	* lib/pytis/form/inputfield.py (InputField._create_label): Pokud je
	label prázdný, nepøidávej dvojteèku.
	(RadioBoxField._create_controls): Pokud je
	label prázdný, nepøidávej dvojteèku.

	* lib/pytis/form/form.py (_on_leave_window): Pøejmenováno na
	`_on_leave_form'.
	(PopupForm._on_leave_window): Pøejmenováno na `_on_leave_form'.
	(EmbeddedEditForm.__init__): Vytváøení sizeru pøesunuto do metody
	`_create_form'.
	(EmbeddedEditForm._create_form): Nová metoda.
	(EmbeddedEditForm.size): Nová metoda.
	(EmbeddedEditForm._create_buttons): Metoda pøesunuta do tøídy
	`EditForm'.
	(EmbeddedEditForm._pack_fields): Pro víceøádková políèka
	zarovnávej nadpis nahoru.
	(EmbeddedEditForm.on_command): Namísto `_on_ok' pou¾ívej
	`_on_commit_form'. Namísto `_on_leave_window' pou¾ívej
	`_on_leave_form'.
	(EmbeddedEditForm._on_ok): Pøejmenováno na `_on_commit_form'.
	(EditForm.__init__): Nový argument `editable'.
	(EditForm.__init__): Nastavuj titulek popup okna.
	(EditForm._create_form): Nová metoda.
	(EditForm._create_buttons): Nová metoda.
	(DualForm.__init__): Neo¹etøij EVT_SIZE, není to potøeba.
	(EditDualForm.OnSize): Nová metoda.

2002-02-05  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (Form.__init__): Smazán neaktuální
	zakomentovaná kód.
	(Form._on_leave_window): Úprava docstringu.

2002-02-05  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List.SetSize): Úprava poèítání ¹íøky sloupcù,
	vèetnì zohlednìní zobrazování èi nezobrazování scrollbaru.
	(List._create_grid): Nastav `margins' na 0. Zákaz zmìnu velikostí
	øádkù a sloupcù uvnitø gridu.

	* lib/pytis/form/form.py (DualForm.OnSetFocus): Nová metoda.
	(DualForm.__init__): Zaregistruj metodu pro EVT_SET_FOCUS.

2002-02-04  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (Module): Kosmetické úpravy (mazání mezer na
	prázdných øádcích).
	(CheckBoxField._create_controls): Nevytváøej label pro inline políèka.

	* lib/pytis/form/form.py (Module): Kosmetické úpravy (mazání mezer na
	prázdných øádcích).

2002-02-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.current):
	Faktická oprava v docstringu.
	(DBDataPostgreSQL.skip): Proveï pouze zmìnu ukazovátka a vracej
	místo korekce poèet pøeskoèených øádkù.
	(DBDataPostgreSQL._PgBuffer.correction): Nová metoda.
	(DBDataPostgreSQL.skip): Neprovádìj databázový skip.
	(DBDataPostgreSQL.fetchone): Pøi minutí bufferu provádìj
	databázový skip a pou¾ívej novou metodu `correction' bufferu.
	(DBDataPostgreSQL._PgBuffer.fetch): Pøi úplném minutí dat nastav
	ukazovátko mimo data, ne mimo buffer.

	* lib/pytis/form/list.py (List.__init__): Nový atribut
	`_cached_position'.
	(List._recreate_grid): Resetuj `_cached_position'.
	(List.select_row): Pracuj s `_cached_position'.

2002-02-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/log.py (Logger._retrieve_info): Zji¹»ování jména modulu
	natvrdo zamezeno.
	(Logger.__init__): Odstranìno zapomenuté `foo'.
	
2002-02-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (FilterDialog.run, SearchDialog.run): Nech»
	argument `col' je nepovinný.

	* lib/pytis/form/form.py (EmbeddedEditForm._sfs_columns): Nová metoda.
	(EmbeddedEditForm._on_sort_column): Vyu¾ívej ji.
	(EmbeddedEditForm._on_select_filter): Implementováno.
	(EmbeddedEditForm._on_search): Implementováno.
	(EmbeddedEditForm.set_row.find_row): Zaøaï do podmínky filtr,
	i kdy¾ podmínka není zadána.
	(EmbeddedEditForm.set_row): Nový argument `any_row'.
	(EmbeddedEditForm._on_next_record): Pøi pøekroèení hranic dat
	proveï zpìtný chod.
	(EmbeddedEditForm._sf_dialog): Nová metoda.
	(EmbeddedEditForm.__init__): Nové atributy `_search_dialog' a
	`_filter_dialog'.

2002-02-01  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (_InputFieldCellEditor.BeginEdit): Pro data
	typu 'Codebook' správnì rozdìl hodnotu na sekvenci.
	(_InputFieldCellEditor.EndEdit): Namísto 'field.get_value()'
	pou¾ívej 'field.validate()'. Pro hodnoty typu sekvence proveï
	spojení pøes separátor.
	(List._ListTable.SetValue): Pøidána podpora pro vícehodnotová data
	typu 'Codebook'.
	(List._ListTable.SetValue): Po chybné validaci nezobrazuj dialog,
	pouze zaloguj - nemìlo by k tomu docházet, proto¾e validace je
	provádìna po ji¾ ukonèení editace.
	(List._finish_editing): Nastav default tlaèítko dialogu na 'Ulo¾it'.

	* lib/pytis/form/inputfield.py (InputField.type): Nová metoda.
	(InlineMultiTextField._set_value): Kosmetická úprava.

2002-01-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm._on_sort_column):
	Implementováno.

	* lib/pytis/form/list.py (List._sfs_columns): Vyu¾ívej `sfs_columns'.

	* lib/pytis/form/search.py (sfs_columns): Nová funkce.

2002-01-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SortingDialog._customize_result): Není-li
	stisknuto akèní tlaèítko, vra» None.
	(SFDialog): Pøepracováno na potomka GenericDialog.
	(SearchDialog, FilterDialog): Zohlednìno pøepracování SFDialog.
	(SortingDialog._ESCAPE_BUTTON): Nová konstanta.
	(SortingDialog.__init__): Pøidáno tlaèítko opu¹tìní dialogu.

	* lib/pytis/form/form.py (EmbeddedEditForm.navigate): Vracej flag
	provedení operace.
	(EmbeddedEditForm.on_command): Pro COMMAND_NAVIGATE vracej pravdu,
	pouze pokud byl pøíkaz opravdu proveden.

	* lib/pytis/form/command.py: Zru¹en pøíkaz CodeBook.COMMAND_SELECTION.

	* lib/pytis/data/types_.py (Integer._NULL_SUBSTITUTION) 
	(Float._NULL_SUBSTITUTION): Hodnota zmìnìna na ''.

	* lib/pytis/form/list.py (List.on_key_down.evil_key): Do komentáøe
	doplnìno, proè není provádìn test na Meta.
	(CodeBook.on_command): Zru¹en hack s CodeBook.COMMAND_SELECTION.
	(CodeBook.__init__): Výbìr polo¾ky navazuj na alternate
	activation.
	(CodeBook._WINDOW_HEIGHT): Nová konstanta.
	(CodeBook.__init__): Pou¾ívej ji místo natvrdo zadané hodnoty.
	(List._switch_sorting): Pokud tøídící dialog vrátí None, nedìlej
	nic.
	(List.Close): Nevolej `close' na dialogy.

2002-01-30  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List.__init__): Zru¹en nepou¾ívaný atribut
	`self.activation_key'.
	(List._switch_sorting): Zru¹en kód chovající se jinak k
	èíselníkovým políèkùm.
	(List.set_callback): V assertu povol i None hodnotu pro `function'.
	(ListForm.__init__): Nech» je 'frame_stack' povinným argumentem.
	(CodeBook.__init__): Nech» je 'frame_stack' povinným
	argumentem. Pøedávej frame stack rodiè. konstuktoru. Nenastavuj
	nepou¾ívaný atribut `list.activation_key'. Aktivaèní callback
	nastav na `self._on_selection'.
	(CodeBook._on_activation): Pøejmenováno na `_on_selection'.
	(CodeBook.on_command): Nová metoda.
	(CodeBook.run): Po skonèení dialogu volej `frame_stack.pop()'.
	(BrowseForm.__init__): Nech» je 'frame_stack' povinným argumentem.
	(FilteredBrowseForm.__init__): Nech» je 'frame_stack' povinným
	argumentem a je zachováno jeho obvyklé poøadí (argument condition
	odsunut na konec).
	(FilteredBrowseForm.__init__): Kosmetická úprava.
	(List.on_key_down.evil_key): Netestuj `event.MetaDown()'.

	* lib/pytis/form/form.py (Form.__init__): Pøidán assert na resolver a
	frame stack.
	(Form.frame_stack): Nová metoda.
	(EmbeddedEditForm.__init__): 'frame_stack' pøedávej konstruktoru
	rodièe jako neklíèovaný argument.
	(EditForm.__init__): 'frame_stack' pøedávej konstruktoru rodièe
	jako neklíèovaný argument.
	(DualForm.__init__): Nech» je 'frame_stack' povinným argumentem.
	(SideBrowseDualForm._create_side_form): 'frame_stack' pøedávej
	konstruktoru rodièe jako neklíèovaný argument a pøedávej mu
	skuteènou hodnotu, nikoliv None.
	(_create_main_form): 'frame_stack' pøedávej konstruktoru
	rodièe jako neklíèovaný argument.
	(_create_main_form): 'frame_stack' pøedávej konstruktoru
	rodièe jako neklíèovaný argument.

	* lib/pytis/form/inputfield.py (Invocable._on_invoke_selection): Nech»
	je argument 'event' nepovinný.
	(DateField._on_invoke_selection): Nový nepovinný argument 'event'.
	(CodeBookField._on_invoke_selection): Nový nepovinný argument 'event'.
	(CodeBookField._on_invoke_selection): Pøi vytváøení 'CodeBook'u
	pøedávej mu frame_stack.

2002-01-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (SortingDialog): Nová tøída.
	(SFDialog.Column): Odsunuto z tøídy a pøejmenováno na SFSColumn.

	* lib/pytis/form/command.py: Nový pøíkaz
	List.COMMAND_ACTIVATE_ALTERNATE.
	Pøíkazy List.COMMAND_FILTER, List.COMMAND_SEARCH a
	List.COMMAND_SORT_COLUMN pøesunuty do tøídy Form.

	* lib/pytis/form/list.py (List.CALL_ALTERNATE_ACTIVATION): Nová
	konstanta.
	(List.set_callback): Do testu `kind' pøidáno
	CALL_ALTERNATE_ACTIVATION.
	(List._on_activation): Nevracej nic.
	(List._on_alternate_activation): Nová metoda.
	(List.on_command): Pøidáno zpracování pøíkazy
	COMMAND_ACTIVATE_ALTERNATE.
	(List.on_command): Po zpracování pøíkazù vracej TRUE, ne jimi
	vrácené hodnoty.
	(List._switch_sorting): Nech» argumenty `col' a `direction' jsou
	nepovinné; je-li nìkterý z nich zadán, je vyvolán tøídící dialog.
	(List._sf_dialog): Zohlednìna zmìna tøídy specifikace sloupce.
	(List.on_command, List._on_label_left, List._on_label_right):
	Zohlednìn pøesun nìkterých pøíkazù z List do Form.
	(List._sfs_columns): Nová metoda.
	(List._sf_dialog): Pou¾ívej ji.

	* lib/pytis/form/form.py (EditDualForm.on_command): Nová metoda.
	(BrowseDualForm._create_main_form): Nech» je volání
	`_on_activation' navázáno na alternativní aktivaci.
	(EmbeddedEditForm.set_row.find_row): Parametrizuj datový select.
	(EmbeddedEditForm.__init__): Nové atributy `_select_condition',
	`_select_filter' a `_select_sorting'.
	(EmbeddedEditForm.on_command): Doplnìna podpora pro pøíkazy
	COMMAND_SEARCH, COMMAND_FILTER a COMMAND_SORT_COLUMN.
	(EmbeddedEditForm._on_search): Nová metoda (zatím prázdná).
	(EmbeddedEditForm._on_select_filter): Nová metoda (zatím prázdná).
	(EmbeddedEditForm._on_sort_column): Nová metoda (zatím prázdná).

2002-01-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/command.py: Pøidány Application aliasy pro EditForm.

	* banka.py: Pøejmenováno na `ebas'.

	* lib/pytis/form/list.py (List._ListTable._TYPE_MAPPING): Vyøazeno
	lib.data.Integer.

	* lib/pytis/form/screen.py (MenuBar._assemble_menu):
	V UPDATE_UI_CALLBACKU o¹etøuj nedefinovanou aplikaci.

	* lib/pytis/data/types_.py (Type._EMPTY_MAPS_TO_NONE): Pøejmenováno na
	_NULL_SUBSTITUTION a hodnota zmìnìna na None.
	(Type.validate, Type.export): Zohlednìna pøedchozí zmìna.
	(Codebook._EMPTY_MAPS_TO_NONE): Zru¹eno.
	(String._NULL_SUBSTITUTION, Float._NULL_SUBSTITUTION)
	(Integer._NULL_SUBSTITUTION, Date._NULL_SUBSTITUTION): Nové
	pøedefinování atributu.
	(Type._AUTONULLIFY): Nový atribut.
	(Type.validate): Zohledòuj ho.
	(String._AUTONULLIFY, DateTime._AUTONULLIFY): Nový atribut.

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): Není-li formuláø
	editovatelný, deaktivuj jeho políèka.
	(DualForm.on_ui_event): Nová metoda.
	(EditDualForm.__init__): Registruj callback na focus hlavního
	formuláøe, nastavující aktivní formuláø.
	(EmbeddedEditForm._on_next_record): Opraven pøeklep
	v identifikátoru _DBOP.
	(EmbeddedEditForm.on_command): Opravena chyba v identifikátoru
	`_on_set_row'.
	(EmbeddedEditForm.on_command): Opravena chyba v identifikátoru
	EditForm.COMMAND_LAST_RECORD.
	(EmbeddedEditForm._set_row): Pøi výjimce loguj i výjimku samotnou.
	(EmbeddedEditForm._set_row): Nemá-li `row' odpovídající klíè,
	nastav `value' na None.
	(SideBrowseDualForm._on_selection): OnSetFocus volej pouze, pokud
	tuto metodu formuláø má.

2002-01-28  Milan Zamazal  <pdm@brailcom.org>

	* tools/make-tags.sh: Zohlednìna zmìna banka.py -> ebas.

	* tools/find-prints.sh: Zohlednìna zmìna banka.py -> ebas.

2002-01-28  Milan Zamazal  <pdm@brailcom.org>

	* tools/make-tags.sh: Zohlednìna zmìna banka.py -> ebas.

	* tools/find-prints.sh: Zohlednìna zmìna banka.py -> ebas.

2002-01-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBMultiData.check_search_key): Nový test.

	* lib/pytis/data/data.py (Data.search_key): Nová metoda.

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): Nový argument
	`editable' a atribut `_editable'.
	(EditForm.__init__): Volej konstruktor EmbeddedEditForm
	s argumentem `editable'.
	(EmbeddedEditForm.on_command): Pøíkazy rozdìleny dle
	re¾imu (ne)editace, pøidány listovací pøíkazy.
	(EmbeddedEditForm.set_row): Sloupec nevytahuj pøes Data.row, nýbr¾
	jej vyhledávej.
	(EmbeddedEditForm.__init__): Nový atribut `_select_count'.
	(EmbeddedEditForm._set_row): Nová metoda.
	(EmbeddedEditForm.set_row.find_row): Vyu¾ívej ji.
	(EmbeddedEditForm._on_next_record): Nová metoda.
	(EmbeddedEditForm._on_set_row): Nová metoda.

	* lib/pytis/form/screen.py (WxKey._TRANS_TABLE): Pøidány klávesy Home,
	End, Prior a Next.

	* lib/pytis/form/dialog.py (GenericDialog.run): Ukládej se na frame
	stack.

	* lib/pytis/form/list.py (List._on_cell_commit): Nový øádek vkládej za
	aktuální øádek, ne pøed nìj.
	(_CellEditor.__init__): Nový argument `registration'.
	(List._create_grid): Pøedávej cell editoru argument
	`registration'.
	(List.__init__): Nový atribut `_current_editor'.
	(_InputFieldCellEditor.EndEdit): O¹etøeny booleans a sekvenèní
	hodnoty.
	(_InputFieldCellEditor.BeginEdit): Volej `_registration'.
	(List._on_cell_rollback): Resetuj aktuální editor.
	(_CellEditor.__init__): Inicializuj atribut `_field'.
	(_CellEditor.field): Nová metoda.
	(List.on_command): Zajisti forwarding pøíkazù aktuálnímu editoru.

	* lib/pytis/form/command.py: Pøidány aliasy pro pøíkazy ukonèení editace
	buòky v øádkovém formuláøi.
	Nové pøíkazy pro pohyb po záznamech v editaèním formuláøi.
	Pøidán zápis kláves Prior, Next, Home a End.

2002-01-26  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	Pøedávej relaèním operátorùm argument `ignore_case'.

	* lib/pytis/data/data.py (LT, LE, GT, GE): Nech» implicitní hodnota
	`ignore_case' je FALSE.

	* lib/pytis/form/list.py (List._on_label_left, List._on_label_right):
	Pøevádìj událost na pøíkaz.
	(List._on_select_cell): Nápodobnì.
	(List._select_cell_command): Nová metoda.
	(List.on_command): Pøidána podpora pro nové pøíkazy.
	(List.on_key_down): Volej pøedchozí `on_key_down' s argumentem
	`dont_skip'.

	* lib/pytis/form/command.py: Nové pøíkazy List.COMMAND_SORT_COLUMN a
	List.COMMAND_SELECT_CELL.
	(invoke_command): Nová funkce.

	* lib/pytis/form/form.py (SideBrowseDualForm._create_side_form): Nech»
	je rodièem formuláøe `parent'.
	(DualForm.Close): Zru¹ atributy formuláøù.
	(SideBrowseDualForm.Close): Nová metoda.

	* lib/pytis/form/application.py (Application.on_command): Zohlednìna
	zmìna `modal'.
	(Application.on_command): Ma¾ hlá¹ení ve status baru.

	* lib/pytis/form/screen.py (FrameStack.modal): Zru¹eno.
	(modal): Nová funkce.
	(FrameStack._replace_window): Zohlednìna pøedchozí zmìna.
	(FrameStack._replace_window): Kosmetická úprava.
	(KeyHandler.on_key_down): Vyu¾ij `invoke_command'.

2002-01-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._edit_cell): Nekvalifikuj `message'
	jménem modulu a volej je s argumentem `beep_'.
	(List._edit_cell): Hlá¹ení obaleno gettext.
	(List._switch_sorting): Neprovádìj tøídìní poèítaných sloupcù.

	* lib/pytis/form/application.py (message): Nový argument `beep_'.

2002-01-25  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/application.py (Application._update_stack_display):
	Nová metoda.
	(Application.OnInit): Volej `self._update_stack_display()'.
	(Application._exit): Pokud framestack není prázdný, zeptej se.
	(Application._popup_form): Volej `self._update_stack_display()'.
	(Application._leave_form): Volej `self._update_stack_display()'.
	(Application.on_command): Pokud je okno na framestacku modální,
	volej jen jeho `on_command' a nic jiného neøe¹.
	(Application.on_command): Oprava zapomenuté negace pøed testem na
	modální okno.

	* lib/pytis/form/dialog.py (Dialog): Importuj v¹e z `lib.form'.
	(MultiQuestion.__init__): Ve volání konstruktoru pøedna nastavuj
	ikonu na `ICON_QUESTION'.

	* lib/pytis/form/__init__.py (_list): Modul `screen' importuj jako první.

	* lib/pytis/form/list.py (List.on_command): Po zpracování COMMAND_EDIT
	vracej v¾dy TRUE. Pokud není nalezen odpovídající pøíkaz, vracej
	v¾dy FALSE.
	(ListForm.__init__): Pou¾ívej `self.title()'. Kosmetické úpravy
	(CodeBook.run): Pøidej se na frame_stack.

	* lib/pytis/form/screen.py (StatusBar.__init__): Namísto -1 pou¾ívej
	None pro udání pole s poromìnnou ¹íøkou. ©íøku ber jako poèet
	znakù, ne jako dlg units. 
	(FrameStack.windows): Nová metoda.
	(FrameStack._replace_window): Úpravy jak kosmetické, tak
	sémantické. Zejména co se týèe chování k modálním oknùm.
	(FrameStack._replace_window.modal): Funkce zru¹ena (nahrazena
	stejnojmennou veøejnou metodou).
	(FrameStack.modal): Nová metoda.

	* lib/pytis/form/inputfield.py (InputField.__init__): Inicializuj
	atribut `_has_focus'.  O¹etøuj `EVT_SET_FOCUS' voláním
	`_on_set_focus()'.
	(InputField._on_set_focus): Nová metoda.
	(InputField._on_kill_focus): Nastavuj atribut `_has_focus' na FALSE.
	(InputField.has_focus): Nová metoda
	(Invocable.on_command): Nepøedávej metodì `_on_invoke_selection()'
	argument `event'.
	(DateField._on_invoke_selection): Zru¹en argument
	`event'. Vracej `TRUE' namísto `wx.TRUE'.
	(CodeBookField._on_invoke_selection): Zru¹en argument
	`event'. Vracej `TRUE' namísto `wx.TRUE'.

	* lib/pytis/form/form.py (EmbeddedEditForm._current_field): Nová metoda.
	(EmbeddedEditForm.on_command): Nejprve volej `on_command()'
	aktuálního políèka.
	(Form.title): Nová metoda.
	(PopupForm._on_leave_window): Odstranìn neaktuální komentáø.
	(PopupForm.run): Upravena logovací hlá¹ka. Kosmetické úpravy.
	(EmbeddedEditForm.__init__): Namísto `self._caption' pou¾ívej
	`self.title()'.
	(EmbeddedEditForm._init_dialog): Nastav focus na první políèko.
	(EmbeddedEditForm._create_caption): Namísto `self._caption'
	pou¾ívej `self.title()'.
	(EmbeddedEditForm._create_buttons): Namísto `self._on_cancel'
	pou¾ij jako handler pro tlaèítko "Cancel" `self._on_leave_window'.
	(EmbeddedEditForm.title): Nová metoda.
	(EmbeddedEditForm.on_command): O¹etøuj také událost
	`Application.COMMAND_LEAVE_FORM'.
	(EmbeddedEditForm._on_ok): Odstranìno zbyteèné logování.
	(EmbeddedEditForm._on_ok): Namísto `self._close_form()' volej
	`self._parent.Close()'.
	(EmbeddedEditForm._on_cancel): Metoda zru¹ena.
	(EmbeddedEditForm._close_form): Metoda zru¹ena.
	(EmbeddedEditForm._on_parent_close): Metoda zru¹ena.
	(EmbeddedEditForm.OnSetFocus): Metoda zru¹ena.
	(EmbeddedEditForm.run): Namísto `PopupForm.run()' volej `Form.run()'.

	* lib/pytis/form/command.py: Úprava docstringu.

2002-01-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack._replace_window.modal):
	Kosmetická úprava.

	* lib/pytis/form/list.py (List._finish_editing): Vyu¾ívej MultiQuestion.
	(List._create_grid): Odstranìn datumový hack.
	(_TextCellEditor): Vyu¾ívej spoleèné vstupní políèko.
	(_Date_Cell_Editor, _BooleanCellEditor, _TextCellEditor)
	(_NumberCellEditor, _FloatCellEditor): Zru¹eno.
	(List._create_grid): Pro v¹echna políèka vyu¾ívej jako editor
	_InputFieldCellEditor.
	(_InputFieldCellEditor.Create): Místo FIELD_CLASS vyu¾ívej
	inputfield.resolve.
	(List._ListTable._TYPE_EDITOR_MAPPING): Zru¹eno.
	(_InputFieldCellEditor.Create): Nehavaruj, pokud widget nemá
	metodu SetInsertionPoint.
	(_InputFieldCellEditor.BeginEdit): Nápodobnì.
	(List.__init__): Volej SetFocus na sebe, nejenom na grid.
	(List.SetFocus): Nový argument `_local'.
	(List.__init__): Nastavuj atr
	(List.select_row): Jsme-li v editaci, ignoruj `position' a vysvi»
	editovaný øádek.
	(List._ListTable.GetTypeName): Vytahuj atribut `wxtype', ne
	`type'.
	(_InputFieldCellEditor.BeginEdit): Pøevádìj hodnoty
	wxGRID_VALUE_BOOL na T/F.
	(_InputFieldCellEditor.BeginEdit): Pro EnumerationField pøevádìj
	`value' na tuple.

2002-01-24  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (get_value): Kosmetické úpravy.
	(MultiTextField._on_kill_focus): Nová metoda.
	(InputField.validate): Kosmetické úpravy.
	(_add_validation_callback): Metoda zru¹ena.
	(InputField._on_kill_focus): Nová metoda
	(_TextValidator._on_char): Pou¾ívej `beep()' namísto `wxBell()'.
	(InputField.__init__): O¹etøuj `EVT_KILL_FOCUS' voláním
	`_on_kill_focus()'.
	(InputField._message): Nová metoda (s prozatimní implementací...).
	(InputField._on_validation): Metoda zru¹ena.

	* lib/pytis/form/form.py (PopupForm._popup_frame): Kosmetické úpravy.
	(PopupForm._on_leave_window): Zru¹eny neaktuální komentáøe.
	(DualForm.__init__): Kosmetické úpravy.

	* lib/pytis/form/screen.py (FrameStack._replace_window.modal): Oprava chyby.
	(FrameStack._replace_window): Kosmetické úpravy.

2002-01-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack.push): Zmìnìno zacházení
	s modálními okny, nyní takté¾ ukládají informace na frame stack.
	(FrameStack.pop): V docstringu zohlednìna modální okna.
	(FrameStack._replace_window): Zohlednìna modální okna.

	* lib/pytis/form/form.py (Form.on_user_action): Pøejmenováno na
	`on_command'.
	(PopupForm.run): Pou¾ívej frame stack.
	(Form.__init__): Nech» argument `frame_stack' je povinný.
	(EmbeddedEditForm.__init__, EditForm.__init__): Nápodobnì.

	* lib/pytis/form/dialog.py (MultiQuestion): Nová tøída.
	(Question): Nech» je potomkem MultiQuestion.

2002-01-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/application.py (Application.message): Argument
	`message' smí být i None.

	* lib/pytis/form/screen.py (WxKey.is_true_key): Nová metoda.
	(StatusBar.message): Argument `message' smí být i None.
	(KeyHandler.on_key_down): Není-li klávesa pouhým modifikátorem,
	sma¾ hlá¹ení v status bar.

	* lib/pytis/form/list.py (List._change_selection_colors): Nová metoda.
	(List.SetFocus, List.OnKillFocus): Vyu¾ívej ji.
	(List._on_insert_line): `computer' je metoda, ne atribut.
	(List._finish_editing): Zaveden tøítlaèítkový dialog s mo¾ností
	ulo¾ení zmìn.
	(List._edit_cell): Nepøedávej application.message argument
	`timeout'.
	(List.exit_check): Dotaz na ulo¾ení editovaného øádku pokládej
	pouze, pokud je øádek zmìnìn.

	* lib/pytis/form/form.py (SideBrowseDualForm._create_side_form): Místo
	`form_.set_row' (co to mìlo být?) volej `form_.select_row'.
	(SideBrowseDualForm._create_side_form): Nový atribut
	`_selection_data'.
	(SideBrowseDualForm._on_selection): Vedlej¹í formuláø filtruj
	pouze, pokud do¹lo ke zmìnì filtrovacích dat.
	(EmbeddedEditForm._on_parent_close): Volej `unlock'.
	(BrowseDualForm.__init__): Volej OnSetFocus na hlavní
	formuláø (pøesto¾e, zdá se, to nic nedìlá).

2002-01-22  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/screen.py (KeyHandler.__init__): Nech» argumentem mù¾e
	být i sekvence.

	* lib/pytis/form/application.py (Application._popup_form): Zmìna
	argumentù (pou¾ívej pøímo tøídu a název namísto textového
	identifikátoru obsahujícího obojí). Následné vypu¹tìní kódu pro
	zbyteèné zpracování identifikátoru. V¾dy volej `form.run()',
	proto¾e nyní mají tuto metodu v¹echny typy formuláøù.

	* lib/pytis/form/command.py: `CodeBook' není `Codebook'.

	* lib/pytis/form/list.py (_InputFieldCellEditor.Reset): Namísto
	`self._field.reset_value()' volej `self._field.reset()'.
	(BeginEdit): Namísto `field.set_value()' volej `field.init()'.
	(CodeBook): Tøída `Codebook' pøejmenována zpìt na `CodeBook'.
	(CodeBook.__init__): `CodeBook' není `Codebook'.

	* lib/pytis/form/form.py (EmbeddedEditForm._edit_update): Namísto
	`field.set_unmodified()' volej `field.init()'.
	(EmbeddedEditForm.set_row): Namísto `f.set_default()' volej
	`f.init()'.
	(Form.run): Nová metoda.
	(PopupForm._on_parent_close): V logovací hlá¹ce pou¾ívej `self._name'.
	(PopupForm.run): V logovací hlá¹ce pou¾ívej `self._name'.
	(EmbeddedEditForm.exit_check): Logovací hlá¹ka zru¹ena.

	* lib/pytis/form/inputfield.py (InputField.set_unmodified): Metoda
	zru¹ena.
	(InputField.set_default): Metoda zru¹ena (resp. transformována na
	metodu 'init').
	(InputField.init): Nová metoda.
	(InputField.set_value): Nenastavuj `self._initial_value' - to teï
	dìlá pouze metoda `init()'. Update docstringu.
	(InputField.reset_value): Pøejmenováno na `reset()'. Update
	docstringu.
	(CodeBookField._create_widget): Neo¹etøuj `EVT_KEY_DOWN' pro
	`display'.
	(Invocable._create_widget): Neo¹etøuj `EVT_KEY_DOWN' pro `button'.
	(TextField._on_key_down_multiline): Namísto
	'self._form._on_key_down()' volej `self.on_key_down()'.
	(_on_key_down): Metoda zru¹ena.
	(InputField.__init__): Namísto o¹tøování `EVT_KEY_DOWN' samostatnì
	volej `KeyHandler.__init__()'.
	(InputField): Nech» je tato tøída potomkem tøídy `KeyHandler'.

2002-01-22  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Nová sekce.

2002-01-22  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Moduly): Nová sekce.

2002-01-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (DualForm.__init__): Nový atribut
	`_active_form'.
	(DualForm.on_command): Nová metoda.
	(SideBrowseDualForm._on_selection, DualForm._on_change_window):
	Zru¹eno.
	(SideBrowseDualForm._create_side_form): Nastav formuláøi selection
	callback.
	(SideBrowseDualForm._on_side_selection): Nová metoda.

	* lib/pytis/form/list.py (ListForm.__init__): Opravy formátování.
	(List._on_edit): Vracej TRUE/FALSE dle úspìchu/neúspìchu editace.

2002-01-21  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (ListForm.__init__): Vra» nastavení
	`self._text' podle `title'.
	(ListForm.SetSize): Nenastavuj `SetDimension', ale volej
	self._box.Fit(self).
	(ListForm.OnSize): Po `SetSize' volej je¹tì self.Layout().
	(ListForm.SetSize): Nevolej zbyteènì self._box.Fit(self).
	(ListForm.__init__): Nevolej zbyteènì
	`box.SetDimension'. Nenastavuj `self.SetAutoLayout' (v OnSize je
	voláno self.Layout()).

2002-01-21  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.set_default): Pokud
	specifikace políèka neurèujue 'default', nastav hodnotu na
	exportovanou NULL hodnotu daného typu.

2002-01-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (KeyHandler.on_command): Nová metoda.

	* lib/pytis/form/list.py (List): Zmìnìno poøadí dìdiènosti.
	(List._on_cell_commit): Volej MoveCursorRight nepodmínìnì
	s wx.FALSE.

	* lib/pytis/form/form.py (Form): Zmìnìno poøadí dìdiènosti.

	* lib/pytis/form/application.py (Application): Zmìnìno poøadí
	dìdiènosti.
	(Application.on_command): Zestruènìn docstring.
	(Application._call_current_window): Doplnìno vracení hodnot.
	(Application.on_key_down): Nová metoda.

2002-01-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (NextSubclass): Pøejmenováno na Classes.
	(Classes.check_it): Pøejmenováno na `check_next_subclass'.
	(Classes.check_public_attributes): Nový test.

	* lib/pytis/util/util.py (public_attributes): Nová funkce.

	* lib/pytis/form/inputfield.py: Neimportuj defs.key.
	(Invocable._on_key_down): Zru¹eno.
	(Invocable.on_command): Nová metoda.

	* lib/pytis/form/form.py: Neimportuj defs.key.
	(EmbeddedEditForm.on_key_down): Zru¹eno.
	(EmbeddedEditForm.on_command): Nová metoda.
	(EmbeddedEditForm._on_ok): Nech» je argument `event' nepovinný.
	(EmbeddedEditForm.navigate): Nech» je argument `object' nepovinný.

	* lib/pytis/form/list.py: Neimportuj defs.key.
	(List.__init__, Codebook.__init__): Aktivaèní klávesu pøebírej
	z odpovídajícího pøíkazu.
	(List._on_line_commit, List._on_line_rollback): Není-li seznam
	v editaci, vra» FALSE.

	* lib/pytis/form/command.py: Vlo¾ena dokumentace zápisu z key.py.
	(Command.__str__): Nová metoda.
	
	* config/config.py (logging): Doplnìny zakomentované vzory
	logovacích filtraèních voleb.

	* lib/pytis/util/log.py (Logger.__init__): Nové atributy
	`_module_filter' a `_class_filter'.
	(Logger._prefix): Zji¹»ování frame atd. pøesunuto do
	`_retrieve_info'.
	(Logger._prefix): Importuj `inspect' nepodmínìnì.
	(SyslogLogger._prefix._): Stejné zmìny jako v Logger._prefix.
	(Logger._retrieve_info): Nová metoda.
	(Logger.log): Volej ji.
	(Logger._is_accepted): Dodána podpora pro ladící filtry.

	* lib/pytis/form/application.py (Application.on_command): Po dobu
	zpracování pøíkazu nastav busy cursor.
	(Application.on_command): Pøidána logovací hlá¹ka.
	(Application._init): Nová metoda.
	(Application.OnInit): Volej ji.
	(Application._leave_form): Opraven chybný odkaz na frame stack.

	* lib/pytis/form/screen.py: Neimportuj defs.key.
	(busy_cursor): Nová funkce.
	(is_busy_cursor): Nová metoda.
	(KeyHandler.on_key_down): Dívej se do dictionary tøídy, ne instance.
	(KeyHandler.on_key_down): Opraveny rùzné pøeklepy.
	(KeyHandler.on_key_down): Je-li nalezen pøíkaz, av¹ak ten není
	zpracován, pokraèuj ve zpracování klávesy.
	(WxKey.is_event_of_key): Jestli¾e `key' je None, vra» FALSE.

	* lib/pytis/data/types_.py (Codebook._EMPTY_MAPS_TO_NONE): Nastaveno na
	FALSE.
	(Codebook._export): O¹etøuj pøípad, kdy je `value' None; obecnì
	v takovém pøípadì vracej tuple prázdných øetìzcù.
	(Codebook.__init__): Nový atribut `_empty_export'.

2002-01-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form): Buï potomkem KeyHandler.
	(Form.__init__): Nepøiøazuj explicitnì handler kláves.
	(Form.on_key_down): Zru¹eno.

	* lib/pytis/form/list.py (CodeBook): Pøejmenováno na Codebook.
	(ListForm._on_key_down): Zru¹eno.
	(BrowseForm._on_key_down): Zru¹eno.
	(BrowseForm.on_key_down): Zru¹eno.
	(List.UA_LINE_COMMIT, List.UA_LINE_ROLLBACK): Zru¹eno.
	(ListForm.on_user_action): Pøejmenováno na `on_command'.
	(List.on_user_action): Nápodobnì.
	(List.on_command): Kompletnì pøedìláno.
	(List): Buï potomkem KeyHandler.
	(List.on_key_down): Zjednodu¹eno, vìt¹í èást funkcionality
	pøesunuta do standardního zpracování kláves a `on_command'.
	(List._on_edit, List._on_line_commit, List._on_line_rollback)
	(List._on_cell_commit, List._on_cell_rollback): Zru¹en argument
	`event'.
	(List._on_activation, List._on_search, List._on_filter)
	(List._on_insert_line, List._on_delete_line): Nápodobnì.
	(List.__init__): Zru¹en argument `key_handler' a atribut
	`_key_handler'.
	(ListForm.__init__): Zohlednìna pøedchozí zmìna.
	
	* lib/pytis/form/__init__.py (_list): Zaèlenìn soubor `command'.

	* lib/pytis/util/test.py (transform_args, TestSuite.add.prefix_test):
	Vyu¾ívej `starts_with'.

	* lib/pytis/util/_test.py (StringFunctions): Nová sada testù.

	* lib/pytis/util/util.py (starts_with): Nová funkce.

	* lib/pytis/form/application.py (UserAction): Zru¹eno.
	(Application.on_exit): Pøejmenováno na `_exit', zru¹en argument
	`event'.
	(Application._exit): Vylep¹ena logovací hlá¹ka.
	(Application.on_load_form): Pøejmenováno na `_popup_form'.
	(Application.on_frame_size): Pøejmenováno na `_on_frame_size'.
	(Application.OnInit): Zohlednìna pøedchozí zmìna.
	(Application.OnInit): Pro zpracování kláves registruj místo
	dosavadního handleru metodu `_on_key_down'.
	(Application._on_key_down): Nová metoda.
	(Application): Buï potomkem `KeyHandler'.
	(Application.on_user_action): Pøejmenováno na `on_command'.
	(Application.on_command): Pøidáno zpracování globálních pøíkazù.
	(Application._leave_form): Nová metoda.
	(Application.__init__): Nová metoda.
	(Application._popup_form): Argument `event' nahrazen argumentem
	`formid'.
	(Application._popup_form): Odstranìny blbiny s oddìlovaèi menu.
	(Application.on_menu_action): Zru¹eno.
	(Application.OnInit): Zru¹ena tvorba escape handleru a pøiøazení
	klávesového callbacku.

	* lib/pytis/form/screen.py (Command): Pøesunuto do command.py.
	(KeyHandler): Nová tøída.
	(WxEscapeHandler.handler): Zru¹eno.
	(Menu.__init__): Zru¹en argument `id' a atribut `_id'.
	(Menu.id): Zru¹eno.
	(MItem.__init__): Zru¹eny argumenty `id' a `callback', nové
	argumenty `command' a `args'.
	(MItem.id, MItem.callback): Zru¹eno.
	(MItem.command, MItem.args): Nové metody.
	(MItem.__init__): Je-li uvedeno 'hotkey', nastav je 'command'.
	(MenuBar.__init__): id generuj, nepøebírej je z polo¾ek.
	(MenuBar._assemble_menu): Nápodobnì.

	* lib/pytis/form/command.py: Nový soubor.
	(Command.id): Nová metoda.
	(Command.key): Zru¹eno, nahrazeno atributem `key'.

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._pg_query): Opraveno chybné
	formátování.

2002-01-18  Tomá¹ Cerha  <cerha@brailcom.org>

	* config/config.py (icon_dir): Nová konfiguraèní promìnná.

	* lib/pytis/form/list.py: Namísto dialogu 'Message' pou¾ij dialog
	'Error'.
	(List._finish_editing): Úprava pou¾ití dialogu 'Question'.
	(List._on_search): Namísto dialogu 'Message' pou¾ij dialog
	'Warning'.
	(List._on_edit): Úprava pou¾ití dialogu 'Message'.  Namísto
	dialogu 'Message' pou¾ij dialog 'Warning'.
	(List._on_cell_commit): Úprava pou¾ití dialogu 'Question'.
	Nastavuj 'TRUE' jako implicitní odpovìï.

	* lib/pytis/form/inputfield.py (InputField.validate): Namísto dialogu
	'Message' pou¾ij dialog 'Error'.

	* lib/pytis/form/form.py (EmbeddedEditForm._lock): Úprava pou¾ití
	dialogu 'Message'.
	(EmbeddedEditForm.exit_check): Úprava pou¾ití dialogu 'Question'.
	(EmbeddedEditForm.exit_check): V konstruktoru `Question' pou¾ij
	`yes_default=TRUE'.
	(EmbeddedEditForm.exit_check): Úprava pou¾ití argumentu `default'
	dialogu 'Question'.

	* lib/pytis/form/application.py (Application._top_level_exception): Namísto
	dialogu 'Message' pou¾ij dialog 'Error'.

	* lib/pytis/form/dialog.py: Modul kompletnì pøepsán. Následující záznamy
	jsou vìt¹inou jen velmi obecné...
	(GenericDialog): Nová základní tøída.
	(Message): Doplnìna mo¾nost specifikovat ikonu. Vìt¹ina obecného
	kódu pøesunuta do tøídy `GenericDialog'.
	(Choice): Tøída zru¹ena (její funkènost je ji¾ obsa¾ena v tøídì
	'Message').
	(Warning): Nová tøída.
	(Error): Nová tøída.
	(Question): Tøída je nyní pouze specializací tøídy `Message'.
	(InputDialog): Nová tøída s obecný, textovým vstupem.
	(Password): Tøída je nyní pouze specializací tøídy `InputDialog'.
	(Calendar): Tøída nyní vyu¾ívá obecné tøídy 'GenericDialog'.
	(GenericDialog._create_dialog): Pokud je nastaveno
	`self._default_button', o¹etøuj `EVT_SET_FOCUS' metodou
	`._focus_default_button()'.
	(GenericDialog._focus_default_button): Nová metoda.
	(GenericDialog._create_buttons): Pro `default' tlaèítko volej
	`SetDefault()' a ulo¾ ho do `self._default_button'.
	(Question.__init__): Argument `default' má pro tuto tøídu
	speciální význam (jeho hodnota je boolean) - zdokumentováno. 

	* lib/pytis/form/search.py (SFDialog._selected_condition): Namísto
	dialogu 'Message' pou¾ij dialog 'Error'.

2002-01-18  Tomá¹ Cerha  <cerha@brailcom.org>

	* icons: Nový adresáø pro ikony s nìkolika základními ikonami pro
	pou¾ití v dialogových oknech.

2002-01-18  Tomá¹ Cerha  <cerha@brailcom.org>

	* icons: Nový adresáø pro ikony s nìkolika základními ikonami pro
	pou¾ití v dialogových oknech.

2002-01-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form.focus): Volej na aplikaci `activate'.
	(Form._ACTIVATIONS): Nová konstanta.
	(Form.ACT_FORM): Nová konstanta.

	* lib/pytis/form/application.py (Application.activate): Nová metoda.

	* lib/pytis/form/screen.py (MItem.__init__): Zru¹en argument
	`activation'.
	(MItem.activation): Zru¹eno.
	(Menu.activation): Nová metoda.
	(MenuBar.activate): Nová metoda.
	(MenuBar.__init__): Nevkládej podmínìnì aktivní polo¾ky do menu,
	vytvoø jejich seznam.
	(MenuBar.save, MenuBar.restore): Nové metody.

	* lib/pytis/form/application.py (Application.OnInit): Nevolej
	`_activate'.
	(Application.push, Application.replace): Zru¹en argument
	`activation'.

	* lib/pytis/form/screen.py (ButtonBar): Nebuï potomkem Active.
	(ButtonBar.activate): Zru¹eno.
	(beep): Nová funkce.

2002-01-17  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): V inline re¾imu
	nastavuj controlùm jiného rodièe ne¾ ve formuláøi (nová promìnná
	`self._ctrl_parent'. Pøidán také komentáø vysvìtlující tento
	hack. Na `self._controls' pou¾ívej xtuple().
	(InputField._create_label): Pou¾ívej `self._ctrl_parent'.
	(Unlabeled._create_label): Pou¾ívej `self._ctrl_parent'.
	(TextField._create_text_control): Pou¾ívej `self._ctrl_parent'.
	(CheckBoxField._create_controls): Pou¾ívej `self._ctrl_parent'.
	(ChoiceField._create_controls): Pou¾ívej `self._ctrl_parent'.
	(RadioBoxField._create_controls): Pou¾ívej `self._ctrl_parent'.
	(ListBoxField._create_controls): Pou¾ívej `self._ctrl_parent'.
	(Invocable._create_button): Pou¾ívej `self._ctrl_parent'.
	(CodeBookField._create_widget): Pou¾ívej `self._ctrl_parent'.

2002-01-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py: V docstringu zru¹en odstavec o aktivacích.
	(_Activation): Zru¹eno.
	(Active): Zru¹eno.
	(MenuBar): Ji¾ není potomkem `Active'.
	(MenuBar.activate): Zru¹eno.
	(MItem.__init__): `callback' nyní mù¾e být i instance Command.
	(FrameStack.replace): Nevolej `activate'.
	(FrameStack._activate): Zru¹eno.
	(FrameStack._State.__init__): Zru¹en argument `activation'
	(FrameStack._State.activation): Zru¹eno.
	(ACT_DEFAULT): Zru¹eno.
	(FrameStack.push, FrameStack.pop): Nevolej `_activate'.
	(FrameStack.push, FrameStack.replace): Zru¹en argument
	`activation.
	(Command): Nová tøída.

2002-01-16  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): na událost
	`wx.EVT_INIT_DIALOG' reaguj voláním `self._init_dialog()'. Nevolej
	`self.set_row()', jen si zapamatuj klíè - `set_row()' bude voláno
	v `_init_dialog()'.
	(EmbeddedEditForm._init_dialog): Nová metoda.

	* lib/pytis/form/inputfield.py (InputField._create_label): Jako parent
	pou¾ij `self._form', jinak label není vidìt...

	* lib/pytis/form/list.py (List._edit_cell): Pøi pokusu o editaci
	needitovatelného sloupce volej `wx.wxBell()'.  Namísto log()
	pou¾ívej application.message() (a vyu¾ij `timeout'!).

	* lib/pytis/form/spec.py (FieldSpec.column_label): Úprava docstringu.
	Namísto `... and ... or ...' pou¾ívej `if ... else ...'.
	(FieldSpec.column_width): Úprava docstringu. Oprava chyb.
	(FieldSpec.height): Namísto `... and ... or ...' pou¾ívej `if
	... else ...'.

	* lib/pytis/form/screen.py (StatusBar._Timer): Nová tøída.
	(StatusBar.__init__): Pro ka¾dé políèko vytvoø timer.
	(StatusBar.message): Nový argument `timeout' - pokud je definován,
	spus» timer.

	* lib/pytis/form/application.py (Application.message): Nový argument
	`timeout'.
	(message): Nový argument `timeout'.

2002-01-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (FieldSpec.__init__): Implicitní hodnotu
	`column_width' ber z `width'.
	(FieldSpec.type): Do assertu na existenci sloupce pøidáno id
	sloupce.
	(FieldSpec.width, FieldSpec.column_width): Je-li ¹íøka 0, vra» ji
	a ne default.

	* lib/pytis/form/list.py (List.OnKillFocus): Místo Refresh volej Show
	vyp/zap.
	(List._ListTable._Column.__init__): Nový argument a atribut
	`wxtype'.
	(List._ListTable.__init__): Zohlednìna pøedchozí zmìna.
	(List._ListTable.__init__): Typ vytahuj ze specifikace sloupce.
	(List._ListTable.GetValue, List._ListTable.SetValue): Nápodobnì.
	(List._create_grid): Nepøedávej do Computer typ.
	(List._create_grid): Do volání FieldSpec pøidán argument `type_'.
	(List._on_insert_line): Typ vytahuj ze specifikace sloupce.

2002-01-15  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Neukládej
	`self._data'. Neukládej `self._data_column'. Ukládej `self._type'.
	(data_column): Metoda zru¹ena.
	(StringField._maxlen): Pou¾ívej `self._type' namísto
	`self.data_column().type()'.
	(InputField.validate): Update identifikátorù v
	docstringu. Pou¾ívej `self._type' namísto
	`self.data_column().type()'.
	(InputField.set_default): Pou¾ívej `self._type' namísto
	`self.data_column().type()'.
	(StringField): Update identifikátorù v docstringu.
	(StringField._maxlen): Pou¾ívej `self._type' namísto
	`self.spec().type()'.
	(EnumerationField): Update identifikátorù v docstringu.
	(EnumerationField._values): Pou¾ívej `self._type' namísto
	`self.data_column().type()'.
	(DateField): Update identifikátorù v docstringu.
	(CodeBookField): Update identifikátorù v docstringu.
	(CodeBookField._number_of_fields): Pou¾ívej `self._type' namísto
	`self.data_column().type()'.
	(CodeBookField._maxlen): Pou¾ívej `self._type' namísto
	`self.data_column().type()'.
	(CodeBookField._on_text_hook): Pou¾ívej `self._type' namísto
	`self.data_column().type()'.

	* lib/pytis/form/list.py (_InputFieldCellEditor.Create): Volej
	`control.SetInsertionPoint(0)'. Konstruktoru `InputField'u
	pøedávej nový parametr `form'.
	(_InputFieldCellEditor.BeginEdit): Konstruktoru `InputField'u
	pøedávej nový parametr `form'.
	
	* lib/pytis/form/inputfield.py (resolve): Nový povinný argument `form'.
	(InputField.__init__): Nový povinný argument `form'.
	(InputField._on_key_down): `Form' není `self._parent', ale
	`self._form'...
	(_skip_navigation): `Form' není `self._parent', ale
	`self._form'...
	(TextField._create_text_control): Velikost nastavuj pouze pokud
	není "inline".
	(TextField._on_key_down_multiline): `Form' není `self._parent', ale
	`self._form'...
	(DateField._on_invoke_selection): Namísto `self._parent.parent()'
	pou¾ívej `self._parent' (Parent ji¾ není `Form').
	(CodeBookField._on_invoke_selection): Také tak...

	* lib/pytis/form/form.py (EmbeddedEditForm._pack_fields): Funkci
	`inputfield.resolve()' pøedávej nový argument `form'.

2002-01-15  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (FieldSpec.__init__): Zru¹eno zapomenuté
	pøiøazení `hint'.
	(hint): Metoda zru¹ena.

2002-01-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (MenuBar.MENU_ID_SEPARATOR): Nová konstanta.
	(MenuBar._assemble_menu): Pou¾ívej ji místo natvrdo zadaného
	znaku.

	* lib/pytis/form/list.py (ListForm.on_user_action): Nová metoda.
	(List.on_user_action): Nová metoda.
	(List.UA_LINE_COMMIT, List.UA_LINE_ROLLBACK): Nové konstanty.

	* lib/pytis/form/form.py (Form.on_user_action): Nová metoda.

	* lib/pytis/form/application.py (Application._menu_id): Nová metoda.
	(Application.on_load_form): Vyu¾ívej ji.
	(Application._top_level_exception): Nová metoda.
	(Application.on_load_form): Vyu¾ívej ji.
	(Application.on_menu_action): Nová metoda.
	(Application.on_ui_event): Doplnìn docstring.
	(Application._call_current_window): Nová metoda.
	(Application.on_ui_event): Vyu¾ívej ji.
	(Application.on_user_action): Nová metoda.
	(UserAction): Nová tøída.
	(Application.on_load_form): Pou¾ívej MENU_ID_SEPARATOR místo
	natvrdo zadaného znaku.

2002-01-14 Tomá¹ Cerha <cerha@brailcom.cz>

        * fefs/UcDenik.py: Úpravy související se zru¹ením tøídy.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Zru¹en argument
	`hint'. Nový argument `column_label'.
	(FieldSpec.width): Stylistická úprava kódu.
	(FieldSpec.column_label): Nová metoda.
	(FieldSpec.column_width): Stylistická úprava kódu.
	(FieldSpec.height): Stylistická úprava kódu.

	`spec.ColumnSpec'.

	* lib/pytis/form/inputfield.py (resolve): Ke zji¹tìní typu pou¾ívej
	`spec.FieldSpec.type()' namísto `lib.data.ColumnSpec.type()'.
	(InputField.__init__): Zru¹en assert na existenci datového
	sloupeèku. Ukládej si odkaz na datový objekt.
	(InputField.data_column): Update docstringu.
	(InputField.spec): Update docstringu.
	(InputField.set_default): Pouøívej `self.spec().type()' namísto
	`Computer.type()'.

	* lib/pytis/form/list.py (List._ListTable.__init__): Pou¾ívej
	`FieldSpec.column_width()' namísto `width()'.
	(List.__init__): Update docstringu.
	(List._create_grid): Novì vytváøené FieldSpec pøedávej i argument
	`column_width'.
	(List._create_grid): Pou¾ívej `FieldSpec.column_width()' namísto
	`width()'.
	(List.SetSize): Pou¾ívej `FieldSpec.column_width()' namísto
	`width()'.
	(ListForm._columns): Update docstringu.
	(CodeBook._columns): Update docstringu.

	* lib/pytis/form/resolver.py (ResolverFileError.__init__): Nový atribut
	`exception'.
	(Resolver._load_module): Pøedávej zachycenou výjimku vytváøené
	instanci `ResolverFileError'.

	* lib/pytis/form/spec.py: Update docstringu.
	(Computer.__init__): Zru¹en argument `type'. Update docstringu.
	(type): Metoda zru¹ena.
	(ColumnSpec): Tøída Zru¹ena.
	(ColumnSpecFromField): Tøída zru¹ena.
	(FieldSpec): Update docstringu.
	(FieldSpec.__init__): Argument `label' nech» je povinný. Nový
	argument `column_width'. Nový argument `type_'. Doplòeny asserty.
	(FieldSpec.type): Nová metoda.
	(FieldSpec.width): Stylistické úpravy.
	(FieldSpec.column_width.ault):  Nová metoda.
	(ViewSpec.__init__): Úpravy související se zru¹ením tøídy `ColumnSpec'.
	Nevytváøej slovníky sloupcù ani políèek.
	(ViewSpec._remember_columns): Metoda zru¹ena.
	(ViewSpec._remember_fields): Metoda zru¹ena.
	(ViewSpec.field): Metoda zru¹ena.
	(ViewSpec.column): Metoda zru¹ena.

2002-01-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.on_ui_event): Nová metoda.
	(ListForm.on_ui_event): Nová metoda.
	(List.UI_EDIT_CHANGE): Nová konstanta.
	(List._select_cell): Volej SetGridCursor ka¾dopádnì.
	(List._sf_dialog): SFDialog, ne Dialog.

	* lib/pytis/form/form.py (Form.on_ui_event): Nová metoda.

	* lib/pytis/form/screen.py (Menu.__init__): Nový argument `uievent_id' a
	atribut `_uievent_id'.
	(Menu.uievent_id): Nová metoda.
	(MenuBar._assemble_menu): Registruj callbacky pro polo¾ky menu
	s uievent_id.

	* lib/pytis/form/application.py (Application.on_ui_event): Nová metoda.
	(Application.OnInit): `_application' nastav co nejdøív.

2002-01-14  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (ColumnSpec.__init__): Atribut `computer'
	nech» je privátní (`_computer'). 
	(ColumnSpec.computer): Nová metoda.
	(ColumnSpecFromField.__init__): Nastavuj také `computer'.
	(FieldSpec.__init__.ault): Nový argument `computer'.
	(FieldSpec.computer): Nová metoda.

2002-01-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (ColumnSpec.__init__): `computer' pøejmenováno
	na `_computer'.
	(ColumnSpec.computer): Nová metoda.

	* lib/pytis/form/list.py (List._create_grid): Zji¹»uj poèítanost
	poèítaèe sloupce testem na typ jeho hodnoty.
	(List._create_grid): Místo pøenastavování atributù v kopii
	ColumnSpec vytvoø zbrusu novou instanci.
	(List._ListTable.__init__, List._create_grid)
	(List._sf_dialog): Zohlednìna zmìna ColumnSpec.

	* lib/pytis/data/data.py (Row.__str__): Vracej i klíèe sloupcù.

2002-01-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (Data.check_row_key): Nový test.
	(Data.setUp): Nová metoda.

	* lib/pytis/data/data.py (Data.row_key): Nová metoda.
	(Row.__init__): Úpravy docstringu.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_tabcol)
	(PostgreSQLStandardBindingHandler._pdbb_btabcol)
	(PostgreSQLStandardBindingHandler._pdbb_coalesce)
	(PostgreSQLStandardBindingHandler._pg_send_notifications): Doplnìn
	struèný docstring.
	(PostgreSQLStandardBindingHandler._pg_update): Vyu¾ito `xtuple'.
	(PostgreSQLStandardBindingHandler._pdbb_row_main_value): Zru¹eno.
	(PostgreSQLStandardBindingHandler._pg_update) 
	(DBDataPostgreSQL.update): Místo `_pdbb_row_main_value' pou¾ívej
	`row_key'.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql): Drobné
	zjednodu¹ení kódu.

	* lib/pytis/form/list.py (List.on_key_down.evil_key): Akceptuj pouze
	nìkteré klávesy a klávesy s nìkterými modifikátory.

2002-01-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/_test.py (Find): Nová sada testù.
	(NextSubclass): Nová sada testù.

	* lib/pytis/util/util.py (find): Nová funkce.
	(next_subclass): Nová funkce.
	(_mro): Nová funkce.

	* lib/pytis/form/form.py (Form._on_key_down): Pøejmenováno na
	`on_key_down'.
	(EmbeddedEditForm._on_key_down): Nápodobnì.
	(Form.__init__): Zohlednìna pøedchozí zmìna.

	* lib/pytis/form/inputfield.py (InputField.reset_value): Nová metoda.
	(Invocable._on_key_down): Dal¹í metodu `_on_key_down' volej pouze,
	pokud nebyla zpracována klávesa.
	(Invocable._on_key_down): Pøi nezpracované klávese volej metodu
	pøedka místo metody rodièe.
	(InputField._on_key_down): V inline re¾imu o¹etøuj klávesy
	potvrzení a zru¹ení editace políèka.

	* lib/pytis/form/list.py (_InputFieldCellEditor.Create): Nastav widget
	pøes SetControl.
	(_InputFieldCellEditor.BeginEdit, _InputFieldCellEditor.EndEdit) 
	(_InputFieldCellEditor.Reset): Pro obnovení pùvodní hodnoty
	vyu¾ívej metody tøídy InputField.
	(BrowseForm.on_key_down): Nová metoda.
	(ListForm._on_key_down): Nová metoda.
	(List._on_key_down): Pøejmenováno na `on_key_down'.
	(List._create_grid): Zohlednìna pøedchozí zmìna.

2002-01-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py: lib.data.types_ -> lib.data.
	(List._select_cell): Logovací hlá¹ky pøechodu loguj s druhem
	DEBUG.
	(List._on_key_down): Loguj klávesovou událost s druhem DEBUG.
	(List._on_select_cell): Loguj buòku s druhem DEBUG.
	(List._select_cell): SelectRow volej pouze, pokud daný øádek ji¾
	není v selekci.
	(List.select_row.set): Nápodobnì.
	(_InputFieldCellEditor): Nová tøída.
	(_Date_Cell_Editor): Nová tøída.
	(_CellEditor.__init__): Nová metoda.
	(_BooleanCellEditor.__init__, _NumberCellEditor.__init__)
	(_FloatCellEditor.__init__, _TextCellEditor.__init__): Nová
	metoda.
	(List._create_grid): Volej konstruktor editoru s novì zavedenými
	argumenty.
	(List._ListTable._TYPE_EDITOR_MAPPING): Pøidán _DateCellEditor.

	* lib/pytis/util/log.py (Logger._prefix): Modul zji¹»uj pouze, je-li
	definováno __debug__.

2002-01-11  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (Computer.__call__): Nová metoda.
	(FieldSpec.__init__): Nový argument 'default'.
	(FieldSpec.default): Nová metoda.

	* lib/pytis/form/inputfield.py (InputField.set_default): Nová metoda.

	* lib/pytis/form/form.py (EmbeddedEditForm.__init__): `self.set_row()'
	volej i kdy¾ `key' je None.
	(EmbeddedEditForm.set_row): Kdy¾ je `key' None, volej pro v¹echna
	políèka metodu `set_default()'.

2002-01-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py: Definuj `super' natvrdo.

2002-01-09  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/list.py (List._create_grid): Nastavuj font pro label
	pøi vytváøení gridu
	(wxPython-2.3.2 toti¾ nastavuje o¹klivý font pro záhlaví listu).

2002-01-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (super): Pøejmenováno na `super_'.
	(super): Nová podmínìnì pøiøazená funkce.

	* lib/pytis/form/search.py: Updatovány importy.
	(Dialog): Pøejmenováno na SFDialog.
	(SearchDialog, FilterDialog): Zohlednìna pøedchozí zmìna.

	* lib/pytis/form/list.py (BrowseForm.__init__, CodeBook.__init__):
	Opravena kvalifikace konstanty SELECTION_CALLBACK.
	(BrowseForm.set_callback): Nová metoda.

	* lib/pytis/form/form.py (EditForm.__init__): Nový argument `popup'.
	(EditDualForm._create_main_form): Volej konstruktor EditForm
	s argumentem `popup'.
	(SideBrowseDualForm): Nová tøída.
	(BrowseDualForm._create_side_form): Pøesunuto do
	SideBrowseDualForm.
	(EditDualForm._create_side_form): Nápodobnì.
	(BrowseDualForm, EditDualForm): Buï potomkem SideBrowseDualForm.
	(Form.set_callback): Nová metoda.
	(EditForm.CALL_SELECTION): Nová konstanta.
	(Form._run_callback): Nová metoda.
	(Form.__init__): Nový atribut `_callbacks'.
	(EditForm.set_row): Volej selection callback.
	(EditDualForm._create_main_form): Nastav vytvoøenému formuláøi
	selection callback.
	(BrowseDualForm._create_main_form): Jako selection callback
	nastavuj `_on_selection' místo vlastní funkce.
	(BrowseDualForm): Odstranìny kvalifikace souboru `list'.
	(BrowseDualForm._on_activation): Nová metoda.
	(EditDualForm.__init__): Zru¹en argument `row'.
	(PopupForm._on_leave_window): Nová metoda.
	(Form._on_leave_window): Odstranìny vìci týkající se PopupForm.
	(EditForm): Pøejmenováno na EmbeddedEditForm, nedìdí PopupForm.
	(EditForm): Nová tøída.
	(PopupForm._on_parent_close): Nová metoda.
	(EmbeddedEditForm.exit_check): Nová metoda.
	(EmbeddedEditForm._on_parent_close): Ztrivializováno,
	funkcionalita pøenesena do `exit_check'.
	(EmbeddedEditForm.OnSetFocus): Testuj na prázdné `_fields'.

	* lib/pytis/data/_test.py: Místo jednotlivých souborù importuj pouze
	lib.data.

	* lib/pytis/util/_test.py (InstanceResolver): Zru¹eno.

2002-01-09  Pavel Hanak  <hanak@brailcom.cz>

	* lib/pytis/form/form.py (BrowseDualForm._create_side_form,
	BrowseDualForm.__init__, BrowseDualForm._create_main_form):
	Pou¾ívej `List' místo `list.List'.
	

2002-01-09  Tomá¹ Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (ColumnSpecFromField.__init__): ze specifikace
	políèka pøebírej i `separator'.
	(FieldSpec.__init__): Nový argument `separator'.
	(FieldSpec.separator): Nová metoda.

	* lib/pytis/form/inputfield.py (resolve): Nový argument `inline'.
	(InputField.__init__): Nový argument `inline'. Nejprve volej
	`self._create_controls()', potom teprve
	`self._create_widget()'. Pokud je `inline' pravda, nevytváøej
	label a proveï assert na poèet prvkù vrácený metodou
	`self._create_controls()' rovný právì jedné.
	(InputField._create_controls): Nová metoda.
	(InputField._create_widget): Sestav widget jako sizer slo¾ený z
	prvkù `self._controls'. Update dokumwentace - rozdìlení funkènosti
	na dvì metody - `_create_controls()' `_create_widget()'.
	(InputField._skip_navigation): Kód uzavøi do try ... except.
	(GenericField): Update dokumentace.
	(TextField._create_widget): Metoda nahrazena pouze metodou
	`_create_controls()'.
	(CheckBoxField._create_widget): Metoda nahrazena pouze metodou
	`_create_controls()'.
	(ChoiceField._create_widget): Metoda nahrazena pouze metodou
	`_create_controls()'.
	(RadioBoxField._create_widget): Metoda nahrazena pouze metodou
	`_create_controls()'.
	(ListBoxField._create_widget): Metoda nahrazena pouze metodou
	`_create_controls()'.
	(Invocable._create_widget): Zmìny související s novým významem
	metody `_create_widget()'
	(InlineMultiTextField): Nová tøída.
	(MultiTextField): Nech» je tøída potomkem `InlineMultiTextField' a
	pøedefinovává pouze nezbytné metody.
	(MultiTextField._create_controls): V 'inline' re¾imu volej metodu
	pøedka.
	(MultiTextField.get_value): V 'inline' re¾imu volej metodu pøedka.
	(MultiTextField._set_value): V 'inline' re¾imu volej metodu
	pøedka.
	(CodeBookField._create_widget): V 'inline' re¾imu nevytváøej display.

	* lib/pytis/form/list.py (List._ListTable.GetValue): U stringových hodnot
	je¹tì pøed vrácením spoj øádky.

2002-01-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (Resolver): Zru¹eno.
	(InstanceResolver): Zru¹eno.
	(xlist): Nová funkce.

	* lib/pytis/form/resolver.py (Resolver.__init__): `path' pøevádìj na
	list pomocí `xlist'.

	* lib/pytis/form/screen.py (StatusBar.__init__.field_width): Neimportuj
	`form'.
	(MenuBar._assemble_menu): Neimportuj lib.form.screen.

	* lib/pytis/form/spec.py (Computer.__init__): Místo lib.data.types_
	importuj lib.data.

	* lib/pytis/form/inputfield.py: Neimportuj lib.util.
	Importuj hvìzdièkovì lib.form místo importù jednotlivých souborù.
	(CodeBookField._on_invoke_selection): Neimportuj `list'.

	* config/config.py (application_name): Importuj z lib.data, ne
	lib.data.dbdata.

	* lib/pytis/data/__init__.py: Hvìzdièkovì importuj lib.util.

	* lib/pytis/data/types_.py: Neimportuj lib.util.

	* lib/pytis/data/data.py: Neimportuj lib.util.

	* lib/pytis/data/dbdata.py: Neimportuj lib.util.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce.ault): Argument
	id sloupce nahrazen argumentem typ sloupce.
	(DBColumnBinding.__init__): V docstringu u argumentu `column'
	doplnìno, ¾e mù¾e být sekvencí.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql) 
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	O¹etøeny multisloupce.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Sjednocena tvorba `ordering' a `rordering'.

	* lib/pytis/form/list.py: Importuj celé lib.form hvìzdièkovì.
	Neimportuj lib.util.
	(List.__init__): Ostranìn hack s importem `application'.

	* lib/pytis/form/form.py: Neimportuj lib.data.dbdata.
	Importuj celé lib.form hvìzdièkovì.
	Neimportuj lib.util.	
	(EditForm._on_parent_close, BrowseDualForm.__init__)
	(BrowseDualForm._create_main_form, BrowseDualForm._create_side_form)
	(EditDualForm._create_side_form, EditDualForm._create_main_form):
	Neimportuj `list'.

	* lib/pytis/form/dialog.py: Místo lib.data.dbdata importuj lib.data.

	* lib/pytis/form/application.py: Neimportuj `config'.
	lib.form importuj vcelku a hvìzdièkovì.
	Neimportuj lib.util.
	(Application.on_load_form): Neimportuj `dialog'.

	* lib/pytis/form/__init__.py: Importuj hvìzdièkovì v¹echny soubory.
	Aktualizován docstring.

2002-01-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.__init__): Importuj `application.'
	(List._on_delete_line, List._on_line_commit): Zobraz zprávu
	o úspìchu do stavového øádku.

	* config/config.py (logging): Nová konfiguraèní volba `logger'.

	* lib/pytis/util/test.py: `config' importuj a¾ na místì pou¾ití.

	* lib/pytis/data/dbdata.py: Místo jednotlivých submodulù lib.data
	hvìzdièkovì importuj lib.data.
	mx.DateTime importuj plnì kvalifikovanì.
	(DBDataPyPgSQL._pg_query): Dojde-li k operaèní chybì uvnitø
	transakce, nepokou¹ej se provést dotaz nad novým spojením.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce.ault): Doplnìna
	podpora pro Boolean a Float.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Doplnìny
	kvalifikace typù hodnot.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Nový argument
	`value', vracej celý coalesce výraz.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql) 
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop) 
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Zohlednìna pøedchozí zmìna.

	* lib/pytis/data/data.py: Hvìzdièkovì importuj lib.data.
	Místo lib.util.util importuj lib.util.

	* lib/pytis/data/__init__.py: Hvìzdièkovì importuj `types_' a `dbdata'.

	* lib/pytis/util/__init__.py: Hvìzdièkovì importuj `test'.

	* lib/pytis/util/log.py (log): V docstringu povoleno neklíèování
	argumentu `data'.
	(SyslogLogger._MAX_MESSAGE_LENGTH): Nový konstantní atribut.
	(SyslogLogger._send): Jakés takés o¹etøení maximální mo¾né délky
	zprávy syslogu.
	(log): Nevytváøej `logger' natvrdo, nýbr¾ ber parametry jeho
	konstrukce z konfigurace.
	(SyslogLogger._prefix): Nech» prefix není prázdný a obsahuje
	v¹echny informace neposkytované syslogem.

	* lib/pytis/form/application.py: Zru¹en import `locale'.
	(Application.message): Nová metoda.
	(_application): Nová promìnná.
	(Application.OnInit): Ulo¾ se do `_application'.
	(Application.on_exit): Odstraò se z `_application'.
	(message): Nová funkce.

	* lib/pytis/form/screen.py (StatusBar.message): Pøejmenováno na
	`_current_message'.
	(StatusBar.show_message): Pøejmenováno na `message', zmìna
	definice chování pøi neexistujícím id.
	(StatusBar): Úpravy docstringu.
	(StatusBar.__init__): Úpravy docstringu.
	(StatusBar.__init__): ©íøky polí jsou nyní v dialogových
	jednotkách, úpravy kódu.
	(StatusBar.message): Úpravy docstringu.
	(StatusBar._field_number, StatusBar.message): Neexistuje-li pole
	s po¾adovaným id, je vyvolána výjimka KeyError (pouze dokumentaèní
	zmìna).
	(StatusBar.save, StatusBar.restore): Zohlednìno pøejmenování
	nìkterých metod.

2002-01-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Opraveno chybné poøadí parametrù v tvorbì
	`_pdbb_command_insert_newpos'.
	(PostgreSQLStandardBindingHandler._pg_insert): O¹etøen pøípad, kdy
	SQL pøíkaz vracející nejvy¹¹í poøadové èíslo vrátí NULL.

	* lib/pytis/form/list.py (List._on_line_commit): Roz¹íøena hlá¹ka
	o neúspìchu insertu.
	(List._ListTable._EditedRow.__init__): Konstruktoru pøedka
	pøedávej ji¾ zkopírovaný sloupec, je-li nový.

2002-01-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	`lower' aplikuj pouze na stringové sloupce.

	* lib/pytis/form/list.py (List._FOCUS_COLORS): Nový atribut.
	(List._NOFOCUS_COLORS): Nový atribut.
	(List.SetFocus): Nastav barvu výbìru a volej `focus' na rodièe.
	(List.OnKillFocus): Nová metoda.
	(List._on_select_cell): Volej SetFocus.
	(List._select_cell): Nevolej SetFocus na grid.
	(List._recreate_grid): Místo nastavení focusu buï nastav focus,
	nebo zru¹ focus.
	(List.__init__): Do docstringu doplnìna poznámka o správném
	rodièe.
	(ListForm.focus): Nová metoda.
	(ListForm.defocus): Nová metoda.
	(ListForm._TITLE_BACKGROUND_COLOR): Nový atribut.
	(ListForm.__init__): Nastav barvu záhlaví.

	* lib/pytis/form/form.py (Form._focused_form): Nový atribut.
	(Form.focus): Nová metoda.
	(Form.defocus): Nová metoda.
	(focused_form): Nová funkce.

2002-01-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm._create_main_form): Vyselektuj
	první øádek.
	(BrowseDualForm.__init__): Nová metoda.

2002-01-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_insert): Je-li tabulka
	uspoøádaná, doplò do øádku poøadové èíslo i kdy¾ `after'
	i `before' je None.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nový
	atribut `_pdbb_command_insert_newpos'.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pøevádìj ids ordering sloupcù na databázové názvy.
	(DBDataPostgreSQL.insert): Loguj takté¾ `after' a `before'.
	(DBDataPostgreSQL.insert): Opraven test na nalezení souseda.

	* lib/pytis/form/list.py (List._on_line_commit): Doplnìna podpora pro
	uspoøádané seznamy.
	(List._ListTable.row): Správnì urèi èíslo øádku, nachází-li se za
	editovaným øádkem.
	(List._on_delete_line): Opraven test na poslední øádek tabulky pøi
	volbì nové buòky.

2002-01-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.select_row): Ulo¾ pozici do `_position'.
	(List.refresh): Nový parametr `filterflag'.
	(List.__init__): Nový atribut `_filterflag'.
	(List._create_grid): Indikaci filtru zapínej dle `_filterflag', ne
	dle podmínky.
	(List._on_filter): Pøedávej `refresh' parametr `filterflag'.
	(List._recreate_grid): Pøed voláním `_select_cell' testuj `row' na
	None, ne pouze nepravdu.
	(List._recreate_grid): `_select_cell' volej s `invoke_callback'
	TRUE.
	(List._sf_dialog): Vynechej poèítané sloupce.

	* lib/pytis/util/util.py (compare_objects): Souvisí s __cmp__, ne
	__call__ (oprava docstringu).

	* lib/pytis/data/data.py (Data._Operator.__cmp__): Nová metoda.

	* lib/pytis/form/form.py (BrowseDualForm._create_side_form): `splitter'
	-> `self._splitter'.
	(DualForm.__init__): Nejprve vytváøej main form, teprve pak side
	form.
	(DualForm.__init__): Odstranìn nadbyteèný argument z volání
	`_create_main_form'.

	* lib/pytis/data/types_.py (Value.__init__): Je-li typem `String', pøímo
	nastav `_exported' na `value'.

	* lib/pytis/util/log.py (log): Vyhazuj debugovací hlá¹ky.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_create_make_row_template): Nová metoda.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Optimalizováno.
	(DBDataPostgreSQL.__init__): Nový atribut `_pg_make_row_template'.
	(DBDataPostgreSQL.__init__): Do seznamu argumentù v docstringu
	doplnìno `ordering'.

2001-12-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py (FilterDialog._create_buttons): "Filtruj" ->
	"Filtrovat", "Nefiltrovat" -> "Zru¹it filtr".
	(Dialog._create_buttons): "Zru¹it" -> "Zavøít".

	* lib/pytis/form/list.py (_scrollbar_width): Nová pomocná funkce.
	(CodeBook.__init__): Vyu¾ívej ji.
	(List.SetSize): Pøenastav ¹íøky sloupcù.
	(List._recreate_grid): Volej SetSize.
	(List._on_filter): Nenastavuj barvu záhlaví.
	(List._create_grid): Pøi zapnutém filtru nastav barvu záhlaví.

	* lib/pytis/util/log.py (Logger.log): Do docstringu doplnìno, ¾e
	argument `data' není nutno klíèovat.
	(Logger._formatted_data): Strings pou¾ij pøímo, nepøevádìj je pøes
	`repr'.

	* lib/pytis/form/application.py (Application.on_load_form): Loguj
	odchycenou neoèekávanou výjimku.

2001-12-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_filter): Pøi zapnutí filtru zmìn
	barvu záhlaví.
	(List._FILTER_COLOR): Nová konstanta.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Pøidána podpora pro `ignore_case'.

	* lib/pytis/data/data.py (EQ, NE, WM, NW, LT, LE, GT, GE): Nový argument
	`ignore_case'.
	(Data._Operator.__init__): Nový argument `kwargs' a atribut
	`_kwargs'.
	(Data._Operator.kwargs): Nová metoda.

	* lib/pytis/form/search.py (Dialog._create_widget.condition): Nový
	atribut `_primary_column_selector'.
	(Dialog.run): Nastavuj v primárním selectoru implicitní sloupec.
	(Dialog.run): Nový atribut `_colnum'.
	(Dialog._on_suck): Není-li vybrán ¾ádný sloupec, pou¾ij `_colnum'.
	(FilterDialog._create_buttons): Nové tlaèítko pro zru¹ení filtru.
	(FilterDialog._on_reset_filter): Nová metoda.

2001-12-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.search): Upøesnìn pojem "aktuální øádek".
	(Data.rewind): Nová metoda.
	(MemData.rewind): Nová metoda.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.current):
	Opravena faktická chyba v docstringu.
	(DBDataPostgreSQL.search): O¹etøen pøípad, kdy je aktuální øádek
	mimo buffer, av¹ak ne mimo data.
	(DBDataPostgreSQL.lock_row): V logovacím volání nepøedpokládej, ¾e
	`key' je tuple.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nový
	atribut `_pdbb_command_search_last'.
	(PostgreSQLStandardBindingHandler._pg_search): Pøi zpìtném hledání
	pou¾ívej `_pdbb_command_search_last'.
	(DBDataPostgreSQL._pg_value): Øádnì zpracovávej datum a èas.
	(DBDataPostgreSQL.rewind): Nová metoda.

	* lib/pytis/form/search.py (Dialog.close): Nová metoda.
	(Dialog.__init__): Zru¹en argument `row'.
	(Dialog.run, SearchDialog.run, FilterDialog.run): Nový argument
	`current_row'.
	(Dialog.run, SearchDialog.run, FilterDialog.run): Zru¹en argument
	`kwargs'.
	(Dialog.run, SearchDialog.run, FilterDialog.run): Nový argument
	`col'.

	* lib/pytis/form/list.py (List.select_row): Pøi neúspìchu hledání nastav
	na 0 `position', ne `result'.
	(List.Close): Nová metoda.
	(ListForm.Close): Volej Close na `_list'.
	(List._on_search): Pøi nenalezení záznamu zobraz, nejen vytvoø,
	dialog.
	(List._ListTable.rewind): Nová metoda.
	(List._on_search): Po vyhledání proveï rewind na tabulku.
	(List._on_search): Místo `_select_row' volej `_select_cell'.
	(List._on_search): Pøi zpìtném hledání se posouvej zpìt.
	(List._sf_dialog): Nepøedávej dialogu aktuální øádek.
	(List._on_search, List._on_filter): Pøedávej dialogu aktuální
	øádek a èíslo sloupce.
	(List._create_grid, List._on_search, List.select_row.find):
	Vyu¾ívej metodu lib.data.Data.rewind.

2001-12-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Doplnìn
	chybìjící argument ve volání `string.replace'.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Nepokou¹ej
	se modifikovat øetìzec, nejde to.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Opraveno
	chybné pøevádìní hvìzdièek a otazníkù pro LIKE.

	* lib/pytis/data/data.py (WM): Operátor je 'WM', ne 'EQ'.

	* lib/pytis/util/log.py (Logger._formatted_data): Na tuples aplikuj
	`str' na jednotlivé prvky.

	* lib/pytis/form/form.py (BrowseDualForm.Show, BrowseDualForm.OnSize)
	(BrowseDualForm.Close): Pøesunuto do DualForm.
	(DualForm._create_main_form): Nová metoda.
	(DualForm._create_side_form): Nová metoda.
	(BrowseDualForm.__init__): Zru¹eno, kód pøesunut do
	DualForm.__init__ a metod `_create_main_form' a
	`_create_side_form'.
	(BrowseDualForm._create_main_form.callback): Nová metoda.
	(BrowseDualForm._create_side_form): Nová metoda.
	(EditDualForm.__init__): Zru¹eno.
	(EditDualForm._create_side_form): Nová metoda.
	(EditDualForm._create_main_form): Nová metoda.

	* lib/pytis/form/search.py (FilterDialog.run): Nová metoda.
	(FilterDialog._on_filter): Nastav atribut `_perform'.
	(Dialog._create_buttons): Vracej buttonky.
	(Dialog._on_suck, Dialog._selected_condition): GetSelectionString
	-> GetStringSelection.
	(Dialog._create_widget): Úpravy `and_' -- zduplikováno `&',
	vlo¾eno do sizeru a jiné neúspì¹né pokusy o vycentrování &.
	(Dialog._on_suck): Opraveno chybné jméno pomocné promìnné.
	(Dialog._LABEL): Nový atribut.
	(Dialog._create_widget): Vyu¾ívej ho.
	(SearchDialog._LABEL, FilterDialog._LABEL): Nový atribut.
	(SearchDialog.run, FilterDialog.run): Doplnìno logování.

	* lib/pytis/form/list.py: Importuj modul `resolver' standardnì.
	(List._on_key_down): Pøidány klávesy LIST_FILTER a LIST_SEARCH.
	(List._on_search): Nová metoda.
	(List._on_filter): Nová metoda.
	(List.__init__): Nové atributy `_search_dialog' a
	`_filter_dialog'.
	(List._sf_dialog): Nová metoda.
	(List._on_search, List._on_filter): Doplnìno logování.

2001-12-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/search.py: Nový modul.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Pøidána
	podpora pro operátor WM.

	* lib/pytis/data/data.py (NE): Nová operátorová funkce.
	(WM, NW): Nové operátorové funkce.

2001-12-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_edit): Zamykej editovaný záznam.
	(List._on_line_rollback, List._on_line_commit): Odemykej záznam.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.lock_row): Odstranìn
	nadbyteèný backslash v hlá¹ce.
	(DBDataPostgreSQL.lock_row): Pøed zápisem klíèe do logu na jeho
	polo¾ky aplikuj `str'.

	* lib/pytis/form/form.py (EditForm.run): Nová metoda, zaji¹»uje
	zamykání.
	(EditForm._lock): Zru¹en argument `key'.
	(EditForm._lock): Jestli¾e klíè je None, neprovádìj zamykání a
	rovnou vra» TRUE.
	(EditForm._lock): Kvalifikuj Message jménem modulu.

2001-12-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py (db_operation): Vyu¾ívej metodu
	DBConnection.modified.

	* banka.py (_USAGE): Mírnì upraveno.  Doplnìna nová volba
	--dbuser.
	(_process_options): Nová volba --dbuser.

	* lib/pytis/form/application.py (Application.on_load_form): Odchytávej
	v¹echny výjimky a na jejich výskyt reaguj chybovou hlá¹kou.

	* lib/pytis/form/form.py (Form.__init__): Pøi databázové chybì nenechej
	konstrukci instance nedokonèenou, nahoï výjimku.

	* lib/pytis/data/_test.py (DBDataOrdering.check_insert): Opravy chyb a
	rùzná vylep¹ení.
	(DBConnection.check_modified): Nový test.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Zru¹en atribut `_pdbb_command_insert_eshift'.
	(PostgreSQLStandardBindingHandler._pg_insert): Pou¾ívej pro after
	i before `_pdbb_command_insert_shift'.
	(PostgreSQLStandardBindingHandler._pg_insert): Opravy chyb
	souvisejících s after/before.
	(DBDataPostgreSQL.insert): Pokud je definováno ordering, které je
	souèástí klíèe, neprovádìj kontrolu na duplicitu vkládaného øádku.
	(DBDataPyPgSQL._PgNotifier.__init__): Nech» `_data_objects' je
	instance WeakKeyDictionary.
	(DBDataPyPgSQL._PgNotifier._register): Hlá¹ka výjimky obalena
	gettextem.
	(DBConnection.modified): Nová metoda.

2001-12-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (Row.check_append): Nový test.
	(DBDataOrdering): Nová sada testù.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_insert): Dopsána podpora pro
	øádkové uspoøádání.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nové
	atributy `_pdbb_command_insert_shift' a
	`_pdbb_command_insert_eshift'.
	(PostgreSQLStandardBindingHandler._pg_insert)
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Atribut `_pddb_command_get_last' pøejmenován na
	`_pdbb_command_get_last'.
	(DBDataPostgreSQL.update): Aplikuj na `key' `xtuple'.
	(DBDataPostgreSQL.update): Pøidána podpora pro uspoøádané tabulky.

	* lib/pytis/data/data.py (Data.__init__): Aplikuj na `key' a `ordering'
	`xtuple'.
	(Row.append): Nová metoda.
	(Data.update): Drobné upøesnìní v docstringu.

2001-12-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (String._validate): Do hlá¹ky o dlouhém
	øetìzci pøidány i patøièné údaje.

2001-12-21  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (TextField._create_text_control): Pro
	víceøádková vstupní políèka volej o¹etøuj `wx.EVT_KEY_DOWN' pomocí
	metody `self._on_key_down_multiline()'.
	(TextField._on_key_down_multiline): Nová metoda.
	(TextField._on_key_down_multiline): Pøidán komentáø.

2001-12-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.select_row.find): Po skipu resetuj
	aktuální øádek tabulky.

	* lib/pytis/data/_test.py: Updatovány importy pro novou verzi Pythonu.
	(String.check_validation_limited): `maxwidth' -> `maxlen'.
	(Date.check_validation, DateTime.check_validation): Odstranìn
	import DateTime.
	(DBDataFetchBuffer._check_skip_fetch): Pøi oèekávaném øádku
	doplnìn test na to, ¾e øádek není None.
	(DBDataReuse.check_it): Nápodobnì.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec.gettype):
	Jestli¾e velikost textového políèka je v PostgreSQL záporná, nech»
	je zde neomezená.
	(DBDataPyPgSQL._pg_query): Zmìnìna chybová hlá¹ka na výsti¾nìj¹í.
	(DBDataPyPgSQL._pg_query): Do v¹ech výjimek vyvolaných voláním
	`query' pøidán jako argument provádìný SQL dotaz.
	(DBDataPostgreSQL.skip): Zru¹ena minulá zmìna.
	(DBDataPostgreSQL.fill): Pøepracováno.

2001-12-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.skip): Resetuj
	buffer, i kdy¾ `pointer' je rovno `buflen'+1.
	(DBDataPostgreSQL._PgBuffer.__str__): Sjednoceny výpisy bufferu.
	(DBDataPostgreSQL._PgBuffer.__str__): O¹etøuj i pøípady, kdy
	`pointer' ukazuje mimo buffer.
	(DBDataPostgreSQL._PgBuffer.skip): Resetuj buffer pøi jakémkoliv
	jeho minutí.

	* lib/pytis/form/list.py (List._select_cell): Jestli¾e se èíslo sloupce
	bere ze starého sloupce, nech» je toto èíslo nezáporné.
	(List.refresh): Implicitní hodnota argumentu `when' je nyní
	závislá na hodnotì argumentu `reset'.
	(List._ListTable._get_row): Nepøedpokládej automaticky, ¾e první
	stahovaný øádek je øádek èíslo 0.

2001-12-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._on_key_down.evil_key): Místo
	`hasModifiers' testuj pøes `AltDown' a `ControlDown' (kvùli
	NumLocku).

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search): Zohledòuj
	vzestupnost/sestupnost setøídìní jednotlivých sloupcù.

2001-12-19  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py: `from resolver import ResolverSpecError'
	(BrowseForm._on_edit_form): Oprava docstringu.
	(BrowseForm._on_edit_form): Zkus zjistit alternativní jméno
	specifikace pro editaèní formuláø (funkce `edit_form_name' z
	vlastní specifikace).

	* lib/pytis/form/form.py (EditForm.navigate): Nová metoda.
	(EditForm._on_key_down): Vyu¾ívej ji.

	* lib/pytis/form/inputfield.py (TextField._create_text_control): Event
	navazuj na control, ne na rodièe.
	(Invocable._on_key_down): Kosmetické úpravy.
	(Invocable._create_widget): Event navazuj na button, ne na rodièe.
	(DateField._on_invoke_selection): Jako rodièe pro dialog nastav
	svého dìdeèka (self._parent.parent()) - odpadne tím problém se
	ztrátou fokusu. Zru¹en hack o¹etøující ztrátu focusu.
	(DateField._on_parent_focus): Metoda zru¹ena.
	(InputField._skip_navigation): Nová metoda.
	(Invocable._create_widget): O¹etøuj `wx.EVT_NAVIGATION_KEY'
	metodou `_skip_navigation()'.
	(CodeBookField._create_widget): O¹etøuj `wx.EVT_NAVIGATION_KEY'
	metodou `_skip_navigation()'.

	* lib/pytis/form/resolver.py (ResolverFileError): Nová tøída.
	(ResolverSpecError): Nová tøída.
	(Resolver._load_module): Vyu¾ívej tøídu `ResolverFileError'.
	(Resolver.get): Vyu¾ívej tøídu `ResolverSpecError'.

2001-12-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.find): Opìt od nalezené pozice odeèítej
	jednièku.

	* lib/pytis/data/types_.py: Updatovány importy pro novu instalaci
	Pythonu.

	* lib/pytis/data/dbdata.py: Updatovány importy pro novu instalaci
	Pythonu.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop):
	Pøi operátoru nerovnosti obal v¹e `coalesce'.
	(PostgreSQLStandardBindingHandler._pdbb_coalesce): Nová metoda.
	(PostgreSQLStandardBindingHandler.item2sql) 
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql.relop) 
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Vyu¾ívej ji.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_search.sorting_condition):
	Opravena zmateèná práce s ids.

2001-12-17  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (_TextValidator.__init__): `max_length'
	zmìnìno na `maxlen'...
	(_TextValidator._on_char): `_max_length' zmìnìno na `_maxlen'...
	(TextField._create_widget): `_max_length' zmìnìno na `_maxlen'...
	(TextField._max_length): Metoda pøejmenována na `_maxlen'
	(TextField._create_text_control): Argument `max' pøejmenován na
	`maxlen' a uèinìn volitelným.
	(TextField._create_widget): Volitelný argument `maxlen' uvádìj
	vèetnì identifikátoru.
	(StringField._maxlen): Metoda pøejmenována na `_maxlen'.
	(MultiTextField._width, MultiTextField._filter): Zru¹en argument
	`i' a návratová hodnota zmìnìna na tuple.
	(MultiTextField._max_length): Metoda zru¹ena.
	(CodeBookField._maxlen): Nová metoda implementovaná pomocí metody
	`maxlen()' datového typu `Codebook'.
	(CodeBookField._on_invoke_selection): Na vytvoøený formuláø
	`CodeBook' volej refresh() s nastavením pozice na souèasnou
	hodnotu.
	(MultiTextField._width): Pokud specifikace není sekvence, vytvoø
	sekvenci identických hodnot.
	(MultiTextField._filter): Pokud specifikace není sekvence, vytvoø
	sekvenci identických hodnot.

2001-12-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (StringField._max_length): `maxwidth' ->
	`maxlen'.

	* lib/pytis/data/_test.py (String): `maxwidth' -> `maxlen'.

	* lib/pytis/data/types_.py (String._validate): Jestli¾e `maxwidth' je
	None, neprovádìj kontrolu délky.
	(Codebook.maxlen): Nová metoda.
	(String): V¹echna `maxwidth' pøejmenována na `maxlen'.
	(Codebook.__init__): Nový atribut `_maxlen'.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Pøi chybì validace
	DBUserException pøedávej hlá¹ku validaèní výjimky, ne výjimku
	samotnou.
	(PostgreSQLStandardBindingHandler.gettype): `maxwidth' ->
	`maxlen'.

2001-12-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataDefaultClass.__init__) 
	(DBDataPyPgSQL.__init__, DBDataPostgreSQL.__init__) 
	(DBData.__init__): Nový argument `ordering'.
	(DBDataPostgreSQL.insert): Nové argumenty `after' a `before'.
	(DBDataPostgreSQL._pg_insert) 
	(PostgreSQLStandardBindingHandler._pg_insert): Nápodobnì.

	* lib/pytis/data/data.py (Data.__init__): Nový argument `ordering'.
	(Data.insert): Nové argumenty `after' a `before'.
	(Data.update): Specifikováno chování u øazených datových objektù.

2001-12-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._current_row): Nová metoda.
	(List._current_key, List._on_edit, List._on_insert_line) 
	(List._on_delete_line): Vyu¾ívej ji.
	(List._recreate_grid): `_select_row' volej bez vyvolání
	callbacku.  Nevolej je, pokud seznam obsahuje vlo¾ený øádek.
	(List._on_insert_line): Nastav hodnoty boolean sloupce nového
	øádku na FALSE.
	(List.select_row): Nesni¾uj èíslo nalezeného øádku o 1.

2001-12-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/log.py (Logger._prefix): Buï opatrnìj¹í ohlednì
	mno¾ství zanoøených framù.

	* lib/pytis/form/form.py (Form.__init__): Databázové operace obaleny
	protekèním kódem.

	* lib/pytis/form/application.py (Application.on_load_form): Nech»
	odchycení neznámého menu id je aplikováno pouze na pøíslu¹ný kód.

	* lib/pytis/form/list.py (List._on_line_commit): Opraveny hlá¹ky
	o neúspìchu updatu.
	(List._ListTable.EditInfo.__init__): Nový argument a atribut
	`orig_content'.
	(List._ListTable.editing): Pøedávej EditInfo nový argument.
	(List._on_line_commit): Pùvodní klíè ber z pùvodního, ne nového,
	obsahu øádku.
	(List._select_cell, List._on_line_commit): Nastavuj `_position'.
	(List.select_row.find): Opraveno vyta¾ení klíèových sloupcù.
	(List.select_row): Doplnìn chybìjící argument rodièe do volání
	_DBOP.
	(List.find): Výsledek musí být o 1 men¹í, nebo» search vrací
	hodnoty od 1 vý¹e.
	(List._recreate_grid): Kromì volání `select_row' pøemísti
	i kurzor.
	(List.select_row): Vracej èíslo vysvíceného øádku.

	* lib/pytis/data/data.py (Data.update): Docstring udìlán poøádnì.

2001-12-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook._export): Pøed voláním
	`self._data.row' pøeveï `value' na instance Value.

	* lib/pytis/form/list.py (List.select_row): Implementováno vyhledávání
	dle klíèe.
	(List._current_key): Nová metoda.
	(List._on_activation): Vyu¾ívej ji.

	* lib/pytis/data/_test.py
	(DBDataDefaultClass.check_select_fetch_direction): Odstranìna
	blokace testu.
	(Codebook): Opraveno vícero zmatkù.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_select): Nový atribut
	`_pdbb_select_rows'.
	(DBDataPostgreSQL.fetchone): Pøedávej metodì _PgBuffer.fetch
	atribut `_pdbb_select_rows'.
	(DBDataPostgreSQL._PgBuffer.fetch): Nový argument `number_of_rows'.
	Updatuj `_pointer', pokud dojde k pøekroèení hranic dat.

2001-12-13  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (_filter_func): Je¹tì malá oprava chyb v
	definici mno¾in znakù.
	(_pp_func): Funkce zru¹ena (nahrazena metodou
	`TextField._post_process_func()').
	(_filter_func): Funkce zru¹ena (nahrazena metodou
	`TextField._filter_func()').
	(InputField.__init__): Neukládej `self._post_process_func' - tady
	to nemá co dìlat...
	(TextField.NUMBERS, TextField.ASCII, TextField.LETTERS): Nové
	konstanty.
	(TextField._post_process_func): Nová metoda.
	(TextField._filter_func): Nová metoda.
	(TextField._create_widget): Vyu¾ívej `TextField._filter_func()'.
	(MultiTextField._filter): Vyu¾ívej `TextField._filter_func()'.
	(TextField._post_process): Vyu¾ívej `TextField._post_process_func()'.

	* lib/pytis/form/inputfield.py (_filter_func): Oprava definice mno¾iny
	`ascii' a `letters'.
	(MultiTextField._filter): Oprava chyby (volej `_filter_func()').

	* lib/pytis/form/inputfield.py (_filter2wx): Funkce zru¹ena.
	(_filter_func): Nová metoda.
	(_TextValidator.__init__): Nová tøída.
	(_wx_size): Metoda zru¹ena.
	(TextField._create_text_control): Nová metoda.
	(TextField._create_widget): Vyu¾ívej `self._create_text_control()'
	(TextField._max_length): Nová metoda.
	(TextField._set_validator): Nová metoda.
	(TextField._on_text): Zmìna dokumentace (zmìna zpùsobu pou¾ití).
	(TextField._on_text): Volej metodu `_on_text_hook_()'.
	(TextField._on_text_hook): Nová metoda.
	(StringField): Nová tøída.
	(resolve): Rozeznávej `StringField'.
	(MultiTextField._create_widget): Vyu¾ívej
	`TextField._create_text_control()'
	(MultiTextField._number_of_controls): Nová metoda.
	(MultiTextField._width): Nová metoda.
	(MultiTextField._filter): Nová metoda.
	(MultiTextField._max_length): Nová metoda.
	(CodeBookField._on_text): Metoda zru¹ena.
	(CodeBookField._number_of_controls): Nová metoda.
	(CodeBookField._max_length): Nová metoda.
	(CodeBookField._on_text_hook): Nová metoda.

	* lib/pytis/form/spec.py (TextFilter.INCLUDE_LIST): Nová Konstanta.
	(TextFilter.EXCLUDE_LIST): Nová Konstanta.
	(FieldSpec.__init__): Nový argument `filter_list'.
	(FieldSpec.filter_list): Nová metoda.

	* lib/pytis/form/form.py (EditForm._on_key_down): Na klávesu Enter
	reaguj vyvoláním navigaèní události (`wx.wxNavigationKeyEvent').

2001-12-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (ColumnSpecFromField.__init__): Pøidána podpora
	pro `codebook'.
	(ColumnSpec.__init__): Nový parametr `codebook'.
	(ColumnSpec.codebook): Nová metoda.

	* lib/pytis/form/list.py (List._edit_cell): Je-li editovaným políèkem
	èíselník, místo standardní editace vyvolej èíselníkové okno.
	(List._on_cell_commit): Nech» argument `event' je nepovinný.

	* lib/pytis/data/_test.py (Codebook.setUp): Nová metoda.
	(Codebook.check_special_export): Nový test.

	* lib/pytis/data/types_.py (Codebook.__init__): Nový atribut
	`_data_changed'.
	(Codebook._update_enumeration): Zohledòuj tento atribut.
	(Codebook.on_data_change): Registruj callback na zmìnu dat.
	(Codebook.is_valid, Codebook._export): Volej `update_enumeration'.
	(Codebook.Mode.ONCE): K updatu dochází i pøi zmìnì dat.
	(Codebook._export): Pakli¾e `value' neodpovídá ¾ádné vnitøní
	hodnotì, vra» None.
	(Codebook._update_enumeration): Zru¹eno `_row_cache'.
	(Codebook._export): Pøepsáno.
	(Codebook._export): Do docstringu pøidáno upzornìní na mo¾nost
	zmìny vnitøních hodnot.

2001-12-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook._export): col_id -> column;
	vylep¹en docstring.

	* lib/pytis/form/list.py (List.SetValue): Odstranìn zapomenutý print.

	* lib/pytis/data/data.py (OR): Pøedávej argumenty `AND' správnì.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler.sorting_condition): Opravy chyb.
	(PostgreSQLStandardBindingHandler.relop): Nech» `None' je validní
	podpodmínka AND.
	(PostgreSQLStandardBindingHandler.relop): Kontroluj, ¾e ký¾ený
	sloupec existuje.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	V `_pdbb_command_search_first' selectuj i oid.
	(PostgreSQLStandardBindingHandler.relop): Opravy chyb v nových
	operátorech.

	* lib/pytis/data/_test.py (DBMultiData.check_search): Nový test.

2001-12-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (ReversedSorting): Nová sada testù.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Pøidána
	podpora operátorù LT a NOT.
	(PostgreSQLStandardBindingHandler._pg_search): Nová metoda.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nové
	atributy `__pdbb_command_search_first' a
	`_pdbb_command_search_distance'.
	(DBDataPostgreSQL.search): Do `_pg_search' pøedávej celý øádek,
	nikoliv pouze klíè.
	(DBDataPostgreSQL._pg_search): `key' -> `row'.
	(DBDataPostgreSQL.update): Jestli¾e `key' není sekvence, pøeveï je
	na tuple.

	* lib/pytis/data/data.py (Data.search): V docstringu upøesnìno, ¾e
	vyhledávání se provádí pouze mezi øádky selectu.
	(OR, NOT, LT, GT, LE, GE): Nové operátorové funkce.
	(reversed_sorting): Nová funkce.
	(AND): Argumentem mù¾e být libovolný operátor.

	* lib/pytis/data/types_.py (Codebook._export): Odstranìn zapomenutý
	print.
	(Codebook.value_columns): Opraven docstring.

2001-12-10  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (List._create_grid): Pokud je label ¹ir¹í ne¾
	¹íøka ze specifikace, nastav ¹íøku sloupce na ¹íøku labelu.

2001-12-07  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (_filter2wx): Nová funkce.
	(_pp_func): Nová funkce. 
	(InputField.__init__): Zapamatuj si funkci odpovídající
	specifikace `post_process'.
	(TextField._on_text): Volej `self._post_process()'.
	(TextField._post_process): Nová metoda.
	(MultiTextField._create_widget): Pro jednoduchou vazbu datového
	sloupce pouze vracej výsledek metody pøedka.
	(CodeBookField._create_widget): Zmen¹eno odsazení displeje.
	(CodeBookField._on_text): Volej `self._post_process()'.

	* lib/pytis/form/spec.py (PostProcess): Nová tøída.
	(FieldSpec.__init__): Update dokumentace k 'post_process', update
	assertu.

2001-12-06  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (FieldSpec.__init__): Pøidán assert na
	`selection_type'.
	(FieldSpec.__init__): Nový argument `filter'.
	(FieldSpec.__init__): Nový argument `post_process'.
	(dir_const): Nová funkce.
	(TextFilter): Nová tøída.
	(FieldSpec.post_process): Nová metoda.
	(FieldSpec.filter): Nová metoda.
	(GroupSpec.__init__): vyu¾ívej novou funkci `dir_const()'

	* lib/pytis/form/inputfield.py (resolve): Úprava chybové hlá¹ky.

	* lib/pytis/form/form.py (EditForm._create_group): Zru¹en zapomenutý print.
	(EditForm._create_group): Pokud má skupina orámování, pøidej je¹tì
	sizer s horním odsazením.

2001-12-05  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (GroupSpec.__init__): Nový argument `border_style'.
	(BorderStyle): Nová tøída.
	(GroupSpec.border_style): Nová metoda.

	* lib/pytis/form/form.py (_border_style2wx): Nová funkce.
	(EditForm._create_group): Vyu¾ívej `border_style' ze specifikace.

	* lib/pytis/form/inputfield.py (CodeBookField._create_widget): ©íøku ze
	specifikace displeje pøevádìj na pixely.

	* lib/pytis/data/types_.py (Codebook._export): Oprava pøeklepu...
	(Codebook._export): Pro indexaci `self._row_cache' pou¾ívej
	exportovanou (u¾ivatelskou) hodnotu.

	* lib/pytis/form/inputfield.py (MultiTextField._set_value): Pokud poèet
	prvkù `values' neodpovídá poètu políèek, pøebývající hodnoty
	ignoruj a chybìjící doplò prázdnými øetìzci.
	(CodeBookField): Doplnìna dokumentace k displeji.
	(CodeBookField._create_widget): Pokud není specifikován displej,
	nevytváøej ho. ©íøku displeje ber ze specifikace. Ulo¾ název
	sloupeèku pro displej ze specifikace (`self._display_column').
	(CodeBookField._on_text): Implementuj update displeje za pomoci
	nové mo¾nosti metody 'Codebook.export()'.
	(CodeBookField._on_invoke_selection): Ze specifikace èíselníku ber
	pouze slice prvních dvou hodnot.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Doplnìna dokumentace ke
	specifikaci displeje.

	* lib/pytis/form/form.py (EditForm._on_parent_close): Nerad to
	pøiznávám, ale sleep jsem musel zvìt¹it na 500ms, jinak to
	nechodilo s novou verzí wxPython. U¾ by se s tím mìlo nìco
	udìlat...

	* lib/pytis/form/inputfield.py (TextField._create_widget): Pøi
	`EVT_TEXT' volej metodu `_on_text()'.
	(MultiTextField._create_widget): Pøi `EVT_TEXT' volej metodu
	`_on_text()'.
	(TextField._on_text): Nová metoda.
	(CodeBookField._create_widget): Implemenuj vlastní metodu, která k
	widgetu pøidá políèko `display' pro zobrazeni popisu hodnoty z
	èíselníku.
	(InputField.__init__): Volej `self._add_validation_callback()'.
	(InputField._add_validation_callback): Nová metoda.
	(InputField._on_validation): Nová metoda.

	* lib/pytis/form/spec.py (FieldSpec.__init__): Doplnìna dokumentace ke
	specifikaci èíselníku.

2001-12-04  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._on_key_down): O¹etøení klávesy
	`key.EDIT_FORM_COMMIT' voláním `self._on_ok()'.
	(EditForm._create_buttons): Tlaèítko `Ok' nenastavuj jako default.
	Namísto `Cancel' pou¾ívej nápis `Zavøít'.

	* lib/pytis/form/inputfield.py (InputField._height): Vracej skuteènì jen
	poèet znakù, ne po¾adovanou velikost políèka.
	(InputField._wx_size): K vý¹ce (poètu znakù) pøièti 0.5 a teprve
	potom pøeveï na pixely.
	(TextField._create_widget): Pokud je `self._height()' více ne¾
	jeden znak, vytvoø políèko s pøíznakem `wx.wxTE_MULTILINE'.
	(TextField._set_value): Pou¾ívej `wxTextCtrl.SetValue()' (pøíznak
	modifikace nevyu¾íváme).
	(Invocable._create_widget): Udávej vý¹ku pøi volání
	`self._create_button()'
	(Invocable._create_button): Vý¹ku neurèuj sám, ale pøebírej z
	nového argumentu `height'.

2001-12-03  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/list.py (CodeBook.__init__): Akceptuj i string jako
	argument `returned_columns' namísto jednoprvkové sekvence (a
	pøeveï jej na tuple).

	* lib/pytis/form/inputfield.py (ListBoxField._create_widget): Nová tøída.
	(resolve): Rozeznávej `ListBoxField'.

	* lib/pytis/form/spec.py (ColumnSpec.__init__, FieldSpec.__init__) 
	(ViewSpec.__init__): Dokumentace nepovinného uvádìní
	identifikátorù nìkterých klíèových atributù.
	(ColumnSpecFromField): Nová tøída.
	(ViewSpec.__init__): Nech» argument 'columns' mù¾e obsahovat i
	instance `FieldSpec', které budou pøevedeny na `ColumnSpecFromField'.
	(SelectionType.LIST_BOX): Nová Konstanta.
	

2001-11-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (FilteredBrowseForm.filter): Pøedávej refreshi
	`computer_data'.
	(List.refresh): Nový `reset' argument `computer_data'.
	(List.__init__): Nový atribut `_computer_data'.
	(List._create_grid): Poèítej poèítaèe.
	(List._ListTable.__init__, List._on_insert_line): `computer()' ->
	`computer'.
	(ListForm.__init__): Ukládej box do atributu.
	(ListForm.SetSize): Nastavuj rozmìry boxu.
	(List.__init__): Atribut `_columns' pøejmenován na
	`_orig_columns'.
	(List._create_grid): Vytváøej atribut `_columns', skryté sloupce
	pøesuò na konec.
	(List._ListTable.__init__): Neprovádìj pøesun skrytých sloupcù.
	(List._ListTable.__init__): Nech» `_column_count' obsahuje pouze
	poèet viditelných sloupcù.
	(List._on_line_commit): V pøípadì neúspìchu pro ji¾ existující
	klíè neprovádìj refresh.
	(List._on_line_commit): Editovaný øádek odnastavuj pouze v pøípadì
	úspìchu databázové operace.

	* lib/pytis/form/spec.py (ColumnSpec.__init__): Zmìnìn význam argumentu
	`computer', je-li jím funkce.
	(ColumnSpec.__init__): Doplnìn assert na argument `computer'.
	(ColumnSpec.__init__): Atribut `_computer' pøejmenován na
	`computer'.
	(ColumnSpec.computer): Zru¹eno.

2001-11-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py: Opraveno odsazování, drobné úpravy
	v docstrings.
	(Computer): Nová tøída.
	(ColumnSpec.__init__): Upravena dokumentace argumentu `computer'.

	* lib/pytis/form/list.py (List._ListTable._Computer): Zru¹eno.
	(List._ListTable.__init__, List._ListTable.GetValue)
	(List._create_grid, List._on_insert_line): Updatovány vìci ohlednì
	specifikace poèítaných sloupcù.

	* lib/pytis/form/form.py (Form._on_leave_window): self._parent.Close se
	pokou¹ej volat pouze pro instance PopupForm, proto¾e jinak takový
	pokus vede k uzavøení hlavního framu, tj. ukonèení aplikace.

	* lib/pytis/data/dbdata.py (DBException.__init__): Loguj podrobnosti
	výjimky také jako OPERATIONAL.

	* lib/pytis/form/list.py (List._create_grid): Nech» rodièem gridu je
	List sám.
	(ListForm.__init__): Nech» titulek je instance wxStaticText.
	(ListForm.__init__): Provedena magie s nastavováním velikostí, aby
	byl vidìt titulek i seznam.
	(List._on_cell_rollback, ListForm.OnSize): Od vý¹ky seznamu odeèti
	vý¹ku titulku.
	(ListForm.SetSize): Nová metoda.
	(List.__init__): Nový atribut `_size'.
	(List.SetSize): Ulo¾ velikost.
	(List._create_grid): Velikost gridu nastavuj dle hodnoty
	v `_size', ne velikosti rodièe.
	(List._on_cell_commit): Pøidán chybìjící argument `event' do
	volání `_on_insert_line'.
	(List._on_line_commit): Opìt ru¹ editaci øádku i pro nový øádek.
	(List._ListTable.edit_row): Zru¹en assert na ru¹ení editace nového
	øádku.
	(List._on_key_down): Pøi nezpracovávané klávese volej fallback
	metodu zadanou v konstruktoru.
	(List.__init__): Nový argument `key_handler'.
	(ListForm.__init__): Pøedávej konstruktoru List argument
	`key_handler'.

2001-11-28  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (Invocable._create_widget): Pøidej
	tlaèítku o¹etøení událostí kláves pomocí `self._on_key_down()'.

	* lib/pytis/form/list.py (CodeBook): Tøídu `ListForm' uvádìj v seznamu
	pøedkù jako první.

	* lib/pytis/form/form.py (PopupForm): Nebuï potomkem `wx.wxDialog'.

2001-11-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm.__init__): Je¹tì jedno
	`noselect->select_row' ve volání BrowseForm.
	(BrowseDualForm.__init__): Updatován zpùsob zadávání callbacku do
	BrowseForm.
	(EditForm._signal_update, BrowseDualForm.__init__): `reshuffle' ->
	`refresh'.
	(BrowseDualForm.__init__.callback): Volej `filter', ne `set_row'.

	* lib/pytis/form/list.py (List._create_grid): Je-li zadán vlo¾ený øádek,
	zvy¹ poèet øádkù o 1.
	(List._create_grid): Poèet øádkù získávej pouze ze selectu, nikdy
	z pøedchozího gridu.
	(List._on_line_commit): Neodnastavuj editaci øádku v tabulce,
	jedná-li se o nový øádek.
	(ListForm.Show): Pøi zapnutí zobrazení volej `refresh'.
	(List._on_key_down.evil_key): Nech» je zlou klávesou i Enter.
	(List._ListTable.GetValue): Opraveny pøeklepy ve volání
	konstruktoru Value.
	(List._on_insert_line): Nový argument `event'.

2001-11-27  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py (EditForm._on_ok): Neukládej, pokud nebyla data
	zmìnìna.
	(EditForm._edit_update): Pokud jsou data ulo¾ena, volej
	'set_unmodified()' pro ka¾dé políèko.
	(changed): Úprava dokumentace.

	* lib/pytis/form/inputfield.py (InputField.set_unmodified): Nová metoda.
	(InputField.is_modified): Doplnìna dokumentace.

2001-11-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.update): Pøevádìj `key' na
	tuple.
	(PostgreSQLStandardBindingHandler._pdbb_row_main_value): Vracej
	tuple, ne list.

	* lib/pytis/form/list.py (List._create_grid): Nech» poèítané sloupce
	jsou needitovatelné.
	(List._create_grid, List._ListTable.__init__): Pøidána podpora pro
	speciální význam nulové ¹íøky sloupce.
	(List._on_insert_line): Pøi vytváøení nového øádku spoèítej
	poèítané datové sloupce.
	(List._ListTable._EditedRow.__init__): Odkazuj se na pøedka pøes
	__bases__, pøes `super' to nefunguje.
	(List._on_key_down): Opraveny pøeklepy ve jménech kláves.
	(List._ListTable.GetValue): Øádkovou korekci provádìj pouze, pokud
	je editovaný øádek nový.
	(List._on_line_commit): Editovaný øádek nevytahuj z editaèních
	informací, nýbr¾ pøes `row()'.
	(List._on_line_commit): Opraveno vyta¾ení klíèe.
	(List._switch_sorting): Testuj na neukonèenou editaci.
	(List.refresh): Opravena invertovaná hodnota `delay'.
	(List._ListTable.edit_row): Zkopíruj øádek pøed jeho ulo¾ením do
	editaèní struktury.
	(List._finish_editing): Odchod povolen, pokud øádek nebyl zmìnìn,
	ne naopak.
	(List._on_line_rollback): Neodnastavuj editaci øádku v tabulce,
	jedná-li se o nový øádek.
	(List._ListTable.editing): Opraveno nastavení `changed' pro nový
	øádek.
	(List.__init__): Do `new' ukládej originální podobu nového øádku.

	* lib/pytis/form/spec.py (ColumnSpec.__init__): Znaènì roz¹íøen význam
	argument `column'.
	(ColumnSpec.__init__): Roz¹íøení významu argumentu `width'
	o speciální hodnotu 0.

2001-11-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py: Zru¹eny importy nepou¾itých modulù.

	* lib/pytis/data/_test.py (Row.check_columns): Nový test.

	* lib/pytis/data/data.py (Row.columns): Nová metoda.
	(Row.__setslice__): Vyu¾ívej `__setitem__' místo pøímého
	pøiøazování do datového objektu.

	* lib/pytis/form/screen.py (WxEscapeHandler.handle): LEAVE_WINDOW ->
	GLOBAL_LEAVE_WINDOW.

	* lib/pytis/form/form.py (Form._on_key_down): LEAVE_WINDOW ->
	GLOBAL_LEAVE_WINDOW.
	(Form._on_leave_window): Zakomentován nadbyteèný øádek.
	(BrowseDualForm.__init__): Update pro zmìny modulu `list'.
	(EditForm._on_parent_close): `reshuffle' -> `refresh'.

	* lib/pytis/form/list.py (List._on_label_left, List._on_label_right):
	Neprovádìj pøetøídìní, volej `_switch_sorting'.
	(List._switch_sorting): Nová metoda.
	(List.__init__): Atributy `_*sort' pøejmenovány na `_*sorting'.
	(List.refresh): Parametr `sort' pøejmenován na `sorting'.
	(List._on_select_cell): Updatováno volání refreshe, pøidáno
	logování.
	(List._on_key_down): Pøepracováno.
	(BrowseForm._on_key_down): Staro(nová) metoda.
	(List._ListTable.row): V docstringu upøesnìny vrácené sloupce.
	(List._current_cell): Nová metoda.
	(List._ListTable.editing): Nová metoda.
	(List.__init__): Zohlednìna zmìna jména aktivaèní klávesy v 'key'.
	(List.exit_check): Updatováno vzhledem k ostatním úpravám, pøidán
	docstring.
	(List.SetFocus): Update volání refreshe.
	(List._select_cell): Updatováno.
	(List._on_edit): Nová metoda.
	(List.row_key): Zru¹eno.
	(List._row_data): Zru¹eno.
	(List.total_width): Do docstringu doplnìna jednotka délky.
	(List.edit_cell): Pøejmenováno na `_edit_cell', updatováno.
	(List._on_insert_line): Nová metoda.
	(List._finish_editing): Updatováno.
	(List._ListTable.EditInfo): Nová pomocná tøída.
	(List._on_delete_line): Nová metoda.
	(List._on_cell_commit): Pøejmenováno na `_on_cell_rollback'.
	(List.refresh): Pro zji¹tìní rozeditovanosti øádku pou¾ívej
	`editing'.
	(List._on_line_rollback): Pøepracováno.
	(List._on_line_commit): Pøepracováno.
	(List._on_cell_commit): Updatováno.
	(List._run_callback): Nová metoda.
	(ListForm.__init__): _List -> List.
	(ListForm.__init__): Volej konstruktor List s argumentem
	`select_row'.
	(List._create_grid): Pøejmenovány atributy `inserted_*' podobnì
	jako v List._ListTable.
	(ListForm._on_size): Pøejmenováno zpìt na OnSize.

2001-11-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Row.__init__): Nepøevádìj prvky dat na lists.
	(Row.__setitem__): Zajisti, ¾e zmìna dat se neprojeví v mìlce
	zkopírovaných instancích.

	* lib/pytis/form/list.py (List._ListTable): Sepsáno nìkolik
	implementaèních poznámek.
	(List._ListTable._CurrentRow): Nová pomocná tøída.
	(List._ListTable._EditedRow): Nová pomocná tøída.
	(List._ListTable._Computer): Nová pomocná tøída.
	(List._ListTable._Column): Nová pomocná tøída.
	(List): Pøidána komentáø o pojmenovávání nìkterých promìnných.
	(List._ListTable.GetValue): Pøepsáno.
	(List._ListTable.SetValue): Pøepsáno.
	(List._ListTable._set_row): Pøejmenováno na `_get_row'.
	(List._ListTable._retrieve_row): Pøepsáno.
	(List._ListTable.row_key): Zru¹eno.
	(List._ListTable.newly_edited_row): Zru¹eno.
	(List._ListTable.row): Nová metoda.
	(List._ListTable.GetNumberRows): Ztrivializováno.
	(List._ListTable.__init__): Pøepsáno.
	(List.__init__): Volej konstruktor pøedka.
	(List._ListTable.__init__): Argumenty `inserted_line' a
	`inserted_line_values' pøejmenovány na `inserted_row_number' a
	`inserted_row'.
	(List._ListTable.GetColLabelValue, List._ListTable.GetTypeName):
	Updatováno pro novou podobu sloupcových informací.

2001-11-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/spec.py (ViewSpec.__init__): Nový argument `title'.
	(ViewSpec.title): Nová metoda.

	* lib/pytis/util/_test.py: Opraveno umístìní #!.
	(Some): Nová sada testù.

	* lib/pytis/util/util.py (some): Nová funkce.

	* lib/pytis/form/list.py (ListForm.__getattr__): Nová metoda.  Nyní
	explicitnì neobalujeme ¾ádné metody list, v¹echny jeho veøejné
	ne-wx metody jsou obaleny automaticky.
	(ListForm.reshuffle): Zru¹eno.
	(ListForm.__init__): Zru¹eny argumenty `*_callback'.
	(ListForm.columns): Pøejmenováno na `_columns'.
	(ListForm.__init__): Zru¹en argumenty `goto' a `noselect', zaveden
	nový argument `select_row'.
	(ListForm): Vylep¹en docstring.
	(ListForm.OnSize): Pøejmenováno na `_on_size'.
	(CodeBook.columns): Pøejmenováno na `_columns'.
	(BrowseForm.__init__): Zru¹eny argumenty `*_callback'.
	(BrowseForm.__init__): Zru¹en argument `noselect', zaveden nový
	argument `select_row'; argument `frame_stack' je nyní nepovinný.
	Argumenty jsou nyní zcela shodné s argumenty pøedka.
	(BrowseForm.set_modification_callback): Zru¹eno.
	(FilteredBrowseForm.__init__): Argument `frame_stack' je nyní
	nepovinný a je a¾ za argumentem `condition'.  Argument `noselect'
	zru¹en a zaveden nový argument `select_row'.
	(FilteredBrowseForm.set_row): Pøejmenováno na `filter'.
	(FilteredBrowseForm.__init__): Volej `filter'.
	(FilteredBrowseForm.filter): Argument `data' je nyní nepovinný.
	(FilteredBrowseForm.filter): Pracuj správnì pro statické podmínky.
	(_List): Pøejmenováno na `List'.
	(BrowseForm._on_insert_line, BrowseForm._on_edit_line)
	(BrowseForm._on_delete_line): Zru¹eno.
	(BrowseForm._on_key_down): Zru¹eno.
	(BrowseForm.on_edit_form): Pøejmenováno na `_on_edit_form'.
	(FilteredBrowseForm.filter): Místo `reshuffle' volej `refresh'.
	(List.CALL_SELECTION, List.CALL_ACTIVATION)
	(List.CALL_MODIFICATION): Nové konstanty.
	(List.set_selection_callback, List.set_activation_callback)
	(List.set_modification_callback): Zru¹eno.
	(List.set_callback): Nová metoda.
	(CodeBook.__init__): Nastavuj listu speciální klávesu pro výbìr
	z èíselníku.
	(List.reset, List.reshuffle, List.maybe_refresh): Zru¹eno.
	(List.refresh): Nyní pøepracovaná sjednocená metoda zahrnující
	v¹echny druhy refreshù.
	(List.DOIT_IMMEDIATELY, List.DOIT_AFTEREDIT, List.DOIT_IFNEEDED):
	Nové konstanty.
	(List.goto): Zru¹eno.
	(List.select_row): Nová metoda.
	(List.__init__): Zru¹en argument `noselet', nový argument
	`select_row'.
	(List): Zru¹en atribut `_in_paint'.
	(List.__init__): Zru¹ena inicializace atributù inicializovaných
	v `_create_grid'.
	(List._create_grid): Zru¹en atribut `_colindex'.
	(ListForm.__init__): Pøidej do formuláøe záhlaví, je-li to ¾ádáno.
	(List._ListTable.disable): Pøejmenováno na `close'.
	(List._ListTable._set_row): Doplnìn docstring.
	(List._ListTable): Doplnìn komentáø ke tøídì.

2001-11-23  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal¹í pravidla týkající se Pythonu):
	Volání funkcí s nepovinnými argumenty.

2001-11-23  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal¹í pravidla týkající se Pythonu):
	Volání funkcí s nepovinnými argumenty.

2001-11-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Opraveno volání konstruktoru DBException s chybnými argumenty.
	(PostgreSQLStandardBindingHandler._pdbb_row_main_value):
	Nápodobnì.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec): Do
	podporovaných typù pøidán typ `oid'.

	* lib/pytis/form/list.py (_List._ListTable.SetValue): Nenastavuj
	aktuální øádek, je-li novì editovaný.
	(_List._ListTable.newly_edited_row): Nápodobnì.
	(_List.set_modification_callback): Nová metoda.
	(_List.set_selection_callback, _List.set_activation_callback):
	Upøesnìní v docstringu.
	(_List.__init__): Nový atribut `_modification_callback'.
	(BrowseForm.__init__): Nový argument `modification_callback'.
	(_List._on_line_commit): Volej modification_callback.
	(ListForm.reshuffle): Aktualizace je nyní nepodmínìná (pouze zmìna
	docstringu).
	(ListForm.reshuffle): Volej metodu listu `refresh', ne
	`reshuffle'.
	(BrowseForm.set_modification_callback): Nová metoda.
	(_NumberCellEditor, _FloatCellEditor): Buï potomkem
	grid.wxGridCellTextEditor.

	* lib/pytis/form/form.py (BrowseDualForm.Show): Volej Show podformuláøù.
	(BrowseDualForm.callback): Nastavuj vedlej¹ímu formuláøi
	modifikaèní callback pro aktualizaci hlavního seznamu.

	* lib/pytis/form/application.py (Application.on_exit): Pøed ukonèením
	vyprázdni zásobník.

	* lib/pytis/form/screen.py (FrameStack.count): Zru¹eno.
	(FrameStack.empty): Nová metoda.

2001-11-22  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/form.py: Úpravy dokumentace.
	(EditForm._pack_fields): Namísto `field.control()' volej
	`field.widget()'.
	(EditForm.changed): Zcela nová implementace zalo¾ená na
	`InputField.is_modified()'.
	(EditForm.OnSetFocus): Vyu¾ívej `InputField.set_focus()'.

	* lib/pytis/form/inputfield.py (InputField.control): Metoda pøejmenována
	na `widget()'.
	(InputField._create_control): Metoda pøejmenována na
	`_create_widget()'. Stejnì tak ve v¹ech odvozených tøídách.
	(InputField.__init__): Inicializuj atribut `self._initial_value'.
	(InputField.is_modified): Nová metoda.
	(InputField.set_value): Metoda nyní implementuje nìkteré spoleèné
	akce a není ji¾ tedy urèena k pøedefinování v odvozených
	tøídách. K pøedefinování je urèena nová metoda `_set_value()'.
	(InputField._set_value): Nová metoda. Ve v¹ech odvozených tøídách
	byla metoda `set_value()' pøejmenována na `_set_value()'.

2001-11-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._row_data): Jestli¾e sloupec není
	v datech, pøeskoè ho.
	(_List._ListTable.newly_edited_row): Pøi editaci nového øádku
	nepøebírej data z jiného øádku tabulky.

2001-11-20  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.__init__): Event handler
	navazuj v¾dy - i pokud je políèko needitovatelné. Inicializuj
	promìnnou `self._enabled'.
	(InputField._disable): Nová metoda
	(InputField.disable): Nastav pouze pøíznak `self._editable' a
	volej `self._disable()'.
	(GenericField._disable): Pøejmenovaná metoda `disable()'.
	(Invocable._create_control): Oprava chybky (návratová hodnota,
	pokud je políèko needitovatelné). Testuj radìji `self._enabled', ne¾
	`self.spec().editable()'.
	(Invocable._on_key_down): Callback `_on_invoke_selection' volej
	pouze pokud je `self._enabled'.

	* lib/pytis/form/inputfield.py (module): Rozsáhlé zmìny v hierarchii
	tøíd.  Není mo¾no komentovat v¹echny detaily, omezím se na popis
	jednotlivých tøíd.
	(InputField): Je nyní pouze "abstraktní" tøídou, která
	neimplementuje metody související s pou¾itím konkrétních vstupních
	prvkù, pouze definuje jejich význam.
	(GenericField): Nová tøída. Implementuje nìkteré metody spoleèné
	pro tøídy vyu¾ívající jednoduché vstupní prvku wx windows.
	(Unlabeled): Implementuje metodu `_create_label()' vracející
	prázdný label.
	(TextField): Nová tøída. Implementuje kompletní vstupní políèko s
	textovým ovládacím prvkem.
	(MultiTextField): Nová tøída. Implementuje textové vstupní políèko
	pro datové sloupce s vícenásobnou vazbou.
	(CheckBoxField): Bývalá tøída `BooleanInputField'.
	(1EnumerationField): Nìkteré metody pøesunuty do `GenericField'.
	(ChoiceField): Bývalá tøída `ChoiceInputField'.
	(RadioBoxField): Bývalá tøída `RadioBoxInputField'.
	(Invocable): Nová tøída implementující spoleèné vlastnosti pro
	políèka s mo¾ností výbìru.
	(DateField): Nová tøída. Políèko s mo¾ností výbìru data z
	kalendáøe.
	(CodeBookField): Políèko s mo¾ností výbìru data z èíselníku. Z
	bývalé tøídy `CodeBookInputField' zde zbyla pouze metoda
	`_on_selection()', která se teï ale chová jinak (zmìna zpùsobu
	pøedávání hodnot mezi políèkem a formuláøem (viz.
	`list.CodeBook.run()'). V¹e ostatní bylo pøesunuto do nadtøíd, aby
	to mohlo být sdíleno s jinými typy políèek.
	(resolve): Implicitní typ políèka nech» je 'TextField'. Pøidán typ
	'Date'.

	* lib/pytis/form/list.py (CodeBook.__init__): Namísto argumentu `fields'
	pou¾ívej `returned_columns'. Související zmìny dokumentace.
	(CodeBook._on_activation): Hodnoty sloupcù z `returned_columns'
	ulo¾ do `self._returned_values'. Úplnì opu¹tìna my¹lenka pøímého
	nastavování hodnot políèek.
	(CodeBook.run): Vlastní implementace podìdìné metody: Vracej
	`self._returned_values' (v pøípadì opu¹tìní bez výbìru je None).

	* lib/pytis/form/dialog.py (Calendar.__init__): Pøidej
	`wx.wxDIALOG_MODAL' do stylu dialogu. Namísto "Cancel" pou¾ij
	nápis "Zru¹it". Formátovací úpravy.
	(Calendar._on_activation): Pøejmenováno na `_on_ok'.

	* lib/pytis/form/dialog.py (Calendar.run): Explicitnì zniè dialog.

2001-11-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Row.items): Nová metoda.

	* lib/pytis/form/list.py (_List._create_grid, _List._ListTable.__init__)
	(_List._ListTable._retrieve_row): Pøidána podpora pro poèítané
	sloupce.
	(_List._col_index): Zru¹eno.
	(_List.edit_cell): O¹etøuj needitovatelná políèka.
	(_List._ListTable._retrieve_row.fetch): Nová pomocná funkce.
	(_List._ListTable.newly_edited_row, _List._ListTable.SetValue):
	Pøidána podpora pro poèítané sloupce.

	* lib/pytis/form/spec.py (ColumnSpec.__init__): Nový argument
	`computer'.
	(ColumnSpec.computer): Nová metoda.

2001-11-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form._on_leave_window): Nevolej event.Skip(),
	je-li `event' None.

	* lib/pytis/form/list.py (_List._create_grid): Volej `_on_leave_window'
	se správným poètem argumentù.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Obaluj tøídící sloupce SQL funkcí `coalesce'.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql.item2sql):
	Nápodobnì.

2001-11-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select) 
	(DBDataPostgreSQL.fetchone, DBDataPostgreSQL.skip): Pøi havárii DB
	operace nastav `_pg_is_in_select' na FALSE.
	(DBDataPostgreSQL.search): Nová metoda.
	(DBDataPostgreSQL._pg_search): Nová metoda.
	(DBDataPostgreSQL._PgBuffer.current): Nová metoda.

	* banka.py (run_application): Pro jistotu explicitnì zapni garbage
	collection.

	* lib/pytis/data/data.py (Data.search): Zmìnìna návratová hodnota a
	neposouvá se ukazovátko (pouze zmìna docstringu).

2001-11-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.search): Nová metoda.
	(Data.skip): Upøesnìno, ¾e metodu lze pou¾ít jenom bìhem selectu.

	* lib/pytis/form/form.py (EditForm.__init__): Akceptuj frame stack.
	(EditForm._signal_update): Nová metoda.
	(EditForm._edit_insert, EditForm._edit_update) 
	(EditForm._edit_delete): Volej ji.

	* lib/pytis/form/screen.py (FrameStack.push): `window' smí být
	i None (pouze zmìna docstringu).

	* lib/pytis/form/list.py (_List._on_paint): Zru¹eno.
	(_List.refresh): Nastavuj èasy zmìn.
	(_List._on_line_rollback, _List._on_line_commit): Je-li `_changed'
	pravda, volej `refresh'.
	(_List.refresh): Resetuj atribut `_changed'.
	(_List._on_select_cell): Pøidán test na po¾adavek pøenaètení dat.
	(_List.maybe_refresh): Nová metoda.
	(_List.SetFocus, _List._on_select_cell): Volej ji.
	(ListForm.Show): Pøi pozitivním po¾adavku volej _list.SetFocus.
	(BrowseForm.on_edit_form): Pøedávej EditForm frame stack.

	* lib/pytis/data/_test.py (Row.check_update): Nový test -- pøesunut test
	`update' z `check_nonempty'.

2001-11-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (TutorialTest.check_it): Zajisti uspání
	datových objektù i pøi chybì.
	(TutorialTest.check_it): Update pro novou podobu èíselníkù.
	(TutorialTest.setUp): Typ klíèe èíselníku zmìnìn na VARCHAR, nebo»
	èíselníky smí být pouze stringové.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_send_notifications): Volej
	`_pg_query' mimo transakci.
	(DBDataPostgreSQL.unlock_row): Nápodobnì.
	(PostgreSQLStandardBindingHandler._pdbb_table_row_lists):
	Zohledni, ¾e `value' mù¾e být sekvence nezávisle na `column'.
	(DBDataPostgreSQL._pg_value): V enumerations zohledòuj prázdné
	hodnoty v sekvencích.
	(DBDataPostgreSQL._pypg_new_connection): Nastav spojení
	serializable transaction level.

	* lib/pytis/data/types_.py (Type.export): Kosmetické úpravy.

	* lib/pytis/form/list.py (_List.SetFocus): Nová metoda.

	* lib/pytis/form/form.py (BrowseDualForm.callback): Nech» callback
	hlavního formuláøe nastavuje na konci na tento formuláø focus.

2001-11-16  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/form/spec.py (FieldSpec.__init__): Nedoplòuj defaultní ¹íøku
	a vý¹ku zde.
	(FieldSpec.width): umo¾ni specifikovat defaultní ¹íøku.
	(FieldSpec.height): umo¾ni specifikovat defaultní vý¹ku.

	* lib/pytis/form/dialog.py (Dialog.run): Doplnìn dokumentaèní øetìzec.
	(Calendar): Nová tøída.

2001-11-15  Tomas Cerha  <cerha@brailcom.org>

	* lib/pytis/data/_test.py (Row.check_nonempty): Pøidán test na
	`Row.update()'.

	* lib/pytis/form/spec.py (ViewSpec.columns): Oprava chybky.

	* lib/pytis/form/inputfield.py (InputField.validate): Pokud dojde k
	chybì, zobraz dialog s popisem chyby.
	(InputField.validation_error): Metoda zru¹ena.
	(EnumerationInputField._values): Zru¹eny zapomenuté appendy...
	(EnumerationInputField.get_value): Úprava docstringu.
	(EnumerationInputField.set_value): Zru¹en kód pro vyhledání
	u¾ivatelské hodnoty podle vnitøní. Pøijímej tuple.
	(EnumerationInputField.get_value): Vracej tuple.
	(EnumerationInputField.set_value): Úprava docstringu.

	* lib/pytis/form/form.py (_validate): O¹etøení chyby validace (zobrazení
	dialogu s popisem chyby) pøenech na `InputField.validate()'.
	(EditForm.changed): Upøesnìna logovací hlá¹ka.

	* lib/pytis/data/types_.py (Type.export): Mapování None na prázdý
	øetìzec provádìj i pro sekvence.
	(Enumeration._export): Upøesnìna chybová hlá¹ka.
	(Value.export): Nevydávej `self.value()' za exportovanou hodnotu,
	ale skuteènì proveï `export()'. Neprovádìj mapování None na prázdý
	øetìzec pro sekvence - to teï dìlá `Type.export()'.

2001-11-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBColumnBinding.__init__): Není-li
	`enumerator' sekvence ani None, pøeveï jej na tuple.

2001-11-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBColumnBinding.__init__): Pøetr¾ena vazba
	mezi `enumerator' a `related_to' (dokumentaèní zmìna).
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Opraveno zpracování
	sekvenèního typu.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Upraveno pro novou
	podobu types_.Codebook.
	(DBDataPostgreSQL._pg_value): Nápodobnì.

	* lib/pytis/data/types_.py (Codebook): Výraznì pøepracováno, zmìnìna
	definice vnitøních a u¾ivatelských hodnot.
	(Boolean.__init__): Nech» je specifikace tuple, ne list.

2001-11-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py (Dialog.check_interactive_choice): Nový test.

	* lib/pytis/form/dialog.py (Choice): Nová tøída.
	
	* lib/pytis/form/list.py (_List._create_grid): Volej na nový grid
	`SetFocus'.
	(_List.exit_check): Nová metoda.
	(ListForm.Show): Nová metoda.

2001-11-13  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (resolve): Rozeznávej RadioBoxInputField
	a ChoiceInputField.
	(InputField._create_control): Doplnìna dokumentace. Nestarej se o
	spec.enable().
	(InputField.__init__): Pokud není spec.enable(), volej self.disable()
	(InputField.enable): Nová metoda.
	(InputField.disable): Nová metoda.
	(InputField.get_value): Doplnìna dokumentace. Vylep¹en assert.
	(InputField.set_value): Doplnìna dokumentace. Vylep¹en assert.
	(BooleanInputField._create_control): Nestarej se o spec.enable().
	(EnumetrationInputField): Nová tøída.
	(RadioBoxInputField._create_control): Nová tøída.
	(ChoiceInputField.set_value): Metoda pøesunuta do spoleèné
	nadtøídy `EnumerationInputField'.
	(ChoiceInputField.get_value): Metoda pøesunuta do spoleèné
	nadtøídy `EnumerationInputField'.
	(CodeBookInputField.enable): Nová metoda.
	(CodeBookInputField.disable): Nová metoda.
	(CodeBookInputField._create_control): Nestarej se o spec.enable(). 

	* lib/pytis/form/spec.py (SelectionType): Nová tøída.
	(FieldSpec.__init__): Zru¹en argument `selection'. Nové atributy
	`selection_type' a `orientation'.
	(selection): Metoda zru¹ena.
	(FieldSpec.orientation): Nová metoda.
	(FieldSpec.selection_type): Nová metoda.

	* lib/pytis/form/inputfield.py (ChoiceInputField): Nová tøída.
	(resolve): Vyu¾ívej `ChoiceInputField'.
	(InputField.__init__): Nepamatuj si odkaz na datový objekt.
	(InputField.set_value): Loguj DEBUG hlá¹ku.
	(BooleanInputField.set_value): Loguj DEBUG hlá¹ku.
	(CodeBookInputField.set_value): Loguj DEBUG hlá¹ku.

	* lib/pytis/form/form.py (EditForm.set_row): Úprava logovacích
	hlá¹ek. O¹etøení chyb pøi nastavování políèek pøenech na metodì
	`InputField.set_value()'.


2001-11-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._ListTable._get_value): Vracej výsledný
	øádek.
	(_List._ListTable.get_key): Pøejmenováno na `row_key'.
	(_List.row_key): Zohlednìna pøedchozí zmìna.
	(_List._ListTable._get_value): Zru¹en argument `col'.
	(_List._ListTable.GetValu): Zohlednìna pøedchozí zmìna.
	(_List._ListTable.row_key): Zohlednìny zmìny `_get_value'.
	(_List._ListTable.newly_edited_row): Updatuj aktuální sloupec, ne¾
	ho pou¾ije¹.
	(_List._ListTable.SetValue): Nápodobnì.
	(_List._ListTable._get_value): Pøejmenováno na `_retrieve_row'.
	(_List._ListTable._set_row): Nová metoda.

2001-11-12  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/spec.py (FieldSpec.codebook): Update dokumentace.
	(FieldSpec.selection): Nová metoda.
	(FieldSpec.__init__): Nový argument `selection'.

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Oprava pøeklepu.

2001-11-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py: Na mnoha místech doplnìno logování.

	* lib/pytis/data/_test.py (Type.check_validation) 
	(Boolean.check_validation, String.check_validation_unlimited):
	Update pro novou práci s prázdnými hodnotami.
	(_TypeCheck._test_null_validation): Nová metoda.

	* lib/pytis/data/types_.py (Type.validate): Pøi zásahu do cachované
	hodnoty jiného typu nevracej None.

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL.__init__)
	(DBDataPyPgSQL._pypg_allocate_connection)
	(DBDataPyPgSQL._pypg_deallocate_connection)
	(DBDataPyPgSQL._pypg_get_connection): `_pypg_connection' je nyní
	zásobník.
	(DBDataPyPgSQL._pypg_return_connection): Vracej spojení
	nepodmínìnì.
	(DBDataPostgreSQL._pg_begin_transaction): Neukonèuj transakci.
	(DBDataPostgreSQL._pg_commit_transaction)
	(DBDataPostgreSQL._pg_rollback_transaction): Neresetuj
	`_pg_is_in_select'.
	(DBDataPostgreSQL.close): Resetuj `_pg_is_in_select'.
	(DBDataPostgreSQL.select): Volej `close'.
	(DBDataPostgreSQL.insert): Není-li øádek vlo¾en, neloguj, ¾e
	vlo¾en byl.
	(DBDataPostgreSQL.update): Nápodobnì.
	(DBDataPyPgSQL._pypg_allocate_connection): Volej
	`_pypg_get_connection' s argumentem `outside_transaction' TRUE.
	(DBDataPyPgSQL._pypg_deallocate_connection): Vracej spojení
	nepodmínìnì.
	(DBDataPyPgSQL._pypg_get_connection): Zdroj spojení urèuj výhradnì
	dle argumentu `outside_transaction'.
	(DBDataPyPgSQL._pg_query): Spojení vracej jen pokud je
	`outside_transaction' pravda.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec.gettype):
	Volej `_pg_query' s pravdivým argumentem `outside_transaction'

2001-11-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py: Dal¹í pokyny pro testování inline editace.

	* lib/pytis/form/list.py (_List.value_conversion): Odstranìn zapomenutý
	print.
	(_List._ListTable.GetValue.value_conversion): Pøidána podpora pro
	rozeditované nezvalidované hodnoty.
	(_List._ListTable.SetValue): Nezvalidovanou hodnotu ulo¾ do
	`validation_error'.
	(_List.edit_cell): Resetuj `validation_error' v tabulce.
	(_List._on_key_down): Nech» tabulátor natvrdo vyvolá
	`_on_cell_commit'.
	(_List._on_line_commit): Opraveno zpracování návratových hodnot
	databázové operace.

	* lib/pytis/data/types_.py (Codebook.values): Pou¾ívej `super'.

2001-11-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Neo¹etøuj NULL.

	* lib/pytis/data/types_.py (String._EMPTY_MAPS_TO_NONE): Zru¹eno.
	(Type.validate): Zmìnìn zpùsob práce s prázdnými hodnotami;
	pøepracováno.
	(Type._validate): Vracej hodnotu obsahující None, ne pouhé None.
	(Type._export): Nová metoda.
	(Type.export): Pozmìnìno chování pro prázdné hodnoty, pøesmìrování
	na `_export', nové argumenty `args' a `kwargs'.
	(Float.__init__): V chybì assertu uvádìj i chybný argument.
	(Float._validate): Nápodobnì.
	(Float._validate): Doplnìn assert na argument `precision'.
	(Float.export, String.export, DateTime.export, Date.export)
	(Enumeration.export, Codebook.export, Sequence.export):
	Pøejmenováno na `_export'.
	(Value.export): Do apply pøedávej tuple, ne list.
	(Value.export): Neo¹etøuj None.
	(Enumeration.__init__): V docstringu upøesnìn význam prázdných
	stringù coby nedefinovaných hodnot.

	* lib/pytis/form/list.py (_List._on_line_commit): Klíè vytahuj pouze pøi
	updatu, ne pøi insertu.
	(_List._finish_editing): Správnì o¹etøuj situaci, kdy je
	rozeditován øádek beze zmìn hodnot.
	(_List._on_line_rollback): Vynu» pøekreslení vráceného editovaného
	øádku.
	(_List.__init__): Inicializuj atribut `validation_error'.
	(_List._recreate_grid): Nová metoda.
	(_List._on_line_rollback, _List.insert_line, _List.refresh):
	Vyu¾ívej ji.
	(_List._ListTable.GetValue): Není-li nastaven datový objekt, vra»
	prázdný øetìzec.
	(_List._ListTable.disable): Nová metoda.
	(_List._recreate_grid): Volej ji.
	(_List._init_select): Zakázáno pøepou¾ití dat z minulého selectu.
	(_List._ListTable.SetValue): Nepou¾ívej _current_row pro nové
	øádky.

2001-11-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py: Do pokynù testování inline editace doplnìna
	kontrola poètu øádkù.

	* lib/pytis/form/list.py (_List._select_row): Pøejmenováno na
	`_select_cell' a pøepracováno.
	(_List._on_select_cell): Èást funkcionality pøesunuta do
	`_select_cell'.
	(_List._select_cell): Zajisti viditelnost zvoleného øádku.
	(_List._on_line_rollback, _List._finish_editing)
	(_List.insert_line): `_select_row' -> `_select_cell'.
	(_List._finish_editing): Nevolej `_select_cell', je to nadbyteèné.
	(_List._select_cell): Nastav gridu focus.

2001-11-08  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/spec.py (ViewSpec.columns): Pokud není definován
	èíselník daného jména, vra» seznam v¹ech sloupcù a loguj o tom
	DEBUG informaci.
	(ViewSpec.__init__): V¹echny parametry nech» jsou nepovinné.
	(ViewSpec.layout): Vyvolej výjimku, pokud v konstruktoru nebyl
	specifikován layout.
	(ViewSpec.columns): Vyvolej výjimku, pokud v konstruktoru nebyly
	specifikovány sloupce.

2001-11-07  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/application.py (Application.OnInit): Poèáteèní
	velikost okna nastavena na 800x500 px.

	* lib/pytis/data/types_.py (Value.export): Pokud je value sequence,
	nahraï None za prázdný øetìzec i v této sekvenci.
	(Codebook.extract): Namísto `Type.export()' volej
	`Value.export()', která¾to navíc umí zacházet s None hodnotami.

	* lib/pytis/form/form.py (EditForm._pack_fields): Oprava docstringu.
	(EditForm.changed): Namísto `f.data_column().id()' volej rovnou
	`f.id()'. Pokud je `self._key' None (pøi insertu), vracej v¾dy TRUE.

2001-11-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (WxKey._key2wx): Upravuj kódy pro klávesy
	Ctrl-písmeno, aby odpovídaly mapování tìchto kláves na ASCII
	znaky.

	* lib/pytis/form/_test.py: Struèný soupis instrukcí pro testování inline
	editace.

	* lib/pytis/form/list.py (_List._on_line_commit): Nech» je argument
	`event' nepovinný.
	(_List._on_cell_commit): Jiné chování po editaci posledního
	políèka novì vkládaného øádku.
	(_List.insert_line): Nastavuj nový atribut `_last_inserted_copy'.
	(_List.broken_key): Zmìny v bláhové nadìji na odfiltrování
	nechtìných kláves.
	(_List._create_grid): Definován callback pro click my¹i.

2001-11-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBException.__init__): Vypisuj do logu
	výjimky nikoliv z `args', nýbr¾ z `exception'.

	* lib/pytis/form/list.py: Odstranìny zapomenuté printy.
	(_List._on_select_cell): Pokud ji¾ v selectu buòky jsme, volej
	originální handler místo pouhého návratu.
	(_List._row_data): Pøi programové chybì kvùli validaci zaznamenej
	i validaèní chybovou hlá¹ku
	(_List._row_data): O¹etøuj pøi validaci Booleans.
	(_List._on_cell_commit): Edituje-li se nový øádek, spus» pro dal¹í
	buòku editaci.
	(_List._on_cell_commit): Pøi chybì validace zùstaò na editaci
	aktuálního políèka.
	(_List.SetValue): Nastavuj nový atribut `validation_error'.

	* lib/pytis/data/data.py (Row.update): Vylep¹en docstring.

2001-11-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.skip): O¹etøuj
	pøekroèení zaèátku hranic dat.
	(DBDataPostgreSQL.skip): Volej _PgBuffer.skip s argumentem poètu
	øádkù.
	(DBDataPostgreSQL._PgBuffer.skip): Nový argument `number_of_rows'.
	(DBException.__init__): Vypisuj do logu výjimku z argumentù,
	i kdy¾ není prvním argumentem.

	* lib/pytis/form/list.py (_List._on_line_rollback): Nastav grid cursor.
	(_List._ListTable.__init__): Nový povinný argument `row_count'.
	(_List._create_grid): Nenastavuj poèet øádkù tabulky, pøedávej ho
	jako parametr konstruktoru.
	(_List._kill_editing): Zru¹eno.
	(_List._on_select_cell, _List.reshuffle): Místo `_kill_editing'
	volej `_on_line_rollback'.
	(_List._on_line_rollback): Nech» je argument `event' nepovinný.
	(_List._select_row): Nový argument `invoke_callback'.
	(_List._select_row): Nastavuj pozici gridového kurzoru, je-li
	tøeba.
	(_List._on_select_cell, _List.insert_line)
	(_List._on_line_rollback): Neselectuj øádek samo, pou¾ívej
	`_select_row'.
	(_List._select_row): Nový argument `col'.
	(_List.__init__): Nový atribut `_in_select_cell.
	(_List._select_row, _List._on_select_cell): Pou¾ívej jej.
	(_List._on_select_cell): Opravena selekce øádkù za zru¹eným novým
	øádkem.
	(BrowseForm._on_key_down): Pøi kopírovacím vlo¾ení øádku volej
	`_on_insert_line' s argumentem `copy' TRUE, ne FALSE.
	(_List._ListTable.__init__): Pøevádìj `inserted_line_values' na
	èíselné klíèe.
	(_List._ListTable.GetValue): Opraveno zji¹»ování nezeditovaných
	hodnot editovaných øádkù.
	(_List._finish_editing): Nová metoda.
	(_List.reshuffle, _List._on_select_cell): Vyu¾ívej ji.
	(_List._on_line_commit): Pøidána podpora pro vlo¾ení nového øádku.

2001-11-05  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/form.py (EditForm.__init__): Inicializuj `self._row'.
	(EditForm.set_row): Zapamatuj si získaná data v `self._row'.

	* lib/pytis/data/data.py (Row.update): Nová metoda.

	* lib/pytis/form/form.py (EditForm._edit_update): Neprovádìj zamykání zde.
	(EditForm._edit_update): Vyu¾ívej `Row.update()'

	* lib/pytis/form/list.py (_List.goto): Nová metoda - zatím bez
	implementace
	(ListForm.__init__): Nový klíèový argument `goto'. Vyu¾ívej
	`_List.goto()'.

2001-11-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._create_grid): Atribut `row_count'
	tabulce nastavuj pouze jsou-li inicializována data.
	(_List._create_grid): Argument `no_data_init' pøejmenován na
	`data_init' a jeho význam invertován.
	(_List.reshuffle): Doplnìn chybìjící argument konstruktoru
	dialog.Question.
	(_List._create_grid): Nové argumenty `inserted_line' a
	`inserted_line_values'.
	(_List.insert_line): Opraveny parametry volání `_create_grid',
	nenastavuj atributy tabulky separátnì.
	(_List._create_grid): V pøípadì potøeby pøevíjej data.
	(_List._ListTable.GetValue): Pøi vytahování hodnoty za vlo¾eným
	øádkem jednièku odeèítej, ne pøièítej.
	(_List.insert_line): Nekopíruj hodnoty do nového øádku pokud
	seznam nemá ¾ádný øádek.
	(_List._ListTable): Atribut `_editing_new' pøejmenován na
	`edited_new'.
	(_List._on_line_rollback): Pokud byl editován nový øádek, zøiï
	nový grid.

2001-11-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm._on_insert_line): Nové argumenty
	`after' a `copy'.
	(BrowseForm._on_key_down): Vracej výsledky volání metod, ne
	wx.TRUE.
	(BrowseForm._on_key_down): Rozli¹uj mezi rùznými variantami
	pøidání øádku.
	(BrowseForm._on_insert_line): Dopsáno.
	(_List.insert_line): Dopsáno.
	(_List._ListTable.__init__): Nový argument `inserted_line_values'.
	(_List._ListTable.__init__): Zru¹en argument `condition'; nevolej
	`_init_select'.
	(_List._ListTable._init_select): Pøesunuto do `_List' a upraveno.
	(_List._create_grid): Nový argument `no_data_init'; provádìj
	select nad datovým objektem.
	(_List._on_label_left, _List._on_label_right): Pokud je ji¾ seznam
	¾ádaným zpùsobem setøídìn, zru¹ tøídìní.

2001-11-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.skip): Buï
	konzervativnìj¹í ohlednì rozsahu okrajových korekcí, aby
	nedocházelo k vynechání posunutí.

	* lib/pytis/form/list.py (_List._ListTable.GetValue): Ve virtuálním
	øádku o¹etøuj i dosud nevyplnìné hodnoty.
	(BrowseForm._on_edit_line, BrowseForm._on_delete_line): Pro
	needitovatelný formuláø vracej wx.FALSE.
	(_List._ListTable.new_row): Pøejmenováno na `newly_edited_row'.
	(_List._on_line_commit): Zohledni pøedchozí zmìnu.
	(_List._ListTable.__init__): Nový argument `inserted_line'.
	(_List.insert_line): Nová metoda.
	(_List): Atribut `_list' pøejmenován na `_table'.
	(_List.refresh): Je-li editován nìjaký øádek, tak místo provedení
	refreshe nastav atribut `_changed'.
	(_List._kill_editing): Nová metoda.
	(_List._on_select_cell): Vyu¾ívej ji.
	(_List.reshuffle): Je-li editován nìjaký øádek, ¾ádej od u¾ivatele
	potvrzení akce.

2001-11-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._ListTable.__init__): Nový atribut
	`_editing_new'.
	(_List._ListTable.GetNumberRows)
	(_List._ListTable.GetValue): Zohledòuj jej.

2001-11-01  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (CodeBookInputField._on_invoke_codebook):
	Volej rovnou konstruktor formuláøe (ji¾ ne resolver).
	(InputField.__init__, InputField.__init__): Argument `spec'
	pøejmenován na `fspec' (konflikt s názvem modulu). Asserty provádìj na
	relativní jména modulù (bez `lib.').

	* lib/pytis/form/form.py (PopupForm._popup_frame): Argument `title' je
	nepovinný a pokud není zadán, automaticky ho doplò podle titulku
	okna `parent'.
	(EditForm.__init__): Titulek okna nastavuj a¾ po volání
	konstruktoru pøedka.

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Pou¾ívej své jméno k
	vyvolání formuláøe. Volej rovnou konstruktor formuláøe (ji¾ ne
	resolver).

	* lib/pytis/form/form.py (Form.__init__): Zapamatuj si `name'.

	* lib/pytis/form/resolver.py (Module): Totálnì zjednodu¹eno. Vypu¹tìno
	v¹e co souviselo s vytváøením instancí formuláøù a datových
	objektù. Resolver teï poskytuje pouze specifikace (Pomocí jediné
	veøejné metody `get()').

	* lib/pytis/form/application.py: Pøidán import `lib.form'.
	(Application.on_load_form): Od resolveru vy¾aduj pouze
	specifikaci. Formuláø vytváøej pomocí `apply()'

	* lib/pytis/form/form.py (Form.__init__): Namísto argumentù `view' a
	`data' pøijímej `name' a pøíslu¹né specifikace zjisti pomocí
	resolveru podle tohoto jména. Datový objekt vytvoø pomocí
	`spec.DataSpec.create_data_object()'. Doplnìna dokumentace.
	(Form): Kompletní pøepsání dokumentace.
	(EditForm.__init__): Zmìna argumentù odpovídající nadtøídì.
	(BrowseDualForm.__init__): Zmìna argumentù odpovídající nadtøídì.
	(BrowseDualForm.__init__): Zmìna argumentù odpovídající nadtøídì.
	Rozdìlení specifikací hlavního a vedlej¹ího formuláøe do dvou souborù.
	(EditDualForm.__init__): Zmìna argumentù odpovídající nadtøídì.
	Smazána ve¹kerý kód, proto¾e by musel být stejnì pøepsán...

	* lib/pytis/form/list.py (ListForm.__init__): Zmìna argumentù
	odpovídající nadtøídì.
	(CodeBook.__init__): Zmìna argumentù odpovídající nadtøídì.
	(BrowseForm.__init__): Zmìna argumentù odpovídající nadtøídì.
	(FilteredBrowseForm.__init__): Zmìna argumentù odpovídající nadtøídì.

	* lib/pytis/form/spec.py (DataSpec.create_data_object): Nová metoda.

	* lib/pytis/form/form.py (DualForm.__init__): Vyu¾ívej super().

2001-10-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._on_key_down): Pøidány callbacky pro
	klávesy BROWSE_INLINE_COMMIT a BROWSE_INLINE_ROLLBACK.
	(_List._on_line_commit): Nová metoda.
	(_List._on_line_rollback): Nová metoda.
	(_List._on_cell_escape): Opraven chybný název volané metody.
	(_CellEditor): Nová tøída.
	(_BooleanCellEditor, _NumberCellEditor, _FloatCellEditor)
	(_TextCellEditor): Nové tøídy.
	(_List._ListTable._TYPEMAPPING): Pøejmenováno na _TYPE_MAPPING.
	(_List._ListTable._TYPE_EDITOR_MAPPING): Nová konstanta.
	(_List._create_grid): Nastavuj editovatelným sloupeèkùm na¹e
	editory.
	(_List.row_key): Dokonèení nedokonèené vìty v docstringu.
	(_List._ListTable.value_conversion, _List._ListTable.SetValue):
	Nech» jsou zeditované hodnoty uchovávány jako instance Value.
	(_List._ListTable._get_value): Prezentaèní úpravy pøesunuty do
	GetValue.
	(_List._ListTable.new_row): Nová metoda.

2001-10-30  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/form.py (EditForm._on_parent_close): oprava Argumentù
	pro Question.

	* lib/pytis/form/screen.py (WxKey.is_event_of_key): Odstranìna (obejita)
	chyba (zvlá¹tnost) s NumLockem.

	* lib/pytis/form/form.py (EditForm._edit_update): Zamykej updatovaný øádek.

2001-10-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_row_main_value): Chybová
	logovací hlá¹ka pøesunuta pøímo do konstruktoru výjimky.
	(PostgreSQLStandardBindingHandler._pg_select): Nápodobnì.
	(PostgreSQLStandardBindingHandler._pg_delete): Nápodobnì.
	(DBDataPyPgSQL._register): Nápodobnì.
	(PostgreSQLStandardBindingHandler.gettype): Nápodobnì.

	* lib/pytis/form/list.py (_List._ListTable.GetValue): Pøi editaci øádku
	vracej zeditované hodnoty.
	(_List._ListTable.SetValue): Dokonèeno.
	(_List.edit_cell): Nastavuj atribut `editing_values' listu.
	(_List._ListTable.__init__, _List._ListTable._get_value): Zru¹eny
	zále¾itosti týkající se reshuffle.
	(_List._ListTable.reset, _List._ListTable.reshuffle): Zru¹eno.
	(_List._ListTable._reshuffle): Pøejmenováno na `_init_select'.
	(_List._ListTable.__init__): Nový kód místo zru¹ených metod.
	(_List._on_key_down): Zji¹»uj stav editace z listu.
	(_List.on_data_change): Pøepracováno.
	(_List._REFRESH_PERIOD): Nová konstanta.
	(_List._on_paint): Zapracovány "obèasné" refreshe.
	(_List._on_paint): Volej `refresh' místo ji¾ neexistující metody
	`_reshuffle'.
	(_List._on_select_cell): Pøidána kontrola na zmìnu editovaného
	øádku.

2001-10-29  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/list.py (BrowseForm): Opraven docstring,
	zru¹eny nepotøebné konstanty EDIT_MODE a VIEW_MODE.
	(_List.SetValue): Opravena chyba (zobrazení chybové hlá¹ky)

2001-10-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List.row_key): Opraven docstring.
	(_List.row_key): Nech» je argument `row' nepovinný.
	(BrowseForm._on_delete_line): Dokonèeno.
	(_List._create_grid): Editaci zaka¾ pouze pro needitovatelné
	sloupce.
	(_List._create_grid): Pøedìlána práce s atributy.
	(_List.edit_cell): Nová metoda.
	(_List.__init__): Nový atribut `_editing'.
	(_List._on_key_down): Rozli¹uj mezi prohlí¾ením a editací políèka.
	O¹etøuj políèkové editaèní klávesy.
	(_List._on_cell_commit, _List._on_cell_escape): Nové metody.
	(_List._ListTable.SetValue): Kus napsán.

2001-10-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm._edit_delete): Vyu¾ita funkce
	dialog.delete_record.

	* lib/pytis/form/dialog.py (delete_record): Nová funkce.

	* lib/pytis/form/list.py (_List._ListTable._YES, _List._ListTable._NO):
	Zru¹eno.
	(BrowseForm.mode, BrowseForm.switch_mode): Zru¹eno.
	(BrowseForm.__init__): Místo atributu `_mode' zaveden atribut
	`_inline_editable'.
	(BrowseForm._on_key_down): Pøidány callbacky pro inline pøidání,
	editaci a smazání záznamu.
	(BrowseForm._on_insert_line, BrowseForm._on_delete_line) 
	(BrowseForm._on_edit_line): Nové metody.
	(_List._row_key): Pøejmenováno na `row_key'.
	(_List._on_activation): Zohlednìna pøedchozí zmìna.
	(_List.refresh): Nová metoda.
	(_List.reshuffle): Vyu¾ívej ji.

	* lib/pytis/form/inputfield.py (CodeBookInputField.get_value): Vracej
	skuteènì tuple, nikoliv list.

2001-10-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack._replace_window): Nový argument
	`close'.
	(FrameStack.replace, FrameStack.pop): Volej `_replace_window'
	s argumentem `close' TRUE.

	* lib/pytis/form/form.py (BrowseDualForm.Show): Proveï Show pouze pro
	splitter.
	(BrowseDualForm.Close): Nová metoda.

	* lib/pytis/form/list.py (_List._create_grid): Opravena chyba
	zarovnávání.  Opraveno nastavování atributù sloupcù.
	Zjednodu¹eno.
	(_List._create_grid): Pøidány callbacky pro kliknutí na label.
	(_List._on_label_left): Nová metoda.
	(_List._on_label_right): Nová metoda.
	(_List.reshuffle, _List._ListTable.reshuffle)
	(_List._ListTable._reshuffle): Nový argument `sort'.
	(_List.reshuffle): Nech» je starý grid odstranìn ze svého rodièe.
	(_List.__init__): Nové atributy `_condition' a `_sort'.
	(_List._create_grid): Zru¹en argument `condition'.
	(_List._ListTable.GetColLabelValue): Upravuj labels setøídìných
	sloupcù.
	(_List._ListTable._get_value): Pro nepravdivé hodnoty booleanu
	vracej prázdný øetìzec.

2001-10-26  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/list.py (_List._create_grid): zakomentovány èásti kódu,
	které patrnì souvisely se starým provedením vícehodnotových
	sloupeèkù...
	(_List._create_grid): zru¹en zapomenutý print.

	* lib/pytis/form/form.py (EditForm._create_caption): nastav kódování fontu.

	* lib/pytis/form/spec.py (ColumnSpec.__init__): defaultní separátor zmìò
	na dvojteèku.

	* lib/pytis/form/list.py (_List._create_grid): nastavuj zarovnání u
	v¹ech sloupeèkù, nastav vlastnosti hlavièky.

2001-10-25  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/form.py (PopupForm.run): zobraz formuláø pomocí ShowModal().
	(EditForm.__init__): nový argument `key'. Pokud byl zadán `key',
	naèti data a naplò svá políèka.
	(EditForm._on_parent_close): ukonèi formuláø pomocí EndModal().
	(EditForm.set_row): pøidány logovací hlá¹ky, namísto
	f.data_column().id() pou¾ívej jen f.id().

	* lib/pytis/form/inputfield.py (BooleanInputField.set_value): úprava
	docstringu.
	(CodeBookInputField._create_control): zapamatuj si vtupní políèka
	v seznamu self._controls.
	(CodeBookInputField._on_invoke_codebook): vyu¾ívej zmìny ve
	specifikaci (FieldSpec.codebook() je seznam obsahující i id
	cílových sloupeèkù), pøedávej resolveru správný argument fields.
	(CodeBookInputField.set_value): nová metoda.
	(CodeBookInputField.get_value): nová metoda.

	* lib/pytis/form/list.py (_List._on_select_cell):
	`self._selection_callback' volej s argumentem `self._row_key'
	namísto `self._row_data'.
	(_List._row_key): nová metoda.
	(_ListTable.get_key): nová metoda.
	(_List.set_activation_callback): oprava docstringu.
	(CodeBook._on_activation): argument je key (sekvence klíèových
	hodnot), zpracuj i násobné klíèe, volej self._parant.EndModal(0)
	(BrowseForm.on_edit_form): argument je key (sekvence klíèových
	hodnot), vyu¾ívej resolver, vyu¾ívej form.run()

2001-10-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._ListTable.__init__): Vyu¾ívej
	ColumnSpec.separator().
	(_List._select_row): Nová metoda.
	(_List._on_select_row): Volej ji.
	(FilteredBrowseForm.__init__): Opraveno pøedávání argumentù do
	konstruktoru pøedka.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select)
	(DBDataPostgreSQL._pg_select)
	(PostgreSQLStandardBindingHandler._pg_select): Nový argument
	`sort'.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Do
	`_pdbb_command_select' zahrnuto volitelné tøídìní.
	(PostgreSQLStandardBindingHandler._pdbb_sort2sql): Nová metoda.

	* lib/pytis/data/_test.py (Float.check_rounding): Nový test.
	(_TypeCheck._test_validity): Pøidána podpora pro klíèové argumenty
	`validate'.
	(Boolean.check_validation): Updatován test na prázdný øetìzec.
	(DBDataDefaultClass.check_select_sorting): Nový test.
	(DBDataDefaultClass.setUp): Nový atribut atribut `dosnova'.

	* lib/pytis/data/types_.py (Type.validate, Type._validate): Akceptuj
	i libovolné klíèované argumenty.
	(Float.CEILING, Float.FLOOR): Nové konstanty.
	(Float._validate): Nové argumenty `precision' a `rounding'.

2001-10-24  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/list.py (_List._create_grid): poèítej souèet ¹íøek sloupcù.
	(_List.total_width): nová metoda.
	(CodeBook.__init__): nastavuj velikost dialogu.
	
	* lib/pytis/form/inputfield.py (CodeBookInputField._on_invoke_codebook):
	vyu¾ívej resolver pro zobrazení èíselníku.

	* lib/pytis/form/list.py (Module): V¹echny odkazy na `lib.view.*'
	zmìnìny na `spec.*'.
	(ListForm.__init__): nový argument `resolver', argument `parent'
	pøesunut.
	(CodeBook.__init__): nový argument `resolver', argument `parent'
	pøesunut.
	(BrowseForm.__init__): nový argument `resolver', argument `parent'
	pøesunut.

	* lib/pytis/form/inputfield.py (Module): importuj `spec' namísto
	`lib.view', V¹echny odkazy na `lib.view.*' zmìnìny na `spec.*'.

	* lib/pytis/form/form.py: Zmìna v¹ech výskytù `view.View' na `spec.ViewSpec'.
	Zmìna poøadí argumentù konstruktorù v¹ech formuláøových tøíd a
	pøidání argumentu `resolver' v¹em tìmto konstruktorùm.

	* lib/pytis/form/application.py (Application._resolver): nová metoda.
	(Application.title): pøejmenováno na `_title'.
	(Application.menu): pøejmenováno na `_menu'.
	(Application.buttons): pøejmenováno na `_buttons'.
	(Application.status_fields): pøejmenováno na `_status_fields'.
	(Application.on_load_form): Jméno specifikace a formuláøové tøídy
	urèi podle textového identifikátoru polo¾ky menu, která událost
	vyvolala. Pro vytvoøení formuláøe pou¾ij resolver.
	(Application.on_load_table): metoda zru¹ena - '_on_load_form' je
	nyní obecná a zastane obojí.

	* lib/pytis/form/spec.py (Module): Nový modul vytvoøený ze zru¹eného
	`lib.view'.
	(DataSpec): Nová tøída
	(View): Tøída pøejmenována na 'ViewSpec' (konzistence).
	(Module): Rozsáhlé zmìny dokumentace týkající se pøesunu modulu z
	`lib.view' do `lib.form'.
	(ColumnSpec.__init__): nový argument `separator'
	(ColumnSpec.separator): nová metoda

	* lib/pytis/view/__init__.py (Module): Modul zru¹en, obsah pøesunut do
	modulu `form'.
	* lib/pytis/view/view.py (Module): soubor pøesunut do	modulu `form' a
	pøejmenován na `spec.py'.

2001-10-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm.__init__): Pøedávej obìma
	formuláøùm argument `noselect'.

	* lib/pytis/data/data.py (Data.select): Nový argument `sort'.
	(MemData.select): Zdokumentována nepodpora tøídìní.

	* lib/pytis/form/list.py (_List._create_grid): Pro èíselné sloupce
	nastavuj zarovnávání napravo.
	(_List.__init__): Nový atribut `noselect'.
	(ListForm.__init__, BrowseForm.__init__) 
	(FilteredBrowseForm.__init__): Nápodobnì.
	(_List._ListTable.GetTypeName): Nová metoda.
	(_List._ListTable._TYPEMAPPING): Nový privátní atribut.
	(_List._ListTable._get_value): Pro typy z _TYPEMAPPING vracej
	hodnotu, ne exportovanou hodnotu.
	(_List._ListTable.__init__): Nerozdìluj sloupce sekvenèního typu
	na více sloupcù.
	(_List._ListTable._get_value): Zobrazuj hodnoty vícesloupcových
	typù oddìlené separátorem.

	* lib/pytis/data/types_.py (Number): Nový typ.
	(Integer, Float): Nyní dìdí Number místo Type.

	* lib/pytis/data/dbdata.py (PostgreSQLStandardBindingHandler.gettype):
	Úpravy kódu, pøidáno rozpoznávání pøesnosti desetinných èísel.

2001-10-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook.__init__): Opraven popis argumentù.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data): I v pøípadì
	èíselníku se sekvencí value columns nevolej `validate' a rovnou
	pou¾ij tuple stringù získaných pøímo z databáze.

	* lib/pytis/form/list.py (_List._ListTable._YES, _List._ListTable._NO):
	Nové konstanty.
	(_List.ListTable._get_value): Pou¾ívej tyto konstanty pro
	zobrazování hodnot typu Boolean.

2001-10-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Boolean): Upøesnìn docstring.

	* lib/pytis/form/form.py (BrowseDualForm.__init__): Doplnìn docstring.
	(BrowseDualForm): Do docstringu doplnìny typy obou formuláøù.

2001-10-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PG_CACHE_SIZE): Nová
	konstanta.
	(DBDataPostgreSQL._PgBuffer.fill): Pou¾ívej ji.
	(DBDataPostgreSQL._PG_INITIAL_FETCH_SIZE): Zmen¹eno na 50.

2001-10-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm.OnSize): Nová metoda.
	(BrowseDualForm.__init__): Registruj ji pro EVT_SIZE.
	(BrowseDualForm.__init__): Zru¹eny blbiny s explicitním
	nastavováním velikosti.
	(BrowseDualForm.__init__): Znemo¾ni u¾ivatelský unsplit.

	* lib/pytis/form/list.py (_List._on_activation): Ber øádek z gridu, ne
	ze sebe.
	(ListForm.__init__): Update docstringu.
	(_List._ListTable.__init__): `column_*' argumenty nahrazeny
	jediným argumentem `columns'.
	(_List._create_grid): Zohlednìní pøedchozí zmìny.
	(_List._ListTable._get_value): Vytahuj z datového øádku správný
	sloupec.
	(_List._row_data, _List._create_grid, _List._ListTable.__init__)
	(_List._ListTable._get_value): Doplnìna podpora pro multisloupce.

2001-10-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select): Nepou¾ívej cache,
	do¹lo-li ke zmìnì podmínky.

	* lib/pytis/form/form.py (BrowseDualForm.__init__): Zajisti nulový obsah
	formuláøe na zaèátku jeho zobrazení.

	* lib/pytis/data/data.py (Data._Operator.__str__): Opraveno.

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Smazán zapomenutý
	print.
	(_List._row_data): Nový argument `row'.
	(_List._on_activation, _List._on_select_cell): Pøedávej ho.
	(_List): Buï potomkem wxWindow, ne wxGrid.
	(_List.__init__): Zru¹en atribut `_column_count', nový atribut
	`_columns'.
	(_List._create_grid): Nová metoda.
	(_List.__init__): Vyu¾ívej ji.
	(_List._on_select_cell, _List._row_data, _List.reshuffle): Pracuj
	nad self._grid, ne self.
	(ListForm.__init__): Zru¹ena registrace klávesových událostí pro
	list.
	(_List.reset): Volej `reshuffle'.
	(_List.reshuffle): Pøedìláno, nový argument `_position', metoda
	nyní nahrazuje stávající grid za nový.
	(_List._ListTable): Pøedávej z konstruktoru condition.

2001-10-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm): Dopsáno.

	* lib/pytis/view/view.py: Formátovací úpravy.
	(LayoutSpec.__init__): FieldGroup -> GroupSpec v docstringu.

	* lib/pytis/util/util.py (debugger): Nová funkce.

	* lib/pytis/form/list.py (_List._on_activation): Pøedávej výsledek
	volání metody, ne metodu.
	(_List._row_data): Opravena promìnná ve volání `validate'.
	(BrowseForm.__init__): Nový argument `selection_callback'.
	(_List.reshuffle): Mdlé pokusy o refresh seznamu pøi zmìnì dat.

	* lib/pytis/data/types_.py (Type._EMPTY_MAPS_TO_NONE): Nový atribut.
	(Type.validate): Mapuj prázdné øetìzce na None, pokud to
	_EMPTY_MAPS_TO_NONE dovoluje.
	(String._EMPTY_MAPS_TO_NONE): Pøedefinuj na FALSE.

2001-10-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (BrowseDualForm): Nový kód, nehotovo.

	* lib/pytis/form/list.py (BrowseForm.__init__): Nenastavuj activation
	callback sám, pøedej ho jako parametr konstruktoru pøedka.
	(BrowseForm.on_edit_form): Zmìna struktury argumentu `data'.
	(ListForm.__init__): Zmìna struktury argumentù callbackù.
	(_List.__init__): Nový atribut `_data'.
	(_List._row_data): Vracej data v nové struktuøe.
	(_List._ListTable.reshuffle, _List._ListTable._reshuffle)
	(_List.reshuffle): Nový argument `condition'.
	(FilteredBrowseForm): Dopsáno.

2001-10-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.__init__): Nové argumenty
	'selection_callback' a 'activation_callback'.
	(ListForm.__init__): Zru¹ena poznámka v docstringu o ji¾
	neexistující metodì `fill'.
	(_List.set_selection_callback): Nová metoda.
	(_List.__init__): Atribut `_callback' pøejmenován na
	`_activation_callback', nový atribut `_selection_callback'.
	(_List.set_activation_callback, _List._on_activation): `_callback'
	-> `_activation_callback'.
	(_List._on_select_cell): Volej `_selection_callback', je-li
	nastaven.
	(_List._row_data): Nová metoda.
	(_List._on_activation): Pou¾ívej ji.
	(CodeBook.__init__): Nenastavuj activation callback sám, pøedej ho
	jako parametr konstruktoru pøedka.

	* lib/pytis/form/form.py (SettableForm): Nová tøída.

2001-10-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Value.export): Jestli¾e hodnota je None,
	nehavaruj a exportuj ji jako prázdný øetìzec.

	* lib/pytis/form/list.py (_List._ListTable.__init__): Nový argument
	`column_labels' a atribut `_column_labels'.
	(_List._ListTable.GetColLabelValue): Nová metoda.
	(_List.__init__): Pøedávej konstruktoru _ListTable column_labels.

2001-10-15  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (BooleanInputField.set_value): nepou¾ívej
	`DBColumnBinding.bindings()',ale `types.Codebook.number_of_columns()'

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Upøesnìna logovací hlá¹ka

2001-10-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._pg_query): Upraveny argumenty
	výjimky v assertu na typ.
	(DBException.__init__): Opraveno volání konstruktoru pøedka.
	(DBDataPyPgSQL._pg_query): Akceptuj i hodnoty NULL.

	* lib/pytis/data/types_.py (Codebook.Mode): Hodnoty konstant zmìnìny na
	srozumitelné strings.
	(Codebook.__init__): Implicitní hodnota argumentu `mode' zmìnìna
	na `Mode.ONCE'.

	* lib/pytis/form/list.py (_List._ListTable.reshuffle)
	(_List._ListTable.GetValue): Doplnìno o¹etøování databázových
	chyb.
	(_DBOP): Nová globální konstanta.
	(_List._ListTable._get_value): Nová metoda.
	(_List._ListTable._reshuffle): Nová metoda.
	(_List.__init__): Nový parametr `frame' a atribut `_frame'.
	(_List._ListTable._panic): Nová metoda.

	* lib/pytis/form/dialog.py (db_operation): Nový argument `quiet'.
	(db_operation): Prohozeny argumenty `parent' a `operation'.
	(db_operation): `operation' smí být i tuple definující volání
	funkce.

	* lib/pytis/form/form.py: Drobné úpravy docstringù.
	(_DBOP): Nová globální konstanta.
	(EditForm._lock, EditForm._unlock, EditForm._edit_update)
	(EditForm._edit_delete, EditForm.changed, EditForm.set_row):
	Pou¾ívej _DBOP.

2001-10-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/test.py (transform_args): Pøi zpracování argumentù
	poèítej s tím, ¾e se nemusí jednat pouze o tøídy.

	* lib/pytis/form/_test.py (Dialog.check_interactive_password): Nový
	test.
	(DBOperation): Nová sada testù.

	* lib/pytis/form/dialog.py (Password): Nová tøída.
	(Message.run): Ulo¾ vytvoøený dialog do nového atributu `_dialog'.
	(db_operation): Dokonèeno.

	* lib/pytis/data/_test.py (DBExceptions.check_constructors): Update.
	(DBData.check_it): Zru¹en assert na zru¹enou metodu `bindings'.
	(TutorialTest.get_connection): Jako vedlej¹í efekt testuj mo¾nost
	zadání DB spojení funkcí.

	* lib/pytis/data/dbdata.py: Do v¹ech konstruktorù DBUserException a
	DBSystemException bez argumentù pøidán argument None.
	(DBException.__init__): Akceptuj libovolný poèet argumentù.
	(DBException.exception): Nová metoda.
	(DBException.__init__): Doplò `message', je-li None.
	(DBDataPostgreSQL.__init__): `dbconnection_spec' smí být i funkce.
	(DBDataPyPgSQL._pypg_add_notifications) 
	(DBDataPyPgSQL._pypg_new_connection) 
	(DBDataPyPgSQL._pypg_get_connection) 
	(DBDataPyPgSQL._pypg_return_connection): Zohledni pøedchozí zmìnu.

2001-10-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/inputfield.py (InputField.data_binding): Zru¹eno.
	(InputField.__init__): Zru¹eno vytahování specifikace dat.

	* lib/pytis/data/types_.py (Enumeration.values): Update docstringu --
	vrací nejen stringy.
	(Codebook): Update docstringu -- hodnotami mohou být i tuples
	stringù.
	(Codebook.__init__): Update docstringu -- klíèové sloupce
	parametru `data' musí být typu `String'.
	(Codebook.number_of_columns): Nová metoda.

	* lib/pytis/data/dbdata.py (DBException.__init__): Kompletnì pøekopáno.
	(DBException.message): Nová metoda.
	(DBLoginException): Nová tøída.
	Update v¹ech volaných výjimek pro nové tøídy.
	(DBData.bindings): Zru¹eno.
	(DBData.__init__): Zru¹ena zmìna z 2001-10-09.
	(DBData.binding): Nápodobnì.
	(PostgreSQLStandardBindingHandler.find_id) 
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands) 
	(PostgreSQLStandardBindingHandler._pdbb_table_row_lists): Update
	kvùli zru¹ené metodì `bindings'.

	* lib/pytis/form/_test.py (Dialog.check_interactive_message): Doplnìn
	test caption.
	(Dialog.check_interactive_question): Doplnìno testování
	implicitních tlaèítek.

	* lib/pytis/form/dialog.py (Message._create_dialog): Nezobrazuj tlaèítko
	Cancel.

2001-10-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py: Smazány v¹echny zastaralé testy.
	(pdm_tests): Zru¹eno.
	Pøidány varovné testy pro v¹echny netestované moduly.

	* lib/pytis/form/dialog.py (Question.run): `caption' obaleno _().
	(Message.__init__): Zmìnìn význam tøídy.
	(Message._create_dialog): Nová metoda.
	(Message._run_dialog): Nová metoda.
	(Message._customize_result): Nová metoda.
	(Message._select_message): Nová metoda.
	(Message.run): Pou¾ívej nové metody.  Smazán zakomentovaný
	SearchDialog.
	(Question.__init__): Argument `question', resp. `default',
	pøejmenován na `message', resp. `default_button'.  Atribut
	`_default' pøejmenován na `_default_button'.
	(Question.BUTTON_YES): Nová konstanta.
	(Question.BUTTON_NO): Nová konstanta.
	(Question.__init__): Hodnoty parametru `default_button' zmìnìny na
	novì zavedené konstanty.
	(Question._customize_result): Nová metoda.
	(Message.run): Akceptuj libovolné argumenty.
	(Message.__init__): Nový argument `caption'.
	(Question.run): Akceptuj libovolné argumenty a pouze volej metodu
	pøedka.
	(Question): Vyu¾ívej volby implicitního tlaèítka.
	(db_operation): Nová funkce.
	(Dialog.run): Akceptuj libovolné argumenty.

2001-10-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List._ListTable.reshuffle): Opraveno více
	chyb souvisejících s indexem.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.__str__): Vypisuj
	i prvek na aktuální pozici.
	(DBDataPostgreSQL.PgBuffer.__str__): Dìlej mezi øádky nové øádky.

2001-10-10  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (InputField.data_binding): nová metoda
	(InputField.__init__): zapamatuj si datovou vazbu (self._data_binding)
	(resolve): pøidána podpora pro typ Codebook
	(InputField.__init__): neva¾ wxEVT_KEY_DOWN na control, neloguj
	(BooleanInputField.set_value): Povol prázdný øetìzec jako FALSE
	(CodeBookInputField._create_control): nová metoda
	(CodeBookInputField._on_invoke_codebook): nová metoda
	(CodeBookInputField._on_key_down): pøi klávese INVOKE_CODEBOOK
	pouze zavolej `_on_invoke_codebook', zde nic pøímo neo¹etøuj

	* lib/pytis/form/form.py (EditForm._pack_fields): doplnìn zapomenutý
	pøevod z dlg units na pixely, label vertikálnì vycentrován

	* lib/pytis/view/view.py (GroupSpec.__init__): zmìna defaultních hodnot
	`gap' a `space'

2001-10-09  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/data/dbdata.py (DBData.__init__): vytvoø slovník pro pøístup
	k vazbám pøes id
	(DBData._db_column_binding): vyu¾ívej slovník namísto sekvenèního
	procházení, metoda pøejmenována na `DBData.binding' - zveøejnìna

	* lib/pytis/form/screen.py (MenuBar._assemble_menu): zru¹ena zapomenutá
	debugovací hlá¹ka...

	* lib/pytis/form/form.py (EditForm._on_parent_close): zvý¹en sleep na 150

	* lib/pytis/form/application.py (Application.on_load_form): nová metoda
	(Application.on_load_table): vyu¾ívej obrácené asociace klíèù MenuBaru
	
	* lib/pytis/form/screen.py (MenuBar): úprava docstringu
	(MenuBar._assemble_menu): pøevrácen zpùsob asociace klíè <->
	hodnota pro slovník self._id_dictionary
	(MenuBar.__getitem__): update docstringu

2001-10-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List.GetValue): Neprovádìj datový "rozbìh"
	ani pro row==1.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.skip): V logovací hlá¹ce
	uvádìj i poèet øádkù.
	(DBDataPostgreSQL.fetchone): Do volání `skip(0)' pøidán argument
	`direction'.
	(DBDataPostgreSQL.skip): Opraveny chyby korekce v blízkosti hranic
	bufferu.

2001-10-09  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (InputField.validation_error): pøedávej
	self._parent konstruktoru `dialog.Message'
	(Module): importuj modul dialog

	* lib/pytis/form/form.py (EditForm.changed): nová metoda
	(EditForm._on_parent_close): Pokud byla data zmìnìna, vy¾aduj
	potvrzení od u¾ivatele.
	(EditForm._on_parent_close): doplnìní dokumentace, estetické
	úpravy kódu, hack na ztracený focus
	(EditForm._edit_insert): pøedávej self._parent konstruktoru
	`dialog.Message'
	(EditForm._edit_update): pøedávej self._parent konstruktoru
	`dialog.Message'
	(EditForm._edit_delete): pøedávej self._parent konstruktoru
	`dialog.Message'
	(EditForm._lock): pøedávej self._parent konstruktoru `dialog.Message'
	(EditForm._on_parent_close): pøedávej self._parent konstruktoru
	`dialog.Question'
	(EditForm._edit_delete): pøedávej self._parent konstruktoru
	`dialog.Question'

	* lib/pytis/form/dialog.py (Message.__init__): nový povinný atribut parent
	(Message.run): místo `wx.wxMessageBox' vytváøej `wx.wxMessageDialog'
	a volej na nìj ShowModal()
	(Question.__init__): nový povinný atribut parent
	(Question.run): místo `wx.wxMessageBox' vytváøej `wx.wxMessageDialog'
	a volej na nìj ShowModal()

	* lib/pytis/form/dialog.py (Question.__init__): podpora pro volbu
	dafaultního tlaèítka
	(Question.run): podpora pro volbu dafaultního tlaèítka, dialog má
	ikonu a titulek

	* lib/pytis/form/form.py (Form.__init__): pro EVT_CLOSE rodiè. okna
	volej `_on_parent_close'; nenastavuj `self._handler'
	(Form._on_key_down): nepou¾ívej `self._handler', o¹etøi události
	rovnou zde.
	(Form._on_leave_window): nová metoda
	(Form._on_parent_close): nová metoda
	(EditForm._on_ok): upraveno logování 
	(EditForm._on_cancel): neloguj
	(EditForm._close_form): neloguj; zatím volej self._parent.Close();
	pøidáno TODO
	(EditForm._on_parent_close): nová metoda
	(EditForm._create_buttons): zmìna poøadí tlaèítek

2001-10-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm._close_form): Jestli¾e je formuláø
	instancí lib.form.list.ListForm, aktualizuj jeho obsah.
	(EditForm.__init__): Volej na rodièe `Show(wx.TRUE) '.
	(EditForm._close_form): Volej na rodièe `Show(wx.FALSE)'.
	(PopupForm._popup_frame): Nový argument `parent'.
	(EditForm.__init__): Zohledni pøedchozí zmìnu.

	* lib/pytis/form/screen.py (FrameStack.window): Nová metoda.

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Je-li to mo¾né, zøiï
	instanci EditForm dle identifikátoru instance.
	(ListForm.reshuffle): Nová metoda.
	(BrowseForm.on_edit_form): Neukládej editaèní formuláø na frame stack.

	* lib/pytis/util/util.py (InstanceResolver._create_instance): Nastav
	nové instanci atribut '_instance_resolver_id'.

2001-10-07  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Editaènímu formuláøi
	pøedhazuj kopii datového objektu; jedná se o doèasný hack.

	* lib/pytis/form/screen.py (FrameStack.push): Volej `Show' s wx.TRUE, ne
	TRUE.

	* lib/pytis/form/form.py (EditForm._close_form): Nová metoda.
	(EditForm._on_ok, EditForm._on_cancel): Volej ji.

	* lib/pytis/data/types_.py (Codebook.value_column): Nová metoda.
	(String._validate): Pøi chybì assertu reportuj i øetìzec.

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_insert): Pøi testu
	vrácené hodnoty ignoruj oid.
	(DBDataDefaultClass.setUp): Vytváøej tabulku s multisloupcem.
	(DBMultiData): Nová sada testù.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Do `_pdbb_command_get_last' pøidán výbìr oid.

2001-10-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/util.py (xtuple): Nová funkce.

	* lib/pytis/data/dbdata.py
	(DBDataPostgreSQL._pg_make_row_from_raw_data)
	(PostgreSQLStandardBindingHandler): Dodána podpora pro typ
	Sequence.
	(DBColumnBinding.__init__): Zru¹eno roz¹íøení významu argumentu
	`column'.
	(DBMultiColumnBinding): Nová tøída.

	* lib/pytis/data/_test.py (Sequence.setUp): Nová metoda.
	(Sequence.check_len): Nový test.

	* lib/pytis/data/types_.py (Sequence.__len__): Nová metoda.
	(Codebook): Doplnìna podpora pro vícesloupcové hodnoty.

2001-10-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBColumnBinding.__init__): Argument `column'
	mù¾e být i tuple názvù sloupcù.

	* lib/pytis/data/_test.py (_TypeCheck._test_validity): Pøi chybì
	validace vypisuj i chybovou hlá¹ku.
	(Sequence): Nová sada testù.

	* lib/pytis/data/types_.py (Sequence): Nový typ.

2001-10-05  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/inputfield.py (resolve): assert na existenci datové
	specifikace pro dané id
	(InputField.get_value): oprava docstringu
	(InputField.create_label): pøejmenováno na _create_label
	(InputField.create_control): pøejmenováno na _create_control

	* lib/pytis/form/form.py (PopupForm._popup_frame): Odstranìn parametr
	size pøi konstrukci dialogu - velikost musí být nastavena
	dodateènì pomocí SetSize() a¾ po vytvoøení obsahu.
	(EditForm): pøidej PopupForm mezi pøedky
	(EditForm.__init__): kompletnì pøepsáno
	(EditForm._create_caption): nová metoda
	(EditForm._create_buttons): nová metoda
	(EditForm._create_group): nová metoda
	(EditForm._pack_fields): nová metoda
	(EditForm._on_ok): nová metoda
	(EditForm._on_cancel): nová metoda
	(_orientation2wx): nová funkce
	(dlg2px): nová funkce
	(char2px): vyu¾ívej ji

	* lib/pytis/view/view.py (GroupSpec): nová tøída
	(LayoutSpec): kompletní zmìna API tøídy
	(View.__init__): zru¹en atribut fields (políèka jsou teï souèástí
	parametru layout)
	(View.fields): metoda zru¹ena jako nepotøebná
	(View.field_groups): metoda zru¹ena jako nepotøebná
	(View._remember_fields): nová metoda
	(View._remember_columns): nová metoda

	* lib/pytis/form/list.py (ListForm.OnSetFocus): nová metoda

	* lib/pytis/form/form.py (EditForm.OnSetFocus): nová metoda

	* lib/pytis/form/screen.py (FrameStack._replace_window): na nové okno
	zavolej SetFocus()

2001-10-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.fill): Nový argument
	`extra_move'.
	(DBDataPostgreSQL.fetchone): Zohledni ho.
	(DBDataPostgreSQL.fill): Neusekávej buffer pod velikost danou
	_PG_INITIAL_FETCH_SIZE.

2001-10-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.fetch)
	(DBDataPostgreSQL._PgBuffer.goto)
	(DBDataPostgreSQL._PgBuffer.reset)
	(DBDataPostgreSQL._PgBuffer.skip): Opraveno.
	(DBDataPostgreSQL.select): Pøi návratu na zaèátek volej na buffer
	`goto' s argumentem -1, ne 0.

	* lib/pytis/form/list.py (_List._ListTable.__init__): Nevolej
	AutoSizeColumns, není to ji¾ tøeba a grid z toho ¹ílí.


2001-10-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.__str__): Do
	výpisu pøidán _dbpointer.

	* lib/pytis/form/inputfield.py (CodeBookInputField._on_key_down):
	Nevolej na èíselník `fill'.
	* lib/pytis/form/application.py (Application.on_load_table): Nevolej na
	formuláø `fill'.

	* lib/pytis/form/list.py (_List): Pøepracováno na "poèítaný" grid.
	(ListForm.__init__): Pøedávej konstruktoru tøídy _List argument
	`data'.
	(ListForm.fill): Zru¹eno.

2001-10-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.fill): Volej self._data.select
	s argumentem `reuse' TRUE.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer): Nový atribut
	`_dbpointer'.
	(DBDataPostgreSQL._PgBuffer.copy): Opraveno.
	(DBDataPostgreSQL._PgBuffer.skip): Opraveno.
	(DBDataPostgreSQL._PgBuffer): Vìt¹inì metod doplnìny dokumentaèní
	øetìzce.
	(DBDataPostgreSQL.select): Opraveno cachování.
	(DBDataPostgreSQL._PgBuffer.__str__): Nevypisuj celý obsah
	bufferu.

2001-10-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClassRefetch): Zru¹eno.
	(DBDataReuse.setUp): Nová sada testù.
	(DBDataFetchBuffer.setUp): Do velikosti dat pøidáno
	dbdata.DBDataPostgreSQL._PG_INITIAL_FETCH_SIZE.
	(DBDataFetchBuffer.check_skip_fetch): Zohlednìno
	dbdata.DBDataPostgreSQL._PG_INITIAL_FETCH_SIZE.
	(go): Nová funkce (pro jednodu¹¹í ladìní).

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PgBuffer.goto): Nová
	metoda.
	(DBDataPostgreSQL.select): Vyu¾ívej ji.
	(DBDataPostgreSQL.fetchone): Zru¹ena rekonstrukce pøeru¹eného
	fetche.

2001-09-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.Close): Doplnìno chybìjící `self' ve
	volání `Close'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PG_INITIAL_FETCH_SIZE):
	Nová konstanta.
	(DBDataPostgreSQL._PG_FETCH_SIZE): Sní¾eno zpìt na 100.
	(DBDataPostgreSQL._PgBuffer.copy): Nová metoda.
	(DBDataPostgreSQL.select): Dokonèeno èásteèné cachování.
	(DBDataPostgreSQL._PgBuffer.fetch): Zru¹en argument `delete' a
	zru¹eno mazání naètených záznamù.
	(DBDataPostgreSQL.fetchone): Pøi prvním fillu stahuj poèet øádkù
	dle _PG_INITIAL_FETCH_SIZE.
	(DBDataPostgreSQL.__init__): Nový atribut _pg_initial_select.
	(DBDataPostgreSQL._PgBuffer.fetch): Zru¹en test na None.
	(DBDataPostgreSQL._PgBuffer): Zmìnìna sémantika atributù _pointer
	a _dbposition.
	(DBDataPostgreSQL._PgBuffer.fill): Zachovávej i èást pøedchozích
	dat.
	(DBDataPostgreSQL._PgBuffer.skip): Nová metoda.
	(DBDataPostgreSQL._PgBuffer.correction): Zru¹eno.
	(DBDataPostgreSQL.skip): Pou¾ívej _PgBuffer.skip místo
	_PgBuffer.correction.
	(DBDataPostgreSQL._PgBuffer.__str__): Nová metoda.

2001-09-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Data.select, MemData.select): Nový argument
	`reuse'.

	* lib/pytis/form/screen.py (MenuBar.keys): Nová metoda.

	* lib/pytis/form/application.py (Application.on_exit): Staronová metoda.
	(Application.on_load_table): Staronová metoda.
	(Application._menubar_forms): Nový atribut.

	* lib/pytis/form/list.py (ListForm.Close): Nová metoda.

	* lib/pytis/util/util.py (super): Nová funkce.

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._listen): Volej `reduce'
	s iniciální hodnotou.
	(DBDataPostgreSQL.select): Nový argument `reuse'.
	(DBDataPostgreSQL.select): Odchytávej pouze DBException.
	(DBDataPostgreSQL.__init__): Nový atribut `_pg_number_of_rows'.
	(DBDataPostgreSQL._PgBuffer.fetch): Nový argument `delete'.
	(DBDataPostgreSQL._PG_FETCH_SIZE): Zvý¹eno na 1000.
	(DBDataPostgreSQL.__init__): Nový atribut `_pg_changed'.
	(DBDataPyPgSQL._listen): Nastavuj jej pøi oznámení o zmìnì.
	(DBDataPostgreSQL.select): Resetuj jej.

2001-09-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (_List): Kompletnì pøedìláno, na grid.
	(ListForm.fill): Nepou¾ívej wx metody vnitøního listu.

2001-09-27  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/view/view.py (MultiFieldSpec): tøída zru¹ena
	(FieldSpec.__init__): zru¹en atribut a metoda `help'.
	(FieldSpec.__init__): nový atribut a metoda `hint'.
	(FieldSpec.__init__): defaultní hodnota `label' je '' namísto None

	* lib/pytis/form/form.py: neimportuj lib.data._types,	importuj inputfield
	(InputField): tøída pøesunuta do nového modulu
	`inputfield.py' a zcela pøepracována.
	(EditForm._validate): Validace pøenechána na
	metodì validate ka¾dého políèka. Doplnìn docstring.

	* lib/pytis/form/inputfield.py: nový modul.

2001-09-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (FrameStack.push): Volej opìt Show a ne
	ShowModal, které zpùsobí nezobrazení seznamu.

2001-09-25  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (CodeBook.__init__): Nech» je rodièem novì
	vytvoøený frame.
	(CodeBook._on_activation): Neodstraòuj se z frame stacku, sám se
	zavøi.
	(CodeBook): Buï potomkem tøídy form.PopupForm.
	(CodeBook.__init__): Zru¹en argument frame_stack.

	* lib/pytis/form/form.py (PopupForm.__init__): Nová tøída.
	(EditForm._on_key_down): Zohledni zmìnu poètu argumentù tøídy
	list.CodeBook.
	(Form.parent): Nová metoda.

	* lib/pytis/data/_test.py (Date.check_validation): Nová sada testù.
	(DateTime.check_export): Nový test.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Mapuj `date' na nový typ `Date'.

	* lib/pytis/data/types_.py (Date): Nová tøída.
	(DateTime.export): Nový argument `dateonly'.
	(DateTime.DATE, DateTime.TIME): Nové konstanty.
	(Value.export): Umo¾ni exporty s argumenty.

	* lib/pytis/util/util.py (InstanceResolver.__init__): Nový parametr
	`nocache'.
	(InstanceResolver.__getitem__): Zohledni ho.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Uzavírej okno a
	odstraòuj je z framu.
	(FrameStack.pop): Do docstringu pøidán zákaz pøepou¾ití instance.
	(FrameStack.push): Zru¹eno nevyu¾ité pøiøazení `static'.
	(FrameStack.push): Jestli¾e rodiè vkládaného okna není frame
	zásobníku, volej `ShowModal' na tohoto rodièe.
	(FrameStack.push): Pou¾ívej Form.parent, ne wxWindow.GetParent.

2001-09-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook._validate): Volej metodu pøedka
	`_validate', ne `validate'.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_select): Zji¹»uj a vracej
	poèet selectovaných øádkù.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Vytváøej SQL pøíkaz pro poèítání øádkù.
	(DBDataPostgreSQL.skip): Loguj pouze na úrovni DEBUG.

	* lib/pytis/form/list.py (_List.insert): Kontrola argumentu zmìnìna na
	assert.
	(ListForm.fill): Nový argument `force'.
	(ListForm.fill): O¹etøuj DB chybu.
	(_List._on_paint): Volej `fill' s argumentem `force'.

2001-09-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (Float.check_validation): Nová sada testù.

	* lib/pytis/data/types_.py (Float.export): Nová metoda.
	(Float.__init__): Nová metoda.
	(Value.export): Cachuj exportovanou hodnotu.
	(Value.__init__): Nový atribut `_exported'.
	(Float.precision): Nová metoda.
	(Type._validate): Nová metoda.
	(Type.validate): Provádìj cachování hodnot.
	(Type): Nové atributy související s cachováním.
	V¹echny podìdìné metody `validate' pøejmenovány na `_validate'.

	* lib/pytis/util/log.py (Logger._is_accepted): Neimportuj config.
	(Logger.__init__): Zaøaï modul `config' do globals.

2001-09-21  Milan Zamazal  <pdm@brailcom.org>

	* banka.py: Doplnìna podpora profilování.

	* lib/pytis/util/log.py (Logger._prefix): Uvádìj té¾ jméno tøídy a id
	instance.

	* lib/pytis/data/dbdata.py: Na více místech doplnìno logování.
	(DBDataPyPgSQL.CONNECTION_POOL): Nenastavuj hodnotu ihned.
	(DBDataPyPgSQL.__init__): Inicializuj CONNECTION_POOL.

2001-09-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm._lock): Nová metoda.
	(EditForm._unlock): Nová metoda.

	* lib/pytis/view/view.py (ColumnSpec.__init__): V docstringu upøesnìn
	parametr `width'.
	(ColumnSpec.width): Opraven docstring.

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_lock): Nový test.
	(DBDataDefaultClass.setUp): Nová tabulka `self.dstat1'.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.lock_row): Odladìno.
	(DBDataPyPgSQL._pg_query, DBDataPostgreSQL._pg_query)
	(DBDataPyPgSQL._pypg_get_connection): Nový argument
	`outside_transaction'.
	(DBDataPyPgSQL._pg_query): Odstranìn zapomenutý print.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): O¹etøuj NULLs.

	* lib/pytis/data/data.py (Data.lock_row): Upøesnìna návratová hodnota.
	(Data.locked_row): Nová metoda.

2001-09-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_update): Update
	testu.
	(DBDataDefaultClass.check_row): Update testu.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.lock_row): Nová metoda.
	(DBDataPostgreSQL.unlock_row): Nová metoda.
	(DBDataPostgreSQL._PG_LOCK_TABLE): Nová konstanta.
	(DBDataPostgreSQL._pg_locking_process): Nová metoda.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pøidej do vyzvedávaných sloupcù metody `row' sloupec `oid'.
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Pøidej ke sloupcùm oid.

	* lib/pytis/data/data.py (Data.lock_row): Nová metoda.
	(Data.unlock_row): Nová metoda.
	(Data.__init__): Nový atribut `_locked_row'.

2001-09-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_register_notifications):
	Zru¹eno.
	(DBDataPyPgSQL._pypg_add_notifier): Pøejmenováno na
	`_pypg_add_notifications' a pøekopáno.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Místo vytváøení notifikaèních SQL pøíkazù vytvoø seznam objektù
	pro LISTEN.
	(DBDataDefaultClass.__init__): Volej zru¹enou metodu
	`_pg_add_notifications' místo zru¹ené metody
	`_pg_register_notifications'.
	(DBDataPyPgSQL.__init__): Volej `_pypg_add_notifications' se
	seznamem notifikací.
	(DBDataPyPgSQL._listen): Registruj poslouchání notifikací pro
	ka¾dé získané spojení.
	(DBDataPyPgSQL._listen): Opravy chyb ve zpracování notifikací.
	(DBDataPyPgSQL._register): Nová metoda.
	(DBDataPyPgSQL.__init__): Vytváøej i zámek pro spojení.

2001-09-16  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/log.py (Logger._prefix): Opraveno zji¹tìní jména
	modulu.

	* lib/pytis/util/_test.py (Gettext): Zru¹eno.

	* lib/pytis/_test.py: Kvùli svému stavu vyøazeny testy modulu lib.form.

	* lib/pytis/data/dbdata.py (DBData.sleep): Volej `close'.
	(DBDataPyPgSQL._pypg_add_notifier): Nová metoda.
	(DBDataPyPgSQL.__init__): Volej ji.
	(DBDataPyPgSQL._pg_begin_transaction): Nová metoda.
	(DBDataPyPgSQL._pg_commit_transaction): Nová metoda.
	(DBDataPyPgSQL._pg_rollback_transaction): Nová metoda.
	(DBDataPyPgSQL._pypg_allocate_connection): Nová metoda.
	(DBDataPyPgSQL._pypg_deallocate_connection): Nová metoda.

	* lib/pytis/data/_test.py (DBDataDefaultClass.setUp): Nech» `_to_kill'
	je list.
	(DBDataDefaultClassRefetch.setUp): Pøidej `self.list' do
	`_to_kill'.

2001-09-15  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBConnection.setUp, DBConnection.check_it):
	Opraveno.

	* lib/pytis/util/util.py (identity): Nová funkce.
	Není-li definován globální symbol `_', definuj ho jako identickou
	funkci.

	* banka.py: Pøehozeno poøadí importù, kvùli podtr¾ítku.
	Pou¾ívej anonymní funkci pro definici "nouzového" podtr¾ítka.

	* lib/pytis/data/dbdata.py (_pypg_new_connection): Nová funkce.
	(PostgreSQLStandardBindingHandler._pg_update): Pøidávej `value' do
	argumentù, i kdy¾ není sekvencí.

2001-09-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBConnection.check_cmp): Nový test.

	* lib/pytis/data/dbdata.py (DBConnection.__cmp__): Nová metoda.
	(_DBConnectionPool): Nová tøída.
	(DBDataPyPgSQL._PgNotifier): Nová tøída.
	(DBDataPyPgSQL.sleep): Zru¹eno.
	(DBDataPyPgSQL._pypg_start_listener, DBDataPyPgSQL._pypg_listen):
	Zru¹eno.
	(DBDataPyPgSQL._pypg_ensure_connection): Zru¹eno.
	(DBDataPyPgSQL._pypg_new_connection): Nová metoda.
	(DBDataPyPgSQL._pypg_get_connection): Nová metoda.
	(DBDataPyPgSQL._pg_query): Upraveno pro nové mechanismy.
	(DBDataPyPgSQL._pypg_return_connection): Nová metoda.

2001-09-14  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/form.py (char2px): nová funkce

	* lib/pytis/form/list.py (_List.__init__): vyu¾ívej ji

	* lib/pytis/form/form.py (EditForm.create_control): vyu¾ívej ji

	* lib/pytis/view/view.py (Width): tøída zru¹ena
	(ColumnSpec.__init__): `width' je ve znacích, ne v pixelech, zmìna
	defaultní hodnoty na 10.

2001-09-13  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/view/view.py (FieldSpec.__init__): nové argumenty width a height
	(FieldSpec.width): nová metoda
	(FieldSpec.height): nová metoda

	* lib/pytis/form/form.py (EditForm.__init__): sizer nastavuj sám sobì,
	ne rodièovskému framu (metody SetSizer() a SetAutoLayout()).
	(EditForm.create_control): ¹íøku a vý¹ku controlu nastav podle
	specifikace

	* banka.py (go): místo `form.application.Application' vytváøej
	instanci `defs.application.Application'

	* lib/pytis/form/application.py (Module): neimportuj defs
	(Application.__init__): parametrizaci statických prvkù nenaèítej z defs,
	ale z návratových hodnot vlastních metod (které je mo¾né pøedefinovat)
	(Application.title): nová metoda
	(Application.menu): nová metoda
	(Application.buttons): nová metoda
	(Application.status_fields): nová metoda
	(Application.on_menu): zru¹eno - pøesunuto do defs.application
	(Application.on_load_table): nápodobnì

	* lib/pytis/form/list.py (ListForm._on_size): loguj DEBUG informace,
	vracej wx.TRUE
	
2001-09-12  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/dialog.py: Neimportuj lib.util.log, importuj lib.util
	jako celek.
	Souboru pøekódován do ISO 8559-2.

	* config/config.py: Neimportuj lib.util.log, importuj lib.util
	jako celek.
	(application_name): Nová promìnná.

	* lib/pytis/data/dbdata.py: Neimportuj lib.util.log.

	* test_osnova.py: Neimportuj podtr¾ítko.

	* lib/pytis/form/form.py: Neimportuj podtr¾ítko a lib.util.log.

	* lib/pytis/view/view.py: Neimportuj podtr¾ítko.

	* lib/pytis/util/test.py: Neimportuj podtr¾ítko.

	* lib/pytis/data/data.py: Neimportuj podtr¾ítko.

	* lib/pytis/data/types_.py: Neimportuj podtr¾ítko.

	* banka.py: Nainstaluj gettext.
	Neimportuj lib.util.log, importuj lib.util jako celek.

	* lib/pytis/util/util.py (_): Zru¹eno.

	* lib/pytis/util/log.py (Logger): Nová tøída.
	(StreamLogger): Nová tøída.
	(SyslogLogger): Nová tøída.
	Odkaz na mo¾nost hvìzdièkového importu lib.util.
	(_host): Pøesunuto do `Logger'.
	(logger): Nová promìnná.
	(log): Pou¾ívej `logger' místo dosavadní implementace.

	* lib/pytis/util/__init__.py: Hvìzdièkovì importuj `log'.
	Neimportuj podtr¾ítko více.

	* lib/pytis/form/application.py (Application.on_frame_size): Nová metoda.
	Neimportuj lib.util.log, importuj lib.util jako celek.

	* lib/pytis/form/list.py (ListForm._on_size): Pøejmenováno na `OnSize'.
	(ListForm.OnSize): Volej na sebe `SetSize'.
	(ListForm.__init__): `_on_size' -> `OnSize'.
	Neimportuj podtr¾ítko a lib.util.log.

	* lib/pytis/form/screen.py (FrameStack.replace): Do docstringu doplnìna
	specifikace chování bez døíve existujícího vnitøního okna.
	(FrameStack.size_notification): Nová metoda.
	(FrameStack._replace_window): Volej ji.
	(FrameStack.push, FrameStack.pop, FrameStack.replace): Do
	docstringu pøidána informace o zmìnì velikosti.
	Neimportuj podtr¾ítko a lib.util.log.

2001-09-11  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (DualForm): Nový docstring.
	(BrowseDualForm): Nová tøída.
	(EditDualForm): Nová tøída.

2001-09-10  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/application.py (Application.push): Oprava docstringu

	* banka.py: volání locale.setlocale() pøesunuto a¾ do funkce go()
	za import lib.form.application, která teprve importuje wxWindows.
	
	* lib/pytis/form/form.py (Form.__init__): `Form' ji¾ není odvozen pøímo z
	`wxWindow', ale `wxPanel' (ten v¹ak je z `wxWindow' odvozen).

	* lib/pytis/form/list.py (_List.__init__): Nepoèítej ¹íøku a nevolej
	self.SetSize()
	(_List._on_size): nová metoda - zatím zakomentováno a pøidán
	komentáø a TODO s vysvìtlením...
	(_List._on_paint): FALSE zmìnìno na wx.FALSE
	(ListForm.__init__): nevytváøej sizer, EVT_SIZE je o¹etøen
	callbackem _on_size()
	(ListForm._on_size): nová metoda - volá self._list.SetSize()

2001-09-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (EditForm._on_key_down): Vyu¾ívej resolver pro
	èíselníky.

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): Vyu¾ívej resolver
	pro editaèní formuláøe.

	* lib/pytis/form/application.py (Application.on_menu): Vyu¾ívej resolver
	pro prohlí¾ecí formuláøe.

	* lib/pytis/util/_test.py (Configuration): Nová sada testù.
	(InstanceResolver): Nová sada testù.

	* lib/pytis/util/util.py (Resolver): Nová tøída.
	(InstanceResolver): Nová tøída.
	(Configuration.__getattr__): Definováno chování pøi neexistujícím
	po¾adovaném parametru.
	(Configuration.__init__): Upøesnìn argument 'dictionary'.
	(Object): Nová tøída.

2001-09-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._pg_already_present):
	Jestli¾e klíè je nekompletní, vra» FALSE.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands): Nový
	pøíkaz `_pddb_command_get_last'.
	(PostgreSQLStandardBindingHandler._pg_insert): Vlo¾ený øádek
	vytahuj pomocí oid.
	(DBDataPyPgSQL._pg_query): Do výjimky o chybném typu vkládej také
	dotyènou hodnotu.
	(DBDataPostgreSQL.update): Nenadávej, pokud má nový øádek stejný
	klíè jako øádek pùvodní.

	* lib/pytis/form/screen.py (FrameStack._replace_window): Neodstraòuj
	uzavíraná dìcka, wxWindows nemá rádo sirotky a obèas se pøi
	pohledu na nì hroutí.

	* lib/pytis/form/list.py (CodeBook._on_activation)
	(_List._on_activation, BrowseForm.on_edit_form): Vracej hodnotu.
	(_List._on_paint): Vracej wx.FALSE, ne FALSE.

	* lib/pytis/form/application.py: Odstranìn zakomentované kusy kódu.
	(Application.load_form): Pøi chybì zhasni a zavøi form.

	* lib/pytis/form/form.py (EditForm._InputField.__init__): `parent' musí
	být instance `Form'.
	(EditForm._InputField._on_key_down): Volej na codebook `fill'.
	(EditForm._InputField._on_key_down): Pøedávej codebooku správná
	data.
	(EditForm._InputField._on_key_down): Nastav codebooku správného
	ta»ku.
	(EditForm._on_key_down): Vracej hodnotu.
	(EditForm._edit_insert, EditForm._edit_update)
	(EditForm._edit_delete): Vracej pravdivostník konstanty wx.
	(EditForm._on_key_down): Opraveno mapování sloupcù.
	(EditForm._InputField.__init__.create_control): Disabluje
	needitovatelné polo¾ky.
	(EditForm._validate): Nevaliduj read-only políèka.
	(EditForm.__init__): Pøiøaï self._fields, teprve a¾ má `fields'
	finální hodnotu.
	(EditForm._validate): Pøi chybì v dialogu uvádìj i chybnou
	hodnotu.
	(EditForm._edit_insert): Po úspì¹ném vlo¾ení updatuj obsah
	formuláøe.
	(EditForm._edit_update): Nápodobnì.

	* lib/pytis/form/_test.py (ListForm.setUp, CodeBook.check_columns):
	Update.

2001-09-01  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (BrowseForm.on_edit_form): EVT -> EVENT.

	* lib/pytis/view/view.py (FieldSpec.__init__): Nový argument a atribut
	`editable'.
	(FieldSpec.editable): Nová metoda.
	(FieldSpec.__init__): Nový atribut `_codebook'.
	(FieldSpec.codebook): Nová metoda.

	* lib/pytis/form/form.py (EditForm._InputField.__init__): Odstranìny
	zapomenuté printy.
	(EditForm.set_row): U výjimek loguj jejich argumenty, ne výjimky
	samotné.
	(EditForm._InputField.__init__): Nový atribut _subfields.
	(EditForm.__init__): Eviduj podpolíèka multipolíèek.
	(EditForm._InputField.__init__): Odstranìn redundantí test na
	instanci MultiFieldSpec.
	(EditForm._InputField.__init__): Vytváøej podpolíèka jako instance
	`_InputField'.
	(EditForm._InputField__init__): Nech» argument `view' je
	FieldSpec, ne View.
	(EditForm.__init__): Zohledni tuto zmìnu.
	(EditForm._InputField.__init__.create_label): O¹etøuj pøípad, kdy
	label je None.
	(EditForm._InputField__init__): Nový atribut `_superfield'.
	(EditForm._InputField): `view' v¹ude pøejmenováno na `spec'.
	(EditForm._InputField._on_key_down): Dopsáno (av¹ak pìkný hnus).
	(EditForm._InputField.__init__): Nový atribut `_data'.

2001-08-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (WxKey._TRANS_TABLE): Doplnìn pøevod
	`Delete'.

	* lib/pytis/form/list.py (_List._on_paint): Nová metoda.
	(_List.__init__): Registruj ji jako callback pro událost `PAINT'.
	(_List.__init__): Nové atributy `_parent', `_changed' a
	`_in_paint'.
	(_List.on_data_change): Nová metoda.
	(ListForm.__init__): Registruj callback vnitøního listu pro zmìnu
	dat.
	(BrowseForm.on_edit_form): Pøi chybì uvádìj id sloupce místo
	celého sloupce.

	* lib/pytis/data/types_.py (Codebook): Hodnoty èíselníkového typu smí
	být pouze stringy.

	* lib/pytis/form/form.py (EditForm.label): Oprava návratové hodnoty
	v docstringu.
	(EditForm._validate): Vkládej do hlá¹ení skuteènì slovní oznaèení
	políèka.
	(EditForm.data): Pøejmenováno na `data_column'.
	(EditForm.__init__): `_data' pøejmenováno na `_data_column'.
	(EditForm._on_key_down): Zpracovávej klávesu pro smazání záznamu.
	(EditForm._edit_delete): Nová metoda.
	(EditForm.set_row): Opraveno `EVT' -> `EVENT'.
	(EditForm.__init__): Nenavì¹uj handler na klávesové události
	políèek formuláøe.
	(EditForm._InputField.create_control): Navì¹uj na políèka handler
	zpracování klávesové události.
	(EditForm._InputField.__init__): Nový atribut `_parent'.
	(EditForm._InputField._on_key_down): Nová metoda.
	(EditForm._InputField.__init__): Pøedávej do `create_control'
	self.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._pg_update): O¹etøi pøípad, kdy
	je `value' tuple.
	(DBDataPostgreSQL._pg_value): Provádìj test instance
	`Enumeration' na typ pùvodní hodnoty, ne zkonvertované hodnoty.
	(DBDataPostgreSQL._pg_value): Zpracovávej enumerations separátnì,
	exportuj je a obaluj apostrofy.

2001-08-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Codebook.export): Doplnìno chybìjící
	`return'.

	* lib/pytis/form/form.py (EditForm._edit_insert): Odchytávej databázové
	výjimky.
	(EditForm._edit_update): Nápodobnì.

	* config/config.py (logging): Místo funkce obyèejná konfiguraèní
	volba.

	* lib/pytis/util/log.py (log): Pou¾ívej novou konfiguraci.

	* banka.py (_process_options): Nová funkce.
	(go): Volej ji.
	(_USAGE): Nová konstanta.
	(_usage): Nová funkce.
	(_EXIT_OK): Nová konstanta.
	(_EXIT_USAGE): Nová konstanta.

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL.__init__): Inicializuj
	`_pypg_lock'.
	(DBDataPyPgSQL._pypg_start_listener): Nemìò `_pypg_lock'.
	(DBException.__init__): Nová metoda.
	(DBDataPostgreSQL._pg_value): Obaluj apostrofy i výètové typy.

2001-08-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL.protect): Connection socket
	není file object, nýbr¾ file descriptor, zavírej jej tedy funkcí
	`os.close'.

	* lib/pytis/form/list.py (ListForm.__init__): Nech» rodièem listu je
	form samotný, ne jeho rodiè.
	(ListForm.__init__): Aplikuj sizer na form, ne list.
	(ListForm.Show): Zru¹eno.

	* lib/pytis/form/screen.py (Menu.__init__): Klíè není jazykovì závislý.
	(Menu.__init__): `key' -> `id' (aby se nepletlo s klávesami).
	(Menu.key): Nápodobnì.
	(MItem.__init__): Nápodobnì.
	(MItem.__init__): Klíè není jazykovì závislý.
	(MenuBar.__init__): `key' -> `id'.
	(MenuBar.__getitem__): Nápodobnì.
	(MenuBar._assemble_menu): Nápodobnì.
	(MenuBar._assemble_menu): Pøidávej do nápisu menu horkou klávesu.
	(FrameStack._replace_window): Volej na okna `Enable'.

	* lib/pytis/form/form.py: Doplnìn docstring.
	(_InputField): Pøesunuto do tøídy `EditForm'.
	(EditForm.set_value): Podporuj i checkboxy.
	(EditForm.set_row): Nápodobnì.
	(EditForm._validate): Nová metoda.
	(EditForm._edit_update): Dopsáno.
	(EditForm._edit_insert): Dopsáno.
	(EditForm.__init__): Nech» rodièem prvkù je form samotný, ne jeho
	rodiè.
	(EditForm.__init__): Provedena duchaøina se sizerem, aby byl
	zobrazen obsah celého okna; proè to funguje zrovna takto, nevím.
	(EditForm._InputField.get_value): Nová metoda.
	(EditForm.Show): Zru¹eno.
	(EditForm._on_key_down): Doplnìno chybìjící self ve volání pøedka.

	* lib/pytis/form/_test.py (Dialog): Nová sada testù.

	* lib/pytis/form/dialog.py: Doplnìn docstring.
	(Dialog): Nápodobnì.
	(Dialog.run): Nová metoda.
	(MessageBox): Pøejmenováno na `Message' a napsáno.
	(MessageBoxQuestion): Pøejmenováno na `Question' a napsáno.
	(SearchDialog): Zakomentováno.

2001-08-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.__init__): Zpracovávej klávesu
	návratu v seznamu.
	(BrowseForm.on_edit_form): Pøidán docstring.
	(BrowseForm.on_edit_form): Nastav øádek do formuláøe.
	(Form._on_key_down): Nová metoda.

	* lib/pytis/form/screen.py (MItem.__init__): Upøesnìna specifikace
	parametru `hotkey'.
	(MItem.__init__): Odkomentován assert na typ parametru
	`activation'.
	(WxKey): Nová tøída.
	(FrameStack.__str__): Nová metoda.

	* banka.py (go): Volej Application.run místo Application.MainLoop.

	* lib/pytis/form/application.py (Application.frame): Pøejmenováno na
	`wx_frame'.
	(Application.run): Nová metoda.
	(Application.on_menu): frame -> wx_frame.
	(Application.OnInit): Zpracovávej klávesu návratu.

	* lib/pytis/form/form.py (_InputField.create_control): Zohlednìní zmìny
	hodnot orientace ve view.
	(EscapeHandler): Pøejmenováno na
	`lib.form.screen.WxEscapeHandler'.
	(Form.__init__): Zpracovávej klávesu návratu.
	(EditForm.__init__): Zpracovávej klávesu návratu ve vstupních
	políèkách.
	(EditForm.__init__): Nový atribut `_fields'.
	(EditForm.set_row): Nová metoda.
	(EditForm.__init__): Nový atribut `_key'.
	(EditForm._on_key_down): Nová metoda.
	(Form.__init__): Nový atribut `_handler'.
	(EditForm._on_key_down): Nová metoda.
	(EditForm._edit_insert): Nová metoda.

	* lib/pytis/view/view.py: Odstranìn import wx.
	(Orientation): Nová tøída.
	(MultiFieldSpec.__init__): Hodnoty argumenty `orientation' zmìnìny
	na konstanty tøídy `Orientation'.
	(MultiFieldSpec.orientation): Zmìna návratové hodnoty na jednu
	z konstant tøídy `Orientation' a vylep¹ení docstringu.

2001-08-28  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Pojmenovávání metod a funkcí):
	Pojmenovávání callbackových funkcí.

2001-08-28  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Pojmenovávání metod a funkcí):
	Pojmenovávání callbackových funkcí.

2001-08-27  Milan Zamazal  <pdm@brailcom.org>

	* config/config.py (log): Nová funkce.

	* lib/pytis/util/log.py (log): Neloguj hlá¹ky, jejich¾ druh je
	v config.exclude.
	(config): Pøesunuto do config.config.
	(_conf): Nová promìnná pro konfiguraci.

	* lib/pytis/form/application.py (Application.on_menu): Pøedávej do
	browse formu frame stack.
	Upraveny importy.
	(Application.on_menu): Loguj id.

	* lib/pytis/form/form.py (Form): StackFrame -> FrameStack v docstringu.
	(Form.__init__): Nový argument `frame_stack' a atribut
	`_frame_stack'.
	(_InputField.control): Úprava docstringu.
	(EditForm.__init__): Nový argument `frame_stack'.
	(Form.__init__): Nový atribut `_parent'.
	(EscapeHandler): Nová tøída.

	* lib/pytis/form/list.py (BrowseForm.__init__): Doplnìn dokumentaèní
	øetìzec.
	(BrowseForm.__init__): `parent' musí být instance `wx.wxFrame'.
	(BrowseForm.on_edit_form): Nová metoda.
	(BrowseForm.__init__): Registruj ji jako callback.
	(BrowseForm.__init__): Nový argument `frame_stack'.
	(ListForm.__init__): Nový nepovinný argument `frame_stack'.
	(CodeBook.__init__): Zru¹en atribut `_frame_stack', frame stack
	pøedáván konstruktoru rodièe.
	(CodeBook.Show): Pøesunuto do ListForm.

2001-08-27  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/tips (pyunit): Nová sekce.

2001-08-27  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/tips (pyunit): Nová sekce.

2001-08-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/test.py (transform_args): Nová funkce.
	* lib/pytis/form/_test.py: Vyu¾ívej ji.
	* lib/pytis/data/_test.py: Nápodobnì.

	* lib/pytis/form/screen.py (FrameStack.push): Znemo¾ni pushnutí na
	zásobníku ji¾ ulo¾ené instance vnitøního okna.

	* banka.py: Nastavuj `locale.LC_NUMERIC' na `C'.

	* COPYING: Nový soubor.

2001-08-24  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/screen.py (MenuBar): Zdokumentován zpùsob získání wx id
	polo¾ek menu pomocí textového klíèe.
	(MItem.__init__): Nový povinný argument `key'. Pøidány asserty na
	datové typy parametrù.
	(MItem.key): Nová metoda
	(Menu.__init__): Nový povinný argument `key'. Pøidány asserty na
	datové typy parametrù.
	(Menu.key): Nová metoda
	(MenuBar.__getitem__): Nová metoda; Vrací wx id polo¾ky menu pøes
	textový klíè.
	(MenuBar._assemble_menu): Nový povinný argument `key', roz¹íøení
	algoritmu o naplnìní slovníku identifikátorù.

	* lib/pytis/form/application.py (Application.on_menu): Nový callback pro
	obsluhu libovolné události menu.
	(Application.load_form):  Nová metoda
	(Application.on_uc_denik): Zru¹eno
	(Application.on_uc_osnova): Zru¹eno

	* lib/pytis/form/screen.py (MenuBar.__init__): Argument `form'
	pøejmenován na `parent' (konzistence; krom toho je form nesmysl)
	(StatusBar.__init__): Argument `frame' a atribut `_frame' pøejmenovány
	na `parent' a `_parent' (konzistence)
	(ButtonBar.__init__): Argument `frame' a atribut `_frame' pøejmenovány
	na `parent' a `_parent' (konzistence)
	(StatusBar): Oprava pøíkladu pou¾ití v dokumentaci.
	(MenuBar): Úprava pøíkladu pou¾ití v dokumentaci.

2001-08-24  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/bugs (Python): Nová sekce; zdokumentována locales
	chyba s reálnými èísly.

	* doc/standards/management (©ablony souborù): Nová sekce.

	* templates/template.py: Nová ¹ablona.

2001-08-24  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/bugs (Python): Nová sekce; zdokumentována locales
	chyba s reálnými èísly.

	* doc/standards/management (©ablony souborù): Nová sekce.

	* templates/template.py: Nová ¹ablona.

2001-08-23  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (TutorialTest.check_it): Updatováno pro nové
	rysy èíselníku.

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Nastav column_value èíselníku.
	(DBColumnBinding.__init__): Upravena specifikace argumentù
	'related_to' a 'enumerator'.

	* lib/pytis/data/types_.py (Codebook.__init__): Zru¹en atribut
	`_nonkey_col_ids'.
	(Codebook.__init__): Zmìnìna specifikace v docstringu -- nyní jsou
	ji¾ podstatné pouze klíèové sloupce.
	(Codebook._update_enumeration.extract): Vracej v¾dy tuple.
	(Codebook.validate): V¾dy pøevádìj `object' na tuple.
	(Codebook.__init__): Nový argument `value_column'.
	(Codebook._update_enumeration): Nech» je vnitøní hodnotou
	`self._value_column'.
	(Codebook.export): Nová metoda.
	(Codebook.is_valid): Nová metoda.

2001-08-23  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/application.py (Application.on_uc_denik): Nový callback
	pro zobrazení úèetního deníku.
	(Application.on_uc_osnova): Nový callback pro zobrazení úèetní
	osnovy.

	* lib/pytis/form/screen.py (FrameStack.count): Nová metoda.

	* lib/pytis/form/list.py (BrowseForm.__init__): Pøidán argument
	data (oddìlení datové a prezentaèní specifikace).

	* lib/pytis/view/view.py (MultiFieldSpec): Nová tøída.
	(FieldSpec.__init__): Nový nepovinný argument codebook.

	* lib/pytis/form/form.py (EditForm.__init__): volej parent.SetSizer()
	namísto self.SetSizer(). Stejnì tak pro SetAutoLayout().
	(_InputField.__init__): Pøidána podpora pro políèka slo¾ená z
	nìkolika vstupních polí.

	* lib/pytis/form/list.py (ListForm.__init__): volej parent.SetSizer()
	namísto self.SetSizer(). Stejnì tak pro SetAutoLayout().

2001-08-21  Tomas Cerha  <cerha@brailcom.cz>

	* config/config.py: Atributy spojení na databázi jsou nyní
	definovány jako instance tøídy DBConnection.

	* lib/pytis/view/view.py: Oprava dokumentace (odstranìní specifikace
	datové vazby ze specifikace view).
	(View._data): Atribut zru¹en.
	(View.data): Metoda zru¹ena.

	* lib/pytis/form/list.py (CodeBook.__init__): Oddìlení view a data (viz
	`Form.__init__'). Pøidány asserty na datové typy.

	* lib/pytis/form/list.py (ListForm.__init__): Oddìlení view a data (viz
	`Form.__init__'). Vytvoøení sizeru pøesunuto sem.

	* lib/pytis/form/form.py (_InputField): Ji¾ není potomkem wxBoxSizeru,
	ani jiného wx prvku. Zdokumentováno.
	(Form.__init__): specifikace view a data oddìlena - nový argument
	`data'. Sizer ji¾ není definován na úrovni tøídy Form - zru¹en
	atribut `Form._sizer' a argument `orientation'. Ka¾dá podtøída si
	mù¾e v oknì vytvoøit sizer podle potøeby... Pøidány asserty na
	datové typy.
	(EditForm.__init__): Oddìlení view a data (viz `Form.__init__')

2001-08-21  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (ListForm.__init__): Updatováno pro zmìnu
	pøedka `Form'.
	(CodeBook._on_activation): Nevolej `Show' na self._list.
	(CodeBook.Show): Nová metoda.

	* lib/pytis/form/form.py (Form): Buï potomkem wx.wxWindow.
	(Form.window): Zru¹eno.
	(Form): Zru¹en atribut `_parent'.

	* lib/pytis/form/_test.py
	(CodeBookSelection.check_interactive_selection): Nastav velikosti
	oken.

2001-08-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (Form.__init__): Obaluj se oknem.
	(Form.window): Nová metoda.

	* lib/pytis/util/log.py (log): Odchytávej výjimky z inspectu.

	* lib/pytis/form/list.py (List.__init__): Opraveny chybné zápisy volání.
	(CodeBook.__init__): Argumenty `field' a `field_column' slouèeny
	do nového argumentu `fields'.
	(CodeBook._on_activation): Nastav v¹echna políèka a odstraòuj se
	ze zásobníku nepodmínìnì.
	(CodeBook.__init__): Nový argument `frame_stack'.
	(CodeBook._on_activation): Aplikuj `pop' na frame stack.

	* lib/pytis/view/view.py (View.__init__): Opravy gramatických chyb
	v docstringu.

	* lib/pytis/form/_test.py: Nastav LC_NUMERIC na `C'.
	(CodeBook.check_interactive_selection): Nový test.

	* lib/pytis/data/data.py (Row.__init__): Pøi chybách vypisuj i pøíslu¹né
	hodnoty.

	* lib/pytis/form/application.py (Application.OnInit): Nedìlej prosté
	okno pøes celou obrazovku, udìlej normální okno, o zbytek se
	postará wm.
	(Application.OnInit): Nenastavuj velikost okna vùbec -- nech to na
	externí specifikaci (wm, resources, ...).

2001-08-20  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/view/view.py (View.__init__): Opravena chyba s mutable
	objektem v pøiøazení defaultní hodnoty argumentu.

	* lib/pytis/util/util.py: Pøejmenován konfliktní import (import types as
	pytypes).
	

2001-08-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py (get_pdm_tests): Nová funkce.

	* lib/pytis/form/application.py (Application): Pou¾ívej
	screen.FrameStack místo pùvodní vlastní implementace.
	(Application.__init__): Zru¹eno, inicializace se musí provádìt
	v `OnInit'.

	* lib/pytis/form/screen.py (FrameStack): Nová tøída.

	* lib/pytis/form/list.py (CodeBook.__init__): Nové argument 'field' a
	'field_column'.
	(CodeBook): Aktualizován docstring.
	(CodeBook._on_activation): Nová metoda.
	(CodeBook.__init__): Registruj ji jako callback pro aktivaci.
	(List.set_activation_callback): Nová metoda.
	(List.__init__): Nový atribut `_callback'.
	(List._on_activation): Nová metoda.
	(List.__init__): Nastav ji jako callback pro aktivaci.

	* lib/pytis/form/form.py: Opraveno odsazování ze 3 na 4 mezery.
	(_InputField): Opravy docstringù a nové specifikace.
	(_InputField.set_value): Nová metoda.

2001-08-18  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/form.py (_InputField.__init__): Odstranìny printy
	vedoucí ke zhroucení.

	* lib/pytis/form/list.py (List.insert): Vyvolej výjimku jestli¾e
	po¾adovaná pozice je a¾ za koncem seznamu.
	(List.insert): `n' smí být 0 (oprava docstringu).

	* lib/pytis/form/_test.py (_Application.OnInit): Pøidáno tlaèítko "OK" a
	v¹echna tlaèítka ulo¾ena do atributù.
	(_Application.OnInit): V¹echna tlaèítka zneviditelnìna.
	(_WxTestCase._ask_question): Patøièná tlaèítka zviditelnìna.
	(Application): Nová sada testù.
	(_WxTestCase._ask_question): Pøidávej za otázku otazník.

2001-08-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/bugs (wxWindows): Nová sekce.

	* doc/standards/formatting (Dokumentaèní øetìzce): Odkaz na
	upravenou verzi pydoc.

	* doc/standards/design (Zásada dokumentovanosti): Nová sekce.

	* doc/standards/reliability (Nakládání s chybami): Nová sekce.
	(Interaktivní testy a testování GUI): Napsáno.

2001-08-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/bugs (wxWindows): Nová sekce.

	* doc/standards/formatting (Dokumentaèní øetìzce): Odkaz na
	upravenou verzi pydoc.

	* doc/standards/design (Zásada dokumentovanosti): Nová sekce.

	* doc/standards/reliability (Nakládání s chybami): Nová sekce.
	(Interaktivní testy a testování GUI): Napsáno.

2001-08-17  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/_test.py (_WxTestCase._create_application): Nová metoda.
	(_WxTestCase.setUp): Pou¾ívej ji.

	* lib/pytis/form/application.py (Application._replace_window):
	Nepøevádìj okno, je-li ji¾ ve framu.
	(Application._replace_window): Patøiènì skrývej a odkrývej okna.
	(Application.frame): Nová metoda.
	(Application.push): Update docstringu.
	(Application.pop): Nápodobnì.
	(Application.replace): Nápodobnì.
	(Application._replace_window): Nový argument `close'.
	(Application.pop): Vyu¾ij ho.
	(Application.replace): Nápodobnì.

2001-08-17  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/form.py (EditForm.__init__): Rozdìlení do sloupcù
	urèeno podle rozdìlení políèek do skupin. Optimalizace zobrazení
	formuláøe. Pou¾ití `_InputField'.
	(_InputField): Základní implementace rozeznávající Boolean,
	ostatní políèka jsou zatím v¾dy `wxTextCtrl' 

	* lib/pytis/view/view.py (LayoutSpec): Zru¹en atribut `_cols', metoda
	`cols()' a argument `cols' metody `__init()'. Rozdìlení do sloupcù
	je urèeno rozdìlením polí do skupin (viz `View.__init__()').
	(View.__init__): Argument `fields' pøejmenován na `field_groups',
	algoritmus zpracování definic vstupních polí roz¹íøen o mo¾nost
	rozdìlení polí do skupin.
	(View.field_groups): Nová metoda.

2001-08-16  Tomas Cerha  <cerha@brailcom.cz>

	* test_osnova.py: upraveno pro testování editaèního formuláøe.

	* lib/pytis/form/form.py (EditForm.__init__): implementován základ pro
	vytvoøení formuláøe na základì pøedlo¾ené specifikace.
	(_InputField): Nová tøída
	(Form): Doplnìna dokumentace.

	* lib/pytis/form/list.py (ListForm.__init__): odstranìno volání
	self.Fit(parent)

	* lib/pytis/view/view.py (LayoutSpec.border): Nová metoda.

2001-08-15  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/view/view.py (LayoutSpec.spacing): Metoda zru¹ena.
	(LayoutSpec.hgap): Nová metoda.
	(LayoutSpec.vgap): Nová metoda.

	* lib/pytis/util/util.py (is_dictionary): Nová funkce.

	* lib/pytis/view/view.py (Width): Nová tøída.
	(ColumnSpec._data): Atribut zru¹en.
	(ColumnSpec.__init__): Vypu¹tìn argument data
	(FieldSpec): Doplnìna základní implementace. 
	(LayoutSpec): Nová tøída. 
	(View._layout): Nový atribut.
	(View._fields): Nový atribut.
	(View._fielddict): Nový atribut.
	(View.__init__): Nové povinné argumenty fields a layout (zmìna
	poøadí!). Doplnìn assert na datový typ argumentù a ka¾dé polo¾ky
	sekvencí columns a fields.
	(View.fields): Nová metoda.
	(View.field): Nová metoda.
	(View.layout): Nová metoda.

	* lib/pytis/form/__init__.py: `list' importuj hvìzdièkovì, stejnì jako `form'

2001-08-15  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/cvs (CVS archívy): Zmìnìn i odkaz na stroj
	s archívem.

2001-08-15  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/cvs (CVS archívy): Zmìnìn i odkaz na stroj
	s archívem.

2001-08-14  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/screen.py (Restorable): Nová tøída.
	(MenuBar): Do seznamu pøedkù pøidáno `Restorable' a 'Active'.
	(ButtonBar): Do seznamu pøedkù pøidáno `Restorable'.
	(StatusBar): Nápodobnì.
	(ButtonBar.save): Nová metoda.
	(ButtonBar.restore): Nová metoda.
	(StatusBar.save): Nová metoda.
	(StatusBar.restore): Nová metoda.
	(MenuBar._assemble_menu): Testuj nejen na MItem, ale i na
	lib.form.screen.MItem (nìjaká pythonovina?).

	* banka.py: Nový soubor, zárodek startovacího skriptu celé
	aplikace.

2001-08-14  Tomas Cerha  <cerha@brailcom.cz>

	* config/config.py (db_host): DB byla pøesunuta na nový stroj. 

2001-08-13  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/__init__.py: Kromì `form' neimportuj submoduly
	hvìzdièkovì.

	* lib/pytis/form/application.py: Nový modul.

	* lib/pytis/form/screen.py (ButtonBar.activate): Nová metoda, zatím
	prázdná.
	(ButtonBar): Do seznamu pøedkù pøidáno `Active'.
	(MenuBar): Nápodobnì.
	(MenuBar.activate): Volej metodu pøedka `Active'.
	(Active): Nová tøída.
	(_Activation): V docstringu pøidán odkaz na `Active'.

2001-08-13  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/cvs (CVS archívy): Zmìnìno umístìní CVS archívu.

2001-08-13  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/cvs (CVS archívy): Zmìnìno umístìní CVS archívu.

2001-08-10  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/types_.py (Value.export): Nová metoda.
	(Value): Pøidán odkaz na ni v dokumentaèním øetìzci.

	* lib/pytis/form/list.py (List.insert): Pro výpis hodnoty pou¾ívej
	`.export', ne `str'.

	* lib/pytis/data/data.py (MemData._mem_find_index): Zprovoznìno.
	(MemData._mem_create_row): Opraveny chybné závorky u volání
	`append'.

	* lib/pytis/form/_test.py (List): Doplnìny interaktivní testy.
	(ListForm): Nápodobnì.
	(ListForm.setUp): Pøedávej do `insert' instanci `Row', ne seznam.

2001-08-09  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (MemData.insert): Doplnìna typová kontrola.
	(MemData._mem_create_row): Opraveno vyta¾ení klíèe.

	* lib/pytis/form/_test.py: Update pro nový kód.
	(ListForm): Doplnìny interaktivní testy.
	(ListForm.setUp): Vytvoø instanci `row'.

	* lib/pytis/form/list.py (CodeBook): Opraven dokumentaèní øetìzec.
	(BrowseForm.switch_mode): Odstranìno volání `Refresh'.

2001-08-09  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/screen.py (StatusBar): Doplnìna dokumentace.

2001-08-09  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Pravidla pro pravidla): Maximální
	délka øádku v dokumentech je 77 znakù.

2001-08-09  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Pravidla pro pravidla): Maximální
	délka øádku v dokumentech je 77 znakù.

2001-08-08  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/test.py (InteractiveTestCase.ask_user): Pøekopáno,
	rozdìleno na nìkolik men¹ích metod.

	* lib/pytis/form/list.py (List.__init__): Roztáhni seznam na celou
	velikost okna.

	* lib/pytis/form/_test.py (_WxTestCase.setUp): Buï potomkem
	`InteractiveTestCase'.
	(_Application.OnInit): Pøidána tlaèítka YES a NO.
	(_Application.exit_ok): Nová metoda.
	(_Application.exit_fail): Nová metoda.
	(_WxTestCase): Pøedefinovány metody podìdìné
	z `InteractiveTestCase'.

	* lib/pytis/_test.py (tests): Pøidány testy z lib.form.

2001-08-08  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/view/view.py (View): Doplnìní dokumentace.

	* lib/pytis/form/form.py (Form._view): atribut pøesunut z ListForm (je
	to spoleèný atribut v¹ech typù formuláøù)
	(Form.__init__): pøidán arument view

	* lib/pytis/form/list.py (CodeBook.__init__): Pøidán argument id, kvùli
	novému zpùsobu specifikace èíselníkù.
	(CodeBook.columns): Chování podle nového zpùsobu specifikace
	èíselníkù.
	(CodeBook.__init__): Takté¾
	(ListForm._view): pøesunutí atributu _view do rodiè. tøídy Form

	* lib/pytis/view/view.py (ColumnSpec.in_codebook): Zru¹eno
	(ColumnSpec._in_codebook): Zru¹eno
	(ColumnSpec.__init__): Zru¹en argument in_codebook
	(View.__init__): Pøidán atribut codebooks
	(View.columns): Zmìna chování - argument codebook je nyní
	identifikátorem èíselníku.

	* test_osnova.py (Application.OnInit): Pøepracováno kvùli pou¾ití
	sizerù.

	* lib/pytis/form/list.py (List.__init__): Pøidáno SetSize(), aby nadøízený
	sizer znal rozmìry tabulky.
	(List.column_count): Pøejmenováno na `_column_count'.
	(ListForm.__init__): Pøepracováno kvùli pou¾ití sizerù.
	(ListForm.fill): Pøidány DEBUG logovací zprávy.
	(ListForm._total_width): Metoda zru¹ena - pøi pou¾ití sizerù ji¾
	není tøeba.
	(CodeBook.__init__): Zru¹ena, proto¾e v tuto chvíli se neli¹í od
	metody rodièovské tøídy
	(BrowseForm.__init__): Takté¾.

	* lib/pytis/form/form.py (Form): Formuláøe jsou nyní odvozeny z tøídy
	wxBoxSizer. 

2001-08-07  Milan Zamazal  <pdm@brailcom.org>
	
	* lib/pytis/form/_test.py: Dokonèena základní kostra testù.

	* lib/pytis/form/screen.py (_Activation.isactive): Pøejmenováno na
	`is_active'.
	(MItem.__init__): Upøesnìn argument `callback'.
	(MenuBar): Oprava pøeklepu v docstringu.
	(MenuBar): Opravena chyba v pøíkladu.
	(ButtonBar._add_button): Volej button_spec.label, ne
	button_spec.title.
	(Help.__init__): Opravena srandovní pravopisná chya.

	* lib/pytis/form/list.py (BrowseForm.switch_mode): Opraven pøeklep
	v nastavování daného módu.

	* lib/pytis/data/_test.py (Data.check_it): Zdokumentována absence testù
	pro data.MemData.

	* lib/pytis/data/data.py (MemData): Nová tøída.

2001-08-07  Tomas Cerha  <cerha@brailcom.cz>

	* lib/pytis/form/dialog.py: Zru¹en hvìzdièkový import wx.

	* lib/pytis/form/form.py: Zru¹en hvìzdièkový import wx.

	* lib/pytis/form/screen.py (MenuBar): Je nyní pøímým potomkem
	'wxMenuBar' (døíve samostatná tøída s atributem uchovávajícím
	instanci 'wxMenuBar').

	* test_osnova.py: Zru¹en hvìzdièkový import wx.

2001-08-06  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/view/view.py (View.__init__): Pøidány typové kontroly.

	* lib/pytis/form/_test.py: Pùvodní obsah zru¹en, zahájena tvorba
	skuteèných testù.

	* lib/pytis/form/list.py: Neimportuj wx hvìzdièkovì.
	(BrowseForm.switch_mode): Doplnìna chybìjící `self'.
	(List.insert): První øádek má èíslo 0.
	(List.append): Nápodobnì.
	(ListForm.columns): Upøesnìna návratová hodnota.

	* lib/pytis/data/_test.py (get_tests): Odstranìn omylem ponechaný
	profiling.

	* lib/pytis/form/screen.py (ButtonBar._del_button): Opraveny staré názvy
	promìnných.

2001-08-05  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List._colindex): Pøejmenováno na `_col_index'.
	(List.clear): Nová metoda.
	(ListForm.fill): Nevytváøej nový seznam, místo toho volej
	`List.clear'.

	* lib/pytis/form/screen.py: Neimportuj wx hvìzdièkovì.
	(Menu.__init__): Obaluj jazykovì závislé
	promìnné pøekladovou funkcí.
	(MItem.__init__): Nápodobnì.
	(MenuBar.__init__): Pøidávej hot key pouze pokud má `item' metodu
	`hotkey'.
	(MenuBar._assemble_menu): Item -> MItem.
	(StatusBar.show_message): Oprava jména promìnné.
	(_Activation): Nová tøídy.
	(ACT_DEFAULT): Nech» je hodnotou instance tøídy `_Activation'.
	(MenuBar.activate): Nová metoda (zatím prázdná).
	(ButtonSpec): Nová tøída.
	(ButtonBar): Pøepracovány dokumentaèní øetìzce.
	(ButtonBar.__init__): Nový argument button_specs.
	(ButtonBar.add_button): Pøejmenováno na `_add_button'.
	(ButtonBar.del_button): Pøejmenováno na `_del_button'.
	(ButtonBar.add_buttons): Nová metoda.
	(ButtonBar.del_buttons): Nová metoda.
	(ButtonBar._exist): Pøejmenováno na `_exists'.
	(ButtonBar.frame): Zmìnìn na privátní.
	(ButtonBar._add_button): Ké¾ je argumentem `ButtonSpec'.
	(ButtonBar._add_button): Men¹í úpravy kódu.
	(ButtonBar._del_button): Nápodobnì.

2001-08-05  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Pojmenovávání metod a funkcí):
	Zobecnìní pou¾ití slovesa ve jménech deklarativních funkcí.

2001-08-05  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Pojmenovávání metod a funkcí):
	Zobecnìní pou¾ití slovesa ve jménech deklarativních funkcí.

2001-08-04  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataNotification.check_side_notification):
	Oprava v kvalifikaci modulu.

	* lib/pytis/util/log.py (log): Implementováno zji¹tìní modulu.

	* lib/pytis/form/screen.py: Úpravy dokumentaèních øetìzcù.
	(Help): Nová tøída.
	(wxID_STATUSBAR): Odstranìno.
	(Item): Pøejmenováno na `MItem'.
	(StatusBar.get_message): Zru¹en argument `text'.
	(StatusBar.get_message): Pøejmenováno na message.
	(StatusBar.field_number): Pøejmenováno na `_field_number'.
	(Menu.parse_menu): Pøesunuto do `MenuBar'.
	(Menu.get_title): Pøejmenováno na `title'.
	(Menu.__init__): `items' zmìnìno na jediný parametr.
	(Menu.items): Nová metoda.
	(ACT_DEFAULT): Nová konstanta.
	(MItem.__init__): Parametr `isactive' zmìnìn na `activation.
	(MItem.isactive): Pøejmenováno na `activation'.
	(MItem.title): Vra» pouze prostý titulek, bez kombinace s hotkey.
	(MenuBar.__init__): Pøekopáno.
	(MenuBar.parse_menu): Pøejmenováno na `_assemble_menu'.

	* lib/pytis/view/__init__.py: Upøesnìna dokumentace modulu -- ne v¹echny
	specifikaèní tøídy se nachází zde.
	* lib/pytis/form/__init__.py: Analogicky.

	* lib/pytis/form/list.py (ListForm.__init__): Atributy tøídy uèinìny
	privátními.
	(ListForm.total_width): Pøejmenováno na _total_width.
	(ListForm.fill): Vytvoø nový _list, ne¾ jej zaène¹ plnit.
	(ListForm): Úpravy dokumentaèních øetìzcù.
	(CodeBook): Nápodobnì.
	(BrowseForm): Nápodobnì.
	(BrowseForm.__init__): Pou¾ívej `self', ne `BrowseForm'.
	(BrowseForm.mode): Zru¹en argument `mode'.
	(BrowseForm.switch_mode): Pøidán argument `mode'.
	(BrowseForm.switch_mode): Pøepsáno.

2001-08-03  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/form/list.py (List.colindex): Pøejmenováno na '_colindex'.
	(List._colindex): Pøi neexistujícím sloupci vra» None, ne -1.
	(List): Úpravy dokumentaèních øetìzcù.

	* lib/pytis/view/view.py: Dopsány a pøepracovány dokumentaèní øetìzce,
	celkové proèi¹tìní souboru.

	* lib/pytis/data/__init__.py: `import data' zmìnìno na
	`from data import *'.

	* lib/pytis/view/__init__.py: Komentáø nahrazen dokumentaèním øetìzcem.
	* lib/pytis/form/__init__.py: Nápodobnì.

	* lib/pytis/util/util.py (Configuration): Nová tøída (pøesunuta
	z log.py).
	* lib/pytis/util/log.py (_Configuration): Pøesunuto do util.py.

	* lib/pytis/util/test.py (InteractiveTestCase.ask_user): Nová tøída.
	(TestSuite.add): Pøidávej metody s prefixem `check_interactive_'
	dle konfiguraèní volby.
	* config/config.py (test_run_interactive): Nová konfiguraèní
	promìnná.

2001-08-02  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPyPgSQL._pypg_listen): Pøidány
	debugovací hlá¹ky o ukonèení.
	(DBDataPyPgSQL._pypg_listen): Pøi øízeném ukonèení zavolej na
	staré spojení `finish'.

	* lib/pytis/data/_test.py (DBDataFetchBuffer.tearDown): Volej `sleep',
	ne pouze `close'.
	(DBDataDefaultClassRefetch.tearDown): Nevolej `close'.
	(_DBBaseTest.tearDown): Explicitnì ukonèi spojení pøes `finish'.

2001-08-01  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Pravidla pro pravidla): Poznámka
	o generování change reportù.

	* doc/standards/standards: Pøidán odkaz na `bugs'.

	* doc/standards/bugs: Nový dokument.

	* doc/standards/formatting (Obsah dokumentaèních øetìzcù): Nová
	sekce.
	(Formátování dokumentaèních øetìzcù): Doplnìna nová pravidla
	formátování.
	(Dal¹í pravidla týkající se Pythonu): Nápodobnì.
	(Formátování pythonového kódu): Nápodobnì.
	(Pojmenovávání metod a funkcí): Nová sekce.
	(Dokumentaèní øetìzce): Poznámka o pydoc.

2001-08-01  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/management (Pravidla pro pravidla): Poznámka
	o generování change reportù.

	* doc/standards/standards: Pøidán odkaz na `bugs'.

	* doc/standards/bugs: Nový dokument.

	* doc/standards/formatting (Obsah dokumentaèních øetìzcù): Nová
	sekce.
	(Formátování dokumentaèních øetìzcù): Doplnìna nová pravidla
	formátování.
	(Dal¹í pravidla týkající se Pythonu): Nápodobnì.
	(Formátování pythonového kódu): Nápodobnì.
	(Pojmenovávání metod a funkcí): Nová sekce.
	(Dokumentaèní øetìzce): Poznámka o pydoc.

2001-07-31  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py
	(PostgreSQLStandardBindingHandler._db_bindings_to_column_spec):
	Ciselnik -> Codebook.
	(DBDataPostgreSQL._pg_make_row_from_raw_data): Nápodobnì.
	(DBData.__init__): Pøidána kontrola typu argumentu `bindings'.
	(DBDataPostgreSQL.skip): Oprav poèet øádkù dle parametrù bufferu.
	(DBDataPostgreSQL._PgBuffer.correction): Nová metoda.
	(DBDataPostgreSQL.skip): Neprovádìj SQL pøíkaz, pokud by mìlo
	dojít k nulovému posuvu.

	* lib/pytis/data/types_.py (Ciselnik): Pøejmenováno na `Codebook'.

	* lib/pytis/util/test.py: Doplnìn dokumentaèní øetìzec.

	* lib/pytis/data/_test.py (DBDataNotification): Nový test.
	(DBDataFetchBuffer): Nový test.
	(_DBBaseTest): Nová pomocná tøída.

	* lib/pytis/data/data.py (Data.add_callback_on_change): Pøidán chybìjící
	argument self.
	(Data.remove_callback_on_change): Nápodobnì.

2001-07-30  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.skip): Nová metoda.
	(DBDataPostgreSQL._pg_skip): Nová metoda.
	(DBDataPostgreSQL.fetchone): Nehledej poslední øádek, je-li None.
	(DBDataPostgreSQL._pg_fetchone): Zmìnìno na _pg_fetchmany.
	(DBDataPostgreSQL.fetchone): Zohledni tu zmìnu.
	(DBDataPostgreSQL): Poznámky k implementaci podtøíd pøesunuty
	z dokumentaèního øetìzce do komentáøe.
	(DBDataPostgreSQL._Pg_Buffer): Nová vnitøní tøída.
	(DBDataPostgreSQL.__init__): Inicializuj ji.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pøidej count do fetch pøíkazù.
	(PostgreSQLStandardBindingHandler._pg_skip): Nová metoda.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Pøidány pøíkazy pro _pg_skip.
	(DBDataPostgreSQL.select): Resetuj fetch buffer.
	(DBDataPostgreSQL.fetchone): Ber data z bufferu.
	(DBDataPostgreSQL.fetchone): Zdokumentováno, ¾e metoda nereaguje
	na notifikace o zmìnì dat.

	* lib/pytis/data/data.py: V dokumentaèních øetìzcích doplnìny za názvy
	funkcí závorky, aby pydoc vytvoøil odpovídající linky.
	(Data.skip): Nová metoda.

2001-07-29  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL._PG_FETCH_SIZE): Nový
	atribut.
	(DBDataPostgreSQL.fetchone): Kontroluj hodnotu 'direction'.

	* lib/pytis/data/_test.py (TutorialTest.check_it): Uspi datové instance.

2001-07-28  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.tearDown): Pou¾ívej
	`sleep' místo zneplatnìní datového objektu.

	* lib/pytis/data/dbdata.py (DBData.sleep): Nová metoda.
	(DBData): Odkaz na ni.
	(DBDataPyPgSQL.sleep): Nová metoda.
	(DBDataPyPgSQL._lock): Pøejmenováno na `_pypg_lock'.

2001-07-27  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_select_fetch): Na
	konci zavolej `Data.close'.
	(DBDataDefaultClass.check_select_fetch_direction): Nápodobnì.
	(DBDataDefaultClass.check_select_condition): Nápodobnì.
	(DBDataDefaultClassRefetch.tearDown): Nápodobnì, nová metoda.

	* lib/pytis/data/data.py (Data.__init__): Nový atribut
	`_on_change_callbacks'.
	(Data.add_callback_on_change): Nová metoda.
	(Data.remove_callback_on_change): Nová metoda.
	(Data._call_on_change_callbacks): Nová metoda.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.insert): Po¹li notifikace.
	(DBDataPostgreSQL.update): Nápodobnì.
	(DBDataPostgreSQL.delete): Nápodobnì.
	(PostgreSQLStandardBindingHandler._pg_send_notifications): Nová
	metoda.
	(PostgreSQLStandardBindingHandler._pg_register_notifications):
	Nová metoda.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Vytvoø notifikaèní SQL pøíkazy.
	(DBDataDefaultClass.__init__): Zavolej registraci notifikací.
	(DBDataPyPgSQL._pg_query): Pøi selhání pokusu o znovuspojení
	reportuj poslední nastalou výjimku.
	(DBDataPyPgSQL._pypg_start_listener): Nová metoda.
	(DBDataPyPgSQL._pypg_listen): Nová metoda.
	(DBDataPyPgSQL._pypg_ensure_connection): Volej
	`_pypg_start_listener'.
	Uzavøi socket starého spojení.
	(DBDataPyPgSQL._pg_query): Pracuj se spojením pod zámkem.

2001-07-26  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/data.py (Row.__setitem__): Opraven pøeklep
	v dokumentaèním øetìzci.
	(Row): Nápodobnì.
	(Row.keys): Vylep¹en dokumentaèní øetìzec.

2001-07-25  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Logging: Nový dokument.

2001-07-25  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Logging: Nový dokument.

2001-07-24  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/util/log.py: Doplnìna nedokonèená vìta v dokumentaèním
	øetìzci modulu.

	* lib/pytis/data/_test.py (DBDataDefaultClassRefetch): Nová sada testù.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.fetchone): Pøi rekonstrukci
	neprovádìj zpìtný fetch pøi BACKWARD.
	(DBDataPostgreSQL._pg_last_fetch_direction): Zru¹eno.
	(DBDataPostgreSQL.fetchone): Opravy chyb.
	(DBDataPostgreSQL.fetchone): Doplnìn dokumentaèní øetìzec
	popisující zpùsob rekonstrukce po pøeru¹ení.

2001-07-24  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Formátování dokumentaèních øetìzcù):
	Popis za "Vrací" pokraèuje bez odøádkování.

	* doc/tutorials/Database: Pøidána metoda `close'.
	Drobné úpravy.

2001-07-24  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Formátování dokumentaèních øetìzcù):
	Popis za "Vrací" pokraèuje bez odøádkování.

	* doc/tutorials/Database: Pøidána metoda `close'.
	Drobné úpravy.

2001-07-22  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py
	(DBDataDefaultClass.check_select_fetch_direction): Nový test.
	(DBDataDefaultClass.check_select_condition): Nový test.

	* lib/pytis/data/__init__.py: Pøidána "dokumentace" modulu.

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.select): Inicializuj
	promìnné potøebné pro kontinuální fetch.
	(DBDataPostgreSQL.fetchone): Jedná-li se o pøeru¹ený fetch, otevøi
	fetch znovu a pokus se dostat na aktuální pozici.
	(PostgreSQLStandardBindingHandler._pg_select): Zohledòuj podmínku.
	(PostgreSQLStandardBindingHandler._pdbb_create_sql_commands):
	Nápodobnì.
	(PostgreSQLStandardBindingHandler._pdbb_tabcol): Nová metoda,
	místo lokální funkce.
	(PostgreSQLStandardBindingHandler._pdbb_btabcol): Nová metoda,
	místo lokální funkce.
	(PostgreSQLStandardBindingHandler._pdbb_condition2sql): Nová
	metoda.
	(DBDataPyPgSQL._pg_query): Pøidáno logování.

	* lib/pytis/data/data.py (EQ): Doplnìn popis argumentù.
	(AND): Nápodobnì.
	(Data.Operator): Pøejmenováno na `_Operator'.
	(Data.fetchone): Upøesnìn význam smìru.
	(Data.args): Vracej nìco!

	* lib/pytis/data/types_.py (Ciselnik): Upøesnìna dokumentace.
	(Ciselnik.extract): Uzavøi datový zdroj po získání informací
	z nìj.

2001-07-20  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/dbdata.py (DBDataPostgreSQL.row): Pøi chybì proveï
	rollback.
	(DBDataPostgreSQL.select): Nápodobnì.
	(DBDataPostgreSQL.fetchone): Nápodobnì.
	(DBDataPostgreSQL.insert): Nápodobnì.
	(DBDataPostgreSQL.update): Nápodobnì.
	(DBDataPostgreSQL.delete): Nápodobnì.
	(DBDataPostgreSQL._pg_already_present): Není-li klíè kompletní,
	vra» FALSE.
	(DBDataPostgreSQL.close): Nová metoda.
	(DBDataPostgreSQL._pg_value): Nová metoda.
	(_db_value): Zru¹eno.
	(PostgreSQLStandardBindingHandler._pg_fetchone): Nový argument
	`direction'.
	(PostgreSQLStandardBindingHandler._pg_select): Nový argument
	`condition', zatím ignorovaný.

	* lib/pytis/data/data.py (Row.__cmp__): Porovnávej i klíèe.
	(Row.__str__): Oddìluj polo¾ky sloupce èárkami.
	(Row.__init__): Kontroluj argument 'data'.
	(Data.__init__): Kontroluj argumenty.
	(Data.insert): Upøesnìno chování bez hodnot klíèe.
	(FORWARD): Nová konstanta.
	(BACKWARD): Nová konstanta.
	(_Operator): Nová tøída.
	(Data.UnsupportedOperation): Nová vnitøní tøída.
	(Data.Operator): Nová vnitøní tøída.
	(Data.fetchone): Nový argument `direction'.
	(Data.select): Nový argument `condition'.
	(EQ): Nová funkce.
	(AND): Nová funkce.
	(Data.close): Nová metoda.
	
	* lib/pytis/data/types_.py (Ciselnik.validate): Akceptuj i jednoprvkové
	tuple.

2001-07-20  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Database: DBDataDefaultClass -> DBDataDefault.

2001-07-20  Milan Zamazal  <pdm@brailcom.org>

	* doc/tutorials/Database: DBDataDefaultClass -> DBDataDefault.

2001-07-19  Milan Zamazal  <pdm@brailcom.org>

	* lib/pytis/data/_test.py (DBDataDefaultClass.check_update): Opravena
	výroba `k2'.
	(_TypeCheck._test_validity): Testuj `export'.

	* lib/pytis/data/types_.py (Type.validate): Argumentem mù¾e být
	libovolný objekt, nejen string.
	(Type.export): Nová metoda.
	(Ciselnik.extract): Vyu¾ij ji.
2001-07-19  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal¹í pravidla týkající se Pythonu):
	Pou¾ívání gettextu.  Vyu¾ívání assert.  Tuples vs. lists.
	(ChangeLog): Nová sekce.

2001-07-19  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting (Dal¹í pravidla týkající se Pythonu):
	Pou¾ívání gettextu.  Vyu¾ívání assert.  Tuples vs. lists.
	(ChangeLog): Nová sekce.

2001-07-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting: Doporuèený pøeklad "raise".
	(Formátování dokumentaèních øetìzcù): Nová sekce.
	(Dal¹í pravidla týkající se Pythonu): Povolen hvìzdièkový import
	modulu `lib.util.log'.

2001-07-18  Milan Zamazal  <pdm@brailcom.org>

	* doc/standards/formatting: Doporuèený pøeklad "raise".
	(Formátování dokumentaèních øetìzcù): Nová sekce.
	(Dal¹í pravidla týkající se Pythonu): Povolen hvìzdièkový import
	modulu `lib.util.log'.

