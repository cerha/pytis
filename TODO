CHYBY:

 * Zapamatovaná pozice oddìlovaèe dualformu.

   Momentálnì se poèíátá se stejnou velikostí okna pøi dal¹ím startu aplikace.
   Napø. pøi maximalizaci okna ale dojde k ulo¾ení pozice a pøi dal¹ím startu
   je okno aplikace jinak veliké a oddìlovaè se zobrazí mimo... 

 * Zkopírovat obsah buòky nefunguje s èe¹tinou.

   Projevuje se pouze na Windowsech pøes Cygwin.

 * Aktualizace políèka `data-changed' ve stavové øádce.

   Po vlo¾ení záznamu je zobrazeno, ¾e data nejsou ok i ve formuláøi, ze
   kterého byla zmìna provedena.

 * Zobrazování nápovìdy polo¾ek menu ve stavové øádce.

   Nepodaøilo se zatím zprovoznit v kontextovém menu vstupního políèka v re¾imu
   inline editace, v kontextovém menu vstupního políèka v ShowFormu a v
   kontextovém menu záhlaví sloupce.

 * Vyhledávání nìkdy skoèí na záznam následující za hledaným.

   Popisovaný problém se bì¾nì neprojevuje.  Napøíklad v zakázkách pøi
   vyhledávání podle kódu zakázky v¹ak bylo toto chování hlá¹eno, ale po
   restartu aplikace ne¹lo zreprodukovat.


NOVÉ VLASTNOSTI:

 * Ulo¾ené filtrovací podmínky

   Podmínka by mìla být definovatelná jednak ve specifikaci a jednak by mìla
   jít ulo¾it u¾ivatelem definovaná (naklikaná) podmínka.

 * Omezení mo¾ností porovnávání sloupcù v závislosti na typech

   Pøi naklikání filtrovací podmínky, která porovnává napø. bool sloupec s
   øetìzcovým, dojde ke zhroucení selectu.  To by mìlo být nìjak o¹etøeno pøi
   vyhodnocování naklikané podmínky.

 * Vyu¾ití Wikinga pro webové rozhraní k aplikacím

   Wiking ji¾ nyní umí pracovat s daty nad pytisovými specifikacemi.
   Potøebujeme v¹ak umo¾nit napojit Wikinga na libovolnou stávající aplikaci a
   zajistit mo¾nost volby náhledù, které budou skrze Wikinga pøístupné.  Aby to
   bylo v praxi pou¾itelné, bude nutné zvolit zpùsob správy pøístupových práv k
   tìmto náhledùm.

 * Práce s Binary Large Objekty.

 * Pou¾ití externího PS prohlí¾eèe.

 * Správa pøístupových práv pøes databázi a formuláø, nikoli pøes specifikace.

 * Detailnìj¹í kontrola nad rozli¹ením práv pøi UPDATE/INSERT

   Pokud není na políèko právo UPDATE, zakázat jej i pøi INSERTU, ale umo¾nit
   nìkterá políèka explicitnì povolit (pouze pro INSERT).  Nebo také povolit
   úplnì v¹e, nehledì na práva pro UPDATE.

 * Práva view na jednotlivé sloupce.

 * Argument 'enabled' pro odkazy.

 * Souèasný výbìr nìkolika øádkù v øádkovém formuláøi.

   Práce s výbìrem je nyní problematická, proto¾e výbìr je pou¾íván také k
   vysvícení aktuálního øádku.  Je tøeba nejprve vymyslet, jak se to má
   chovat.  Více viz news 2006-02-27.

 * Roz¹íøit øádek po dobu inline editace víceøádkového textu.
 
 * Automatický filter èíselníku pøi vyplnìní wildcard hodnoty.

   Pokud je vyplnìna hodnota obsahující hvìzdièku, automaticky zapnout filtr
   pøi vyvolání èíselníku.

 * Zarovnávání, atributy a masky vstupních políèek.

 * Pøepoèítání závislých políèek pøi výbìru z ListField.

   V souèasné dobì se dìje jen pøi zmìnì hodnoty.  Chtìli bychom ale, aby k
   pøepoèítání do¹lo pøi ka¾dém dvojkliku (nebo výbìru pravým tlaèítkem).

 * Pro datumová políèka umo¾nit display ukazující odpovídající den v týdnu.

 * Zobrazení editovatelných/needitovatelných políèek v ShowFormu.

 * Zamezit výpoètu editovatelnosti políèek v ShowFormu - je to zbyteèné...


2) Specifikace

 * Dynamické urèení parametrù odkazu.

   Prozatím lze specifikaci odkazu pøedat pouze statické hodnoty.  Jak název
   odkazované specifikace, tak argument `select_row' by v¹ak bylo mo¾né urèit
   dynamicky podle obsahu aktuálního øádku pomocí funkce, která dostane
   aktuální øádek jako argument.

 * after_new_record, after_edit_record apod.

   Nyní je mo¾né pøidat kód, který se provede po vlo¾ení nového záznamu buïto
   do cleanup, nebo definovat on_new_record, a v nìm nejprve zavolat výchozí
   new_record s block_on_new_record.  Jednodu¹¹í a pøehlednìj¹í by bylo mít
   pro tento pøípad explicitní podporu.

 * Zmìny ohlednì nastavení ¹íøky sloupcù/políèek.

   `width = 0' zakázat a v¹echna taková políèka vyøadit z layoutu (nejprve
   logovat jako deprecated).
   
   `column_width = 0' nijak speciálnì neo¹etøovat (stejnì je ¹íøka minimálnì
   taková, aby se ve¹el label)

 * V tiskovém menu umo¾nit definovat separátor a klávesové zkratky.

 * Sestavování pamì»ového datového objektu ve tøídì `Specification'.

   Sestavování datových typù sloupeèkù pro nedatabázové datové objektu má
   nìkolik omezení.  Napøíklad pokud je tøeba urèit typ èíselníkového políèka
   (není to String), bude ve formuláøi dána pøednost takto explicitnì urèenému
   typu.  To znamená, ¾e specifikovaný typ ji¾ musí mít pøíslu¹ný enumerátor a
   nemù¾e být vyu¾ito mo¾nosti automatického pøiøazení enumerátoru na základì
   specifikace `codebook'.  Øe¹ením by bylo zru¹it pravidlo o pøednostním
   vyu¾ití datového typu z FieldSpec pøed typem z DataSpec.  Je ov¹em tøeba
   ovìøit, jestli se toho nìkde nevyu¾ívá.

 * Kontrola práv pøi volání funkcí jako dbupdatemany apod.
   

INTERNÍ ZÁLE®ITOSTI:

 * Zamykání a závislost na OID

   Momentálnì musí být v¹echny tabulky vytváøeny s OID, které je pytisem
   vyu¾íváno k zamykání øádkù.  V Postgresu je v¹ak od verze 8.1 zamykání øádku
   vyøe¹eno, tak¾e mù¾eme závislost na pøítomnosti OID zru¹it a vyu¾ít pøímo
   Postgresového mechanismu zamykání.

 * Nepou¾ívat mx.DateTime, ale Pythonový modul datetime.

 * Mezivrstva pro práci s aktuálním selectem, kurzory apod.

   Je tøeba oddìlit ve¹kerý kód týkající se práce s aktuálním selectem,
   získáváním dat podle èísla øádkù (práce s kurzorem) a cachování øádkù, který
   je nyní pøedev¹ím v ListTable, do speciální tøídy (nadstavba datového
   rozhraní -- asi v modulu `presentation').  Podobné vìci se dìlají i v
   netabulkových formuláøích a je tøeba je mít na jednom místì, nezávisle na
   formuláøových tøídách.

 * Pøepracování stavového øádku.

   Pole definovaná aplikací (message, list-position, ...) by mìla být pøítomna
   automaticky.  Mìlo by být mo¾né zobrazit ikonu a tooltip.  Mìlo by být mo¾né
   definovat políèko sledující stav konfiguraèní volby (nebo i jiné hodnoty?).
   Je tøeba myslet také na obnovení stavu pøi pøepínání formuláøù
   (`Form.restore()').

 * Instance Value na rozhraní InputField.

   InputField.get_value(), InputField.set_value() nech» pracují s instancemi
   Value, ne se stringy.  Také by bylo vhodné, kdyby políèko mìlo pøístup pøímo
   k PresentedRow.
   
 * Vyjasnìní práce s arguemntem prefill.

   Argument prefill je nyní pou¾íván k nìkolika pomìrnì rozlièným úèelùm
   (napø. pøednastavení hodnoty vazebního sloupce, pøedvyplnìní dat
   kopírovaného øádku, apod.).  Bylo by vhodné se zamyslet nad tím, zda
   jednotlivé zpùsoby pou¾ití vzájemnì nekolidují.  Problém by mohl být zejména
   v tom, ¾e prefill není pou¾it jen k pøednastavení výchozích hodnot nového
   øádku, ale je formuláøem také zapamatován a pøedáván dále.
  
   
ÈI©TÌNÍ:

 * Odstraní argumentu `key' funkcí `on_new_record()'.

   Tento argument je tam patrnì z historických dùvodù, kdy se tak øe¹ilo
   kopírování záznamu.  To je dnes provádìno pøes `prefill', tak¾e funkce
   `on_new_record()' arument `key' nikdy nedostane.  V nìkterých defsech se s
   ním v¹ak stále poèítá.

 * Nedostupnost pøíkazu vs. pøístupová práva.

   Pokud není pøíkaz dostupný z dùvodu nedostateèných pøístupových práv,
   bylo by dobré o tom u¾ivatele nìjak informovat.  Bude to v¹ak tøeba nejprve
   nìjak rozli¹it -- buïto pomocí návratové hodnoty funkce enabled, nebo je¹tì
   dal¹í funkcí pro zji¹tìní pøístupových práv.
   
 * Zpracování pøíkazù.

   Vyvolání handleru z on_command je nyní mo¾né nahradit metodu `_cmd_*', kde *
   je název pøíkazu.  To u¾ skoro v¹ude je, ale na nìkolika místech je¹tì
   `on_command' zbylo...

 * Validace hodnot konfiguraèních voleb.

   Pro ka¾dou konfiguraèní volbu je nyní znám její datový typ, tak¾e by nebyl
   problém do metody `Option.set_value()' pøidat kontrolu, zda pøedaná hodnota
   skuteènì odpovídá deklarovanému typu volby.
  
 * S groupingem pracovat jako s celým èíslem.

   Problém bude hlavnì v defsech, kde bývá grouping èasto specifikován jako
   název sloupce.
   
 * Implementovat také None context pro spou¹tìní akcí.

   Specifikace kontextu akce nyní umo¾òuje také hodnotu None, která by mìla
   zaruèit, ¾e akci nejsou pøedány ¾ádné argumenty.  Toho je v¹ak zatím
   vyu¾íváno jen ve webových formuláøích.  Bylo by dobré to samé
   doimplementovat i do GUI formuláøù.
