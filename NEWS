; -*- mode: change-log -*-
; Tento dokument obsahuje chronologický seznam nových u¾ivatelských vlastností
; a opravených chyb.  Dodr¾ujte prosím formát.  Nejprve jsou nové
; vlastnosti (na ka¾dou vlastnost jeden odstavec) a potom bugfixy, ka¾dý
; uvozen "* BUGFIX:"

2005-11-25

	Odstranìn doèasný hack v PresentedRow._init_row.genval()
	umo¾òující pou¾ití computeru namísto funkce `default'.  Nyní je
	tedy nutné ve specifikacích v¾dy rozli¹ovat.  Default je pro
	výpoèet hodnoty pøi inicializaci nového záznamu, computer pro
	prùbì¾né dopoèítávání a výpoèet hodnot virtuálních políèek.

	* BUGFIX: Vyøe¹en problém sdílení Enumerátorù projevující se
	výrazným zpomalením pøi pou¾ití ListField v DescriptiveDualFormu.
	
2005-11-24  Tomas Cerha  <cerha@brailcom.org>

	Argument 'sorting' v CodebookSpec se nyní skuteènì projeví pøi
	zobrazení èíselníku.
      	
	* BUGFIX: V DescriptiveDualForm byl pøi výbìru pøedáván do
	vedlej¹ího formuláøe celý PresentedRow, tak¾e nedocházelo správnì
	k aktualizaci RuntimeFilterù a dal¹ích závislostí.  Opraveno
	nastavováním pouze pøes datový øádek.

	* BUGFIX: Vèerej¹í bugfix zpùsobil problémy s computery pøi
	inicializaci prázdného PresentedRow v EditFormu.  Dne¹ní oprava v
	DescriptiveDualFormu v¹ak øe¹í i problém s neinicializovanými
	filtry, tak¾e vèerej¹í úprava mohla být zase zru¹ena.

	* BUGFIX: ListField nyní zachovává nastavenou hodnotu i po
	pøenaètení dat (zmìna runtime-filteru).

2005-11-23  Tomas Cerha  <cerha@brailcom.org>

        V CodebookSpec lze nyní pøedefinovat také tøídìní argumentem
	'sorting'.  Zatím se to nikde neprojeví, ale lze toho ji¾ vyu¾ívat
	ve specifikacích a brzo se snad dostaneme i k implementaci.  Sní¾í
	se tak poèet potøebných variant v defsech.

	V pytis-extensions pøibyla nová funkce enum(), umo¾òující
	jednodu¹e vytvoøit DataEnumerator pro arguemnt 'enumerator'
	datového typu.

	* BUGFIX: V ListField jsou nyní správnì zobrazovány i víceøádkové
	polo¾ky.

	* BUGFIX: Odstranìn problém s "Insufficient runtime filter"
	zpùsobený neinicializovanými filtry ve formuláøích, které
	nevytváøely PresentedRow v konstruktoru.

	* BUGFIX: Opraveno chování specifikátoru 'default'.  Nyní je
	funkce volána pouze pøi vytváøení nového øádku.

2005-11-22  Tomas Cerha  <cerha@brailcom.org>

	* BUGFIX: None nech» je platným argumentem 'select_row()'.

	* BUGFIX: Vnoøené volání hookù pøi zmìnì runtime filteru
	enumerátoru.

	* BUGFIX: PresentedRow nyní správnì øe¹í ve¹keré závislosti a
	pøepoèítávání i pro virtuální políèka.
	
2005-11-21  Tomas Cerha  <cerha@brailcom.org>

	Nový typ èíselníkového políèka urèený pomocí `SelectionType.LIST'.
	Toto políèko nahrazuje pùvodní seznamové políèko urèené pomocí
	'RefSpec' a argumentu 'references'.  Argument 'references' je nyní
	nefunkèní a jeho pou¾ití je pouze logováno.  Bude tøeba ho v¹ude
	odstranit a nahradit èíselníkem s vý¹e zmínìným 'selection_type'.
	Tato nová implementace umo¾òuje daleko sna¾¹í práci se seznamem,
	mo¾nost pøímého získání vybrané hodnoty (napø. v computerech),
	získání hodnoty libovolného sloupce vybraného øádku a dal¹í
	mo¾nosti *sdandardnì* podporované èíselníkovými políèky.
	Odstraòuje také nìkolik velice nepøíjemných hackù, které byly
	nutné kvùli døívìj¹í implementaci a pomìrnì neprùhledné a zcela
	nestandardní chování.  Kromì nového typu 'selection_type' nejsou
	na stranì specifikace nyní pou¾ity ¾ádné speciality.  K filtrování
	záznamù v seznamu podle aktuálních dat formuláøe je mo¾né pou¾ít
	'codebook_runtime_filter'.  V¹e je tak plnì v souladu se za¾itou
	koncepcí systému.

	Zprùhlednìní zpracování arguemntu 'selection_type' ve 'FieldSpec'
	a pøiøazení výchozích hodnot.  Pøidány asserty upozoròující na
	nesprávnou kombinaci 'selection_type' a 'codebook' ve specifikaci.

2005-11-18  Tomas Cerha  <cerha@brailcom.org>

	* BUGFIX: Opraveno nefunkèní nastavení editovatelnosti políèek.

	* BUGFIX: Nezobrazuj chybový dialog, kdy¾ nelze nalézt pùvodní
	záznam po vyvolání funkce kontextového menu v BrowseFromu.

	* BUGFIX: Displej se nyní nezobrazí, pokud má nastavenu nulovou
	¹íøku.

2005-11-16  Tomas Cerha  <cerha@brailcom.org>

	* BUGFIX: Chybné skládání klávesových zkratek a následé padání pøi
	zobrazení popup-menu.

2005-11-15  Tomas Cerha  <cerha@brailcom.org>

	* BUGFIX: Nechtìné nalíznutí sekvencí pøi otevírání formuláøù
	odvozených z EditForm (nadbyteèná inicializace prázdného záznamu).
   
2005-11-09  Tomas Cerha  <cerha@brailcom.org>

	* BUGFIX: Nekorektní chování metody `Data.search()' v tabulce s
	NULL hodnotami ve sloupci, podle kterého je tøídìno.
